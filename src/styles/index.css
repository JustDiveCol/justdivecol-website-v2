/* src/styles/index.css */

/* Import core Tailwind CSS */
@import 'tailwindcss';

/* ==========================================================================
   üé® 1. DESIGN TOKENS & THEME
   ========================================================================== */
@theme {
  /* --- Brand Colors --- */
  --color-brand-primary-dark: #0a264f;
  --color-brand-primary-medium: #133e70;
  --color-brand-primary-light: #36598b;
  --color-brand-neutral: #e0e0e0;
  --color-brand-white: #ffffff;

  /* --- CTA Colors --- */
  --color-brand-cta-orange: #ff7a00;
  --color-brand-cta-green: #40d798;
  --color-brand-cta-yellow: #f7d794;

  /* --- Fonts --- */
  --font-sans: Montserrat, sans-serif;
  --font-serif: Lora, serif;

  /* --- Shadows --- */
  --shadow-text: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

/* ==========================================================================
   üîß 2. BASE LAYER OVERRIDES
   ========================================================================== */
@layer base {
  html,
  body {
    font-family: var(--font-sans);
  }

  *,
  ::after,
  ::before,
  ::backdrop,

  /* Headings use Montserrat */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-sans);
  }

  /* Body text uses Lora */
  p,
  span,
  small,
  li,
  a,
  button,
  input,
  select,
  textarea {
    font-family: var(--font-serif);
  }

  a {
    @apply transition-colors;
  }

  small {
    font-size: 0.875rem;
  }
}

@layer components {
  .heading-1 {
    @apply text-3xl sm:text-4xl md:text-5xl font-bold leading-tight;
  }

  .heading-2 {
    @apply text-2xl sm:text-3xl md:text-4xl font-semibold leading-snug;
  }

  .heading-3 {
    @apply text-xl sm:text-2xl md:text-3xl font-semibold;
  }

  .heading-4,
  .heading-5,
  .heading-6 {
    @apply font-medium;
  }

  .heading-4 {
    @apply text-lg sm:text-xl;
  }

  .heading-5 {
    @apply text-base sm:text-lg;
  }

  .heading-6 {
    @apply text-sm sm:text-base;
  }

  .text-base {
    @apply text-sm sm:text-base md:text-lg lg:text-xl leading-relaxed;
  }

  .text-muted {
    @apply text-sm italic;
  }

  .text-link {
    @apply underline underline-offset-2 transition-colors duration-200;
  }

  .form-input {
    @apply px-4 py-2 rounded-md border border-gray-600 bg-gray-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-cta-orange;
  }

  .form-button {
    @apply text-sm font-semibold rounded-md px-4 py-2 transition-colors duration-200;
  }
}

/* ==========================================================================
   üó∫Ô∏è 3. MAPLIBRE GL POPUP STYLES
   ========================================================================== */

/* -------------------------------
   Global Popup Container Resets
--------------------------------- */
/* Resets the default Maplibre popup container to have no padding and a max-width. */
.maplibregl-popup {
  padding: 0 !important;
  max-width: 600px !important;
  z-index: 50; /* Set a base z-index for all popups */
}

/* -------------------------------
   Global Popup Content Resets
--------------------------------- */
/* Resets the default content box of all popups to be transparent with no shadow or border.
   Specific popup types will add their own styling back. */
.maplibregl-popup-content {
  background: transparent !important;
  padding: 0 !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  border: none !important;
}

/* -------------------------------
   Custom Popup Types
--------------------------------- */

/**
 * .popup-main
 * The main popup used for the DiveSiteModal (onClick).
 * It has a transparent background to allow the inner modal to control its own styling.
 */
.maplibregl-popup-content.popup-main {
  border-radius: 0.75rem; /* 12px */
  overflow: visible;
}

/**
 * .unstyled-popup
 * A generic, unstyled popup used for simple hover effects.
 * This ensures the custom content (like a simple text label) is the only thing visible.
 */
.maplibregl-popup.unstyled-popup {
  /* Higher z-index to appear above markers */
  z-index: 99 !important;
}

/* -------------------------------
   Popup Close Button
--------------------------------- */
/* Overrides the default close button for a larger, more accessible target. */
.maplibregl-popup-close-button {
  font-size: 24px !important;
  width: 32px !important;
  height: 32px !important;
  line-height: 28px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  right: 8px !important;
  top: 8px !important;
}

.transition-max {
  overflow: hidden;
  max-height: 0;
  transition-property: max-height, opacity;
  transition-duration: 0.25s;
  transition-timing-function: ease-out;
}

.transition-max.open {
  /* must exceed your tallest answer */
  max-height: 500px;
}
