import{j as e,u as d,L as f,m as h,g as j,r as c,h as y}from"./react-vendor-JDUKQ860.js";import{s as p}from"./animations-Ct1q3Gi8.js";import{S as b}from"./SEOComponent-KZcpJVKA.js";import{c as N}from"./index-DP9SIUBN.js";import{p as w,b as v}from"./formatters-BGiP7xkA.js";import{H as k}from"./HeaderComponent-OnxpQp7E.js";import{D as K,G as I,a as S,C as x,b as C}from"./TripsCard-B9xcEQJ5.js";import{I as T,U as E}from"./UpcomingTripsHorizontalSection-y34WDw7r.js";const L={titleKey:"paymentTitle",methods:[{id:"link",nameKey:"paymentMethod1Name",descriptionKey:"paymentMethod1Desc",icon:"link"},{id:"transfer",nameKey:"paymentMethod2Name",descriptionKey:"paymentMethod2Desc",icon:"bank"}]},M=()=>e.jsx("svg",{xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5h2m-2 2h2"})}),U=()=>e.jsx("svg",{xmlns:"[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),H={link:e.jsx(U,{}),bank:e.jsx(M,{})},z=({paymentData:s,translationNS:a})=>{const{t}=d(a);return!s||!s.methods||!s.methods.length===0?null:e.jsxs("div",{className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg",children:[e.jsx("h3",{className:"text-xl font-sans font-bold text-brand-white mb-4",children:t(s.titleKey)}),e.jsx("ul",{className:"space-y-4",children:s.methods.map(n=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-6 mt-1 text-brand-cta-green",children:H[n.icon]}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h4",{className:"font-sans font-semibold text-brand-white",children:t(n.nameKey)}),e.jsx("p",{className:"font-serif text-sm text-brand-neutral/80 text-justify",children:t(n.descriptionKey)})]})]},n.id))})]})},P=({courseData:s,t:a,lang:t})=>{if(!s||!s.id||!s.header||!s.header.titleKey)return null;const n=s.header.titleKey;return e.jsxs(f,{to:`/cursos/${s.id}`,className:"block bg-brand-primary-dark p-4 rounded-lg shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300",children:[e.jsx("h4",{className:"font-sans font-bold text-brand-white",children:a(n,{ns:"courses"})}),e.jsxs("span",{className:"mt-4 inline-block font-sans text-sm font-semibold text-brand-cta-orange",children:[a("common:viewDetails")," â†’"]})]},s.id)},$=({availableCourses:s,titleKey:a,noTripsMessageKey:t,translationNS:n})=>{const{t:i,i18n:o}=d([n,"courses","common"]);return!a||!s?null:e.jsxs("div",{id:"available-courses-section-horizontal",className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg scroll-mt-24",children:[e.jsx("h3",{className:"text-2xl font-sans font-bold text-brand-white mb-4",children:i(a,{ns:n})}),s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.map(r=>e.jsx(P,{courseData:r,lang:o.language,t:i},r.id))}):e.jsx("div",{children:e.jsx("p",{className:"font-serif text-sm text-brand-neutral/80",children:i(t,{ns:"common"})})})]})},B=({itineraryData:s,translationNS:a})=>{const{t}=d([a,"common"]);return s?e.jsxs("section",{children:[e.jsx("h2",{className:"text-3xl font-sans font-bold text-brand-white mb-6",children:t(s.titleKey)}),e.jsx("div",{className:"border-l-2 border-brand-cta-green/50 pl-6 space-y-8",children:s.days.map(n=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-sans font-semibold text-brand-cta-green",children:[t("common:day")," ",n.day,": ",t(n.titleKey)]}),e.jsx("p",{className:"mt-1 font-serif text-brand-neutral/90 text-justify",children:t(n.descriptionKey)})]},n.day))}),s.notes&&s.notes.length>0&&e.jsx("div",{className:"mt-6 space-y-2",children:s.notes.map((n,i)=>e.jsxs("div",{className:"flex items-start p-4 bg-brand-primary-light/30 rounded-lg text-brand-neutral/80",children:[e.jsx(T,{}),e.jsx("p",{className:"ml-2 font-serif text-sm text-justify",children:t(n,{ns:a})})]},i))})]}):null},O=({experienceData:s,offeredCoursesData:a})=>{const{t}=d(["experiences","common","payment","contact","courses","destinations"]);if(!s)return e.jsx("div",{className:"flex items-center justify-center min-h-screen text-red-500 text-2xl",children:"Experience data incomplete."});const n=a?.[0]||null,i=t("contactWhatsAppMessage",{ns:"contact",experienceName:t(s.nameKey,{ns:"experiences"})}),o=`https://wa.me/${N.contactInfo.phone.replace(/\s/g,"")}?text=${encodeURIComponent(i)}`,r=s.destinationId?w.filter(l=>l.destinationId===s.destinationId&&l.id!==s.id&&new Date(l.details.endDate)>=new Date().setHours(0,0,0,0)):[];return e.jsxs(h.div,{variants:p,initial:"hidden",animate:"show",exit:"hidden",children:[e.jsx(k,{sectionData:s.header,translationNS:"experiences"}),e.jsxs("div",{className:"container mx-auto p-4 md:p-8 grid lg:grid-cols-3 gap-8 items-start",children:[e.jsxs("main",{className:"lg:col-span-2 space-y-16 lg:sticky top-24 h-fit",children:[r.length>0&&e.jsx(E,{availableTrips:r,titleKey:"expOtherTripsTitle",noTripsMessageKey:"noUpcomingTrips",translationNS:"experiences"}),e.jsx(K,{descriptionData:s.description,translationNS:"experiences"}),s.itinerary&&e.jsx(B,{itineraryData:s.itinerary,translationNS:"experiences"}),a&&a.length>0&&e.jsx($,{availableCourses:a,titleKey:s.offeredCourses.titleKey,noTripsMessageKey:"noUpcomingTrips",translationNS:"experiences"}),e.jsx(I,{galleryData:s.gallery,translationNS:"experiences"})]}),e.jsxs("aside",{className:"lg:col-span-1 space-y-8 lg:sticky top-24 h-fit",children:[e.jsx(S,{detailsData:s.details,translationNS:"experiences"}),e.jsx(z,{paymentData:L,translationNS:"payment"}),e.jsx(x,{checklistData:s.whatIsIncluded,translationNS:"experiences",type:"included"}),n&&e.jsx(x,{checklistData:n.whatIsIncluded,translationNS:"courses",type:"included"}),e.jsx(x,{checklistData:s.whatIsNotIncluded,translationNS:"experiences",type:"excluded"}),e.jsx(C,{ctaData:{titleKey:s.cta.titleKey,buttonTextKey:s.cta.buttonTextKey,link:o,isExternal:!0},translationNS:"experiences"})]})]})]})},J=()=>{const{tripId:s}=j(),{t:a}=d(["experiences","common"]),[t,n]=c.useState(null),[i,o]=c.useState([]),[r,l]=c.useState(!0),[u,g]=c.useState(!1);return c.useEffect(()=>{const m=v(s);m&&m.tripData?(n(m.tripData),o(m.offeredCoursesData||[])):g(!0),l(!1)},[s]),r?e.jsxs("div",{className:"flex items-center justify-center min-h-screen text-brand-white text-2xl",children:[a("common:loading"),"..."]}):u||!t?e.jsx(y,{to:"/404",replace:!0}):e.jsxs(e.Fragment,{children:[e.jsx(b,{title:a(t.seo.titleKey,{ns:"experiences"}),description:a(t.seo.descriptionKey,{ns:"experiences"}),imageUrl:t.header.bannerImageUrl,url:`/experiencias/${t.id}`}),e.jsx(h.div,{variants:p,initial:"hidden",animate:"animate",exit:"hidden",children:e.jsx(O,{experienceData:t,offeredCoursesData:i})})]})};export{J as default};
