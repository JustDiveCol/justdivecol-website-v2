(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))g(C);new MutationObserver(C=>{for(const D of C)if(D.type==="childList")for(const w of D.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&g(w)}).observe(document,{childList:!0,subtree:!0});function p(C){const D={};return C.integrity&&(D.integrity=C.integrity),C.referrerPolicy&&(D.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?D.credentials="include":C.crossOrigin==="anonymous"?D.credentials="omit":D.credentials="same-origin",D}function g(C){if(C.ep)return;C.ep=!0;const D=p(C);fetch(C.href,D)}})();function bv(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var by={exports:{}},rm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function Kw(){if(Ib)return rm;Ib=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function p(g,C,D){var w=null;if(D!==void 0&&(w=""+D),C.key!==void 0&&(w=""+C.key),"key"in C){D={};for(var c in C)c!=="key"&&(D[c]=C[c])}else D=C;return C=D.ref,{$$typeof:o,type:g,key:w,ref:C!==void 0?C:null,props:D}}return rm.Fragment=l,rm.jsx=p,rm.jsxs=p,rm}var Lb;function Ow(){return Lb||(Lb=1,by.exports=Kw()),by.exports}var L=Ow(),xy={exports:{}},La={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function qw(){if(Eb)return La;Eb=1;var o=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),w=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.iterator;function Z(_e){return _e===null||typeof _e!="object"?null:(_e=G&&_e[G]||_e["@@iterator"],typeof _e=="function"?_e:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,Ie={};function Ve(_e,rt,ht){this.props=_e,this.context=rt,this.refs=Ie,this.updater=ht||H}Ve.prototype.isReactComponent={},Ve.prototype.setState=function(_e,rt){if(typeof _e!="object"&&typeof _e!="function"&&_e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_e,rt,"setState")},Ve.prototype.forceUpdate=function(_e){this.updater.enqueueForceUpdate(this,_e,"forceUpdate")};function we(){}we.prototype=Ve.prototype;function Le(_e,rt,ht){this.props=_e,this.context=rt,this.refs=Ie,this.updater=ht||H}var Oe=Le.prototype=new we;Oe.constructor=Le,ae(Oe,Ve.prototype),Oe.isPureReactComponent=!0;var ot=Array.isArray,He={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function _t(_e,rt,ht,Mt,Ft,ba){return ht=ba.ref,{$$typeof:o,type:_e,key:rt,ref:ht!==void 0?ht:null,props:ba}}function Dt(_e,rt){return _t(_e.type,rt,void 0,void 0,void 0,_e.props)}function zt(_e){return typeof _e=="object"&&_e!==null&&_e.$$typeof===o}function Ht(_e){var rt={"=":"=0",":":"=2"};return"$"+_e.replace(/[=:]/g,function(ht){return rt[ht]})}var ga=/\/+/g;function sa(_e,rt){return typeof _e=="object"&&_e!==null&&_e.key!=null?Ht(""+_e.key):rt.toString(36)}function $t(){}function ea(_e){switch(_e.status){case"fulfilled":return _e.value;case"rejected":throw _e.reason;default:switch(typeof _e.status=="string"?_e.then($t,$t):(_e.status="pending",_e.then(function(rt){_e.status==="pending"&&(_e.status="fulfilled",_e.value=rt)},function(rt){_e.status==="pending"&&(_e.status="rejected",_e.reason=rt)})),_e.status){case"fulfilled":return _e.value;case"rejected":throw _e.reason}}throw _e}function ca(_e,rt,ht,Mt,Ft){var ba=typeof _e;(ba==="undefined"||ba==="boolean")&&(_e=null);var aa=!1;if(_e===null)aa=!0;else switch(ba){case"bigint":case"string":case"number":aa=!0;break;case"object":switch(_e.$$typeof){case o:case l:aa=!0;break;case q:return aa=_e._init,ca(aa(_e._payload),rt,ht,Mt,Ft)}}if(aa)return Ft=Ft(_e),aa=Mt===""?"."+sa(_e,0):Mt,ot(Ft)?(ht="",aa!=null&&(ht=aa.replace(ga,"$&/")+"/"),ca(Ft,rt,ht,"",function(Qa){return Qa})):Ft!=null&&(zt(Ft)&&(Ft=Dt(Ft,ht+(Ft.key==null||_e&&_e.key===Ft.key?"":(""+Ft.key).replace(ga,"$&/")+"/")+aa)),rt.push(Ft)),1;aa=0;var Qi=Mt===""?".":Mt+":";if(ot(_e))for(var Ja=0;Ja<_e.length;Ja++)Mt=_e[Ja],ba=Qi+sa(Mt,Ja),aa+=ca(Mt,rt,ht,ba,Ft);else if(Ja=Z(_e),typeof Ja=="function")for(_e=Ja.call(_e),Ja=0;!(Mt=_e.next()).done;)Mt=Mt.value,ba=Qi+sa(Mt,Ja++),aa+=ca(Mt,rt,ht,ba,Ft);else if(ba==="object"){if(typeof _e.then=="function")return ca(ea(_e),rt,ht,Mt,Ft);throw rt=String(_e),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return aa}function Ke(_e,rt,ht){if(_e==null)return _e;var Mt=[],Ft=0;return ca(_e,Mt,"","",function(ba){return rt.call(ht,ba,Ft++)}),Mt}function $e(_e){if(_e._status===-1){var rt=_e._result;rt=rt(),rt.then(function(ht){(_e._status===0||_e._status===-1)&&(_e._status=1,_e._result=ht)},function(ht){(_e._status===0||_e._status===-1)&&(_e._status=2,_e._result=ht)}),_e._status===-1&&(_e._status=0,_e._result=rt)}if(_e._status===1)return _e._result.default;throw _e._result}var xt=typeof reportError=="function"?reportError:function(_e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _e=="object"&&_e!==null&&typeof _e.message=="string"?String(_e.message):String(_e),error:_e});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_e);return}console.error(_e)};function kt(){}return La.Children={map:Ke,forEach:function(_e,rt,ht){Ke(_e,function(){rt.apply(this,arguments)},ht)},count:function(_e){var rt=0;return Ke(_e,function(){rt++}),rt},toArray:function(_e){return Ke(_e,function(rt){return rt})||[]},only:function(_e){if(!zt(_e))throw Error("React.Children.only expected to receive a single React element child.");return _e}},La.Component=Ve,La.Fragment=p,La.Profiler=C,La.PureComponent=Le,La.StrictMode=g,La.Suspense=R,La.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He,La.__COMPILER_RUNTIME={__proto__:null,c:function(_e){return He.H.useMemoCache(_e)}},La.cache=function(_e){return function(){return _e.apply(null,arguments)}},La.cloneElement=function(_e,rt,ht){if(_e==null)throw Error("The argument must be a React element, but you passed "+_e+".");var Mt=ae({},_e.props),Ft=_e.key,ba=void 0;if(rt!=null)for(aa in rt.ref!==void 0&&(ba=void 0),rt.key!==void 0&&(Ft=""+rt.key),rt)!Se.call(rt,aa)||aa==="key"||aa==="__self"||aa==="__source"||aa==="ref"&&rt.ref===void 0||(Mt[aa]=rt[aa]);var aa=arguments.length-2;if(aa===1)Mt.children=ht;else if(1<aa){for(var Qi=Array(aa),Ja=0;Ja<aa;Ja++)Qi[Ja]=arguments[Ja+2];Mt.children=Qi}return _t(_e.type,Ft,void 0,void 0,ba,Mt)},La.createContext=function(_e){return _e={$$typeof:w,_currentValue:_e,_currentValue2:_e,_threadCount:0,Provider:null,Consumer:null},_e.Provider=_e,_e.Consumer={$$typeof:D,_context:_e},_e},La.createElement=function(_e,rt,ht){var Mt,Ft={},ba=null;if(rt!=null)for(Mt in rt.key!==void 0&&(ba=""+rt.key),rt)Se.call(rt,Mt)&&Mt!=="key"&&Mt!=="__self"&&Mt!=="__source"&&(Ft[Mt]=rt[Mt]);var aa=arguments.length-2;if(aa===1)Ft.children=ht;else if(1<aa){for(var Qi=Array(aa),Ja=0;Ja<aa;Ja++)Qi[Ja]=arguments[Ja+2];Ft.children=Qi}if(_e&&_e.defaultProps)for(Mt in aa=_e.defaultProps,aa)Ft[Mt]===void 0&&(Ft[Mt]=aa[Mt]);return _t(_e,ba,void 0,void 0,null,Ft)},La.createRef=function(){return{current:null}},La.forwardRef=function(_e){return{$$typeof:c,render:_e}},La.isValidElement=zt,La.lazy=function(_e){return{$$typeof:q,_payload:{_status:-1,_result:_e},_init:$e}},La.memo=function(_e,rt){return{$$typeof:k,type:_e,compare:rt===void 0?null:rt}},La.startTransition=function(_e){var rt=He.T,ht={};He.T=ht;try{var Mt=_e(),Ft=He.S;Ft!==null&&Ft(ht,Mt),typeof Mt=="object"&&Mt!==null&&typeof Mt.then=="function"&&Mt.then(kt,xt)}catch(ba){xt(ba)}finally{He.T=rt}},La.unstable_useCacheRefresh=function(){return He.H.useCacheRefresh()},La.use=function(_e){return He.H.use(_e)},La.useActionState=function(_e,rt,ht){return He.H.useActionState(_e,rt,ht)},La.useCallback=function(_e,rt){return He.H.useCallback(_e,rt)},La.useContext=function(_e){return He.H.useContext(_e)},La.useDebugValue=function(){},La.useDeferredValue=function(_e,rt){return He.H.useDeferredValue(_e,rt)},La.useEffect=function(_e,rt,ht){var Mt=He.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Mt.useEffect(_e,rt)},La.useId=function(){return He.H.useId()},La.useImperativeHandle=function(_e,rt,ht){return He.H.useImperativeHandle(_e,rt,ht)},La.useInsertionEffect=function(_e,rt){return He.H.useInsertionEffect(_e,rt)},La.useLayoutEffect=function(_e,rt){return He.H.useLayoutEffect(_e,rt)},La.useMemo=function(_e,rt){return He.H.useMemo(_e,rt)},La.useOptimistic=function(_e,rt){return He.H.useOptimistic(_e,rt)},La.useReducer=function(_e,rt,ht){return He.H.useReducer(_e,rt,ht)},La.useRef=function(_e){return He.H.useRef(_e)},La.useState=function(_e){return He.H.useState(_e)},La.useSyncExternalStore=function(_e,rt,ht){return He.H.useSyncExternalStore(_e,rt,ht)},La.useTransition=function(){return He.H.useTransition()},La.version="19.1.0",La}var zb;function xv(){return zb||(zb=1,xy.exports=qw()),xy.exports}var fe=xv();const s_=bv(fe);var _y={exports:{}},om={},wy={exports:{}},Cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function Bw(){return Rb||(Rb=1,function(o){function l(Ke,$e){var xt=Ke.length;Ke.push($e);e:for(;0<xt;){var kt=xt-1>>>1,_e=Ke[kt];if(0<C(_e,$e))Ke[kt]=$e,Ke[xt]=_e,xt=kt;else break e}}function p(Ke){return Ke.length===0?null:Ke[0]}function g(Ke){if(Ke.length===0)return null;var $e=Ke[0],xt=Ke.pop();if(xt!==$e){Ke[0]=xt;e:for(var kt=0,_e=Ke.length,rt=_e>>>1;kt<rt;){var ht=2*(kt+1)-1,Mt=Ke[ht],Ft=ht+1,ba=Ke[Ft];if(0>C(Mt,xt))Ft<_e&&0>C(ba,Mt)?(Ke[kt]=ba,Ke[Ft]=xt,kt=Ft):(Ke[kt]=Mt,Ke[ht]=xt,kt=ht);else if(Ft<_e&&0>C(ba,xt))Ke[kt]=ba,Ke[Ft]=xt,kt=Ft;else break e}}return $e}function C(Ke,$e){var xt=Ke.sortIndex-$e.sortIndex;return xt!==0?xt:Ke.id-$e.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var D=performance;o.unstable_now=function(){return D.now()}}else{var w=Date,c=w.now();o.unstable_now=function(){return w.now()-c}}var R=[],k=[],q=1,G=null,Z=3,H=!1,ae=!1,Ie=!1,Ve=!1,we=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,Oe=typeof setImmediate<"u"?setImmediate:null;function ot(Ke){for(var $e=p(k);$e!==null;){if($e.callback===null)g(k);else if($e.startTime<=Ke)g(k),$e.sortIndex=$e.expirationTime,l(R,$e);else break;$e=p(k)}}function He(Ke){if(Ie=!1,ot(Ke),!ae)if(p(R)!==null)ae=!0,Se||(Se=!0,sa());else{var $e=p(k);$e!==null&&ca(He,$e.startTime-Ke)}}var Se=!1,_t=-1,Dt=5,zt=-1;function Ht(){return Ve?!0:!(o.unstable_now()-zt<Dt)}function ga(){if(Ve=!1,Se){var Ke=o.unstable_now();zt=Ke;var $e=!0;try{e:{ae=!1,Ie&&(Ie=!1,Le(_t),_t=-1),H=!0;var xt=Z;try{t:{for(ot(Ke),G=p(R);G!==null&&!(G.expirationTime>Ke&&Ht());){var kt=G.callback;if(typeof kt=="function"){G.callback=null,Z=G.priorityLevel;var _e=kt(G.expirationTime<=Ke);if(Ke=o.unstable_now(),typeof _e=="function"){G.callback=_e,ot(Ke),$e=!0;break t}G===p(R)&&g(R),ot(Ke)}else g(R);G=p(R)}if(G!==null)$e=!0;else{var rt=p(k);rt!==null&&ca(He,rt.startTime-Ke),$e=!1}}break e}finally{G=null,Z=xt,H=!1}$e=void 0}}finally{$e?sa():Se=!1}}}var sa;if(typeof Oe=="function")sa=function(){Oe(ga)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,ea=$t.port2;$t.port1.onmessage=ga,sa=function(){ea.postMessage(null)}}else sa=function(){we(ga,0)};function ca(Ke,$e){_t=we(function(){Ke(o.unstable_now())},$e)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(Ke){Ke.callback=null},o.unstable_forceFrameRate=function(Ke){0>Ke||125<Ke?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Dt=0<Ke?Math.floor(1e3/Ke):5},o.unstable_getCurrentPriorityLevel=function(){return Z},o.unstable_next=function(Ke){switch(Z){case 1:case 2:case 3:var $e=3;break;default:$e=Z}var xt=Z;Z=$e;try{return Ke()}finally{Z=xt}},o.unstable_requestPaint=function(){Ve=!0},o.unstable_runWithPriority=function(Ke,$e){switch(Ke){case 1:case 2:case 3:case 4:case 5:break;default:Ke=3}var xt=Z;Z=Ke;try{return $e()}finally{Z=xt}},o.unstable_scheduleCallback=function(Ke,$e,xt){var kt=o.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?kt+xt:kt):xt=kt,Ke){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=xt+_e,Ke={id:q++,callback:$e,priorityLevel:Ke,startTime:xt,expirationTime:_e,sortIndex:-1},xt>kt?(Ke.sortIndex=xt,l(k,Ke),p(R)===null&&Ke===p(k)&&(Ie?(Le(_t),_t=-1):Ie=!0,ca(He,xt-kt))):(Ke.sortIndex=_e,l(R,Ke),ae||H||(ae=!0,Se||(Se=!0,sa()))),Ke},o.unstable_shouldYield=Ht,o.unstable_wrapCallback=function(Ke){var $e=Z;return function(){var xt=Z;Z=$e;try{return Ke.apply(this,arguments)}finally{Z=xt}}}}(Cy)),Cy}var kb;function Fw(){return kb||(kb=1,wy.exports=Bw()),wy.exports}var Sy={exports:{}},Ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function Vw(){if(Nb)return Ur;Nb=1;var o=xv();function l(R){var k="https://react.dev/errors/"+R;if(1<arguments.length){k+="?args[]="+encodeURIComponent(arguments[1]);for(var q=2;q<arguments.length;q++)k+="&args[]="+encodeURIComponent(arguments[q])}return"Minified React error #"+R+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var g={d:{f:p,r:function(){throw Error(l(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},C=Symbol.for("react.portal");function D(R,k,q){var G=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:G==null?null:""+G,children:R,containerInfo:k,implementation:q}}var w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(R,k){if(R==="font")return"";if(typeof k=="string")return k==="use-credentials"?k:""}return Ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=g,Ur.createPortal=function(R,k){var q=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k||k.nodeType!==1&&k.nodeType!==9&&k.nodeType!==11)throw Error(l(299));return D(R,k,null,q)},Ur.flushSync=function(R){var k=w.T,q=g.p;try{if(w.T=null,g.p=2,R)return R()}finally{w.T=k,g.p=q,g.d.f()}},Ur.preconnect=function(R,k){typeof R=="string"&&(k?(k=k.crossOrigin,k=typeof k=="string"?k==="use-credentials"?k:"":void 0):k=null,g.d.C(R,k))},Ur.prefetchDNS=function(R){typeof R=="string"&&g.d.D(R)},Ur.preinit=function(R,k){if(typeof R=="string"&&k&&typeof k.as=="string"){var q=k.as,G=c(q,k.crossOrigin),Z=typeof k.integrity=="string"?k.integrity:void 0,H=typeof k.fetchPriority=="string"?k.fetchPriority:void 0;q==="style"?g.d.S(R,typeof k.precedence=="string"?k.precedence:void 0,{crossOrigin:G,integrity:Z,fetchPriority:H}):q==="script"&&g.d.X(R,{crossOrigin:G,integrity:Z,fetchPriority:H,nonce:typeof k.nonce=="string"?k.nonce:void 0})}},Ur.preinitModule=function(R,k){if(typeof R=="string")if(typeof k=="object"&&k!==null){if(k.as==null||k.as==="script"){var q=c(k.as,k.crossOrigin);g.d.M(R,{crossOrigin:q,integrity:typeof k.integrity=="string"?k.integrity:void 0,nonce:typeof k.nonce=="string"?k.nonce:void 0})}}else k==null&&g.d.M(R)},Ur.preload=function(R,k){if(typeof R=="string"&&typeof k=="object"&&k!==null&&typeof k.as=="string"){var q=k.as,G=c(q,k.crossOrigin);g.d.L(R,q,{crossOrigin:G,integrity:typeof k.integrity=="string"?k.integrity:void 0,nonce:typeof k.nonce=="string"?k.nonce:void 0,type:typeof k.type=="string"?k.type:void 0,fetchPriority:typeof k.fetchPriority=="string"?k.fetchPriority:void 0,referrerPolicy:typeof k.referrerPolicy=="string"?k.referrerPolicy:void 0,imageSrcSet:typeof k.imageSrcSet=="string"?k.imageSrcSet:void 0,imageSizes:typeof k.imageSizes=="string"?k.imageSizes:void 0,media:typeof k.media=="string"?k.media:void 0})}},Ur.preloadModule=function(R,k){if(typeof R=="string")if(k){var q=c(k.as,k.crossOrigin);g.d.m(R,{as:typeof k.as=="string"&&k.as!=="script"?k.as:void 0,crossOrigin:q,integrity:typeof k.integrity=="string"?k.integrity:void 0})}else g.d.m(R)},Ur.requestFormReset=function(R){g.d.r(R)},Ur.unstable_batchedUpdates=function(R,k){return R(k)},Ur.useFormState=function(R,k,q){return w.H.useFormState(R,k,q)},Ur.useFormStatus=function(){return w.H.useHostTransitionStatus()},Ur.version="19.1.0",Ur}var jb;function l_(){if(jb)return Sy.exports;jb=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),Sy.exports=Vw(),Sy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function Uw(){if(Kb)return om;Kb=1;var o=Fw(),l=xv(),p=l_();function g(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)s+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function D(a){var s=a,h=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(h=s.return),a=s.return;while(a)}return s.tag===3?h:null}function w(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(D(a)!==a)throw Error(g(188))}function R(a){var s=a.alternate;if(!s){if(s=D(a),s===null)throw Error(g(188));return s!==a?null:a}for(var h=a,v=s;;){var P=h.return;if(P===null)break;var E=P.alternate;if(E===null){if(v=P.return,v!==null){h=v;continue}break}if(P.child===E.child){for(E=P.child;E;){if(E===h)return c(P),a;if(E===v)return c(P),s;E=E.sibling}throw Error(g(188))}if(h.return!==v.return)h=P,v=E;else{for(var J=!1,ie=P.child;ie;){if(ie===h){J=!0,h=P,v=E;break}if(ie===v){J=!0,v=P,h=E;break}ie=ie.sibling}if(!J){for(ie=E.child;ie;){if(ie===h){J=!0,h=E,v=P;break}if(ie===v){J=!0,v=E,h=P;break}ie=ie.sibling}if(!J)throw Error(g(189))}}if(h.alternate!==v)throw Error(g(190))}if(h.tag!==3)throw Error(g(188));return h.stateNode.current===h?a:s}function k(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=k(a),s!==null)return s;a=a.sibling}return null}var q=Object.assign,G=Symbol.for("react.element"),Z=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),Ie=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),we=Symbol.for("react.provider"),Le=Symbol.for("react.consumer"),Oe=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),zt=Symbol.for("react.activity"),Ht=Symbol.for("react.memo_cache_sentinel"),ga=Symbol.iterator;function sa(a){return a===null||typeof a!="object"?null:(a=ga&&a[ga]||a["@@iterator"],typeof a=="function"?a:null)}var $t=Symbol.for("react.client.reference");function ea(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===$t?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case ae:return"Fragment";case Ve:return"Profiler";case Ie:return"StrictMode";case He:return"Suspense";case Se:return"SuspenseList";case zt:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case H:return"Portal";case Oe:return(a.displayName||"Context")+".Provider";case Le:return(a._context.displayName||"Context")+".Consumer";case ot:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case _t:return s=a.displayName||null,s!==null?s:ea(a.type)||"Memo";case Dt:s=a._payload,a=a._init;try{return ea(a(s))}catch{}}return null}var ca=Array.isArray,Ke=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$e=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},kt=[],_e=-1;function rt(a){return{current:a}}function ht(a){0>_e||(a.current=kt[_e],kt[_e]=null,_e--)}function Mt(a,s){_e++,kt[_e]=a.current,a.current=s}var Ft=rt(null),ba=rt(null),aa=rt(null),Qi=rt(null);function Ja(a,s){switch(Mt(aa,s),Mt(ba,a),Mt(Ft,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?Gf(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=Gf(s),a=Hf(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ht(Ft),Mt(Ft,a)}function Qa(){ht(Ft),ht(ba),ht(aa)}function Ai(a){a.memoizedState!==null&&Mt(Qi,a);var s=Ft.current,h=Hf(s,a.type);s!==h&&(Mt(ba,a),Mt(Ft,h))}function Ii(a){ba.current===a&&(ht(Ft),ht(ba)),Qi.current===a&&(ht(Qi),re._currentValue=xt)}var mo=Object.prototype.hasOwnProperty,si=o.unstable_scheduleCallback,en=o.unstable_cancelCallback,Qn=o.unstable_shouldYield,cs=o.unstable_requestPaint,Wa=o.unstable_now,Un=o.unstable_getCurrentPriorityLevel,Tn=o.unstable_ImmediatePriority,go=o.unstable_UserBlockingPriority,hr=o.unstable_NormalPriority,pr=o.unstable_LowPriority,er=o.unstable_IdlePriority,Mr=o.log,Hr=o.unstable_setDisableYieldValue,ji=null,za=null;function tn(a){if(typeof Mr=="function"&&Hr(a),za&&typeof za.setStrictMode=="function")try{za.setStrictMode(ji,a)}catch{}}var Bi=Math.clz32?Math.clz32:je,kl=Math.log,vn=Math.LN2;function je(a){return a>>>=0,a===0?32:31-(kl(a)/vn|0)|0}var ee=256,te=4194304;function oe(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ge(a,s,h){var v=a.pendingLanes;if(v===0)return 0;var P=0,E=a.suspendedLanes,J=a.pingedLanes;a=a.warmLanes;var ie=v&134217727;return ie!==0?(v=ie&~E,v!==0?P=oe(v):(J&=ie,J!==0?P=oe(J):h||(h=ie&~a,h!==0&&(P=oe(h))))):(ie=v&~E,ie!==0?P=oe(ie):J!==0?P=oe(J):h||(h=v&~a,h!==0&&(P=oe(h)))),P===0?0:s!==0&&s!==P&&(s&E)===0&&(E=P&-P,h=s&-s,E>=h||E===32&&(h&4194048)!==0)?s:P}function Me(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ke(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var a=ee;return ee<<=1,(ee&4194048)===0&&(ee=256),a}function ze(){var a=te;return te<<=1,(te&62914560)===0&&(te=4194304),a}function st(a){for(var s=[],h=0;31>h;h++)s.push(a);return s}function tt(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Be(a,s,h,v,P,E){var J=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var ie=a.entanglements,Ce=a.expirationTimes,Qe=a.hiddenUpdates;for(h=J&~h;0<h;){var ft=31-Bi(h),wt=1<<ft;ie[ft]=0,Ce[ft]=-1;var it=Qe[ft];if(it!==null)for(Qe[ft]=null,ft=0;ft<it.length;ft++){var nt=it[ft];nt!==null&&(nt.lane&=-536870913)}h&=~wt}v!==0&&ut(a,v,0),E!==0&&P===0&&a.tag!==0&&(a.suspendedLanes|=E&~(J&~s))}function ut(a,s,h){a.pendingLanes|=s,a.suspendedLanes&=~s;var v=31-Bi(s);a.entangledLanes|=s,a.entanglements[v]=a.entanglements[v]|1073741824|h&4194090}function Te(a,s){var h=a.entangledLanes|=s;for(a=a.entanglements;h;){var v=31-Bi(h),P=1<<v;P&s|a[v]&s&&(a[v]|=s),h&=~P}}function Et(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ta(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function de(){var a=$e.p;return a!==0?a:(a=window.event,a===void 0?32:qt(a.type))}function Pe(a,s){var h=$e.p;try{return $e.p=a,s()}finally{$e.p=h}}var Ne=Math.random().toString(36).slice(2),dt="__reactFiber$"+Ne,yt="__reactProps$"+Ne,It="__reactContainer$"+Ne,Tt="__reactEvents$"+Ne,Pt="__reactListeners$"+Ne,Vt="__reactHandles$"+Ne,et="__reactResources$"+Ne,Zt="__reactMarker$"+Ne;function Ut(a){delete a[dt],delete a[yt],delete a[Tt],delete a[Pt],delete a[Vt]}function la(a){var s=a[dt];if(s)return s;for(var h=a.parentNode;h;){if(s=h[It]||h[dt]){if(h=s.alternate,s.child!==null||h!==null&&h.child!==null)for(a=gg(a);a!==null;){if(h=a[dt])return h;a=gg(a)}return s}a=h,h=a.parentNode}return null}function Aa(a){if(a=a[dt]||a[It]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function vt(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(g(33))}function Xt(a){var s=a[et];return s||(s=a[et]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Bt(a){a[Zt]=!0}var pa=new Set,Xr={};function Ci(a,s){ra(a,s),ra(a+"Capture",s)}function ra(a,s){for(Xr[a]=s,a=0;a<s.length;a++)pa.add(s[a])}var Ki=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tr={},ei={};function Oo(a){return mo.call(ei,a)?!0:mo.call(tr,a)?!1:Ki.test(a)?ei[a]=!0:(tr[a]=!0,!1)}function kn(a,s,h){if(Oo(s))if(h===null)a.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var v=s.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+h)}}function Pn(a,s,h){if(h===null)a.removeAttribute(s);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+h)}}function _a(a,s,h,v){if(v===null)a.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(s,h,""+v)}}var ti,ja;function Ar(a){if(ti===void 0)try{throw Error()}catch(h){var s=h.stack.trim().match(/\n( *(at )?)/);ti=s&&s[1]||"",ja=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ti+a+ja}var Zr=!1;function li(a,s){if(!a||Zr)return"";Zr=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(s){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(nt){var it=nt}Reflect.construct(a,[],wt)}else{try{wt.call()}catch(nt){it=nt}a.call(wt.prototype)}}else{try{throw Error()}catch(nt){it=nt}(wt=a())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(nt){if(nt&&it&&typeof nt.stack=="string")return[nt.stack,it.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=v.DetermineComponentFrameRoot(),J=E[0],ie=E[1];if(J&&ie){var Ce=J.split(`
`),Qe=ie.split(`
`);for(P=v=0;v<Ce.length&&!Ce[v].includes("DetermineComponentFrameRoot");)v++;for(;P<Qe.length&&!Qe[P].includes("DetermineComponentFrameRoot");)P++;if(v===Ce.length||P===Qe.length)for(v=Ce.length-1,P=Qe.length-1;1<=v&&0<=P&&Ce[v]!==Qe[P];)P--;for(;1<=v&&0<=P;v--,P--)if(Ce[v]!==Qe[P]){if(v!==1||P!==1)do if(v--,P--,0>P||Ce[v]!==Qe[P]){var ft=`
`+Ce[v].replace(" at new "," at ");return a.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",a.displayName)),ft}while(1<=v&&0<=P);break}}}finally{Zr=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Ar(h):""}function ar(a){switch(a.tag){case 26:case 27:case 5:return Ar(a.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return li(a.type,!1);case 11:return li(a.type.render,!1);case 1:return li(a.type,!0);case 31:return Ar("Activity");default:return""}}function Ir(a){try{var s="";do s+=ar(a),a=a.return;while(a);return s}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Gn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function md(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Nh(a){var s=md(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),v=""+a[s];if(!a.hasOwnProperty(s)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var P=h.get,E=h.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return P.call(this)},set:function(J){v=""+J,E.call(this,J)}}),Object.defineProperty(a,s,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(J){v=""+J},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function qo(a){a._valueTracker||(a._valueTracker=Nh(a))}function gd(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var h=s.getValue(),v="";return a&&(v=md(a)?a.checked?"true":"false":a.value),a=v,a!==h?(s.setValue(a),!0):!1}function Pc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Dc=/[\n"\\]/g;function Lr(a){return a.replace(Dc,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function fu(a,s,h,v,P,E,J,ie){a.name="",J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?a.type=J:a.removeAttribute("type"),s!=null?J==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Gn(s)):a.value!==""+Gn(s)&&(a.value=""+Gn(s)):J!=="submit"&&J!=="reset"||a.removeAttribute("value"),s!=null?Mc(a,J,Gn(s)):h!=null?Mc(a,J,Gn(h)):v!=null&&a.removeAttribute("value"),P==null&&E!=null&&(a.defaultChecked=!!E),P!=null&&(a.checked=P&&typeof P!="function"&&typeof P!="symbol"),ie!=null&&typeof ie!="function"&&typeof ie!="symbol"&&typeof ie!="boolean"?a.name=""+Gn(ie):a.removeAttribute("name")}function Hs(a,s,h,v,P,E,J,ie){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.type=E),s!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||s!=null))return;h=h!=null?""+Gn(h):"",s=s!=null?""+Gn(s):h,ie||s===a.value||(a.value=s),a.defaultValue=s}v=v??P,v=typeof v!="function"&&typeof v!="symbol"&&!!v,a.checked=ie?a.checked:!!v,a.defaultChecked=!!v,J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"&&(a.name=J)}function Mc(a,s,h){s==="number"&&Pc(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function us(a,s,h,v){if(a=a.options,s){s={};for(var P=0;P<h.length;P++)s["$"+h[P]]=!0;for(h=0;h<a.length;h++)P=s.hasOwnProperty("$"+a[h].value),a[h].selected!==P&&(a[h].selected=P),P&&v&&(a[h].defaultSelected=!0)}else{for(h=""+Gn(h),s=null,P=0;P<a.length;P++){if(a[P].value===h){a[P].selected=!0,v&&(a[P].defaultSelected=!0);return}s!==null||a[P].disabled||(s=a[P])}s!==null&&(s.selected=!0)}}function yd(a,s,h){if(s!=null&&(s=""+Gn(s),s!==a.value&&(a.value=s),h==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=h!=null?""+Gn(h):""}function Ac(a,s,h,v){if(s==null){if(v!=null){if(h!=null)throw Error(g(92));if(ca(v)){if(1<v.length)throw Error(g(93));v=v[0]}h=v}h==null&&(h=""),s=h}h=Gn(s),a.defaultValue=h,v=a.textContent,v===h&&v!==""&&v!==null&&(a.value=v)}function Bo(a,s){if(s){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=s;return}}a.textContent=s}var yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pa(a,s,h){var v=s.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":v?a.setProperty(s,h):typeof h!="number"||h===0||yo.has(s)?s==="float"?a.cssFloat=h:a[s]=(""+h).trim():a[s]=h+"px"}function vo(a,s,h){if(s!=null&&typeof s!="object")throw Error(g(62));if(a=a.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||s!=null&&s.hasOwnProperty(v)||(v.indexOf("--")===0?a.setProperty(v,""):v==="float"?a.cssFloat="":a[v]="");for(var P in s)v=s[P],s.hasOwnProperty(P)&&h[P]!==v&&Pa(a,P,v)}else for(var E in s)s.hasOwnProperty(E)&&Pa(a,E,s[E])}function $r(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(a){return vd.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ir=null;function Jr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ya=null,bo=null;function Ic(a){var s=Aa(a);if(s&&(a=s.stateNode)){var h=a[yt]||null;e:switch(a=s.stateNode,s.type){case"input":if(fu(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),s=h.name,h.type==="radio"&&s!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Lr(""+s)+'"][type="radio"]'),s=0;s<h.length;s++){var v=h[s];if(v!==a&&v.form===a.form){var P=v[yt]||null;if(!P)throw Error(g(90));fu(v,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(s=0;s<h.length;s++)v=h[s],v.form===a.form&&gd(v)}break e;case"textarea":yd(a,h.value,h.defaultValue);break e;case"select":s=h.value,s!=null&&us(a,!!h.multiple,s,!1)}}}var Lc=!1;function Dn(a,s,h){if(Lc)return a(s,h);Lc=!0;try{var v=a(s);return v}finally{if(Lc=!1,(ya!==null||bo!==null)&&(Zi(),ya&&(s=ya,a=bo,bo=ya=null,Ic(s),a)))for(s=0;s<a.length;s++)Ic(a[s])}}function Si(a,s){var h=a.stateNode;if(h===null)return null;var v=h[yt]||null;if(v===null)return null;h=v[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(a=a.type,v=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!v;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(g(231,s,typeof h));return h}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),an=!1;if(Ti)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){an=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{an=!1}var Wr=null,Ma=null,Mn=null;function da(){if(Mn)return Mn;var a,s=Ma,h=s.length,v,P="value"in Wr?Wr.value:Wr.textContent,E=P.length;for(a=0;a<h&&s[a]===P[a];a++);var J=h-a;for(v=1;v<=J&&s[h-v]===P[E-v];v++);return Mn=P.slice(a,1<v?1-v:void 0)}function fa(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function xo(){return!0}function ia(){return!1}function nn(a){function s(h,v,P,E,J){this._reactName=h,this._targetInst=P,this.type=v,this.nativeEvent=E,this.target=J,this.currentTarget=null;for(var ie in a)a.hasOwnProperty(ie)&&(h=a[ie],this[ie]=h?h(E):E[ie]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?xo:ia,this.isPropagationStopped=ia,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),s}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=nn(Fi),bn=q({},Fi,{view:0,detail:0}),bd=nn(bn),Er,mu,jl,ds=q({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==jl&&(jl&&a.type==="mousemove"?(Er=a.screenX-jl.screenX,mu=a.screenY-jl.screenY):mu=Er=0,jl=a),Er)},movementY:function(a){return"movementY"in a?a.movementY:mu}}),Kl=nn(ds),Yr=q({},ds,{dataTransfer:0}),xn=nn(Yr),Ol=q({},bn,{relatedTarget:0}),Zs=nn(Ol),ql=q({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),rn=nn(ql),Ec=q({},Fi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Bl=nn(Ec),Fl=q({},Fi,{data:0}),jh=nn(Fl),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=xd[a])?!!s[a]:!1}function An(){return Hp}var Vl=q({},bn,{key:function(a){if(a.key){var s=hs[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=fa(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?zc[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(a){return a.type==="keypress"?fa(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?fa(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),fr=nn(Vl),nr=q({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=nn(nr),Rc=q({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An}),Ul=nn(Rc),_d=q({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=nn(_d),Zp=q({},ds,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),$p=nn(Zp),Jp=q({},Fi,{newState:0,oldState:0}),yu=nn(Jp),vu=[9,13,27,32],Gl=Ti&&"CompositionEvent"in window,Vo=null;Ti&&"documentMode"in document&&(Vo=document.documentMode);var wd=Ti&&"TextEvent"in window&&!Vo,kc=Ti&&(!Gl||Vo&&8<Vo&&11>=Vo),Qr=" ",Kh=!1;function bu(a,s){switch(a){case"keyup":return vu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _o=!1;function Oh(a,s){switch(a){case"compositionend":return Hl(s);case"keypress":return s.which!==32?null:(Kh=!0,Qr);case"textInput":return a=s.data,a===Qr&&Kh?null:a;default:return null}}function Nc(a,s){if(_o)return a==="compositionend"||!Gl&&bu(a,s)?(a=da(),Mn=Ma=Wr=null,_o=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kc&&s.locale!=="ko"?null:s.data;default:return null}}var qh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $s(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!qh[a.type]:s==="textarea"}function Bh(a,s,h,v){ya?bo?bo.push(v):bo=[v]:ya=v,s=dh(s,"onChange"),0<s.length&&(h=new Fo("onChange","change",null,h,v),a.push({event:h,listeners:s}))}var Xl=null,jc=null;function xu(a){dg(a,0)}function Zl(a){var s=vt(a);if(gd(s))return a}function Cd(a,s){if(a==="change")return s}var Sd=!1;if(Ti){var Kc;if(Ti){var Oc="oninput"in document;if(!Oc){var ps=document.createElement("div");ps.setAttribute("oninput","return;"),Oc=typeof ps.oninput=="function"}Kc=Oc}else Kc=!1;Sd=Kc&&(!document.documentMode||9<document.documentMode)}function Td(){Xl&&(Xl.detachEvent("onpropertychange",_u),jc=Xl=null)}function _u(a){if(a.propertyName==="value"&&Zl(jc)){var s=[];Bh(s,jc,a,Jr(a)),Dn(xu,s)}}function $l(a,s,h){a==="focusin"?(Td(),Xl=s,jc=h,Xl.attachEvent("onpropertychange",_u)):a==="focusout"&&Td()}function Wp(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zl(jc)}function wu(a,s){if(a==="click")return Zl(s)}function Yp(a,s){if(a==="input"||a==="change")return Zl(s)}function Fh(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var rr=typeof Object.is=="function"?Object.is:Fh;function Jl(a,s){if(rr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var h=Object.keys(a),v=Object.keys(s);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var P=h[v];if(!mo.call(s,P)||!rr(a[P],s[P]))return!1}return!0}function Pd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Cu(a,s){var h=Pd(a);a=0;for(var v;h;){if(h.nodeType===3){if(v=a+h.textContent.length,a<=s&&v>=s)return{node:h,offset:s-a};a=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Pd(h)}}function Ka(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?Ka(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function qc(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Pc(a.document);s instanceof a.HTMLIFrameElement;){try{var h=typeof s.contentWindow.location.href=="string"}catch{h=!1}if(h)a=s.contentWindow;else break;s=Pc(a.document)}return s}function eo(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Dd=Ti&&"documentMode"in document&&11>=document.documentMode,fs=null,Bc=null,Wl=null,Fc=!1;function ms(a,s,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Fc||fs==null||fs!==Pc(v)||(v=fs,"selectionStart"in v&&eo(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Wl&&Jl(Wl,v)||(Wl=v,v=dh(Bc,"onSelect"),0<v.length&&(s=new Fo("onSelect","select",null,s,h),a.push({event:s,listeners:v}),s.target=fs)))}function Uo(a,s){var h={};return h[a.toLowerCase()]=s.toLowerCase(),h["Webkit"+a]="webkit"+s,h["Moz"+a]="moz"+s,h}var Yl={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionrun:Uo("Transition","TransitionRun"),transitionstart:Uo("Transition","TransitionStart"),transitioncancel:Uo("Transition","TransitionCancel"),transitionend:Uo("Transition","TransitionEnd")},Md={},Vh={};Ti&&(Vh=document.createElement("div").style,"AnimationEvent"in window||(delete Yl.animationend.animation,delete Yl.animationiteration.animation,delete Yl.animationstart.animation),"TransitionEvent"in window||delete Yl.transitionend.transition);function Js(a){if(Md[a])return Md[a];if(!Yl[a])return a;var s=Yl[a],h;for(h in s)if(s.hasOwnProperty(h)&&h in Vh)return Md[a]=s[h];return a}var Ad=Js("animationend"),Uh=Js("animationiteration"),Id=Js("animationstart"),Su=Js("transitionrun"),Tu=Js("transitionstart"),Pu=Js("transitioncancel"),Du=Js("transitionend"),gs=new Map,Ws="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ws.push("scrollEnd");function Nn(a,s){gs.set(a,s),Ci(s,[a])}var mr=new WeakMap;function gr(a,s){if(typeof a=="object"&&a!==null){var h=mr.get(a);return h!==void 0?h:(s={value:a,source:s,stack:Ir(s)},mr.set(a,s),s)}return{value:a,source:s,stack:Ir(s)}}var yr=[],ys=0,Go=0;function Ys(){for(var a=ys,s=Go=ys=0;s<a;){var h=yr[s];yr[s++]=null;var v=yr[s];yr[s++]=null;var P=yr[s];yr[s++]=null;var E=yr[s];if(yr[s++]=null,v!==null&&P!==null){var J=v.pending;J===null?P.next=P:(P.next=J.next,J.next=P),v.pending=P}E!==0&&Ld(h,P,E)}}function Qs(a,s,h,v){yr[ys++]=a,yr[ys++]=s,yr[ys++]=h,yr[ys++]=v,Go|=v,a.lanes|=v,a=a.alternate,a!==null&&(a.lanes|=v)}function el(a,s,h,v){return Qs(a,s,h,v),Ho(a)}function to(a,s){return Qs(a,null,null,s),Ho(a)}function Ld(a,s,h){a.lanes|=h;var v=a.alternate;v!==null&&(v.lanes|=h);for(var P=!1,E=a.return;E!==null;)E.childLanes|=h,v=E.alternate,v!==null&&(v.childLanes|=h),E.tag===22&&(a=E.stateNode,a===null||a._visibility&1||(P=!0)),a=E,E=E.return;return a.tag===3?(E=a.stateNode,P&&s!==null&&(P=31-Bi(h),a=E.hiddenUpdates,v=a[P],v===null?a[P]=[s]:v.push(s),s.lane=h|536870912),E):null}function Ho(a){if(50<nh)throw nh=0,Sf=null,Error(g(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var ao={};function Ed(a,s,h,v){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(a,s,h,v){return new Ed(a,s,h,v)}function wa(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xn(a,s){var h=a.alternate;return h===null?(h=Hn(a.tag,s,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=s,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,s=a.dependencies,h.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function zd(a,s){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,s=h.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Vc(a,s,h,v,P,E){var J=0;if(v=a,typeof a=="function")wa(a)&&(J=1);else if(typeof a=="string")J=_(a,h,Ft.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case zt:return a=Hn(31,h,s,P),a.elementType=zt,a.lanes=E,a;case ae:return io(h.children,P,E,s);case Ie:J=8,P|=24;break;case Ve:return a=Hn(12,h,s,P|2),a.elementType=Ve,a.lanes=E,a;case He:return a=Hn(13,h,s,P),a.elementType=He,a.lanes=E,a;case Se:return a=Hn(19,h,s,P),a.elementType=Se,a.lanes=E,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case we:case Oe:J=10;break e;case Le:J=9;break e;case ot:J=11;break e;case _t:J=14;break e;case Dt:J=16,v=null;break e}J=29,h=Error(g(130,a===null?"null":typeof a,"")),v=null}return s=Hn(J,h,s,P),s.elementType=a,s.type=v,s.lanes=E,s}function io(a,s,h,v){return a=Hn(7,a,v,s),a.lanes=h,a}function Rd(a,s,h){return a=Hn(6,a,null,s),a.lanes=h,a}function kd(a,s,h){return s=Hn(4,a.children!==null?a.children:[],a.key,s),s.lanes=h,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var tl=[],al=0,il=null,nl=0,Zn=[],jn=0,wo=null,no=1,vr="";function zr(a,s){tl[al++]=nl,tl[al++]=il,il=a,nl=s}function rl(a,s,h){Zn[jn++]=no,Zn[jn++]=vr,Zn[jn++]=wo,wo=a;var v=no;a=vr;var P=32-Bi(v)-1;v&=~(1<<P),h+=1;var E=32-Bi(s)+P;if(30<E){var J=P-P%5;E=(v&(1<<J)-1).toString(32),v>>=J,P-=J,no=1<<32-Bi(s)+P|h<<P|v,vr=E+a}else no=1<<E|h<<P|v,vr=a}function ol(a){a.return!==null&&(zr(a,1),rl(a,1,0))}function Uc(a){for(;a===il;)il=tl[--al],tl[al]=null,nl=tl[--al],tl[al]=null;for(;a===wo;)wo=Zn[--jn],Zn[jn]=null,vr=Zn[--jn],Zn[jn]=null,no=Zn[--jn],Zn[jn]=null}var Oi=null,qi=null,Va=!1,Co=null,Rr=!1,Mu=Error(g(519));function vs(a){var s=Error(g(418,""));throw kr(gr(s,a)),Mu}function Ql(a){var s=a.stateNode,h=a.type,v=a.memoizedProps;switch(s[dt]=a,s[yt]=v,h){case"dialog":Na("cancel",s),Na("close",s);break;case"iframe":case"object":case"embed":Na("load",s);break;case"video":case"audio":for(h=0;h<uh.length;h++)Na(uh[h],s);break;case"source":Na("error",s);break;case"img":case"image":case"link":Na("error",s),Na("load",s);break;case"details":Na("toggle",s);break;case"input":Na("invalid",s),Hs(s,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),qo(s);break;case"select":Na("invalid",s);break;case"textarea":Na("invalid",s),Ac(s,v.value,v.defaultValue,v.children),qo(s)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||s.textContent===""+h||v.suppressHydrationWarning===!0||td(s.textContent,h)?(v.popover!=null&&(Na("beforetoggle",s),Na("toggle",s)),v.onScroll!=null&&Na("scroll",s),v.onScrollEnd!=null&&Na("scrollend",s),v.onClick!=null&&(s.onclick=hh),s=!0):s=!1,s||vs(a)}function Gc(a){for(Oi=a.return;Oi;)switch(Oi.tag){case 5:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:Oi=Oi.return}}function bs(a){if(a!==Oi)return!1;if(!Va)return Gc(a),Va=!0,!1;var s=a.tag,h;if((h=s!==3&&s!==27)&&((h=s===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||Xf(a.type,a.memoizedProps)),h=!h),h&&qi&&vs(a),Gc(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(g(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(h=a.data,h==="/$"){if(s===0){qi=Fr(a.nextSibling);break e}s--}else h!=="$"&&h!=="$!"&&h!=="$?"||s++;a=a.nextSibling}qi=null}}else s===27?(s=qi,mc(a.type)?(a=Wf,Wf=null,qi=a):qi=s):qi=Oi?Fr(a.stateNode.nextSibling):null;return!0}function ec(){qi=Oi=null,Va=!1}function Pi(){var a=Co;return a!==null&&(qr===null?qr=a:qr.push.apply(qr,a),Co=null),a}function kr(a){Co===null?Co=[a]:Co.push(a)}var or=rt(null),So=null,br=null;function xr(a,s,h){Mt(or,s._currentValue),s._currentValue=h}function sr(a){a._currentValue=or.current,ht(or)}function Hc(a,s,h){for(;a!==null;){var v=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,v!==null&&(v.childLanes|=s)):v!==null&&(v.childLanes&s)!==s&&(v.childLanes|=s),a===h)break;a=a.return}}function sl(a,s,h,v){var P=a.child;for(P!==null&&(P.return=a);P!==null;){var E=P.dependencies;if(E!==null){var J=P.child;E=E.firstContext;e:for(;E!==null;){var ie=E;E=P;for(var Ce=0;Ce<s.length;Ce++)if(ie.context===s[Ce]){E.lanes|=h,ie=E.alternate,ie!==null&&(ie.lanes|=h),Hc(E.return,h,a),v||(J=null);break e}E=ie.next}}else if(P.tag===18){if(J=P.return,J===null)throw Error(g(341));J.lanes|=h,E=J.alternate,E!==null&&(E.lanes|=h),Hc(J,h,a),J=null}else J=P.child;if(J!==null)J.return=P;else for(J=P;J!==null;){if(J===a){J=null;break}if(P=J.sibling,P!==null){P.return=J.return,J=P;break}J=J.return}P=J}}function ll(a,s,h,v){a=null;for(var P=s,E=!1;P!==null;){if(!E){if((P.flags&524288)!==0)E=!0;else if((P.flags&262144)!==0)break}if(P.tag===10){var J=P.alternate;if(J===null)throw Error(g(387));if(J=J.memoizedProps,J!==null){var ie=P.type;rr(P.pendingProps.value,J.value)||(a!==null?a.push(ie):a=[ie])}}else if(P===Qi.current){if(J=P.alternate,J===null)throw Error(g(387));J.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(a!==null?a.push(re):a=[re])}P=P.return}a!==null&&sl(s,a,h,v),s.flags|=262144}function Xc(a){for(a=a.firstContext;a!==null;){if(!rr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xs(a){So=a,br=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vi(a){return $n(So,a)}function Xo(a,s){return So===null&&xs(a),$n(a,s)}function $n(a,s){var h=s._currentValue;if(s={context:s,memoizedValue:h,next:null},br===null){if(a===null)throw Error(g(308));br=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else br=br.next=s;return h}var ro=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(h,v){a.push(v)}};this.abort=function(){s.aborted=!0,a.forEach(function(h){return h()})}},Nd=o.unstable_scheduleCallback,Gh=o.unstable_NormalPriority,on={$$typeof:Oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _s(){return{controller:new ro,data:new Map,refCount:0}}function cl(a){a.refCount--,a.refCount===0&&Nd(Gh,function(){a.controller.abort()})}var ws=null,Au=0,Zo=0,$o=null;function tc(a,s){if(ws===null){var h=ws=[];Au=0,Zo=pc(),$o={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Au++,s.then(_r,_r),s}function _r(){if(--Au===0&&ws!==null){$o!==null&&($o.status="fulfilled");var a=ws;ws=null,Zo=0,$o=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function oo(a,s){var h=[],v={status:"pending",value:null,reason:null,then:function(P){h.push(P)}};return a.then(function(){v.status="fulfilled",v.value=s;for(var P=0;P<h.length;P++)(0,h[P])(s)},function(P){for(v.status="rejected",v.reason=P,P=0;P<h.length;P++)(0,h[P])(void 0)}),v}var jd=Ke.S;Ke.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&tc(a,s),jd!==null&&jd(a,s)};var Ui=rt(null);function Cs(){var a=Ui.current;return a!==null?a:ni.pooledCache}function Iu(a,s){s===null?Mt(Ui,Ui.current):Mt(Ui,s.pool)}function Zc(){var a=Cs();return a===null?null:{parent:on._currentValue,pool:a}}var $c=Error(g(460)),Lu=Error(g(474)),Ss=Error(g(542)),Ts={then:function(){}};function so(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Nt(){}function Eu(a,s,h){switch(h=a[h],h===void 0?a.push(s):h!==s&&(s.then(Nt,Nt),s=h),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ac(a),a;default:if(typeof s.status=="string")s.then(Nt,Nt);else{if(a=ni,a!==null&&100<a.shellSuspendCounter)throw Error(g(482));a=s,a.status="pending",a.then(function(v){if(s.status==="pending"){var P=s;P.status="fulfilled",P.value=v}},function(v){if(s.status==="pending"){var P=s;P.status="rejected",P.reason=v}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,ac(a),a}throw Jo=s,$c}}var Jo=null;function zu(){if(Jo===null)throw Error(g(459));var a=Jo;return Jo=null,a}function ac(a){if(a===$c||a===Ss)throw Error(g(483))}var wr=!1;function Jc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ca(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function To(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Wo(a,s,h){var v=a.updateQueue;if(v===null)return null;if(v=v.shared,(ii&2)!==0){var P=v.pending;return P===null?s.next=s:(s.next=P.next,P.next=s),v.pending=s,s=Ho(a),Ld(a,null,h),s}return Qs(a,v,s,h),Ho(a)}function Ps(a,s,h){if(s=s.updateQueue,s!==null&&(s=s.shared,(h&4194048)!==0)){var v=s.lanes;v&=a.pendingLanes,h|=v,s.lanes=h,Te(a,h)}}function Kd(a,s){var h=a.updateQueue,v=a.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var P=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var J={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?P=E=J:E=E.next=J,h=h.next}while(h!==null);E===null?P=E=s:E=E.next=s}else P=E=s;h={baseState:v.baseState,firstBaseUpdate:P,lastBaseUpdate:E,shared:v.shared,callbacks:v.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=s:a.next=s,h.lastBaseUpdate=s}var Od=!1;function ul(){if(Od){var a=$o;if(a!==null)throw a}}function Ds(a,s,h,v){Od=!1;var P=a.updateQueue;wr=!1;var E=P.firstBaseUpdate,J=P.lastBaseUpdate,ie=P.shared.pending;if(ie!==null){P.shared.pending=null;var Ce=ie,Qe=Ce.next;Ce.next=null,J===null?E=Qe:J.next=Qe,J=Ce;var ft=a.alternate;ft!==null&&(ft=ft.updateQueue,ie=ft.lastBaseUpdate,ie!==J&&(ie===null?ft.firstBaseUpdate=Qe:ie.next=Qe,ft.lastBaseUpdate=Ce))}if(E!==null){var wt=P.baseState;J=0,ft=Qe=Ce=null,ie=E;do{var it=ie.lane&-536870913,nt=it!==ie.lane;if(nt?(Oa&it)===it:(v&it)===it){it!==0&&it===Zo&&(Od=!0),ft!==null&&(ft=ft.next={lane:0,tag:ie.tag,payload:ie.payload,callback:null,next:null});e:{var oa=a,ua=ie;it=s;var gi=h;switch(ua.tag){case 1:if(oa=ua.payload,typeof oa=="function"){wt=oa.call(gi,wt,it);break e}wt=oa;break e;case 3:oa.flags=oa.flags&-65537|128;case 0:if(oa=ua.payload,it=typeof oa=="function"?oa.call(gi,wt,it):oa,it==null)break e;wt=q({},wt,it);break e;case 2:wr=!0}}it=ie.callback,it!==null&&(a.flags|=64,nt&&(a.flags|=8192),nt=P.callbacks,nt===null?P.callbacks=[it]:nt.push(it))}else nt={lane:it,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},ft===null?(Qe=ft=nt,Ce=wt):ft=ft.next=nt,J|=it;if(ie=ie.next,ie===null){if(ie=P.shared.pending,ie===null)break;nt=ie,ie=nt.next,nt.next=null,P.lastBaseUpdate=nt,P.shared.pending=null}}while(!0);ft===null&&(Ce=wt),P.baseState=Ce,P.firstBaseUpdate=Qe,P.lastBaseUpdate=ft,E===null&&(P.shared.lanes=0),dc|=J,a.lanes=J,a.memoizedState=wt}}function Ru(a,s){if(typeof a!="function")throw Error(g(191,a));a.call(s)}function qd(a,s){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Ru(h[a],s)}var Po=rt(null),ku=rt(0);function Nu(a,s){a=Rs,Mt(ku,a),Mt(Po,s),Rs=a|s.baseLanes}function Do(){Mt(ku,Rs),Mt(Po,Po.current)}function ci(){Rs=ku.current,ht(Po),ht(ku)}var Nr=0,Sa=null,Ga=null,Gi=null,Wc=!1,ic=!1,Kn=!1,dl=0,jt=0,Wt=null,ju=0;function Li(){throw Error(g(321))}function hl(a,s){if(s===null)return!1;for(var h=0;h<s.length&&h<a.length;h++)if(!rr(a[h],s[h]))return!1;return!0}function In(a,s,h,v,P,E){return Nr=E,Sa=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ke.H=a===null||a.memoizedState===null?Or:ts,Kn=!1,E=h(v,P),Kn=!1,ic&&(E=_n(s,h,v,P)),Bd(a),E}function Bd(a){Ke.H=En;var s=Ga!==null&&Ga.next!==null;if(Nr=0,Gi=Ga=Sa=null,Wc=!1,jt=0,Wt=null,s)throw Error(g(300));a===null||qn||(a=a.dependencies,a!==null&&Xc(a)&&(qn=!0))}function _n(a,s,h,v){Sa=a;var P=0;do{if(ic&&(Wt=null),jt=0,ic=!1,25<=P)throw Error(g(301));if(P+=1,Gi=Ga=null,a.updateQueue!=null){var E=a.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}Ke.H=gl,E=s(h,v)}while(ic);return E}function Hh(){var a=Ke.H,s=a.useState()[0];return s=typeof s.then=="function"?pl(s):s,a=a.useState()[0],(Ga!==null?Ga.memoizedState:null)!==a&&(Sa.flags|=1024),s}function Yo(){var a=dl!==0;return dl=0,a}function yi(a,s,h){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~h}function _i(a){if(Wc){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Wc=!1}Nr=0,Gi=Ga=Sa=null,ic=!1,jt=dl=0,Wt=null}function Jn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Sa.memoizedState=Gi=a:Gi=Gi.next=a,Gi}function ui(){if(Ga===null){var a=Sa.alternate;a=a!==null?a.memoizedState:null}else a=Ga.next;var s=Gi===null?Sa.memoizedState:Gi.next;if(s!==null)Gi=s,Ga=a;else{if(a===null)throw Sa.alternate===null?Error(g(467)):Error(g(310));Ga=a,a={memoizedState:Ga.memoizedState,baseState:Ga.baseState,baseQueue:Ga.baseQueue,queue:Ga.queue,next:null},Gi===null?Sa.memoizedState=Gi=a:Gi=Gi.next=a}return Gi}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(a){var s=jt;return jt+=1,Wt===null&&(Wt=[]),a=Eu(Wt,a,s),s=Sa,(Gi===null?s.memoizedState:Gi.next)===null&&(s=s.alternate,Ke.H=s===null||s.memoizedState===null?Or:ts),a}function fl(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return pl(a);if(a.$$typeof===Oe)return Vi(a)}throw Error(g(438,String(a)))}function Qo(a){var s=null,h=Sa.updateQueue;if(h!==null&&(s=h.memoCache),s==null){var v=Sa.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(s={data:v.data.map(function(P){return P.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),h===null&&(h=Mo(),Sa.updateQueue=h),h.memoCache=s,h=s.data[s.index],h===void 0)for(h=s.data[s.index]=Array(a),v=0;v<a;v++)h[v]=Ht;return s.index++,h}function Cr(a,s){return typeof s=="function"?s(a):s}function nc(a){var s=ui();return rc(s,Ga,a)}function rc(a,s,h){var v=a.queue;if(v===null)throw Error(g(311));v.lastRenderedReducer=h;var P=a.baseQueue,E=v.pending;if(E!==null){if(P!==null){var J=P.next;P.next=E.next,E.next=J}s.baseQueue=P=E,v.pending=null}if(E=a.baseState,P===null)a.memoizedState=E;else{s=P.next;var ie=J=null,Ce=null,Qe=s,ft=!1;do{var wt=Qe.lane&-536870913;if(wt!==Qe.lane?(Oa&wt)===wt:(Nr&wt)===wt){var it=Qe.revertLane;if(it===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),wt===Zo&&(ft=!0);else if((Nr&it)===it){Qe=Qe.next,it===Zo&&(ft=!0);continue}else wt={lane:0,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Ce===null?(ie=Ce=wt,J=E):Ce=Ce.next=wt,Sa.lanes|=it,dc|=it;wt=Qe.action,Kn&&h(E,wt),E=Qe.hasEagerState?Qe.eagerState:h(E,wt)}else it={lane:wt,revertLane:Qe.revertLane,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},Ce===null?(ie=Ce=it,J=E):Ce=Ce.next=it,Sa.lanes|=wt,dc|=wt;Qe=Qe.next}while(Qe!==null&&Qe!==s);if(Ce===null?J=E:Ce.next=ie,!rr(E,a.memoizedState)&&(qn=!0,ft&&(h=$o,h!==null)))throw h;a.memoizedState=E,a.baseState=J,a.baseQueue=Ce,v.lastRenderedState=E}return P===null&&(v.lanes=0),[a.memoizedState,v.dispatch]}function Yc(a){var s=ui(),h=s.queue;if(h===null)throw Error(g(311));h.lastRenderedReducer=a;var v=h.dispatch,P=h.pending,E=s.memoizedState;if(P!==null){h.pending=null;var J=P=P.next;do E=a(E,J.action),J=J.next;while(J!==P);rr(E,s.memoizedState)||(qn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),h.lastRenderedState=E}return[E,v]}function y(a,s,h){var v=Sa,P=ui(),E=Va;if(E){if(h===void 0)throw Error(g(407));h=h()}else h=s();var J=!rr((Ga||P).memoizedState,h);J&&(P.memoizedState=h,qn=!0),P=P.queue;var ie=d.bind(null,v,P,a);if(Ee(2048,8,ie,[a]),P.getSnapshot!==s||J||Gi!==null&&Gi.memoizedState.tag&1){if(v.flags|=2048,pe(9,xe(),i.bind(null,v,P,h,s),null),ni===null)throw Error(g(349));E||(Nr&124)!==0||e(v,s,h)}return h}function e(a,s,h){a.flags|=16384,a={getSnapshot:s,value:h},s=Sa.updateQueue,s===null?(s=Mo(),Sa.updateQueue=s,s.stores=[a]):(h=s.stores,h===null?s.stores=[a]:h.push(a))}function i(a,s,h,v){s.value=h,s.getSnapshot=v,f(s)&&b(a)}function d(a,s,h){return h(function(){f(s)&&b(a)})}function f(a){var s=a.getSnapshot;a=a.value;try{var h=s();return!rr(a,h)}catch{return!0}}function b(a){var s=to(a,2);s!==null&&ho(s,a,2)}function S(a){var s=Jn();if(typeof a=="function"){var h=a;if(a=h(),Kn){tn(!0);try{h()}finally{tn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:a},s}function M(a,s,h,v){return a.baseState=h,rc(a,Ga,typeof v=="function"?v:Cr)}function I(a,s,h,v,P){if(As(a))throw Error(g(485));if(a=s.action,a!==null){var E={payload:P,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){E.listeners.push(J)}};Ke.T!==null?h(!0):E.isTransition=!1,v(E),h=s.pending,h===null?(E.next=s.pending=E,N(s,E)):(E.next=h.next,s.pending=h.next=E)}}function N(a,s){var h=s.action,v=s.payload,P=a.state;if(s.isTransition){var E=Ke.T,J={};Ke.T=J;try{var ie=h(P,v),Ce=Ke.S;Ce!==null&&Ce(J,ie),K(a,s,ie)}catch(Qe){B(a,s,Qe)}finally{Ke.T=E}}else try{E=h(P,v),K(a,s,E)}catch(Qe){B(a,s,Qe)}}function K(a,s,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){F(a,s,v)},function(v){return B(a,s,v)}):F(a,s,h)}function F(a,s,h){s.status="fulfilled",s.value=h,U(s),a.state=h,s=a.pending,s!==null&&(h=s.next,h===s?a.pending=null:(h=h.next,s.next=h,N(a,h)))}function B(a,s,h){var v=a.pending;if(a.pending=null,v!==null){v=v.next;do s.status="rejected",s.reason=h,U(s),s=s.next;while(s!==v)}a.action=null}function U(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function Y(a,s){return s}function le(a,s){if(Va){var h=ni.formState;if(h!==null){e:{var v=Sa;if(Va){if(qi){t:{for(var P=qi,E=Rr;P.nodeType!==8;){if(!E){P=null;break t}if(P=Fr(P.nextSibling),P===null){P=null;break t}}E=P.data,P=E==="F!"||E==="F"?P:null}if(P){qi=Fr(P.nextSibling),v=P.data==="F!";break e}}vs(v)}v=!1}v&&(s=h[0])}}return h=Jn(),h.memoizedState=h.baseState=s,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y,lastRenderedState:s},h.queue=v,h=es.bind(null,Sa,v),v.dispatch=h,v=S(!1),E=Kr.bind(null,Sa,!1,v.queue),v=Jn(),P={state:s,dispatch:null,action:a,pending:null},v.queue=P,h=I.bind(null,Sa,P,E,h),P.dispatch=h,v.memoizedState=a,[s,h,!1]}function se(a){var s=ui();return ce(s,Ga,a)}function ce(a,s,h){if(s=rc(a,s,Y)[0],a=nc(Cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var v=pl(s)}catch(J){throw J===$c?Ss:J}else v=s;s=ui();var P=s.queue,E=P.dispatch;return h!==s.memoizedState&&(Sa.flags|=2048,pe(9,xe(),he.bind(null,P,h),null)),[v,E,a]}function he(a,s){a.action=s}function ye(a){var s=ui(),h=Ga;if(h!==null)return ce(s,h,a);ui(),s=s.memoizedState,h=ui();var v=h.queue.dispatch;return h.memoizedState=a,[s,v,!1]}function pe(a,s,h,v){return a={tag:a,create:h,deps:v,inst:s,next:null},s=Sa.updateQueue,s===null&&(s=Mo(),Sa.updateQueue=s),h=s.lastEffect,h===null?s.lastEffect=a.next=a:(v=h.next,h.next=a,a.next=v,s.lastEffect=a),a}function xe(){return{destroy:void 0,resource:void 0}}function De(){return ui().memoizedState}function me(a,s,h,v){var P=Jn();v=v===void 0?null:v,Sa.flags|=a,P.memoizedState=pe(1|s,xe(),h,v)}function Ee(a,s,h,v){var P=ui();v=v===void 0?null:v;var E=P.memoizedState.inst;Ga!==null&&v!==null&&hl(v,Ga.memoizedState.deps)?P.memoizedState=pe(s,E,h,v):(Sa.flags|=a,P.memoizedState=pe(1|s,E,h,v))}function We(a,s){me(8390656,8,a,s)}function Ue(a,s){Ee(2048,8,a,s)}function Ge(a,s){return Ee(4,2,a,s)}function Ye(a,s){return Ee(4,4,a,s)}function Lt(a,s){if(typeof s=="function"){a=a();var h=s(a);return function(){typeof h=="function"?h():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function At(a,s,h){h=h!=null?h.concat([a]):null,Ee(4,4,Lt.bind(null,s,a),h)}function mt(){}function Ot(a,s){var h=ui();s=s===void 0?null:s;var v=h.memoizedState;return s!==null&&hl(s,v[1])?v[0]:(h.memoizedState=[a,s],a)}function va(a,s){var h=ui();s=s===void 0?null:s;var v=h.memoizedState;if(s!==null&&hl(s,v[1]))return v[0];if(v=a(),Kn){tn(!0);try{a()}finally{tn(!1)}}return h.memoizedState=[v,s],v}function Ra(a,s,h){return h===void 0||(Nr&1073741824)!==0?a.memoizedState=s:(a.memoizedState=h,a=tg(),Sa.lanes|=a,dc|=a,h)}function wi(a,s,h,v){return rr(h,s)?h:Po.current!==null?(a=Ra(a,h,v),rr(a,s)||(qn=!0),a):(Nr&42)===0?(qn=!0,a.memoizedState=h):(a=tg(),Sa.lanes|=a,dc|=a,s)}function Ha(a,s,h,v,P){var E=$e.p;$e.p=E!==0&&8>E?E:8;var J=Ke.T,ie={};Ke.T=ie,Kr(a,!1,s,h);try{var Ce=P(),Qe=Ke.S;if(Qe!==null&&Qe(ie,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var ft=oo(Ce,v);jr(a,s,ft,Br(a))}else jr(a,s,v,Br(a))}catch(wt){jr(a,s,{then:function(){},status:"rejected",reason:wt},Br())}finally{$e.p=E,Ke.T=J}}function Di(){}function Xa(a,s,h,v){if(a.tag!==5)throw Error(g(476));var P=Za(a).queue;Ha(a,P,s,xt,h===null?Di:function(){return Ya(a),h(v)})}function Za(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:xt},next:null};var h={};return s.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cr,lastRenderedState:h},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Ya(a){var s=Za(a).next.queue;jr(a,s,{},Br())}function hn(){return Vi(re)}function Ia(){return ui().memoizedState}function pn(){return ui().memoizedState}function Ln(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var h=Br();a=To(h);var v=Wo(s,a,h);v!==null&&(ho(v,s,h),Ps(v,s,h)),s={cache:_s()},a.payload=s;return}s=s.return}}function Ms(a,s,h){var v=Br();h={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},As(a)?oc(s,h):(h=el(a,s,h,v),h!==null&&(ho(h,a,v),ml(h,s,v)))}function es(a,s,h){var v=Br();jr(a,s,h,v)}function jr(a,s,h,v){var P={lane:v,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(As(a))oc(s,P);else{var E=a.alternate;if(a.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var J=s.lastRenderedState,ie=E(J,h);if(P.hasEagerState=!0,P.eagerState=ie,rr(ie,J))return Qs(a,s,P,0),ni===null&&Ys(),!1}catch{}finally{}if(h=el(a,s,P,v),h!==null)return ho(h,a,v),ml(h,s,v),!0}return!1}function Kr(a,s,h,v){if(v={lane:2,revertLane:pc(),action:v,hasEagerState:!1,eagerState:null,next:null},As(a)){if(s)throw Error(g(479))}else s=el(a,h,v,2),s!==null&&ho(s,a,2)}function As(a){var s=a.alternate;return a===Sa||s!==null&&s===Sa}function oc(a,s){ic=Wc=!0;var h=a.pending;h===null?s.next=s:(s.next=h.next,h.next=s),a.pending=s}function ml(a,s,h){if((h&4194048)!==0){var v=s.lanes;v&=a.pendingLanes,h|=v,s.lanes=h,Te(a,h)}}var En={readContext:Vi,use:fl,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useLayoutEffect:Li,useInsertionEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useSyncExternalStore:Li,useId:Li,useHostTransitionStatus:Li,useFormState:Li,useActionState:Li,useOptimistic:Li,useMemoCache:Li,useCacheRefresh:Li},Or={readContext:Vi,use:fl,useCallback:function(a,s){return Jn().memoizedState=[a,s===void 0?null:s],a},useContext:Vi,useEffect:We,useImperativeHandle:function(a,s,h){h=h!=null?h.concat([a]):null,me(4194308,4,Lt.bind(null,s,a),h)},useLayoutEffect:function(a,s){return me(4194308,4,a,s)},useInsertionEffect:function(a,s){me(4,2,a,s)},useMemo:function(a,s){var h=Jn();s=s===void 0?null:s;var v=a();if(Kn){tn(!0);try{a()}finally{tn(!1)}}return h.memoizedState=[v,s],v},useReducer:function(a,s,h){var v=Jn();if(h!==void 0){var P=h(s);if(Kn){tn(!0);try{h(s)}finally{tn(!1)}}}else P=s;return v.memoizedState=v.baseState=P,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:P},v.queue=a,a=a.dispatch=Ms.bind(null,Sa,a),[v.memoizedState,a]},useRef:function(a){var s=Jn();return a={current:a},s.memoizedState=a},useState:function(a){a=S(a);var s=a.queue,h=es.bind(null,Sa,s);return s.dispatch=h,[a.memoizedState,h]},useDebugValue:mt,useDeferredValue:function(a,s){var h=Jn();return Ra(h,a,s)},useTransition:function(){var a=S(!1);return a=Ha.bind(null,Sa,a.queue,!0,!1),Jn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,h){var v=Sa,P=Jn();if(Va){if(h===void 0)throw Error(g(407));h=h()}else{if(h=s(),ni===null)throw Error(g(349));(Oa&124)!==0||e(v,s,h)}P.memoizedState=h;var E={value:h,getSnapshot:s};return P.queue=E,We(d.bind(null,v,E,a),[a]),v.flags|=2048,pe(9,xe(),i.bind(null,v,E,h,s),null),h},useId:function(){var a=Jn(),s=ni.identifierPrefix;if(Va){var h=vr,v=no;h=(v&~(1<<32-Bi(v)-1)).toString(32)+h,s="«"+s+"R"+h,h=dl++,0<h&&(s+="H"+h.toString(32)),s+="»"}else h=ju++,s="«"+s+"r"+h.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:hn,useFormState:le,useActionState:le,useOptimistic:function(a){var s=Jn();s.memoizedState=s.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=h,s=Kr.bind(null,Sa,!0,h),h.dispatch=s,[a,s]},useMemoCache:Qo,useCacheRefresh:function(){return Jn().memoizedState=Ln.bind(null,Sa)}},ts={readContext:Vi,use:fl,useCallback:Ot,useContext:Vi,useEffect:Ue,useImperativeHandle:At,useInsertionEffect:Ge,useLayoutEffect:Ye,useMemo:va,useReducer:nc,useRef:De,useState:function(){return nc(Cr)},useDebugValue:mt,useDeferredValue:function(a,s){var h=ui();return wi(h,Ga.memoizedState,a,s)},useTransition:function(){var a=nc(Cr)[0],s=ui().memoizedState;return[typeof a=="boolean"?a:pl(a),s]},useSyncExternalStore:y,useId:Ia,useHostTransitionStatus:hn,useFormState:se,useActionState:se,useOptimistic:function(a,s){var h=ui();return M(h,Ga,a,s)},useMemoCache:Qo,useCacheRefresh:pn},gl={readContext:Vi,use:fl,useCallback:Ot,useContext:Vi,useEffect:Ue,useImperativeHandle:At,useInsertionEffect:Ge,useLayoutEffect:Ye,useMemo:va,useReducer:Yc,useRef:De,useState:function(){return Yc(Cr)},useDebugValue:mt,useDeferredValue:function(a,s){var h=ui();return Ga===null?Ra(h,a,s):wi(h,Ga.memoizedState,a,s)},useTransition:function(){var a=Yc(Cr)[0],s=ui().memoizedState;return[typeof a=="boolean"?a:pl(a),s]},useSyncExternalStore:y,useId:Ia,useHostTransitionStatus:hn,useFormState:ye,useActionState:ye,useOptimistic:function(a,s){var h=ui();return Ga!==null?M(h,Ga,a,s):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:pn},di=null,$a=0;function wn(a){var s=$a;return $a+=1,di===null&&(di=[]),Eu(di,a,s)}function Ei(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Qc(a,s){throw s.$$typeof===G?Error(g(525)):(a=Object.prototype.toString.call(s),Error(g(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function Xh(a){var s=a._init;return s(a._payload)}function Ku(a){function s(Fe,Re){if(a){var Je=Fe.deletions;Je===null?(Fe.deletions=[Re],Fe.flags|=16):Je.push(Re)}}function h(Fe,Re){if(!a)return null;for(;Re!==null;)s(Fe,Re),Re=Re.sibling;return null}function v(Fe){for(var Re=new Map;Fe!==null;)Fe.key!==null?Re.set(Fe.key,Fe):Re.set(Fe.index,Fe),Fe=Fe.sibling;return Re}function P(Fe,Re){return Fe=Xn(Fe,Re),Fe.index=0,Fe.sibling=null,Fe}function E(Fe,Re,Je){return Fe.index=Je,a?(Je=Fe.alternate,Je!==null?(Je=Je.index,Je<Re?(Fe.flags|=67108866,Re):Je):(Fe.flags|=67108866,Re)):(Fe.flags|=1048576,Re)}function J(Fe){return a&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function ie(Fe,Re,Je,bt){return Re===null||Re.tag!==6?(Re=Rd(Je,Fe.mode,bt),Re.return=Fe,Re):(Re=P(Re,Je),Re.return=Fe,Re)}function Ce(Fe,Re,Je,bt){var Yt=Je.type;return Yt===ae?ft(Fe,Re,Je.props.children,bt,Je.key):Re!==null&&(Re.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===Dt&&Xh(Yt)===Re.type)?(Re=P(Re,Je.props),Ei(Re,Je),Re.return=Fe,Re):(Re=Vc(Je.type,Je.key,Je.props,null,Fe.mode,bt),Ei(Re,Je),Re.return=Fe,Re)}function Qe(Fe,Re,Je,bt){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Je.containerInfo||Re.stateNode.implementation!==Je.implementation?(Re=kd(Je,Fe.mode,bt),Re.return=Fe,Re):(Re=P(Re,Je.children||[]),Re.return=Fe,Re)}function ft(Fe,Re,Je,bt,Yt){return Re===null||Re.tag!==7?(Re=io(Je,Fe.mode,bt,Yt),Re.return=Fe,Re):(Re=P(Re,Je),Re.return=Fe,Re)}function wt(Fe,Re,Je){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=Rd(""+Re,Fe.mode,Je),Re.return=Fe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case Z:return Je=Vc(Re.type,Re.key,Re.props,null,Fe.mode,Je),Ei(Je,Re),Je.return=Fe,Je;case H:return Re=kd(Re,Fe.mode,Je),Re.return=Fe,Re;case Dt:var bt=Re._init;return Re=bt(Re._payload),wt(Fe,Re,Je)}if(ca(Re)||sa(Re))return Re=io(Re,Fe.mode,Je,null),Re.return=Fe,Re;if(typeof Re.then=="function")return wt(Fe,wn(Re),Je);if(Re.$$typeof===Oe)return wt(Fe,Xo(Fe,Re),Je);Qc(Fe,Re)}return null}function it(Fe,Re,Je,bt){var Yt=Re!==null?Re.key:null;if(typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint")return Yt!==null?null:ie(Fe,Re,""+Je,bt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case Z:return Je.key===Yt?Ce(Fe,Re,Je,bt):null;case H:return Je.key===Yt?Qe(Fe,Re,Je,bt):null;case Dt:return Yt=Je._init,Je=Yt(Je._payload),it(Fe,Re,Je,bt)}if(ca(Je)||sa(Je))return Yt!==null?null:ft(Fe,Re,Je,bt,null);if(typeof Je.then=="function")return it(Fe,Re,wn(Je),bt);if(Je.$$typeof===Oe)return it(Fe,Re,Xo(Fe,Je),bt);Qc(Fe,Je)}return null}function nt(Fe,Re,Je,bt,Yt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Fe=Fe.get(Je)||null,ie(Re,Fe,""+bt,Yt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case Z:return Fe=Fe.get(bt.key===null?Je:bt.key)||null,Ce(Re,Fe,bt,Yt);case H:return Fe=Fe.get(bt.key===null?Je:bt.key)||null,Qe(Re,Fe,bt,Yt);case Dt:var Ea=bt._init;return bt=Ea(bt._payload),nt(Fe,Re,Je,bt,Yt)}if(ca(bt)||sa(bt))return Fe=Fe.get(Je)||null,ft(Re,Fe,bt,Yt,null);if(typeof bt.then=="function")return nt(Fe,Re,Je,wn(bt),Yt);if(bt.$$typeof===Oe)return nt(Fe,Re,Je,Xo(Re,bt),Yt);Qc(Re,bt)}return null}function oa(Fe,Re,Je,bt){for(var Yt=null,Ea=null,na=Re,ha=Re=0,xi=null;na!==null&&ha<Je.length;ha++){na.index>ha?(xi=na,na=null):xi=na.sibling;var Fa=it(Fe,na,Je[ha],bt);if(Fa===null){na===null&&(na=xi);break}a&&na&&Fa.alternate===null&&s(Fe,na),Re=E(Fa,Re,ha),Ea===null?Yt=Fa:Ea.sibling=Fa,Ea=Fa,na=xi}if(ha===Je.length)return h(Fe,na),Va&&zr(Fe,ha),Yt;if(na===null){for(;ha<Je.length;ha++)na=wt(Fe,Je[ha],bt),na!==null&&(Re=E(na,Re,ha),Ea===null?Yt=na:Ea.sibling=na,Ea=na);return Va&&zr(Fe,ha),Yt}for(na=v(na);ha<Je.length;ha++)xi=nt(na,Fe,ha,Je[ha],bt),xi!==null&&(a&&xi.alternate!==null&&na.delete(xi.key===null?ha:xi.key),Re=E(xi,Re,ha),Ea===null?Yt=xi:Ea.sibling=xi,Ea=xi);return a&&na.forEach(function(Al){return s(Fe,Al)}),Va&&zr(Fe,ha),Yt}function ua(Fe,Re,Je,bt){if(Je==null)throw Error(g(151));for(var Yt=null,Ea=null,na=Re,ha=Re=0,xi=null,Fa=Je.next();na!==null&&!Fa.done;ha++,Fa=Je.next()){na.index>ha?(xi=na,na=null):xi=na.sibling;var Al=it(Fe,na,Fa.value,bt);if(Al===null){na===null&&(na=xi);break}a&&na&&Al.alternate===null&&s(Fe,na),Re=E(Al,Re,ha),Ea===null?Yt=Al:Ea.sibling=Al,Ea=Al,na=xi}if(Fa.done)return h(Fe,na),Va&&zr(Fe,ha),Yt;if(na===null){for(;!Fa.done;ha++,Fa=Je.next())Fa=wt(Fe,Fa.value,bt),Fa!==null&&(Re=E(Fa,Re,ha),Ea===null?Yt=Fa:Ea.sibling=Fa,Ea=Fa);return Va&&zr(Fe,ha),Yt}for(na=v(na);!Fa.done;ha++,Fa=Je.next())Fa=nt(na,Fe,ha,Fa.value,bt),Fa!==null&&(a&&Fa.alternate!==null&&na.delete(Fa.key===null?ha:Fa.key),Re=E(Fa,Re,ha),Ea===null?Yt=Fa:Ea.sibling=Fa,Ea=Fa);return a&&na.forEach(function(vy){return s(Fe,vy)}),Va&&zr(Fe,ha),Yt}function gi(Fe,Re,Je,bt){if(typeof Je=="object"&&Je!==null&&Je.type===ae&&Je.key===null&&(Je=Je.props.children),typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case Z:e:{for(var Yt=Je.key;Re!==null;){if(Re.key===Yt){if(Yt=Je.type,Yt===ae){if(Re.tag===7){h(Fe,Re.sibling),bt=P(Re,Je.props.children),bt.return=Fe,Fe=bt;break e}}else if(Re.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===Dt&&Xh(Yt)===Re.type){h(Fe,Re.sibling),bt=P(Re,Je.props),Ei(bt,Je),bt.return=Fe,Fe=bt;break e}h(Fe,Re);break}else s(Fe,Re);Re=Re.sibling}Je.type===ae?(bt=io(Je.props.children,Fe.mode,bt,Je.key),bt.return=Fe,Fe=bt):(bt=Vc(Je.type,Je.key,Je.props,null,Fe.mode,bt),Ei(bt,Je),bt.return=Fe,Fe=bt)}return J(Fe);case H:e:{for(Yt=Je.key;Re!==null;){if(Re.key===Yt)if(Re.tag===4&&Re.stateNode.containerInfo===Je.containerInfo&&Re.stateNode.implementation===Je.implementation){h(Fe,Re.sibling),bt=P(Re,Je.children||[]),bt.return=Fe,Fe=bt;break e}else{h(Fe,Re);break}else s(Fe,Re);Re=Re.sibling}bt=kd(Je,Fe.mode,bt),bt.return=Fe,Fe=bt}return J(Fe);case Dt:return Yt=Je._init,Je=Yt(Je._payload),gi(Fe,Re,Je,bt)}if(ca(Je))return oa(Fe,Re,Je,bt);if(sa(Je)){if(Yt=sa(Je),typeof Yt!="function")throw Error(g(150));return Je=Yt.call(Je),ua(Fe,Re,Je,bt)}if(typeof Je.then=="function")return gi(Fe,Re,wn(Je),bt);if(Je.$$typeof===Oe)return gi(Fe,Re,Xo(Fe,Je),bt);Qc(Fe,Je)}return typeof Je=="string"&&Je!==""||typeof Je=="number"||typeof Je=="bigint"?(Je=""+Je,Re!==null&&Re.tag===6?(h(Fe,Re.sibling),bt=P(Re,Je),bt.return=Fe,Fe=bt):(h(Fe,Re),bt=Rd(Je,Fe.mode,bt),bt.return=Fe,Fe=bt),J(Fe)):h(Fe,Re)}return function(Fe,Re,Je,bt){try{$a=0;var Yt=gi(Fe,Re,Je,bt);return di=null,Yt}catch(na){if(na===$c||na===Ss)throw na;var Ea=Hn(29,na,null,Fe.mode);return Ea.lanes=bt,Ea.return=Fe,Ea}finally{}}}var Ao=Ku(!0),yl=Ku(!1),sn=rt(null),vi=null;function On(a){var s=a.alternate;Mt(Hi,Hi.current&1),Mt(sn,a),vi===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(vi=a)}function Ou(a){if(a.tag===22){if(Mt(Hi,Hi.current),Mt(sn,a),vi===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(vi=a)}}else Wn()}function Wn(){Mt(Hi,Hi.current),Mt(sn,sn.current)}function lo(a){ht(sn),vi===a&&(vi=null),ht(Hi)}var Hi=rt(0);function Is(a){for(var s=a;s!==null;){if(s.tag===13){var h=s.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||id(h)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Zh(a,s,h,v){s=a.memoizedState,h=h(v,s),h=h==null?s:q({},s,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var vl={enqueueSetState:function(a,s,h){a=a._reactInternals;var v=Br(),P=To(v);P.payload=s,h!=null&&(P.callback=h),s=Wo(a,P,v),s!==null&&(ho(s,a,v),Ps(s,a,v))},enqueueReplaceState:function(a,s,h){a=a._reactInternals;var v=Br(),P=To(v);P.tag=1,P.payload=s,h!=null&&(P.callback=h),s=Wo(a,P,v),s!==null&&(ho(s,a,v),Ps(s,a,v))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var h=Br(),v=To(h);v.tag=2,s!=null&&(v.callback=s),s=Wo(a,v,h),s!==null&&(ho(s,a,h),Ps(s,a,h))}};function sc(a,s,h,v,P,E,J){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(v,E,J):s.prototype&&s.prototype.isPureReactComponent?!Jl(h,v)||!Jl(P,E):!0}function Qp(a,s,h,v){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(h,v),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(h,v),s.state!==a&&vl.enqueueReplaceState(s,s.state,null)}function eu(a,s){var h=s;if("ref"in s){h={};for(var v in s)v!=="ref"&&(h[v]=s[v])}if(a=a.defaultProps){h===s&&(h=q({},h));for(var P in a)h[P]===void 0&&(h[P]=a[P])}return h}var qu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function ef(a){qu(a)}function Bm(a){console.error(a)}function tf(a){qu(a)}function $h(a,s){try{var h=a.onUncaughtError;h(s.value,{componentStack:s.stack})}catch(v){setTimeout(function(){throw v})}}function Jh(a,s,h){try{var v=a.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function af(a,s,h){return h=To(h),h.tag=3,h.payload={element:null},h.callback=function(){$h(a,s)},h}function Wh(a){return a=To(a),a.tag=3,a}function nf(a,s,h,v){var P=h.type.getDerivedStateFromError;if(typeof P=="function"){var E=v.value;a.payload=function(){return P(E)},a.callback=function(){Jh(s,h,v)}}var J=h.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(a.callback=function(){Jh(s,h,v),typeof P!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var ie=v.stack;this.componentDidCatch(v.value,{componentStack:ie!==null?ie:""})})}function Fm(a,s,h,v,P){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(s=h.alternate,s!==null&&ll(s,h,P,!0),h=sn.current,h!==null){switch(h.tag){case 13:return vi===null?Mf():h.alternate===null&&ln===0&&(ln=3),h.flags&=-257,h.flags|=65536,h.lanes=P,v===Ts?h.flags|=16384:(s=h.updateQueue,s===null?h.updateQueue=new Set([v]):s.add(v),kf(a,v,P)),!1;case 22:return h.flags|=65536,v===Ts?h.flags|=16384:(s=h.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=s):(h=s.retryQueue,h===null?s.retryQueue=new Set([v]):h.add(v)),kf(a,v,P)),!1}throw Error(g(435,h.tag))}return kf(a,v,P),Mf(),!1}if(Va)return s=sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=P,v!==Mu&&(a=Error(g(422),{cause:v}),kr(gr(a,h)))):(v!==Mu&&(s=Error(g(423),{cause:v}),kr(gr(s,h))),a=a.current.alternate,a.flags|=65536,P&=-P,a.lanes|=P,v=gr(v,h),P=af(a.stateNode,v,P),Kd(a,P),ln!==4&&(ln=2)),!1;var E=Error(g(520),{cause:v});if(E=gr(E,h),ah===null?ah=[E]:ah.push(E),ln!==4&&(ln=2),s===null)return!0;v=gr(v,h),h=s;do{switch(h.tag){case 3:return h.flags|=65536,a=P&-P,h.lanes|=a,a=af(h.stateNode,v,a),Kd(h,a),!1;case 1:if(s=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Cl===null||!Cl.has(E))))return h.flags|=65536,P&=-P,h.lanes|=P,P=Wh(P),nf(P,a,h,v),Kd(h,P),!1}h=h.return}while(h!==null);return!1}var tu=Error(g(461)),qn=!1;function fn(a,s,h,v){s.child=a===null?yl(s,null,h,v):Ao(s,a.child,h,v)}function Fd(a,s,h,v,P){h=h.render;var E=s.ref;if("ref"in v){var J={};for(var ie in v)ie!=="ref"&&(J[ie]=v[ie])}else J=v;return xs(s),v=In(a,s,h,J,E,P),ie=Yo(),a!==null&&!qn?(yi(a,s,P),bl(a,s,P)):(Va&&ie&&ol(s),s.flags|=1,fn(a,s,v,P),s.child)}function Vd(a,s,h,v,P){if(a===null){var E=h.type;return typeof E=="function"&&!wa(E)&&E.defaultProps===void 0&&h.compare===null?(s.tag=15,s.type=E,rf(a,s,E,v,P)):(a=Vc(h.type,null,v,s,s.mode,P),a.ref=s.ref,a.return=s,s.child=a)}if(E=a.child,!ap(a,P)){var J=E.memoizedProps;if(h=h.compare,h=h!==null?h:Jl,h(J,v)&&a.ref===s.ref)return bl(a,s,P)}return s.flags|=1,a=Xn(E,v),a.ref=s.ref,a.return=s,s.child=a}function rf(a,s,h,v,P){if(a!==null){var E=a.memoizedProps;if(Jl(E,v)&&a.ref===s.ref)if(qn=!1,s.pendingProps=v=E,ap(a,P))(a.flags&131072)!==0&&(qn=!0);else return s.lanes=a.lanes,bl(a,s,P)}return Qh(a,s,h,v,P)}function of(a,s,h){var v=s.pendingProps,P=v.children,E=a!==null?a.memoizedState:null;if(v.mode==="hidden"){if((s.flags&128)!==0){if(v=E!==null?E.baseLanes|h:h,a!==null){for(P=s.child=a.child,E=0;P!==null;)E=E|P.lanes|P.childLanes,P=P.sibling;s.childLanes=E&~v}else s.childLanes=0,s.child=null;return Vm(a,s,v,h)}if((h&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Iu(s,E!==null?E.cachePool:null),E!==null?Nu(s,E):Do(),Ou(s);else return s.lanes=s.childLanes=536870912,Vm(a,s,E!==null?E.baseLanes|h:h,h)}else E!==null?(Iu(s,E.cachePool),Nu(s,E),Wn(),s.memoizedState=null):(a!==null&&Iu(s,null),Do(),Wn());return fn(a,s,P,h),s.child}function Vm(a,s,h,v){var P=Cs();return P=P===null?null:{parent:on._currentValue,pool:P},s.memoizedState={baseLanes:h,cachePool:P},a!==null&&Iu(s,null),Do(),Ou(s),a!==null&&ll(a,s,v,!0),null}function Yh(a,s){var h=s.ref;if(h===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(g(284));(a===null||a.ref!==h)&&(s.flags|=4194816)}}function Qh(a,s,h,v,P){return xs(s),h=In(a,s,h,v,void 0,P),v=Yo(),a!==null&&!qn?(yi(a,s,P),bl(a,s,P)):(Va&&v&&ol(s),s.flags|=1,fn(a,s,h,P),s.child)}function sf(a,s,h,v,P,E){return xs(s),s.updateQueue=null,h=_n(s,v,h,P),Bd(a),v=Yo(),a!==null&&!qn?(yi(a,s,E),bl(a,s,E)):(Va&&v&&ol(s),s.flags|=1,fn(a,s,h,E),s.child)}function lf(a,s,h,v,P){if(xs(s),s.stateNode===null){var E=ao,J=h.contextType;typeof J=="object"&&J!==null&&(E=Vi(J)),E=new h(v,E),s.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=vl,s.stateNode=E,E._reactInternals=s,E=s.stateNode,E.props=v,E.state=s.memoizedState,E.refs={},Jc(s),J=h.contextType,E.context=typeof J=="object"&&J!==null?Vi(J):ao,E.state=s.memoizedState,J=h.getDerivedStateFromProps,typeof J=="function"&&(Zh(s,h,J,v),E.state=s.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(J=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),J!==E.state&&vl.enqueueReplaceState(E,E.state,null),Ds(s,v,E,P),ul(),E.state=s.memoizedState),typeof E.componentDidMount=="function"&&(s.flags|=4194308),v=!0}else if(a===null){E=s.stateNode;var ie=s.memoizedProps,Ce=eu(h,ie);E.props=Ce;var Qe=E.context,ft=h.contextType;J=ao,typeof ft=="object"&&ft!==null&&(J=Vi(ft));var wt=h.getDerivedStateFromProps;ft=typeof wt=="function"||typeof E.getSnapshotBeforeUpdate=="function",ie=s.pendingProps!==ie,ft||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(ie||Qe!==J)&&Qp(s,E,v,J),wr=!1;var it=s.memoizedState;E.state=it,Ds(s,v,E,P),ul(),Qe=s.memoizedState,ie||it!==Qe||wr?(typeof wt=="function"&&(Zh(s,h,wt,v),Qe=s.memoizedState),(Ce=wr||sc(s,h,Ce,v,it,Qe,J))?(ft||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=v,s.memoizedState=Qe),E.props=v,E.state=Qe,E.context=J,v=Ce):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),v=!1)}else{E=s.stateNode,Ca(a,s),J=s.memoizedProps,ft=eu(h,J),E.props=ft,wt=s.pendingProps,it=E.context,Qe=h.contextType,Ce=ao,typeof Qe=="object"&&Qe!==null&&(Ce=Vi(Qe)),ie=h.getDerivedStateFromProps,(Qe=typeof ie=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(J!==wt||it!==Ce)&&Qp(s,E,v,Ce),wr=!1,it=s.memoizedState,E.state=it,Ds(s,v,E,P),ul();var nt=s.memoizedState;J!==wt||it!==nt||wr||a!==null&&a.dependencies!==null&&Xc(a.dependencies)?(typeof ie=="function"&&(Zh(s,h,ie,v),nt=s.memoizedState),(ft=wr||sc(s,h,ft,v,it,nt,Ce)||a!==null&&a.dependencies!==null&&Xc(a.dependencies))?(Qe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(v,nt,Ce),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(v,nt,Ce)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||J===a.memoizedProps&&it===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||J===a.memoizedProps&&it===a.memoizedState||(s.flags|=1024),s.memoizedProps=v,s.memoizedState=nt),E.props=v,E.state=nt,E.context=Ce,v=ft):(typeof E.componentDidUpdate!="function"||J===a.memoizedProps&&it===a.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||J===a.memoizedProps&&it===a.memoizedState||(s.flags|=1024),v=!1)}return E=v,Yh(a,s),v=(s.flags&128)!==0,E||v?(E=s.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:E.render(),s.flags|=1,a!==null&&v?(s.child=Ao(s,a.child,null,P),s.child=Ao(s,null,h,P)):fn(a,s,h,P),s.memoizedState=E.state,a=s.child):a=bl(a,s,P),a}function Um(a,s,h,v){return ec(),s.flags|=256,fn(a,s,h,v),s.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(a){return{baseLanes:a,cachePool:Zc()}}function Gd(a,s,h){return a=a!==null?a.childLanes&~h:0,s&&(a|=zo),a}function Bu(a,s,h){var v=s.pendingProps,P=!1,E=(s.flags&128)!==0,J;if((J=E)||(J=a!==null&&a.memoizedState===null?!1:(Hi.current&2)!==0),J&&(P=!0,s.flags&=-129),J=(s.flags&32)!==0,s.flags&=-33,a===null){if(Va){if(P?On(s):Wn(),Va){var ie=qi,Ce;if(Ce=ie){e:{for(Ce=ie,ie=Rr;Ce.nodeType!==8;){if(!ie){ie=null;break e}if(Ce=Fr(Ce.nextSibling),Ce===null){ie=null;break e}}ie=Ce}ie!==null?(s.memoizedState={dehydrated:ie,treeContext:wo!==null?{id:no,overflow:vr}:null,retryLane:536870912,hydrationErrors:null},Ce=Hn(18,null,null,0),Ce.stateNode=ie,Ce.return=s,s.child=Ce,Oi=s,qi=null,Ce=!0):Ce=!1}Ce||vs(s)}if(ie=s.memoizedState,ie!==null&&(ie=ie.dehydrated,ie!==null))return id(ie)?s.lanes=32:s.lanes=536870912,null;lo(s)}return ie=v.children,v=v.fallback,P?(Wn(),P=s.mode,ie=Hd({mode:"hidden",children:ie},P),v=io(v,P,h,null),ie.return=s,v.return=s,ie.sibling=v,s.child=ie,P=s.child,P.memoizedState=ep(h),P.childLanes=Gd(a,J,h),s.memoizedState=Ud,v):(On(s),Yn(s,ie))}if(Ce=a.memoizedState,Ce!==null&&(ie=Ce.dehydrated,ie!==null)){if(E)s.flags&256?(On(s),s.flags&=-257,s=Xd(a,s,h)):s.memoizedState!==null?(Wn(),s.child=a.child,s.flags|=128,s=null):(Wn(),P=v.fallback,ie=s.mode,v=Hd({mode:"visible",children:v.children},ie),P=io(P,ie,h,null),P.flags|=2,v.return=s,P.return=s,v.sibling=P,s.child=v,Ao(s,a.child,null,h),v=s.child,v.memoizedState=ep(h),v.childLanes=Gd(a,J,h),s.memoizedState=Ud,s=P);else if(On(s),id(ie)){if(J=ie.nextSibling&&ie.nextSibling.dataset,J)var Qe=J.dgst;J=Qe,v=Error(g(419)),v.stack="",v.digest=J,kr({value:v,source:null,stack:null}),s=Xd(a,s,h)}else if(qn||ll(a,s,h,!1),J=(h&a.childLanes)!==0,qn||J){if(J=ni,J!==null&&(v=h&-h,v=(v&42)!==0?1:Et(v),v=(v&(J.suspendedLanes|h))!==0?0:v,v!==0&&v!==Ce.retryLane))throw Ce.retryLane=v,to(a,v),ho(J,a,v),tu;ie.data==="$?"||Mf(),s=Xd(a,s,h)}else ie.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=Ce.treeContext,qi=Fr(ie.nextSibling),Oi=s,Va=!0,Co=null,Rr=!1,a!==null&&(Zn[jn++]=no,Zn[jn++]=vr,Zn[jn++]=wo,no=a.id,vr=a.overflow,wo=s),s=Yn(s,v.children),s.flags|=4096);return s}return P?(Wn(),P=v.fallback,ie=s.mode,Ce=a.child,Qe=Ce.sibling,v=Xn(Ce,{mode:"hidden",children:v.children}),v.subtreeFlags=Ce.subtreeFlags&65011712,Qe!==null?P=Xn(Qe,P):(P=io(P,ie,h,null),P.flags|=2),P.return=s,v.return=s,v.sibling=P,s.child=v,v=P,P=s.child,ie=a.child.memoizedState,ie===null?ie=ep(h):(Ce=ie.cachePool,Ce!==null?(Qe=on._currentValue,Ce=Ce.parent!==Qe?{parent:Qe,pool:Qe}:Ce):Ce=Zc(),ie={baseLanes:ie.baseLanes|h,cachePool:Ce}),P.memoizedState=ie,P.childLanes=Gd(a,J,h),s.memoizedState=Ud,v):(On(s),h=a.child,a=h.sibling,h=Xn(h,{mode:"visible",children:v.children}),h.return=s,h.sibling=null,a!==null&&(J=s.deletions,J===null?(s.deletions=[a],s.flags|=16):J.push(a)),s.child=h,s.memoizedState=null,h)}function Yn(a,s){return s=Hd({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Hd(a,s){return a=Hn(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Xd(a,s,h){return Ao(s,a.child,null,h),a=Yn(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Gm(a,s,h){a.lanes|=s;var v=a.alternate;v!==null&&(v.lanes|=s),Hc(a.return,s,h)}function tp(a,s,h,v,P){var E=a.memoizedState;E===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:P}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=h,E.tailMode=P)}function Hm(a,s,h){var v=s.pendingProps,P=v.revealOrder,E=v.tail;if(fn(a,s,v.children,h),v=Hi.current,(v&2)!==0)v=v&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Gm(a,h,s);else if(a.tag===19)Gm(a,h,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}v&=1}switch(Mt(Hi,v),P){case"forwards":for(h=s.child,P=null;h!==null;)a=h.alternate,a!==null&&Is(a)===null&&(P=h),h=h.sibling;h=P,h===null?(P=s.child,s.child=null):(P=h.sibling,h.sibling=null),tp(s,!1,P,h,E);break;case"backwards":for(h=null,P=s.child,s.child=null;P!==null;){if(a=P.alternate,a!==null&&Is(a)===null){s.child=P;break}a=P.sibling,P.sibling=h,h=P,P=a}tp(s,!0,h,null,E);break;case"together":tp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function bl(a,s,h){if(a!==null&&(s.dependencies=a.dependencies),dc|=s.lanes,(h&s.childLanes)===0)if(a!==null){if(ll(a,s,h,!1),(h&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(g(153));if(s.child!==null){for(a=s.child,h=Xn(a,a.pendingProps),s.child=h,h.return=s;a.sibling!==null;)a=a.sibling,h=h.sibling=Xn(a,a.pendingProps),h.return=s;h.sibling=null}return s.child}function ap(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Xc(a)))}function ly(a,s,h){switch(s.tag){case 3:Ja(s,s.stateNode.containerInfo),xr(s,on,a.memoizedState.cache),ec();break;case 27:case 5:Ai(s);break;case 4:Ja(s,s.stateNode.containerInfo);break;case 10:xr(s,s.type,s.memoizedProps.value);break;case 13:var v=s.memoizedState;if(v!==null)return v.dehydrated!==null?(On(s),s.flags|=128,null):(h&s.child.childLanes)!==0?Bu(a,s,h):(On(s),a=bl(a,s,h),a!==null?a.sibling:null);On(s);break;case 19:var P=(a.flags&128)!==0;if(v=(h&s.childLanes)!==0,v||(ll(a,s,h,!1),v=(h&s.childLanes)!==0),P){if(v)return Hm(a,s,h);s.flags|=128}if(P=s.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Mt(Hi,Hi.current),v)break;return null;case 22:case 23:return s.lanes=0,of(a,s,h);case 24:xr(s,on,a.memoizedState.cache)}return bl(a,s,h)}function ip(a,s,h){if(a!==null)if(a.memoizedProps!==s.pendingProps)qn=!0;else{if(!ap(a,h)&&(s.flags&128)===0)return qn=!1,ly(a,s,h);qn=(a.flags&131072)!==0}else qn=!1,Va&&(s.flags&1048576)!==0&&rl(s,nl,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var v=s.elementType,P=v._init;if(v=P(v._payload),s.type=v,typeof v=="function")wa(v)?(a=eu(v,a),s.tag=1,s=lf(null,s,v,a,h)):(s.tag=0,s=Qh(null,s,v,a,h));else{if(v!=null){if(P=v.$$typeof,P===ot){s.tag=11,s=Fd(null,s,v,a,h);break e}else if(P===_t){s.tag=14,s=Vd(null,s,v,a,h);break e}}throw s=ea(v)||v,Error(g(306,s,""))}}return s;case 0:return Qh(a,s,s.type,s.pendingProps,h);case 1:return v=s.type,P=eu(v,s.pendingProps),lf(a,s,v,P,h);case 3:e:{if(Ja(s,s.stateNode.containerInfo),a===null)throw Error(g(387));v=s.pendingProps;var E=s.memoizedState;P=E.element,Ca(a,s),Ds(s,v,null,h);var J=s.memoizedState;if(v=J.cache,xr(s,on,v),v!==E.cache&&sl(s,[on],h,!0),ul(),v=J.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:J.cache},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){s=Um(a,s,v,h);break e}else if(v!==P){P=gr(Error(g(424)),s),kr(P),s=Um(a,s,v,h);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(qi=Fr(a.firstChild),Oi=s,Va=!0,Co=null,Rr=!0,h=yl(s,null,v,h),s.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ec(),v===P){s=bl(a,s,h);break e}fn(a,s,v,h)}s=s.child}return s;case 26:return Yh(a,s),a===null?(h=im(s.type,null,s.pendingProps,null))?s.memoizedState=h:Va||(h=s.type,a=s.pendingProps,v=ph(aa.current).createElement(h),v[dt]=s,v[yt]=a,pi(v,h,a),Bt(v),s.stateNode=v):s.memoizedState=im(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ai(s),a===null&&Va&&(v=s.stateNode=yg(s.type,s.pendingProps,aa.current),Oi=s,Rr=!0,P=qi,mc(s.type)?(Wf=P,qi=Fr(v.firstChild)):qi=P),fn(a,s,s.pendingProps.children,h),Yh(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Va&&((P=v=qi)&&(v=Sp(v,s.type,s.pendingProps,Rr),v!==null?(s.stateNode=v,Oi=s,qi=Fr(v.firstChild),Rr=!1,P=!0):P=!1),P||vs(s)),Ai(s),P=s.type,E=s.pendingProps,J=a!==null?a.memoizedProps:null,v=E.children,Xf(P,E)?v=null:J!==null&&Xf(P,J)&&(s.flags|=32),s.memoizedState!==null&&(P=In(a,s,Hh,null,null,h),re._currentValue=P),Yh(a,s),fn(a,s,v,h),s.child;case 6:return a===null&&Va&&((a=h=qi)&&(h=mg(h,s.pendingProps,Rr),h!==null?(s.stateNode=h,Oi=s,qi=null,a=!0):a=!1),a||vs(s)),null;case 13:return Bu(a,s,h);case 4:return Ja(s,s.stateNode.containerInfo),v=s.pendingProps,a===null?s.child=Ao(s,null,v,h):fn(a,s,v,h),s.child;case 11:return Fd(a,s,s.type,s.pendingProps,h);case 7:return fn(a,s,s.pendingProps,h),s.child;case 8:return fn(a,s,s.pendingProps.children,h),s.child;case 12:return fn(a,s,s.pendingProps.children,h),s.child;case 10:return v=s.pendingProps,xr(s,s.type,v.value),fn(a,s,v.children,h),s.child;case 9:return P=s.type._context,v=s.pendingProps.children,xs(s),P=Vi(P),v=v(P),s.flags|=1,fn(a,s,v,h),s.child;case 14:return Vd(a,s,s.type,s.pendingProps,h);case 15:return rf(a,s,s.type,s.pendingProps,h);case 19:return Hm(a,s,h);case 31:return v=s.pendingProps,h=s.mode,v={mode:v.mode,children:v.children},a===null?(h=Hd(v,h),h.ref=s.ref,s.child=h,h.return=s,s=h):(h=Xn(a.child,v),h.ref=s.ref,s.child=h,h.return=s,s=h),s;case 22:return of(a,s,h);case 24:return xs(s),v=Vi(on),a===null?(P=Cs(),P===null&&(P=ni,E=_s(),P.pooledCache=E,E.refCount++,E!==null&&(P.pooledCacheLanes|=h),P=E),s.memoizedState={parent:v,cache:P},Jc(s),xr(s,on,P)):((a.lanes&h)!==0&&(Ca(a,s),Ds(s,null,null,h),ul()),P=a.memoizedState,E=s.memoizedState,P.parent!==v?(P={parent:v,cache:v},s.memoizedState=P,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=P),xr(s,on,v)):(v=E.cache,xr(s,on,v),v!==P.cache&&sl(s,[on],h,!0))),fn(a,s,s.pendingProps.children,h),s.child;case 29:throw s.pendingProps}throw Error(g(156,s.tag))}function Ls(a){a.flags|=4}function cf(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!T(s)){if(s=sn.current,s!==null&&((Oa&4194048)===Oa?vi!==null:(Oa&62914560)!==Oa&&(Oa&536870912)===0||s!==vi))throw Jo=Ts,Lu;a.flags|=8192}}function np(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?ze():536870912,a.lanes|=s,Xu|=s)}function Zd(a,s){if(!Va)switch(a.tailMode){case"hidden":s=a.tail;for(var h=null;s!==null;)s.alternate!==null&&(h=s),s=s.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:v.sibling=null}}function Xi(a){var s=a.alternate!==null&&a.alternate.child===a.child,h=0,v=0;if(s)for(var P=a.child;P!==null;)h|=P.lanes|P.childLanes,v|=P.subtreeFlags&65011712,v|=P.flags&65011712,P.return=a,P=P.sibling;else for(P=a.child;P!==null;)h|=P.lanes|P.childLanes,v|=P.subtreeFlags,v|=P.flags,P.return=a,P=P.sibling;return a.subtreeFlags|=v,a.childLanes=h,s}function uf(a,s,h){var v=s.pendingProps;switch(Uc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xi(s),null;case 1:return Xi(s),null;case 3:return h=s.stateNode,v=null,a!==null&&(v=a.memoizedState.cache),s.memoizedState.cache!==v&&(s.flags|=2048),sr(on),Qa(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(bs(s)?Ls(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pi())),Xi(s),null;case 26:return h=s.memoizedState,a===null?(Ls(s),h!==null?(Xi(s),cf(s,h)):(Xi(s),s.flags&=-16777217)):h?h!==a.memoizedState?(Ls(s),Xi(s),cf(s,h)):(Xi(s),s.flags&=-16777217):(a.memoizedProps!==v&&Ls(s),Xi(s),s.flags&=-16777217),null;case 27:Ii(s),h=aa.current;var P=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==v&&Ls(s);else{if(!v){if(s.stateNode===null)throw Error(g(166));return Xi(s),null}a=Ft.current,bs(s)?Ql(s):(a=yg(P,v,h),s.stateNode=a,Ls(s))}return Xi(s),null;case 5:if(Ii(s),h=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==v&&Ls(s);else{if(!v){if(s.stateNode===null)throw Error(g(166));return Xi(s),null}if(a=Ft.current,bs(s))Ql(s);else{switch(P=ph(aa.current),a){case 1:a=P.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:a=P.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":a=P.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":a=P.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":a=P.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof v.is=="string"?P.createElement("select",{is:v.is}):P.createElement("select"),v.multiple?a.multiple=!0:v.size&&(a.size=v.size);break;default:a=typeof v.is=="string"?P.createElement(h,{is:v.is}):P.createElement(h)}}a[dt]=s,a[yt]=v;e:for(P=s.child;P!==null;){if(P.tag===5||P.tag===6)a.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===s)break e;for(;P.sibling===null;){if(P.return===null||P.return===s)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}s.stateNode=a;e:switch(pi(a,h,v),h){case"button":case"input":case"select":case"textarea":a=!!v.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ls(s)}}return Xi(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==v&&Ls(s);else{if(typeof v!="string"&&s.stateNode===null)throw Error(g(166));if(a=aa.current,bs(s)){if(a=s.stateNode,h=s.memoizedProps,v=null,P=Oi,P!==null)switch(P.tag){case 27:case 5:v=P.memoizedProps}a[dt]=s,a=!!(a.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||td(a.nodeValue,h)),a||vs(s)}else a=ph(a).createTextNode(v),a[dt]=s,s.stateNode=a}return Xi(s),null;case 13:if(v=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(P=bs(s),v!==null&&v.dehydrated!==null){if(a===null){if(!P)throw Error(g(318));if(P=s.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(g(317));P[dt]=s}else ec(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xi(s),P=!1}else P=Pi(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=P),P=!0;if(!P)return s.flags&256?(lo(s),s):(lo(s),null)}if(lo(s),(s.flags&128)!==0)return s.lanes=h,s;if(h=v!==null,a=a!==null&&a.memoizedState!==null,h){v=s.child,P=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(P=v.alternate.memoizedState.cachePool.pool);var E=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(E=v.memoizedState.cachePool.pool),E!==P&&(v.flags|=2048)}return h!==a&&h&&(s.child.flags|=8192),np(s,s.updateQueue),Xi(s),null;case 4:return Qa(),a===null&&Bf(s.stateNode.containerInfo),Xi(s),null;case 10:return sr(s.type),Xi(s),null;case 19:if(ht(Hi),P=s.memoizedState,P===null)return Xi(s),null;if(v=(s.flags&128)!==0,E=P.rendering,E===null)if(v)Zd(P,!1);else{if(ln!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(E=Is(a),E!==null){for(s.flags|=128,Zd(P,!1),a=E.updateQueue,s.updateQueue=a,np(s,a),s.subtreeFlags=0,a=h,h=s.child;h!==null;)zd(h,a),h=h.sibling;return Mt(Hi,Hi.current&1|2),s.child}a=a.sibling}P.tail!==null&&Wa()>ih&&(s.flags|=128,v=!0,Zd(P,!1),s.lanes=4194304)}else{if(!v)if(a=Is(E),a!==null){if(s.flags|=128,v=!0,a=a.updateQueue,s.updateQueue=a,np(s,a),Zd(P,!0),P.tail===null&&P.tailMode==="hidden"&&!E.alternate&&!Va)return Xi(s),null}else 2*Wa()-P.renderingStartTime>ih&&h!==536870912&&(s.flags|=128,v=!0,Zd(P,!1),s.lanes=4194304);P.isBackwards?(E.sibling=s.child,s.child=E):(a=P.last,a!==null?a.sibling=E:s.child=E,P.last=E)}return P.tail!==null?(s=P.tail,P.rendering=s,P.tail=s.sibling,P.renderingStartTime=Wa(),s.sibling=null,a=Hi.current,Mt(Hi,v?a&1|2:a&1),s):(Xi(s),null);case 22:case 23:return lo(s),ci(),v=s.memoizedState!==null,a!==null?a.memoizedState!==null!==v&&(s.flags|=8192):v&&(s.flags|=8192),v?(h&536870912)!==0&&(s.flags&128)===0&&(Xi(s),s.subtreeFlags&6&&(s.flags|=8192)):Xi(s),h=s.updateQueue,h!==null&&np(s,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),v=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(v=s.memoizedState.cachePool.pool),v!==h&&(s.flags|=2048),a!==null&&ht(Ui),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),sr(on),Xi(s),null;case 25:return null;case 30:return null}throw Error(g(156,s.tag))}function df(a,s){switch(Uc(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return sr(on),Qa(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ii(s),null;case 13:if(lo(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(g(340));ec()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return ht(Hi),null;case 4:return Qa(),null;case 10:return sr(s.type),null;case 22:case 23:return lo(s),ci(),a!==null&&ht(Ui),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return sr(on),null;case 25:return null;default:return null}}function hf(a,s){switch(Uc(s),s.tag){case 3:sr(on),Qa();break;case 26:case 27:case 5:Ii(s);break;case 4:Qa();break;case 13:lo(s);break;case 19:ht(Hi);break;case 10:sr(s.type);break;case 22:case 23:lo(s),ci(),a!==null&&ht(Ui);break;case 24:sr(on)}}function as(a,s){try{var h=s.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var P=v.next;h=P;do{if((h.tag&a)===a){v=void 0;var E=h.create,J=h.inst;v=E(),J.destroy=v}h=h.next}while(h!==P)}}catch(ie){hi(s,s.return,ie)}}function Io(a,s,h){try{var v=s.updateQueue,P=v!==null?v.lastEffect:null;if(P!==null){var E=P.next;v=E;do{if((v.tag&a)===a){var J=v.inst,ie=J.destroy;if(ie!==void 0){J.destroy=void 0,P=s;var Ce=h,Qe=ie;try{Qe()}catch(ft){hi(P,Ce,ft)}}}v=v.next}while(v!==E)}}catch(ft){hi(s,s.return,ft)}}function Xm(a){var s=a.updateQueue;if(s!==null){var h=a.stateNode;try{qd(s,h)}catch(v){hi(a,a.return,v)}}}function Zm(a,s,h){h.props=eu(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(v){hi(a,s,v)}}function $d(a,s){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var v=a.stateNode;break;case 30:v=a.stateNode;break;default:v=a.stateNode}typeof h=="function"?a.refCleanup=h(v):h.current=v}}catch(P){hi(a,s,P)}}function Es(a,s){var h=a.ref,v=a.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(P){hi(a,s,P)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(P){hi(a,s,P)}else h.current=null}function $m(a){var s=a.type,h=a.memoizedProps,v=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(P){hi(a,a.return,P)}}function pf(a,s,h){try{var v=a.stateNode;ad(v,a.type,h,s),v[yt]=s}catch(P){hi(a,a.return,P)}}function Jm(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&mc(a.type)||a.tag===4}function Jd(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Jm(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&mc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ff(a,s,h){var v=a.tag;if(v===5||v===6)a=a.stateNode,s?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,s):(s=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,s.appendChild(a),h=h._reactRootContainer,h!=null||s.onclick!==null||(s.onclick=hh));else if(v!==4&&(v===27&&mc(a.type)&&(h=a.stateNode,s=null),a=a.child,a!==null))for(ff(a,s,h),a=a.sibling;a!==null;)ff(a,s,h),a=a.sibling}function Wd(a,s,h){var v=a.tag;if(v===5||v===6)a=a.stateNode,s?h.insertBefore(a,s):h.appendChild(a);else if(v!==4&&(v===27&&mc(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Wd(a,s,h),a=a.sibling;a!==null;)Wd(a,s,h),a=a.sibling}function Fu(a){var s=a.stateNode,h=a.memoizedProps;try{for(var v=a.type,P=s.attributes;P.length;)s.removeAttributeNode(P[0]);pi(s,v,h),s[dt]=a,s[yt]=h}catch(E){hi(a,a.return,E)}}var xl=!1,Da=!1,lc=!1,mf=typeof WeakSet=="function"?WeakSet:Set,mn=null;function rp(a,s){if(a=a.containerInfo,Ml=pt,a=qc(a),eo(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var P=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var J=0,ie=-1,Ce=-1,Qe=0,ft=0,wt=a,it=null;t:for(;;){for(var nt;wt!==h||P!==0&&wt.nodeType!==3||(ie=J+P),wt!==E||v!==0&&wt.nodeType!==3||(Ce=J+v),wt.nodeType===3&&(J+=wt.nodeValue.length),(nt=wt.firstChild)!==null;)it=wt,wt=nt;for(;;){if(wt===a)break t;if(it===h&&++Qe===P&&(ie=J),it===E&&++ft===v&&(Ce=J),(nt=wt.nextSibling)!==null)break;wt=it,it=wt.parentNode}wt=nt}h=ie===-1||Ce===-1?null:{start:ie,end:Ce}}else h=null}h=h||{start:0,end:0}}else h=null;for(_p={focusedElem:a,selectionRange:h},pt=!1,mn=s;mn!==null;)if(s=mn,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,mn=a;else for(;mn!==null;){switch(s=mn,E=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&E!==null){a=void 0,h=s,P=E.memoizedProps,E=E.memoizedState,v=h.stateNode;try{var oa=eu(h.type,P,h.elementType===h.type);a=v.getSnapshotBeforeUpdate(oa,E),v.__reactInternalSnapshotBeforeUpdate=a}catch(ua){hi(h,h.return,ua)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,h=a.nodeType,h===9)Cp(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Cp(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(g(163))}if(a=s.sibling,a!==null){a.return=s.return,mn=a;break}mn=s.return}}function Vu(a,s,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Eo(a,h),v&4&&as(5,h);break;case 1:if(Eo(a,h),v&4)if(a=h.stateNode,s===null)try{a.componentDidMount()}catch(J){hi(h,h.return,J)}else{var P=eu(h.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(P,s,a.__reactInternalSnapshotBeforeUpdate)}catch(J){hi(h,h.return,J)}}v&64&&Xm(h),v&512&&$d(h,h.return);break;case 3:if(Eo(a,h),v&64&&(a=h.updateQueue,a!==null)){if(s=null,h.child!==null)switch(h.child.tag){case 27:case 5:s=h.child.stateNode;break;case 1:s=h.child.stateNode}try{qd(a,s)}catch(J){hi(h,h.return,J)}}break;case 27:s===null&&v&4&&Fu(h);case 26:case 5:Eo(a,h),s===null&&v&4&&$m(h),v&512&&$d(h,h.return);break;case 12:Eo(a,h);break;case 13:Eo(a,h),v&4&&Yd(a,h),v&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=uy.bind(null,h),Tp(a,h))));break;case 22:if(v=h.memoizedState!==null||xl,!v){s=s!==null&&s.memoizedState!==null||Da,P=xl;var E=Da;xl=v,(Da=s)&&!E?wl(a,h,(h.subtreeFlags&8772)!==0):Eo(a,h),xl=P,Da=E}break;case 30:break;default:Eo(a,h)}}function gf(a){var s=a.alternate;s!==null&&(a.alternate=null,gf(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Ut(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var zi=null,Bn=!1;function is(a,s,h){for(h=h.child;h!==null;)au(a,s,h),h=h.sibling}function au(a,s,h){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(ji,h)}catch{}switch(h.tag){case 26:Da||Es(h,s),is(a,s,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Da||Es(h,s);var v=zi,P=Bn;mc(h.type)&&(zi=h.stateNode,Bn=!1),is(a,s,h),js(h.stateNode),zi=v,Bn=P;break;case 5:Da||Es(h,s);case 6:if(v=zi,P=Bn,zi=null,is(a,s,h),zi=v,Bn=P,zi!==null)if(Bn)try{(zi.nodeType===9?zi.body:zi.nodeName==="HTML"?zi.ownerDocument.body:zi).removeChild(h.stateNode)}catch(E){hi(h,s,E)}else try{zi.removeChild(h.stateNode)}catch(E){hi(h,s,E)}break;case 18:zi!==null&&(Bn?(a=zi,Jf(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Ni(a)):Jf(zi,h.stateNode));break;case 4:v=zi,P=Bn,zi=h.stateNode.containerInfo,Bn=!0,is(a,s,h),zi=v,Bn=P;break;case 0:case 11:case 14:case 15:Da||Io(2,h,s),Da||Io(4,h,s),is(a,s,h);break;case 1:Da||(Es(h,s),v=h.stateNode,typeof v.componentWillUnmount=="function"&&Zm(h,s,v)),is(a,s,h);break;case 21:is(a,s,h);break;case 22:Da=(v=Da)||h.memoizedState!==null,is(a,s,h),Da=v;break;default:is(a,s,h)}}function Yd(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ni(a)}catch(h){hi(s,s.return,h)}}function Uu(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new mf),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new mf),s;default:throw Error(g(435,a.tag))}}function iu(a,s){var h=Uu(a);s.forEach(function(v){var P=dy.bind(null,a,v);h.has(v)||(h.add(v),v.then(P,P))})}function co(a,s){var h=s.deletions;if(h!==null)for(var v=0;v<h.length;v++){var P=h[v],E=a,J=s,ie=J;e:for(;ie!==null;){switch(ie.tag){case 27:if(mc(ie.type)){zi=ie.stateNode,Bn=!1;break e}break;case 5:zi=ie.stateNode,Bn=!1;break e;case 3:case 4:zi=ie.stateNode.containerInfo,Bn=!0;break e}ie=ie.return}if(zi===null)throw Error(g(160));au(E,J,P),zi=null,Bn=!1,E=P.alternate,E!==null&&(E.return=null),P.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)cc(s,a),s=s.sibling}var Lo=null;function cc(a,s){var h=a.alternate,v=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:co(s,a),uo(a),v&4&&(Io(3,a,a.return),as(3,a),Io(5,a,a.return));break;case 1:co(s,a),uo(a),v&512&&(Da||h===null||Es(h,h.return)),v&64&&xl&&(a=a.updateQueue,a!==null&&(v=a.callbacks,v!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var P=Lo;if(co(s,a),uo(a),v&512&&(Da||h===null||Es(h,h.return)),v&4){var E=h!==null?h.memoizedState:null;if(v=a.memoizedState,h===null)if(v===null)if(a.stateNode===null){e:{v=a.type,h=a.memoizedProps,P=P.ownerDocument||P;t:switch(v){case"title":E=P.getElementsByTagName("title")[0],(!E||E[Zt]||E[dt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=P.createElement(v),P.head.insertBefore(E,P.querySelector("head > title"))),pi(E,v,h),E[dt]=a,Bt(E),v=E;break e;case"link":var J=m("link","href",P).get(v+(h.href||""));if(J){for(var ie=0;ie<J.length;ie++)if(E=J[ie],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){J.splice(ie,1);break t}}E=P.createElement(v),pi(E,v,h),P.head.appendChild(E);break;case"meta":if(J=m("meta","content",P).get(v+(h.content||""))){for(ie=0;ie<J.length;ie++)if(E=J[ie],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){J.splice(ie,1);break t}}E=P.createElement(v),pi(E,v,h),P.head.appendChild(E);break;default:throw Error(g(468,v))}E[dt]=a,Bt(E),v=E}a.stateNode=v}else x(P,a.type,a.stateNode);else a.stateNode=xg(P,v,a.memoizedProps);else E!==v?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,v===null?x(P,a.type,a.stateNode):xg(P,v,a.memoizedProps)):v===null&&a.stateNode!==null&&pf(a,a.memoizedProps,h.memoizedProps)}break;case 27:co(s,a),uo(a),v&512&&(Da||h===null||Es(h,h.return)),h!==null&&v&4&&pf(a,a.memoizedProps,h.memoizedProps);break;case 5:if(co(s,a),uo(a),v&512&&(Da||h===null||Es(h,h.return)),a.flags&32){P=a.stateNode;try{Bo(P,"")}catch(nt){hi(a,a.return,nt)}}v&4&&a.stateNode!=null&&(P=a.memoizedProps,pf(a,P,h!==null?h.memoizedProps:P)),v&1024&&(lc=!0);break;case 6:if(co(s,a),uo(a),v&4){if(a.stateNode===null)throw Error(g(162));v=a.memoizedProps,h=a.stateNode;try{h.nodeValue=v}catch(nt){hi(a,a.return,nt)}}break;case 3:if(u=null,P=Lo,Lo=fh(s.containerInfo),co(s,a),Lo=P,uo(a),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Ni(s.containerInfo)}catch(nt){hi(a,a.return,nt)}lc&&(lc=!1,yf(a));break;case 4:v=Lo,Lo=fh(a.stateNode.containerInfo),co(s,a),uo(a),Lo=v;break;case 12:co(s,a),uo(a);break;case 13:co(s,a),uo(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(wf=Wa()),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,iu(a,v)));break;case 22:P=a.memoizedState!==null;var Ce=h!==null&&h.memoizedState!==null,Qe=xl,ft=Da;if(xl=Qe||P,Da=ft||Ce,co(s,a),Da=ft,xl=Qe,uo(a),v&8192)e:for(s=a.stateNode,s._visibility=P?s._visibility&-2:s._visibility|1,P&&(h===null||Ce||xl||Da||_l(a)),h=null,s=a;;){if(s.tag===5||s.tag===26){if(h===null){Ce=h=s;try{if(E=Ce.stateNode,P)J=E.style,typeof J.setProperty=="function"?J.setProperty("display","none","important"):J.display="none";else{ie=Ce.stateNode;var wt=Ce.memoizedProps.style,it=wt!=null&&wt.hasOwnProperty("display")?wt.display:null;ie.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(nt){hi(Ce,Ce.return,nt)}}}else if(s.tag===6){if(h===null){Ce=s;try{Ce.stateNode.nodeValue=P?"":Ce.memoizedProps}catch(nt){hi(Ce,Ce.return,nt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}v&4&&(v=a.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,iu(a,h))));break;case 19:co(s,a),uo(a),v&4&&(v=a.updateQueue,v!==null&&(a.updateQueue=null,iu(a,v)));break;case 30:break;case 21:break;default:co(s,a),uo(a)}}function uo(a){var s=a.flags;if(s&2){try{for(var h,v=a.return;v!==null;){if(Jm(v)){h=v;break}v=v.return}if(h==null)throw Error(g(160));switch(h.tag){case 27:var P=h.stateNode,E=Jd(a);Wd(a,E,P);break;case 5:var J=h.stateNode;h.flags&32&&(Bo(J,""),h.flags&=-33);var ie=Jd(a);Wd(a,ie,J);break;case 3:case 4:var Ce=h.stateNode.containerInfo,Qe=Jd(a);ff(a,Qe,Ce);break;default:throw Error(g(161))}}catch(ft){hi(a,a.return,ft)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function yf(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;yf(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Eo(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vu(a,s.alternate,s),s=s.sibling}function _l(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Io(4,s,s.return),_l(s);break;case 1:Es(s,s.return);var h=s.stateNode;typeof h.componentWillUnmount=="function"&&Zm(s,s.return,h),_l(s);break;case 27:js(s.stateNode);case 26:case 5:Es(s,s.return),_l(s);break;case 22:s.memoizedState===null&&_l(s);break;case 30:_l(s);break;default:_l(s)}a=a.sibling}}function wl(a,s,h){for(h=h&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var v=s.alternate,P=a,E=s,J=E.flags;switch(E.tag){case 0:case 11:case 15:wl(P,E,h),as(4,E);break;case 1:if(wl(P,E,h),v=E,P=v.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(Qe){hi(v,v.return,Qe)}if(v=E,P=v.updateQueue,P!==null){var ie=v.stateNode;try{var Ce=P.shared.hiddenCallbacks;if(Ce!==null)for(P.shared.hiddenCallbacks=null,P=0;P<Ce.length;P++)Ru(Ce[P],ie)}catch(Qe){hi(v,v.return,Qe)}}h&&J&64&&Xm(E),$d(E,E.return);break;case 27:Fu(E);case 26:case 5:wl(P,E,h),h&&v===null&&J&4&&$m(E),$d(E,E.return);break;case 12:wl(P,E,h);break;case 13:wl(P,E,h),h&&J&4&&Yd(P,E);break;case 22:E.memoizedState===null&&wl(P,E,h),$d(E,E.return);break;case 30:break;default:wl(P,E,h)}s=s.sibling}}function op(a,s){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&cl(h))}function vf(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&cl(a))}function zs(a,s,h,v){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Wm(a,s,h,v),s=s.sibling}function Wm(a,s,h,v){var P=s.flags;switch(s.tag){case 0:case 11:case 15:zs(a,s,h,v),P&2048&&as(9,s);break;case 1:zs(a,s,h,v);break;case 3:zs(a,s,h,v),P&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&cl(a)));break;case 12:if(P&2048){zs(a,s,h,v),a=s.stateNode;try{var E=s.memoizedProps,J=E.id,ie=E.onPostCommit;typeof ie=="function"&&ie(J,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Ce){hi(s,s.return,Ce)}}else zs(a,s,h,v);break;case 13:zs(a,s,h,v);break;case 23:break;case 22:E=s.stateNode,J=s.alternate,s.memoizedState!==null?E._visibility&2?zs(a,s,h,v):Qd(a,s):E._visibility&2?zs(a,s,h,v):(E._visibility|=2,Gu(a,s,h,v,(s.subtreeFlags&10256)!==0)),P&2048&&op(J,s);break;case 24:zs(a,s,h,v),P&2048&&vf(s.alternate,s);break;default:zs(a,s,h,v)}}function Gu(a,s,h,v,P){for(P=P&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var E=a,J=s,ie=h,Ce=v,Qe=J.flags;switch(J.tag){case 0:case 11:case 15:Gu(E,J,ie,Ce,P),as(8,J);break;case 23:break;case 22:var ft=J.stateNode;J.memoizedState!==null?ft._visibility&2?Gu(E,J,ie,Ce,P):Qd(E,J):(ft._visibility|=2,Gu(E,J,ie,Ce,P)),P&&Qe&2048&&op(J.alternate,J);break;case 24:Gu(E,J,ie,Ce,P),P&&Qe&2048&&vf(J.alternate,J);break;default:Gu(E,J,ie,Ce,P)}s=s.sibling}}function Qd(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var h=a,v=s,P=v.flags;switch(v.tag){case 22:Qd(h,v),P&2048&&op(v.alternate,v);break;case 24:Qd(h,v),P&2048&&vf(v.alternate,v);break;default:Qd(h,v)}s=s.sibling}}var nu=8192;function ru(a){if(a.subtreeFlags&nu)for(a=a.child;a!==null;)sp(a),a=a.sibling}function sp(a){switch(a.tag){case 26:ru(a),a.flags&nu&&a.memoizedState!==null&&j(Lo,a.memoizedState,a.memoizedProps);break;case 5:ru(a);break;case 3:case 4:var s=Lo;Lo=fh(a.stateNode.containerInfo),ru(a),Lo=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=nu,nu=16777216,ru(a),nu=s):ru(a));break;default:ru(a)}}function bf(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function ou(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var v=s[h];mn=v,th(v,a)}bf(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xf(a),a=a.sibling}function xf(a){switch(a.tag){case 0:case 11:case 15:ou(a),a.flags&2048&&Io(9,a,a.return);break;case 3:ou(a);break;case 12:ou(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,eh(a)):ou(a);break;default:ou(a)}}function eh(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var h=0;h<s.length;h++){var v=s[h];mn=v,th(v,a)}bf(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Io(8,s,s.return),eh(s);break;case 22:h=s.stateNode,h._visibility&2&&(h._visibility&=-3,eh(s));break;default:eh(s)}a=a.sibling}}function th(a,s){for(;mn!==null;){var h=mn;switch(h.tag){case 0:case 11:case 15:Io(8,h,s);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:cl(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,mn=v;else e:for(h=a;mn!==null;){v=mn;var P=v.sibling,E=v.return;if(gf(v),v===h){mn=null;break e}if(P!==null){P.return=E,mn=P;break e}mn=E}}}var Ym={getCacheForType:function(a){var s=Vi(on),h=s.data.get(a);return h===void 0&&(h=a(),s.data.set(a,h)),h}},Qm=typeof WeakMap=="function"?WeakMap:Map,ii=0,ni=null,ka=null,Oa=0,Ua=0,Sr=null,uc=!1,Hu=!1,lp=!1,Rs=0,ln=0,dc=0,ns=0,cp=0,zo=0,Xu=0,ah=null,qr=null,_f=!1,wf=0,ih=1/0,Zu=null,Cl=null,Fn=0,Sl=null,$u=null,Tl=0,Cf=0,up=null,eg=null,nh=0,Sf=null;function Br(){if((ii&2)!==0&&Oa!==0)return Oa&-Oa;if(Ke.T!==null){var a=Zo;return a!==0?a:pc()}return de()}function tg(){zo===0&&(zo=(Oa&536870912)===0||Va?Xe():536870912);var a=sn.current;return a!==null&&(a.flags|=32),zo}function ho(a,s,h){(a===ni&&(Ua===2||Ua===9)||a.cancelPendingCommit!==null)&&(Wu(a,0),Pl(a,Oa,zo,!1)),tt(a,h),((ii&2)===0||a!==ni)&&(a===ni&&((ii&2)===0&&(ns|=h),ln===4&&Pl(a,Oa,zo,!1)),ko(a))}function Ju(a,s,h){if((ii&6)!==0)throw Error(g(327));var v=!h&&(s&124)===0&&(s&a.expiredLanes)===0||Me(a,s),P=v?ag(a,s):Af(a,s,!0),E=v;do{if(P===0){Hu&&!v&&Pl(a,s,0,!1);break}else{if(h=a.current.alternate,E&&!Pf(h)){P=Af(a,s,!1),E=!1;continue}if(P===2){if(E=s,a.errorRecoveryDisabledLanes&E)var J=0;else J=a.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){s=J;e:{var ie=a;P=ah;var Ce=ie.current.memoizedState.isDehydrated;if(Ce&&(Wu(ie,J).flags|=256),J=Af(ie,J,!1),J!==2){if(lp&&!Ce){ie.errorRecoveryDisabledLanes|=E,ns|=E,P=4;break e}E=qr,qr=P,E!==null&&(qr===null?qr=E:qr.push.apply(qr,E))}P=J}if(E=!1,P!==2)continue}}if(P===1){Wu(a,0),Pl(a,s,0,!0);break}e:{switch(v=a,E=P,E){case 0:case 1:throw Error(g(345));case 4:if((s&4194048)!==s)break;case 6:Pl(v,s,zo,!uc);break e;case 2:qr=null;break;case 3:case 5:break;default:throw Error(g(329))}if((s&62914560)===s&&(P=wf+300-Wa(),10<P)){if(Pl(v,s,zo,!uc),ge(v,0,!0)!==0)break e;v.timeoutHandle=Zf(Tf.bind(null,v,h,qr,Zu,_f,s,zo,ns,Xu,uc,E,2,-0,0),P);break e}Tf(v,h,qr,Zu,_f,s,zo,ns,Xu,uc,E,0,-0,0)}}break}while(!0);ko(a)}function Tf(a,s,h,v,P,E,J,ie,Ce,Qe,ft,wt,it,nt){if(a.timeoutHandle=-1,wt=s.subtreeFlags,(wt&8192||(wt&16785408)===16785408)&&(A={stylesheets:null,count:0,unsuspend:z},sp(s),wt=O(),wt!==null)){a.cancelPendingCommit=wt(ig.bind(null,a,s,E,h,v,P,J,ie,Ce,ft,1,it,nt)),Pl(a,E,J,!Qe);return}ig(a,s,E,h,v,P,J,ie,Ce)}function Pf(a){for(var s=a;;){var h=s.tag;if((h===0||h===11||h===15)&&s.flags&16384&&(h=s.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var P=h[v],E=P.getSnapshot;P=P.value;try{if(!rr(E(),P))return!1}catch{return!1}}if(h=s.child,s.subtreeFlags&16384&&h!==null)h.return=s,s=h;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Pl(a,s,h,v){s&=~cp,s&=~ns,a.suspendedLanes|=s,a.pingedLanes&=~s,v&&(a.warmLanes|=s),v=a.expirationTimes;for(var P=s;0<P;){var E=31-Bi(P),J=1<<E;v[E]=-1,P&=~J}h!==0&&ut(a,h,s)}function Zi(){return(ii&6)===0?(lh(0),!1):!0}function rh(){if(ka!==null){if(Ua===0)var a=ka.return;else a=ka,br=So=null,_i(a),di=null,$a=0,a=ka;for(;a!==null;)hf(a.alternate,a),a=a.return;ka=null}}function Wu(a,s){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,pg(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),rh(),ni=a,ka=h=Xn(a.current,null),Oa=s,Ua=0,Sr=null,uc=!1,Hu=Me(a,s),lp=!1,Xu=zo=cp=ns=dc=ln=0,qr=ah=null,_f=!1,(s&8)!==0&&(s|=s&32);var v=a.entangledLanes;if(v!==0)for(a=a.entanglements,v&=s;0<v;){var P=31-Bi(v),E=1<<P;s|=a[P],v&=~E}return Rs=s,Ys(),h}function Df(a,s){Sa=null,Ke.H=En,s===$c||s===Ss?(s=zu(),Ua=3):s===Lu?(s=zu(),Ua=4):Ua=s===tu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sr=s,ka===null&&(ln=1,$h(a,gr(s,a.current)))}function Dl(){var a=Ke.H;return Ke.H=En,a===null?En:a}function dp(){var a=Ke.A;return Ke.A=Ym,a}function Mf(){ln=4,uc||(Oa&4194048)!==Oa&&sn.current!==null||(Hu=!0),(dc&134217727)===0&&(ns&134217727)===0||ni===null||Pl(ni,Oa,zo,!1)}function Af(a,s,h){var v=ii;ii|=2;var P=Dl(),E=dp();(ni!==a||Oa!==s)&&(Zu=null,Wu(a,s)),s=!1;var J=ln;e:do try{if(Ua!==0&&ka!==null){var ie=ka,Ce=Sr;switch(Ua){case 8:rh(),J=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(s=!0);var Qe=Ua;if(Ua=0,Sr=null,rs(a,ie,Ce,Qe),h&&Hu){J=0;break e}break;default:Qe=Ua,Ua=0,Sr=null,rs(a,ie,Ce,Qe)}}cy(),J=ln;break}catch(ft){Df(a,ft)}while(!0);return s&&a.shellSuspendCounter++,br=So=null,ii=v,Ke.H=P,Ke.A=E,ka===null&&(ni=null,Oa=0,Ys()),J}function cy(){for(;ka!==null;)Lf(ka)}function ag(a,s){var h=ii;ii|=2;var v=Dl(),P=dp();ni!==a||Oa!==s?(Zu=null,ih=Wa()+500,Wu(a,s)):Hu=Me(a,s);e:do try{if(Ua!==0&&ka!==null){s=ka;var E=Sr;t:switch(Ua){case 1:Ua=0,Sr=null,rs(a,s,E,1);break;case 2:case 9:if(so(E)){Ua=0,Sr=null,Yu(s);break}s=function(){Ua!==2&&Ua!==9||ni!==a||(Ua=7),ko(a)},E.then(s,s);break e;case 3:Ua=7;break e;case 4:Ua=5;break e;case 7:so(E)?(Ua=0,Sr=null,Yu(s)):(Ua=0,Sr=null,rs(a,s,E,7));break;case 5:var J=null;switch(ka.tag){case 26:J=ka.memoizedState;case 5:case 27:var ie=ka;if(!J||T(J)){Ua=0,Sr=null;var Ce=ie.sibling;if(Ce!==null)ka=Ce;else{var Qe=ie.return;Qe!==null?(ka=Qe,su(Qe)):ka=null}break t}}Ua=0,Sr=null,rs(a,s,E,5);break;case 6:Ua=0,Sr=null,rs(a,s,E,6);break;case 8:rh(),ln=6;break e;default:throw Error(g(462))}}If();break}catch(ft){Df(a,ft)}while(!0);return br=So=null,Ke.H=v,Ke.A=P,ii=h,ka!==null?0:(ni=null,Oa=0,Ys(),ln)}function If(){for(;ka!==null&&!Qn();)Lf(ka)}function Lf(a){var s=ip(a.alternate,a,Rs);a.memoizedProps=a.pendingProps,s===null?su(a):ka=s}function Yu(a){var s=a,h=s.alternate;switch(s.tag){case 15:case 0:s=sf(h,s,s.pendingProps,s.type,void 0,Oa);break;case 11:s=sf(h,s,s.pendingProps,s.type.render,s.ref,Oa);break;case 5:_i(s);default:hf(h,s),s=ka=zd(s,Rs),s=ip(h,s,Rs)}a.memoizedProps=a.pendingProps,s===null?su(a):ka=s}function rs(a,s,h,v){br=So=null,_i(s),di=null,$a=0;var P=s.return;try{if(Fm(a,P,s,h,Oa)){ln=1,$h(a,gr(h,a.current)),ka=null;return}}catch(E){if(P!==null)throw ka=P,E;ln=1,$h(a,gr(h,a.current)),ka=null;return}s.flags&32768?(Va||v===1?a=!0:Hu||(Oa&536870912)!==0?a=!1:(uc=a=!0,(v===2||v===9||v===3||v===6)&&(v=sn.current,v!==null&&v.tag===13&&(v.flags|=16384))),oh(s,a)):su(s)}function su(a){var s=a;do{if((s.flags&32768)!==0){oh(s,uc);return}a=s.return;var h=uf(s.alternate,s,Rs);if(h!==null){ka=h;return}if(s=s.sibling,s!==null){ka=s;return}ka=s=a}while(s!==null);ln===0&&(ln=5)}function oh(a,s){do{var h=df(a.alternate,a);if(h!==null){h.flags&=32767,ka=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!s&&(a=a.sibling,a!==null)){ka=a;return}ka=a=h}while(a!==null);ln=6,ka=null}function ig(a,s,h,v,P,E,J,ie,Ce){a.cancelPendingCommit=null;do sh();while(Fn!==0);if((ii&6)!==0)throw Error(g(327));if(s!==null){if(s===a.current)throw Error(g(177));if(E=s.lanes|s.childLanes,E|=Go,Be(a,h,E,J,ie,Ce),a===ni&&(ka=ni=null,Oa=0),$u=s,Sl=a,Tl=h,Cf=E,up=P,eg=v,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,hy(hr,function(){return Rf(),null})):(a.callbackNode=null,a.callbackPriority=0),v=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||v){v=Ke.T,Ke.T=null,P=$e.p,$e.p=2,J=ii,ii|=4;try{rp(a,s,h)}finally{ii=J,$e.p=P,Ke.T=v}}Fn=1,ng(),Ef(),zf()}}function ng(){if(Fn===1){Fn=0;var a=Sl,s=$u,h=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||h){h=Ke.T,Ke.T=null;var v=$e.p;$e.p=2;var P=ii;ii|=4;try{cc(s,a);var E=_p,J=qc(a.containerInfo),ie=E.focusedElem,Ce=E.selectionRange;if(J!==ie&&ie&&ie.ownerDocument&&Ka(ie.ownerDocument.documentElement,ie)){if(Ce!==null&&eo(ie)){var Qe=Ce.start,ft=Ce.end;if(ft===void 0&&(ft=Qe),"selectionStart"in ie)ie.selectionStart=Qe,ie.selectionEnd=Math.min(ft,ie.value.length);else{var wt=ie.ownerDocument||document,it=wt&&wt.defaultView||window;if(it.getSelection){var nt=it.getSelection(),oa=ie.textContent.length,ua=Math.min(Ce.start,oa),gi=Ce.end===void 0?ua:Math.min(Ce.end,oa);!nt.extend&&ua>gi&&(J=gi,gi=ua,ua=J);var Fe=Cu(ie,ua),Re=Cu(ie,gi);if(Fe&&Re&&(nt.rangeCount!==1||nt.anchorNode!==Fe.node||nt.anchorOffset!==Fe.offset||nt.focusNode!==Re.node||nt.focusOffset!==Re.offset)){var Je=wt.createRange();Je.setStart(Fe.node,Fe.offset),nt.removeAllRanges(),ua>gi?(nt.addRange(Je),nt.extend(Re.node,Re.offset)):(Je.setEnd(Re.node,Re.offset),nt.addRange(Je))}}}}for(wt=[],nt=ie;nt=nt.parentNode;)nt.nodeType===1&&wt.push({element:nt,left:nt.scrollLeft,top:nt.scrollTop});for(typeof ie.focus=="function"&&ie.focus(),ie=0;ie<wt.length;ie++){var bt=wt[ie];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}pt=!!Ml,_p=Ml=null}finally{ii=P,$e.p=v,Ke.T=h}}a.current=s,Fn=2}}function Ef(){if(Fn===2){Fn=0;var a=Sl,s=$u,h=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||h){h=Ke.T,Ke.T=null;var v=$e.p;$e.p=2;var P=ii;ii|=4;try{Vu(a,s.alternate,s)}finally{ii=P,$e.p=v,Ke.T=h}}Fn=3}}function zf(){if(Fn===4||Fn===3){Fn=0,cs();var a=Sl,s=$u,h=Tl,v=eg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fn=5:(Fn=0,$u=Sl=null,rg(a,a.pendingLanes));var P=a.pendingLanes;if(P===0&&(Cl=null),ta(h),s=s.stateNode,za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(ji,s,void 0,(s.current.flags&128)===128)}catch{}if(v!==null){s=Ke.T,P=$e.p,$e.p=2,Ke.T=null;try{for(var E=a.onRecoverableError,J=0;J<v.length;J++){var ie=v[J];E(ie.value,{componentStack:ie.stack})}}finally{Ke.T=s,$e.p=P}}(Tl&3)!==0&&sh(),ko(a),P=a.pendingLanes,(h&4194090)!==0&&(P&42)!==0?a===Sf?nh++:(nh=0,Sf=a):nh=0,lh(0)}}function rg(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,cl(s)))}function sh(a){return ng(),Ef(),zf(),Rf()}function Rf(){if(Fn!==5)return!1;var a=Sl,s=Cf;Cf=0;var h=ta(Tl),v=Ke.T,P=$e.p;try{$e.p=32>h?32:h,Ke.T=null,h=up,up=null;var E=Sl,J=Tl;if(Fn=0,$u=Sl=null,Tl=0,(ii&6)!==0)throw Error(g(331));var ie=ii;if(ii|=4,xf(E.current),Wm(E,E.current,J,h),ii=ie,lh(0,!1),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(ji,E)}catch{}return!0}finally{$e.p=P,Ke.T=v,rg(a,s)}}function hp(a,s,h){s=gr(h,s),s=af(a.stateNode,s,2),a=Wo(a,s,2),a!==null&&(tt(a,2),ko(a))}function hi(a,s,h){if(a.tag===3)hp(a,a,h);else for(;s!==null;){if(s.tag===3){hp(s,a,h);break}else if(s.tag===1){var v=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Cl===null||!Cl.has(v))){a=gr(h,a),h=Wh(2),v=Wo(s,h,2),v!==null&&(nf(h,v,s,a),tt(v,2),ko(v));break}}s=s.return}}function kf(a,s,h){var v=a.pingCache;if(v===null){v=a.pingCache=new Qm;var P=new Set;v.set(s,P)}else P=v.get(s),P===void 0&&(P=new Set,v.set(s,P));P.has(h)||(lp=!0,P.add(h),a=og.bind(null,a,s,h),s.then(a,a))}function og(a,s,h){var v=a.pingCache;v!==null&&v.delete(s),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,ni===a&&(Oa&h)===h&&(ln===4||ln===3&&(Oa&62914560)===Oa&&300>Wa()-wf?(ii&2)===0&&Wu(a,0):cp|=h,Xu===Oa&&(Xu=0)),ko(a)}function sg(a,s){s===0&&(s=ze()),a=to(a,s),a!==null&&(tt(a,s),ko(a))}function uy(a){var s=a.memoizedState,h=0;s!==null&&(h=s.retryLane),sg(a,h)}function dy(a,s){var h=0;switch(a.tag){case 13:var v=a.stateNode,P=a.memoizedState;P!==null&&(h=P.retryLane);break;case 19:v=a.stateNode;break;case 22:v=a.stateNode._retryCache;break;default:throw Error(g(314))}v!==null&&v.delete(s),sg(a,h)}function hy(a,s){return si(a,s)}var pp=null,lu=null,fp=!1,Ro=!1,ks=!1,hc=0;function ko(a){a!==lu&&a.next===null&&(lu===null?pp=lu=a:lu=lu.next=a),Ro=!0,fp||(fp=!0,Nf())}function lh(a,s){if(!ks&&Ro){ks=!0;do for(var h=!1,v=pp;v!==null;){if(a!==0){var P=v.pendingLanes;if(P===0)var E=0;else{var J=v.suspendedLanes,ie=v.pingedLanes;E=(1<<31-Bi(42|a)+1)-1,E&=P&~(J&~ie),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,gp(v,E))}else E=Oa,E=ge(v,v===ni?E:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(E&3)===0||Me(v,E)||(h=!0,gp(v,E));v=v.next}while(h);ks=!1}}function py(){ch()}function ch(){Ro=fp=!1;var a=0;hc!==0&&(fc()&&(a=hc),hc=0);for(var s=Wa(),h=null,v=pp;v!==null;){var P=v.next,E=mp(v,s);E===0?(v.next=null,h===null?pp=P:h.next=P,P===null&&(lu=h)):(h=v,(a!==0||(E&3)!==0)&&(Ro=!0)),v=P}lh(a)}function mp(a,s){for(var h=a.suspendedLanes,v=a.pingedLanes,P=a.expirationTimes,E=a.pendingLanes&-62914561;0<E;){var J=31-Bi(E),ie=1<<J,Ce=P[J];Ce===-1?((ie&h)===0||(ie&v)!==0)&&(P[J]=ke(ie,s)):Ce<=s&&(a.expiredLanes|=ie),E&=~ie}if(s=ni,h=Oa,h=ge(a,a===s?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v=a.callbackNode,h===0||a===s&&(Ua===2||Ua===9)||a.cancelPendingCommit!==null)return v!==null&&v!==null&&en(v),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||Me(a,h)){if(s=h&-h,s===a.callbackPriority)return s;switch(v!==null&&en(v),ta(h)){case 2:case 8:h=go;break;case 32:h=hr;break;case 268435456:h=er;break;default:h=hr}return v=lg.bind(null,a),h=si(h,v),a.callbackPriority=s,a.callbackNode=h,s}return v!==null&&v!==null&&en(v),a.callbackPriority=2,a.callbackNode=null,2}function lg(a,s){if(Fn!==0&&Fn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(sh()&&a.callbackNode!==h)return null;var v=Oa;return v=ge(a,a===ni?v:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),v===0?null:(Ju(a,v,s),mp(a,Wa()),a.callbackNode!=null&&a.callbackNode===h?lg.bind(null,a):null)}function gp(a,s){if(sh())return null;Ju(a,s,!0)}function Nf(){fg(function(){(ii&6)!==0?si(Tn,py):ch()})}function pc(){return hc===0&&(hc=Xe()),hc}function jf(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Nl(""+a)}function Kf(a,s){var h=s.ownerDocument.createElement("input");return h.name=s.name,h.value=s.value,a.id&&h.setAttribute("form",a.id),s.parentNode.insertBefore(h,s),a=new FormData(a),h.parentNode.removeChild(h),a}function Of(a,s,h,v,P){if(s==="submit"&&h&&h.stateNode===P){var E=jf((P[yt]||null).action),J=v.submitter;J&&(s=(s=J[yt]||null)?jf(s.formAction):J.getAttribute("formAction"),s!==null&&(E=s,J=null));var ie=new Fo("action","action",null,v,P);a.push({event:ie,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(hc!==0){var Ce=J?Kf(P,J):new FormData(P);Xa(h,{pending:!0,data:Ce,method:P.method,action:E},null,Ce)}}else typeof E=="function"&&(ie.preventDefault(),Ce=J?Kf(P,J):new FormData(P),Xa(h,{pending:!0,data:Ce,method:P.method,action:E},E,Ce))},currentTarget:P}]})}}for(var yp=0;yp<Ws.length;yp++){var Qu=Ws[yp],cg=Qu.toLowerCase(),fy=Qu[0].toUpperCase()+Qu.slice(1);Nn(cg,"on"+fy)}Nn(Ad,"onAnimationEnd"),Nn(Uh,"onAnimationIteration"),Nn(Id,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Su,"onTransitionRun"),Nn(Tu,"onTransitionStart"),Nn(Pu,"onTransitionCancel"),Nn(Du,"onTransitionEnd"),ra("onMouseEnter",["mouseout","mouseover"]),ra("onMouseLeave",["mouseout","mouseover"]),ra("onPointerEnter",["pointerout","pointerover"]),ra("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ug=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uh));function dg(a,s){s=(s&4)!==0;for(var h=0;h<a.length;h++){var v=a[h],P=v.event;v=v.listeners;e:{var E=void 0;if(s)for(var J=v.length-1;0<=J;J--){var ie=v[J],Ce=ie.instance,Qe=ie.currentTarget;if(ie=ie.listener,Ce!==E&&P.isPropagationStopped())break e;E=ie,P.currentTarget=Qe;try{E(P)}catch(ft){qu(ft)}P.currentTarget=null,E=Ce}else for(J=0;J<v.length;J++){if(ie=v[J],Ce=ie.instance,Qe=ie.currentTarget,ie=ie.listener,Ce!==E&&P.isPropagationStopped())break e;E=ie,P.currentTarget=Qe;try{E(P)}catch(ft){qu(ft)}P.currentTarget=null,E=Ce}}}}function Na(a,s){var h=s[Tt];h===void 0&&(h=s[Tt]=new Set);var v=a+"__bubble";h.has(v)||(bp(s,a,2,!1),h.add(v))}function qf(a,s,h){var v=0;s&&(v|=4),bp(h,a,v,s)}var vp="_reactListening"+Math.random().toString(36).slice(2);function Bf(a){if(!a[vp]){a[vp]=!0,pa.forEach(function(h){h!=="selectionchange"&&(ug.has(h)||qf(h,!1,a),qf(h,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[vp]||(s[vp]=!0,qf("selectionchange",!1,s))}}function bp(a,s,h,v){switch(qt(s)){case 2:var P=at;break;case 8:P=lt;break;default:P=Ct}h=P.bind(null,s,h,a),P=void 0,!an||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(P=!0),v?P!==void 0?a.addEventListener(s,h,{capture:!0,passive:P}):a.addEventListener(s,h,!0):P!==void 0?a.addEventListener(s,h,{passive:P}):a.addEventListener(s,h,!1)}function Ns(a,s,h,v,P){var E=v;if((s&1)===0&&(s&2)===0&&v!==null)e:for(;;){if(v===null)return;var J=v.tag;if(J===3||J===4){var ie=v.stateNode.containerInfo;if(ie===P)break;if(J===4)for(J=v.return;J!==null;){var Ce=J.tag;if((Ce===3||Ce===4)&&J.stateNode.containerInfo===P)return;J=J.return}for(;ie!==null;){if(J=la(ie),J===null)return;if(Ce=J.tag,Ce===5||Ce===6||Ce===26||Ce===27){v=E=J;continue e}ie=ie.parentNode}}v=v.return}Dn(function(){var Qe=E,ft=Jr(h),wt=[];e:{var it=gs.get(a);if(it!==void 0){var nt=Fo,oa=a;switch(a){case"keypress":if(fa(h)===0)break e;case"keydown":case"keyup":nt=fr;break;case"focusin":oa="focus",nt=Zs;break;case"focusout":oa="blur",nt=Zs;break;case"beforeblur":case"afterblur":nt=Zs;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":nt=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":nt=xn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":nt=Ul;break;case Ad:case Uh:case Id:nt=rn;break;case Du:nt=Xp;break;case"scroll":case"scrollend":nt=bd;break;case"wheel":nt=$p;break;case"copy":case"cut":case"paste":nt=Bl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":nt=gu;break;case"toggle":case"beforetoggle":nt=yu}var ua=(s&4)!==0,gi=!ua&&(a==="scroll"||a==="scrollend"),Fe=ua?it!==null?it+"Capture":null:it;ua=[];for(var Re=Qe,Je;Re!==null;){var bt=Re;if(Je=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||Je===null||Fe===null||(bt=Si(Re,Fe),bt!=null&&ua.push(ed(Re,bt,Je))),gi)break;Re=Re.return}0<ua.length&&(it=new nt(it,oa,null,h,ft),wt.push({event:it,listeners:ua}))}}if((s&7)===0){e:{if(it=a==="mouseover"||a==="pointerover",nt=a==="mouseout"||a==="pointerout",it&&h!==ir&&(oa=h.relatedTarget||h.fromElement)&&(la(oa)||oa[It]))break e;if((nt||it)&&(it=ft.window===ft?ft:(it=ft.ownerDocument)?it.defaultView||it.parentWindow:window,nt?(oa=h.relatedTarget||h.toElement,nt=Qe,oa=oa?la(oa):null,oa!==null&&(gi=D(oa),ua=oa.tag,oa!==gi||ua!==5&&ua!==27&&ua!==6)&&(oa=null)):(nt=null,oa=Qe),nt!==oa)){if(ua=Kl,bt="onMouseLeave",Fe="onMouseEnter",Re="mouse",(a==="pointerout"||a==="pointerover")&&(ua=gu,bt="onPointerLeave",Fe="onPointerEnter",Re="pointer"),gi=nt==null?it:vt(nt),Je=oa==null?it:vt(oa),it=new ua(bt,Re+"leave",nt,h,ft),it.target=gi,it.relatedTarget=Je,bt=null,la(ft)===Qe&&(ua=new ua(Fe,Re+"enter",oa,h,ft),ua.target=Je,ua.relatedTarget=gi,bt=ua),gi=bt,nt&&oa)t:{for(ua=nt,Fe=oa,Re=0,Je=ua;Je;Je=cu(Je))Re++;for(Je=0,bt=Fe;bt;bt=cu(bt))Je++;for(;0<Re-Je;)ua=cu(ua),Re--;for(;0<Je-Re;)Fe=cu(Fe),Je--;for(;Re--;){if(ua===Fe||Fe!==null&&ua===Fe.alternate)break t;ua=cu(ua),Fe=cu(Fe)}ua=null}else ua=null;nt!==null&&Ff(wt,it,nt,ua,!1),oa!==null&&gi!==null&&Ff(wt,gi,oa,ua,!0)}}e:{if(it=Qe?vt(Qe):window,nt=it.nodeName&&it.nodeName.toLowerCase(),nt==="select"||nt==="input"&&it.type==="file")var Yt=Cd;else if($s(it))if(Sd)Yt=Yp;else{Yt=Wp;var Ea=$l}else nt=it.nodeName,!nt||nt.toLowerCase()!=="input"||it.type!=="checkbox"&&it.type!=="radio"?Qe&&$r(Qe.elementType)&&(Yt=Cd):Yt=wu;if(Yt&&(Yt=Yt(a,Qe))){Bh(wt,Yt,h,ft);break e}Ea&&Ea(a,it,Qe),a==="focusout"&&Qe&&it.type==="number"&&Qe.memoizedProps.value!=null&&Mc(it,"number",it.value)}switch(Ea=Qe?vt(Qe):window,a){case"focusin":($s(Ea)||Ea.contentEditable==="true")&&(fs=Ea,Bc=Qe,Wl=null);break;case"focusout":Wl=Bc=fs=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,ms(wt,h,ft);break;case"selectionchange":if(Dd)break;case"keydown":case"keyup":ms(wt,h,ft)}var na;if(Gl)e:{switch(a){case"compositionstart":var ha="onCompositionStart";break e;case"compositionend":ha="onCompositionEnd";break e;case"compositionupdate":ha="onCompositionUpdate";break e}ha=void 0}else _o?bu(a,h)&&(ha="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(ha="onCompositionStart");ha&&(kc&&h.locale!=="ko"&&(_o||ha!=="onCompositionStart"?ha==="onCompositionEnd"&&_o&&(na=da()):(Wr=ft,Ma="value"in Wr?Wr.value:Wr.textContent,_o=!0)),Ea=dh(Qe,ha),0<Ea.length&&(ha=new jh(ha,a,null,h,ft),wt.push({event:ha,listeners:Ea}),na?ha.data=na:(na=Hl(h),na!==null&&(ha.data=na)))),(na=wd?Oh(a,h):Nc(a,h))&&(ha=dh(Qe,"onBeforeInput"),0<ha.length&&(Ea=new jh("onBeforeInput","beforeinput",null,h,ft),wt.push({event:Ea,listeners:ha}),Ea.data=na)),Of(wt,a,Qe,h,ft)}dg(wt,s)})}function ed(a,s,h){return{instance:a,listener:s,currentTarget:h}}function dh(a,s){for(var h=s+"Capture",v=[];a!==null;){var P=a,E=P.stateNode;if(P=P.tag,P!==5&&P!==26&&P!==27||E===null||(P=Si(a,h),P!=null&&v.unshift(ed(a,P,E)),P=Si(a,s),P!=null&&v.push(ed(a,P,E))),a.tag===3)return v;a=a.return}return[]}function cu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Ff(a,s,h,v,P){for(var E=s._reactName,J=[];h!==null&&h!==v;){var ie=h,Ce=ie.alternate,Qe=ie.stateNode;if(ie=ie.tag,Ce!==null&&Ce===v)break;ie!==5&&ie!==26&&ie!==27||Qe===null||(Ce=Qe,P?(Qe=Si(h,E),Qe!=null&&J.unshift(ed(h,Qe,Ce))):P||(Qe=Si(h,E),Qe!=null&&J.push(ed(h,Qe,Ce)))),h=h.return}J.length!==0&&a.push({event:s,listeners:J})}var hg=/\r\n?/g,Vf=/\u0000|\uFFFD/g;function Uf(a){return(typeof a=="string"?a:""+a).replace(hg,`
`).replace(Vf,"")}function td(a,s){return s=Uf(s),Uf(a)===s}function hh(){}function ri(a,s,h,v,P,E){switch(h){case"children":typeof v=="string"?s==="body"||s==="textarea"&&v===""||Bo(a,v):(typeof v=="number"||typeof v=="bigint")&&s!=="body"&&Bo(a,""+v);break;case"className":Pn(a,"class",v);break;case"tabIndex":Pn(a,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(a,h,v);break;case"style":vo(a,v,E);break;case"data":if(s!=="object"){Pn(a,"data",v);break}case"src":case"href":if(v===""&&(s!=="a"||h!=="href")){a.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(h);break}v=Nl(""+v),a.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(s!=="input"&&ri(a,s,"name",P.name,P,null),ri(a,s,"formEncType",P.formEncType,P,null),ri(a,s,"formMethod",P.formMethod,P,null),ri(a,s,"formTarget",P.formTarget,P,null)):(ri(a,s,"encType",P.encType,P,null),ri(a,s,"method",P.method,P,null),ri(a,s,"target",P.target,P,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){a.removeAttribute(h);break}v=Nl(""+v),a.setAttribute(h,v);break;case"onClick":v!=null&&(a.onclick=hh);break;case"onScroll":v!=null&&Na("scroll",a);break;case"onScrollEnd":v!=null&&Na("scrollend",a);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(g(61));if(h=v.__html,h!=null){if(P.children!=null)throw Error(g(60));a.innerHTML=h}}break;case"multiple":a.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":a.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){a.removeAttribute("xlink:href");break}h=Nl(""+v),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(h,""+v):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":v===!0?a.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?a.setAttribute(h,v):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?a.setAttribute(h,v):a.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?a.removeAttribute(h):a.setAttribute(h,v);break;case"popover":Na("beforetoggle",a),Na("toggle",a),kn(a,"popover",v);break;case"xlinkActuate":_a(a,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":_a(a,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":_a(a,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":_a(a,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":_a(a,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":_a(a,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":_a(a,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":_a(a,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":_a(a,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":kn(a,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Xs.get(h)||h,kn(a,h,v))}}function xp(a,s,h,v,P,E){switch(h){case"style":vo(a,v,E);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(g(61));if(h=v.__html,h!=null){if(P.children!=null)throw Error(g(60));a.innerHTML=h}}break;case"children":typeof v=="string"?Bo(a,v):(typeof v=="number"||typeof v=="bigint")&&Bo(a,""+v);break;case"onScroll":v!=null&&Na("scroll",a);break;case"onScrollEnd":v!=null&&Na("scrollend",a);break;case"onClick":v!=null&&(a.onclick=hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(P=h.endsWith("Capture"),s=h.slice(2,P?h.length-7:void 0),E=a[yt]||null,E=E!=null?E[h]:null,typeof E=="function"&&a.removeEventListener(s,E,P),typeof v=="function")){typeof E!="function"&&E!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(s,v,P);break e}h in a?a[h]=v:v===!0?a.setAttribute(h,""):kn(a,h,v)}}}function pi(a,s,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Na("error",a),Na("load",a);var v=!1,P=!1,E;for(E in h)if(h.hasOwnProperty(E)){var J=h[E];if(J!=null)switch(E){case"src":v=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(g(137,s));default:ri(a,s,E,J,h,null)}}P&&ri(a,s,"srcSet",h.srcSet,h,null),v&&ri(a,s,"src",h.src,h,null);return;case"input":Na("invalid",a);var ie=E=J=P=null,Ce=null,Qe=null;for(v in h)if(h.hasOwnProperty(v)){var ft=h[v];if(ft!=null)switch(v){case"name":P=ft;break;case"type":J=ft;break;case"checked":Ce=ft;break;case"defaultChecked":Qe=ft;break;case"value":E=ft;break;case"defaultValue":ie=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(g(137,s));break;default:ri(a,s,v,ft,h,null)}}Hs(a,E,ie,Ce,Qe,J,P,!1),qo(a);return;case"select":Na("invalid",a),v=J=E=null;for(P in h)if(h.hasOwnProperty(P)&&(ie=h[P],ie!=null))switch(P){case"value":E=ie;break;case"defaultValue":J=ie;break;case"multiple":v=ie;default:ri(a,s,P,ie,h,null)}s=E,h=J,a.multiple=!!v,s!=null?us(a,!!v,s,!1):h!=null&&us(a,!!v,h,!0);return;case"textarea":Na("invalid",a),E=P=v=null;for(J in h)if(h.hasOwnProperty(J)&&(ie=h[J],ie!=null))switch(J){case"value":v=ie;break;case"defaultValue":P=ie;break;case"children":E=ie;break;case"dangerouslySetInnerHTML":if(ie!=null)throw Error(g(91));break;default:ri(a,s,J,ie,h,null)}Ac(a,v,P,E),qo(a);return;case"option":for(Ce in h)if(h.hasOwnProperty(Ce)&&(v=h[Ce],v!=null))switch(Ce){case"selected":a.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:ri(a,s,Ce,v,h,null)}return;case"dialog":Na("beforetoggle",a),Na("toggle",a),Na("cancel",a),Na("close",a);break;case"iframe":case"object":Na("load",a);break;case"video":case"audio":for(v=0;v<uh.length;v++)Na(uh[v],a);break;case"image":Na("error",a),Na("load",a);break;case"details":Na("toggle",a);break;case"embed":case"source":case"link":Na("error",a),Na("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in h)if(h.hasOwnProperty(Qe)&&(v=h[Qe],v!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(g(137,s));default:ri(a,s,Qe,v,h,null)}return;default:if($r(s)){for(ft in h)h.hasOwnProperty(ft)&&(v=h[ft],v!==void 0&&xp(a,s,ft,v,h,void 0));return}}for(ie in h)h.hasOwnProperty(ie)&&(v=h[ie],v!=null&&ri(a,s,ie,v,h,null))}function ad(a,s,h,v){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,E=null,J=null,ie=null,Ce=null,Qe=null,ft=null;for(nt in h){var wt=h[nt];if(h.hasOwnProperty(nt)&&wt!=null)switch(nt){case"checked":break;case"value":break;case"defaultValue":Ce=wt;default:v.hasOwnProperty(nt)||ri(a,s,nt,null,v,wt)}}for(var it in v){var nt=v[it];if(wt=h[it],v.hasOwnProperty(it)&&(nt!=null||wt!=null))switch(it){case"type":E=nt;break;case"name":P=nt;break;case"checked":Qe=nt;break;case"defaultChecked":ft=nt;break;case"value":J=nt;break;case"defaultValue":ie=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(g(137,s));break;default:nt!==wt&&ri(a,s,it,nt,v,wt)}}fu(a,J,ie,Ce,Qe,ft,E,P);return;case"select":nt=J=ie=it=null;for(E in h)if(Ce=h[E],h.hasOwnProperty(E)&&Ce!=null)switch(E){case"value":break;case"multiple":nt=Ce;default:v.hasOwnProperty(E)||ri(a,s,E,null,v,Ce)}for(P in v)if(E=v[P],Ce=h[P],v.hasOwnProperty(P)&&(E!=null||Ce!=null))switch(P){case"value":it=E;break;case"defaultValue":ie=E;break;case"multiple":J=E;default:E!==Ce&&ri(a,s,P,E,v,Ce)}s=ie,h=J,v=nt,it!=null?us(a,!!h,it,!1):!!v!=!!h&&(s!=null?us(a,!!h,s,!0):us(a,!!h,h?[]:"",!1));return;case"textarea":nt=it=null;for(ie in h)if(P=h[ie],h.hasOwnProperty(ie)&&P!=null&&!v.hasOwnProperty(ie))switch(ie){case"value":break;case"children":break;default:ri(a,s,ie,null,v,P)}for(J in v)if(P=v[J],E=h[J],v.hasOwnProperty(J)&&(P!=null||E!=null))switch(J){case"value":it=P;break;case"defaultValue":nt=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(g(91));break;default:P!==E&&ri(a,s,J,P,v,E)}yd(a,it,nt);return;case"option":for(var oa in h)if(it=h[oa],h.hasOwnProperty(oa)&&it!=null&&!v.hasOwnProperty(oa))switch(oa){case"selected":a.selected=!1;break;default:ri(a,s,oa,null,v,it)}for(Ce in v)if(it=v[Ce],nt=h[Ce],v.hasOwnProperty(Ce)&&it!==nt&&(it!=null||nt!=null))switch(Ce){case"selected":a.selected=it&&typeof it!="function"&&typeof it!="symbol";break;default:ri(a,s,Ce,it,v,nt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ua in h)it=h[ua],h.hasOwnProperty(ua)&&it!=null&&!v.hasOwnProperty(ua)&&ri(a,s,ua,null,v,it);for(Qe in v)if(it=v[Qe],nt=h[Qe],v.hasOwnProperty(Qe)&&it!==nt&&(it!=null||nt!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(g(137,s));break;default:ri(a,s,Qe,it,v,nt)}return;default:if($r(s)){for(var gi in h)it=h[gi],h.hasOwnProperty(gi)&&it!==void 0&&!v.hasOwnProperty(gi)&&xp(a,s,gi,void 0,v,it);for(ft in v)it=v[ft],nt=h[ft],!v.hasOwnProperty(ft)||it===nt||it===void 0&&nt===void 0||xp(a,s,ft,it,v,nt);return}}for(var Fe in h)it=h[Fe],h.hasOwnProperty(Fe)&&it!=null&&!v.hasOwnProperty(Fe)&&ri(a,s,Fe,null,v,it);for(wt in v)it=v[wt],nt=h[wt],!v.hasOwnProperty(wt)||it===nt||it==null&&nt==null||ri(a,s,wt,it,v,nt)}var Ml=null,_p=null;function ph(a){return a.nodeType===9?a:a.ownerDocument}function Gf(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hf(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function Xf(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wp=null;function fc(){var a=window.event;return a&&a.type==="popstate"?a===wp?!1:(wp=a,!0):(wp=null,!1)}var Zf=typeof setTimeout=="function"?setTimeout:void 0,pg=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(a){return $f.resolve(null).then(a).catch(my)}:Zf;function my(a){setTimeout(function(){throw a})}function mc(a){return a==="head"}function Jf(a,s){var h=s,v=0,P=0;do{var E=h.nextSibling;if(a.removeChild(h),E&&E.nodeType===8)if(h=E.data,h==="/$"){if(0<v&&8>v){h=v;var J=a.ownerDocument;if(h&1&&js(J.documentElement),h&2&&js(J.body),h&4)for(h=J.head,js(h),J=h.firstChild;J;){var ie=J.nextSibling,Ce=J.nodeName;J[Zt]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&J.rel.toLowerCase()==="stylesheet"||h.removeChild(J),J=ie}}if(P===0){a.removeChild(E),Ni(s);return}P--}else h==="$"||h==="$?"||h==="$!"?P++:v=h.charCodeAt(0)-48;else v=0;h=E}while(h);Ni(s)}function Cp(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var h=s;switch(s=s.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Cp(h),Ut(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function Sp(a,s,h,v){for(;a.nodeType===1;){var P=h;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!v&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(v){if(!a[Zt])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(E=a.getAttribute("rel"),E==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(E!==P.rel||a.getAttribute("href")!==(P.href==null||P.href===""?null:P.href)||a.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||a.getAttribute("title")!==(P.title==null?null:P.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(E=a.getAttribute("src"),(E!==(P.src==null?null:P.src)||a.getAttribute("type")!==(P.type==null?null:P.type)||a.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&E&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var E=P.name==null?null:""+P.name;if(P.type==="hidden"&&a.getAttribute("name")===E)return a}else return a;if(a=Fr(a.nextSibling),a===null)break}return null}function mg(a,s,h){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Fr(a.nextSibling),a===null))return null;return a}function id(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function Tp(a,s){var h=a.ownerDocument;if(a.data!=="$?"||h.readyState==="complete")s();else{var v=function(){s(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),a._reactRetry=v}}function Fr(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var Wf=null;function gg(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(s===0)return a;s--}else h==="/$"&&s++}a=a.previousSibling}return null}function yg(a,s,h){switch(s=ph(h),a){case"html":if(a=s.documentElement,!a)throw Error(g(452));return a;case"head":if(a=s.head,!a)throw Error(g(453));return a;case"body":if(a=s.body,!a)throw Error(g(454));return a;default:throw Error(g(451))}}function js(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ut(a)}var fi=new Map,Pp=new Set;function fh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ks=$e.d;$e.d={f:Yf,r:gy,D:yy,C:vg,L:em,m:tm,X:mh,S:bg,M:am};function Yf(){var a=Ks.f(),s=Zi();return a||s}function gy(a){var s=Aa(a);s!==null&&s.tag===5&&s.type==="form"?Ya(s):Ks.r(a)}var uu=typeof document>"u"?null:document;function Qf(a,s,h){var v=uu;if(v&&typeof s=="string"&&s){var P=Lr(s);P='link[rel="'+a+'"][href="'+P+'"]',typeof h=="string"&&(P+='[crossorigin="'+h+'"]'),Pp.has(P)||(Pp.add(P),a={rel:a,crossOrigin:h,href:s},v.querySelector(P)===null&&(s=v.createElement("link"),pi(s,"link",a),Bt(s),v.head.appendChild(s)))}}function yy(a){Ks.D(a),Qf("dns-prefetch",a,null)}function vg(a,s){Ks.C(a,s),Qf("preconnect",a,s)}function em(a,s,h){Ks.L(a,s,h);var v=uu;if(v&&a&&s){var P='link[rel="preload"][as="'+Lr(s)+'"]';s==="image"&&h&&h.imageSrcSet?(P+='[imagesrcset="'+Lr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(P+='[imagesizes="'+Lr(h.imageSizes)+'"]')):P+='[href="'+Lr(a)+'"]';var E=P;switch(s){case"style":E=gc(a);break;case"script":E=vc(a)}fi.has(E)||(a=q({rel:"preload",href:s==="image"&&h&&h.imageSrcSet?void 0:a,as:s},h),fi.set(E,a),v.querySelector(P)!==null||s==="style"&&v.querySelector(yc(E))||s==="script"&&v.querySelector(du(E))||(s=v.createElement("link"),pi(s,"link",a),Bt(s),v.head.appendChild(s)))}}function tm(a,s){Ks.m(a,s);var h=uu;if(h&&a){var v=s&&typeof s.as=="string"?s.as:"script",P='link[rel="modulepreload"][as="'+Lr(v)+'"][href="'+Lr(a)+'"]',E=P;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=vc(a)}if(!fi.has(E)&&(a=q({rel:"modulepreload",href:a},s),fi.set(E,a),h.querySelector(P)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(du(E)))return}v=h.createElement("link"),pi(v,"link",a),Bt(v),h.head.appendChild(v)}}}function bg(a,s,h){Ks.S(a,s,h);var v=uu;if(v&&a){var P=Xt(v).hoistableStyles,E=gc(a);s=s||"default";var J=P.get(E);if(!J){var ie={loading:0,preload:null};if(J=v.querySelector(yc(E)))ie.loading=5;else{a=q({rel:"stylesheet",href:a,"data-precedence":s},h),(h=fi.get(E))&&t(a,h);var Ce=J=v.createElement("link");Bt(Ce),pi(Ce,"link",a),Ce._p=new Promise(function(Qe,ft){Ce.onload=Qe,Ce.onerror=ft}),Ce.addEventListener("load",function(){ie.loading|=1}),Ce.addEventListener("error",function(){ie.loading|=2}),ie.loading|=4,r(J,s,v)}J={type:"stylesheet",instance:J,count:1,state:ie},P.set(E,J)}}}function mh(a,s){Ks.X(a,s);var h=uu;if(h&&a){var v=Xt(h).hoistableScripts,P=vc(a),E=v.get(P);E||(E=h.querySelector(du(P)),E||(a=q({src:a,async:!0},s),(s=fi.get(P))&&n(a,s),E=h.createElement("script"),Bt(E),pi(E,"link",a),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(P,E))}}function am(a,s){Ks.M(a,s);var h=uu;if(h&&a){var v=Xt(h).hoistableScripts,P=vc(a),E=v.get(P);E||(E=h.querySelector(du(P)),E||(a=q({src:a,async:!0,type:"module"},s),(s=fi.get(P))&&n(a,s),E=h.createElement("script"),Bt(E),pi(E,"link",a),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},v.set(P,E))}}function im(a,s,h,v){var P=(P=aa.current)?fh(P):null;if(!P)throw Error(g(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(s=gc(h.href),h=Xt(P).hoistableStyles,v=h.get(s),v||(v={type:"style",instance:null,count:0,state:null},h.set(s,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=gc(h.href);var E=Xt(P).hoistableStyles,J=E.get(a);if(J||(P=P.ownerDocument||P,J={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(a,J),(E=P.querySelector(yc(a)))&&!E._p&&(J.instance=E,J.state.loading=5),fi.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},fi.set(a,h),E||nm(P,a,h,J.state))),s&&v===null)throw Error(g(528,""));return J}if(s&&v!==null)throw Error(g(529,""));return null;case"script":return s=h.async,h=h.src,typeof h=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vc(h),h=Xt(P).hoistableScripts,v=h.get(s),v||(v={type:"script",instance:null,count:0,state:null},h.set(s,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(g(444,a))}}function gc(a){return'href="'+Lr(a)+'"'}function yc(a){return'link[rel="stylesheet"]['+a+"]"}function nd(a){return q({},a,{"data-precedence":a.precedence,precedence:null})}function nm(a,s,h,v){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?v.loading=1:(s=a.createElement("link"),v.preload=s,s.addEventListener("load",function(){return v.loading|=1}),s.addEventListener("error",function(){return v.loading|=2}),pi(s,"link",h),Bt(s),a.head.appendChild(s))}function vc(a){return'[src="'+Lr(a)+'"]'}function du(a){return"script[async]"+a}function xg(a,s,h){if(s.count++,s.instance===null)switch(s.type){case"style":var v=a.querySelector('style[data-href~="'+Lr(h.href)+'"]');if(v)return s.instance=v,Bt(v),v;var P=q({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(a.ownerDocument||a).createElement("style"),Bt(v),pi(v,"style",P),r(v,h.precedence,a),s.instance=v;case"stylesheet":P=gc(h.href);var E=a.querySelector(yc(P));if(E)return s.state.loading|=4,s.instance=E,Bt(E),E;v=nd(h),(P=fi.get(P))&&t(v,P),E=(a.ownerDocument||a).createElement("link"),Bt(E);var J=E;return J._p=new Promise(function(ie,Ce){J.onload=ie,J.onerror=Ce}),pi(E,"link",v),s.state.loading|=4,r(E,h.precedence,a),s.instance=E;case"script":return E=vc(h.src),(P=a.querySelector(du(E)))?(s.instance=P,Bt(P),P):(v=h,(P=fi.get(E))&&(v=q({},h),n(v,P)),a=a.ownerDocument||a,P=a.createElement("script"),Bt(P),pi(P,"link",v),a.head.appendChild(P),s.instance=P);case"void":return null;default:throw Error(g(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(v=s.instance,s.state.loading|=4,r(v,h.precedence,a));return s.instance}function r(a,s,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=v.length?v[v.length-1]:null,E=P,J=0;J<v.length;J++){var ie=v[J];if(ie.dataset.precedence===s)E=ie;else if(E!==P)break}E?E.parentNode.insertBefore(a,E.nextSibling):(s=h.nodeType===9?h.head:h,s.insertBefore(a,s.firstChild))}function t(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function n(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var u=null;function m(a,s,h){if(u===null){var v=new Map,P=u=new Map;P.set(h,v)}else P=u,v=P.get(h),v||(v=new Map,P.set(h,v));if(v.has(a))return v;for(v.set(a,null),h=h.getElementsByTagName(a),P=0;P<h.length;P++){var E=h[P];if(!(E[Zt]||E[dt]||a==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var J=E.getAttribute(s)||"";J=a+J;var ie=v.get(J);ie?ie.push(E):v.set(J,[E])}}return v}function x(a,s,h){a=a.ownerDocument||a,a.head.insertBefore(h,s==="title"?a.querySelector("head > title"):null)}function _(a,s,h){if(h===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function T(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var A=null;function z(){}function j(a,s,h){if(A===null)throw Error(g(475));var v=A;if(s.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var P=gc(h.href),E=a.querySelector(yc(P));if(E){a=E._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(v.count++,v=V.bind(v),a.then(v,v)),s.state.loading|=4,s.instance=E,Bt(E);return}E=a.ownerDocument||a,h=nd(h),(P=fi.get(P))&&t(h,P),E=E.createElement("link"),Bt(E);var J=E;J._p=new Promise(function(ie,Ce){J.onload=ie,J.onerror=Ce}),pi(E,"link",h),s.instance=E}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(v.count++,s=V.bind(v),a.addEventListener("load",s),a.addEventListener("error",s))}}function O(){if(A===null)throw Error(g(475));var a=A;return a.stylesheets&&a.count===0&&W(a,a.stylesheets),0<a.count?function(s){var h=setTimeout(function(){if(a.stylesheets&&W(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(h)}}:null}function V(){if(this.count--,this.count===0){if(this.stylesheets)W(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var $=null;function W(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,$=new Map,s.forEach(Q,a),$=null,V.call(a))}function Q(a,s){if(!(s.state.loading&4)){var h=$.get(a);if(h)var v=h.get(null);else{h=new Map,$.set(a,h);for(var P=a.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<P.length;E++){var J=P[E];(J.nodeName==="LINK"||J.getAttribute("media")!=="not all")&&(h.set(J.dataset.precedence,J),v=J)}v&&h.set(null,v)}P=s.instance,J=P.getAttribute("data-precedence"),E=h.get(J)||v,E===v&&h.set(null,P),h.set(J,P),this.count++,v=V.bind(this),P.addEventListener("load",v),P.addEventListener("error",v),E?E.parentNode.insertBefore(P,E.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(P,a.firstChild)),s.state.loading|=4}}var re={$$typeof:Oe,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function ue(a,s,h,v,P,E,J,ie){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=v,this.onUncaughtError=P,this.onCaughtError=E,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function Ae(a,s,h,v,P,E,J,ie,Ce,Qe,ft,wt){return a=new ue(a,s,h,J,ie,Ce,Qe,wt),s=1,E===!0&&(s|=24),E=Hn(3,null,null,s),a.current=E,E.stateNode=a,s=_s(),s.refCount++,a.pooledCache=s,s.refCount++,E.memoizedState={element:v,isDehydrated:h,cache:s},Jc(E),a}function ve(a){return a?(a=ao,a):ao}function X(a,s,h,v,P,E){P=ve(P),v.context===null?v.context=P:v.pendingContext=P,v=To(s),v.payload={element:h},E=E===void 0?null:E,E!==null&&(v.callback=E),h=Wo(a,v,s),h!==null&&(ho(h,a,s),Ps(h,a,s))}function ne(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<s?h:s}}function be(a,s){ne(a,s),(a=a.alternate)&&ne(a,s)}function Ze(a){if(a.tag===13){var s=to(a,67108864);s!==null&&ho(s,a,67108864),be(a,67108864)}}var pt=!0;function at(a,s,h,v){var P=Ke.T;Ke.T=null;var E=$e.p;try{$e.p=2,Ct(a,s,h,v)}finally{$e.p=E,Ke.T=P}}function lt(a,s,h,v){var P=Ke.T;Ke.T=null;var E=$e.p;try{$e.p=8,Ct(a,s,h,v)}finally{$e.p=E,Ke.T=P}}function Ct(a,s,h,v){if(pt){var P=gt(v);if(P===null)Ns(a,s,v,St,h),lr(a,v);else if(Mi(P,a,s,h,v))v.stopPropagation();else if(lr(a,v),s&4&&-1<po.indexOf(a)){for(;P!==null;){var E=Aa(P);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var J=oe(E.pendingLanes);if(J!==0){var ie=E;for(ie.pendingLanes|=2,ie.entangledLanes|=2;J;){var Ce=1<<31-Bi(J);ie.entanglements[1]|=Ce,J&=~Ce}ko(E),(ii&6)===0&&(ih=Wa()+500,lh(0))}}break;case 13:ie=to(E,2),ie!==null&&ho(ie,E,2),Zi(),be(E,2)}if(E=gt(v),E===null&&Ns(a,s,v,St,h),E===P)break;P=E}P!==null&&v.stopPropagation()}else Ns(a,s,v,null,h)}}function gt(a){return a=Jr(a),ct(a)}var St=null;function ct(a){if(St=null,a=la(a),a!==null){var s=D(a);if(s===null)a=null;else{var h=s.tag;if(h===13){if(a=w(s),a!==null)return a;a=null}else if(h===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return St=a,null}function qt(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Tn:return 2;case go:return 8;case hr:case pr:return 32;case er:return 268435456;default:return 32}default:return 32}}var Qt=!1,Gt=null,Kt=null,ma=null,mi=new Map,Ri=new Map,ki=[],po="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lr(a,s){switch(a){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Kt=null;break;case"mouseover":case"mouseout":ma=null;break;case"pointerover":case"pointerout":mi.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(s.pointerId)}}function $i(a,s,h,v,P,E){return a===null||a.nativeEvent!==E?(a={blockedOn:s,domEventName:h,eventSystemFlags:v,nativeEvent:E,targetContainers:[P]},s!==null&&(s=Aa(s),s!==null&&Ze(s)),a):(a.eventSystemFlags|=v,s=a.targetContainers,P!==null&&s.indexOf(P)===-1&&s.push(P),a)}function Mi(a,s,h,v,P){switch(s){case"focusin":return Gt=$i(Gt,a,s,h,v,P),!0;case"dragenter":return Kt=$i(Kt,a,s,h,v,P),!0;case"mouseover":return ma=$i(ma,a,s,h,v,P),!0;case"pointerover":var E=P.pointerId;return mi.set(E,$i(mi.get(E)||null,a,s,h,v,P)),!0;case"gotpointercapture":return E=P.pointerId,Ri.set(E,$i(Ri.get(E)||null,a,s,h,v,P)),!0}return!1}function gn(a){var s=la(a.target);if(s!==null){var h=D(s);if(h!==null){if(s=h.tag,s===13){if(s=w(h),s!==null){a.blockedOn=s,Pe(a.priority,function(){if(h.tag===13){var v=Br();v=Et(v);var P=to(h,v);P!==null&&ho(P,h,v),be(h,v)}});return}}else if(s===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function cn(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var h=gt(a.nativeEvent);if(h===null){h=a.nativeEvent;var v=new h.constructor(h.type,h);ir=v,h.target.dispatchEvent(v),ir=null}else return s=Aa(h),s!==null&&Ze(s),a.blockedOn=h,!1;s.shift()}return!0}function Cn(a,s,h){cn(a)&&h.delete(s)}function cr(){Qt=!1,Gt!==null&&cn(Gt)&&(Gt=null),Kt!==null&&cn(Kt)&&(Kt=null),ma!==null&&cn(ma)&&(ma=null),mi.forEach(Cn),Ri.forEach(Cn)}function ur(a,s){a.blockedOn===s&&(a.blockedOn=null,Qt||(Qt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,cr)))}var Ji=null;function dr(a){Ji!==a&&(Ji=a,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){Ji===a&&(Ji=null);for(var s=0;s<a.length;s+=3){var h=a[s],v=a[s+1],P=a[s+2];if(typeof v!="function"){if(ct(v||h)===null)continue;break}var E=Aa(h);E!==null&&(a.splice(s,3),s-=3,Xa(E,{pending:!0,data:P,method:h.method,action:v},v,P))}}))}function Ni(a){function s(Ce){return ur(Ce,a)}Gt!==null&&ur(Gt,a),Kt!==null&&ur(Kt,a),ma!==null&&ur(ma,a),mi.forEach(s),Ri.forEach(s);for(var h=0;h<ki.length;h++){var v=ki[h];v.blockedOn===a&&(v.blockedOn=null)}for(;0<ki.length&&(h=ki[0],h.blockedOn===null);)gn(h),h.blockedOn===null&&ki.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var P=h[v],E=h[v+1],J=P[yt]||null;if(typeof E=="function")J||dr(h);else if(J){var ie=null;if(E&&E.hasAttribute("formAction")){if(P=E,J=E[yt]||null)ie=J.formAction;else if(ct(P)!==null)continue}else ie=J.action;typeof ie=="function"?h[v+1]=ie:(h.splice(v,3),v-=3),dr(h)}}}function un(a){this._internalRoot=a}Wi.prototype.render=un.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(g(409));var h=s.current,v=Br();X(h,v,a,s,null,null)},Wi.prototype.unmount=un.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;X(a.current,2,null,a,null,null),Zi(),s[It]=null}};function Wi(a){this._internalRoot=a}Wi.prototype.unstable_scheduleHydration=function(a){if(a){var s=de();a={blockedOn:null,target:a,priority:s};for(var h=0;h<ki.length&&s!==0&&s<ki[h].priority;h++);ki.splice(h,0,a),h===0&&gn(a)}};var Yi=l.version;if(Yi!=="19.1.0")throw Error(g(527,Yi,"19.1.0"));$e.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(g(188)):(a=Object.keys(a).join(","),Error(g(268,a)));return a=R(s),a=a!==null?k(a):null,a=a===null?null:a.stateNode,a};var bi={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Ke,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vr.isDisabled&&Vr.supportsFiber)try{ji=Vr.inject(bi),za=Vr}catch{}}return om.createRoot=function(a,s){if(!C(a))throw Error(g(299));var h=!1,v="",P=ef,E=Bm,J=tf,ie=null;return s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onUncaughtError!==void 0&&(P=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(J=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(ie=s.unstable_transitionCallbacks)),s=Ae(a,1,!1,null,null,h,v,P,E,J,ie,null),a[It]=s.current,Bf(a),new un(s)},om.hydrateRoot=function(a,s,h){if(!C(a))throw Error(g(299));var v=!1,P="",E=ef,J=Bm,ie=tf,Ce=null,Qe=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(P=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(J=h.onCaughtError),h.onRecoverableError!==void 0&&(ie=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Ce=h.unstable_transitionCallbacks),h.formState!==void 0&&(Qe=h.formState)),s=Ae(a,1,!0,s,h??null,v,P,E,J,ie,Ce,Qe),s.context=ve(null),h=s.current,v=Br(),v=Et(v),P=To(v),P.callback=null,Wo(h,P,v),h=v,s.current.lanes=h,tt(s,h),ko(s),a[It]=s.current,Bf(a),new Wi(s)},om.version="19.1.0",om}var Ob;function Gw(){if(Ob)return _y.exports;Ob=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(l){console.error(l)}}return o(),_y.exports=Uw(),_y.exports}var c_=Gw();const Hw=bv(c_),Ta=o=>typeof o=="string",sm=()=>{let o,l;const p=new Promise((g,C)=>{o=g,l=C});return p.resolve=o,p.reject=l,p},qb=o=>o==null?"":""+o,Xw=(o,l,p)=>{o.forEach(g=>{l[g]&&(p[g]=l[g])})},Zw=/###/g,Bb=o=>o&&o.indexOf("###")>-1?o.replace(Zw,"."):o,Fb=o=>!o||Ta(o),vm=(o,l,p)=>{const g=Ta(l)?l.split("."):l;let C=0;for(;C<g.length-1;){if(Fb(o))return{};const D=Bb(g[C]);!o[D]&&p&&(o[D]=new p),Object.prototype.hasOwnProperty.call(o,D)?o=o[D]:o={},++C}return Fb(o)?{}:{obj:o,k:Bb(g[C])}},Vb=(o,l,p)=>{const{obj:g,k:C}=vm(o,l,Object);if(g!==void 0||l.length===1){g[C]=p;return}let D=l[l.length-1],w=l.slice(0,l.length-1),c=vm(o,w,Object);for(;c.obj===void 0&&w.length;)D=`${w[w.length-1]}.${D}`,w=w.slice(0,w.length-1),c=vm(o,w,Object),c?.obj&&typeof c.obj[`${c.k}.${D}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${D}`]=p},$w=(o,l,p,g)=>{const{obj:C,k:D}=vm(o,l,Object);C[D]=C[D]||[],C[D].push(p)},Kg=(o,l)=>{const{obj:p,k:g}=vm(o,l);if(p&&Object.prototype.hasOwnProperty.call(p,g))return p[g]},Jw=(o,l,p)=>{const g=Kg(o,p);return g!==void 0?g:Kg(l,p)},u_=(o,l,p)=>{for(const g in l)g!=="__proto__"&&g!=="constructor"&&(g in o?Ta(o[g])||o[g]instanceof String||Ta(l[g])||l[g]instanceof String?p&&(o[g]=l[g]):u_(o[g],l[g],p):o[g]=l[g]);return o},Dp=o=>o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ww={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Yw=o=>Ta(o)?o.replace(/[&<>"'\/]/g,l=>Ww[l]):o;class Qw{constructor(l){this.capacity=l,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(l){const p=this.regExpMap.get(l);if(p!==void 0)return p;const g=new RegExp(l);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(l,g),this.regExpQueue.push(l),g}}const e2=[" ",",","?","!",";"],t2=new Qw(20),a2=(o,l,p)=>{l=l||"",p=p||"";const g=e2.filter(w=>l.indexOf(w)<0&&p.indexOf(w)<0);if(g.length===0)return!0;const C=t2.getRegExp(`(${g.map(w=>w==="?"?"\\?":w).join("|")})`);let D=!C.test(o);if(!D){const w=o.indexOf(p);w>0&&!C.test(o.substring(0,w))&&(D=!0)}return D},Hy=(o,l,p=".")=>{if(!o)return;if(o[l])return Object.prototype.hasOwnProperty.call(o,l)?o[l]:void 0;const g=l.split(p);let C=o;for(let D=0;D<g.length;){if(!C||typeof C!="object")return;let w,c="";for(let R=D;R<g.length;++R)if(R!==D&&(c+=p),c+=g[R],w=C[c],w!==void 0){if(["string","number","boolean"].indexOf(typeof w)>-1&&R<g.length-1)continue;D+=R-D+1;break}C=w}return C},Sm=o=>o?.replace("_","-"),i2={type:"logger",log(o){this.output("log",o)},warn(o){this.output("warn",o)},error(o){this.output("error",o)},output(o,l){console?.[o]?.apply?.(console,l)}};class Og{constructor(l,p={}){this.init(l,p)}init(l,p={}){this.prefix=p.prefix||"i18next:",this.logger=l||i2,this.options=p,this.debug=p.debug}log(...l){return this.forward(l,"log","",!0)}warn(...l){return this.forward(l,"warn","",!0)}error(...l){return this.forward(l,"error","")}deprecate(...l){return this.forward(l,"warn","WARNING DEPRECATED: ",!0)}forward(l,p,g,C){return C&&!this.debug?null:(Ta(l[0])&&(l[0]=`${g}${this.prefix} ${l[0]}`),this.logger[p](l))}create(l){return new Og(this.logger,{prefix:`${this.prefix}:${l}:`,...this.options})}clone(l){return l=l||this.options,l.prefix=l.prefix||this.prefix,new Og(this.logger,l)}}var xc=new Og;class Wg{constructor(){this.observers={}}on(l,p){return l.split(" ").forEach(g=>{this.observers[g]||(this.observers[g]=new Map);const C=this.observers[g].get(p)||0;this.observers[g].set(p,C+1)}),this}off(l,p){if(this.observers[l]){if(!p){delete this.observers[l];return}this.observers[l].delete(p)}}emit(l,...p){this.observers[l]&&Array.from(this.observers[l].entries()).forEach(([C,D])=>{for(let w=0;w<D;w++)C(...p)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([C,D])=>{for(let w=0;w<D;w++)C.apply(C,[l,...p])})}}class Ub extends Wg{constructor(l,p={ns:["translation"],defaultNS:"translation"}){super(),this.data=l||{},this.options=p,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(l){this.options.ns.indexOf(l)<0&&this.options.ns.push(l)}removeNamespaces(l){const p=this.options.ns.indexOf(l);p>-1&&this.options.ns.splice(p,1)}getResource(l,p,g,C={}){const D=C.keySeparator!==void 0?C.keySeparator:this.options.keySeparator,w=C.ignoreJSONStructure!==void 0?C.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;l.indexOf(".")>-1?c=l.split("."):(c=[l,p],g&&(Array.isArray(g)?c.push(...g):Ta(g)&&D?c.push(...g.split(D)):c.push(g)));const R=Kg(this.data,c);return!R&&!p&&!g&&l.indexOf(".")>-1&&(l=c[0],p=c[1],g=c.slice(2).join(".")),R||!w||!Ta(g)?R:Hy(this.data?.[l]?.[p],g,D)}addResource(l,p,g,C,D={silent:!1}){const w=D.keySeparator!==void 0?D.keySeparator:this.options.keySeparator;let c=[l,p];g&&(c=c.concat(w?g.split(w):g)),l.indexOf(".")>-1&&(c=l.split("."),C=p,p=c[1]),this.addNamespaces(p),Vb(this.data,c,C),D.silent||this.emit("added",l,p,g,C)}addResources(l,p,g,C={silent:!1}){for(const D in g)(Ta(g[D])||Array.isArray(g[D]))&&this.addResource(l,p,D,g[D],{silent:!0});C.silent||this.emit("added",l,p,g)}addResourceBundle(l,p,g,C,D,w={silent:!1,skipCopy:!1}){let c=[l,p];l.indexOf(".")>-1&&(c=l.split("."),C=g,g=p,p=c[1]),this.addNamespaces(p);let R=Kg(this.data,c)||{};w.skipCopy||(g=JSON.parse(JSON.stringify(g))),C?u_(R,g,D):R={...R,...g},Vb(this.data,c,R),w.silent||this.emit("added",l,p,g)}removeResourceBundle(l,p){this.hasResourceBundle(l,p)&&delete this.data[l][p],this.removeNamespaces(p),this.emit("removed",l,p)}hasResourceBundle(l,p){return this.getResource(l,p)!==void 0}getResourceBundle(l,p){return p||(p=this.options.defaultNS),this.getResource(l,p)}getDataByLanguage(l){return this.data[l]}hasLanguageSomeTranslations(l){const p=this.getDataByLanguage(l);return!!(p&&Object.keys(p)||[]).find(C=>p[C]&&Object.keys(p[C]).length>0)}toJSON(){return this.data}}var d_={processors:{},addPostProcessor(o){this.processors[o.name]=o},handle(o,l,p,g,C){return o.forEach(D=>{l=this.processors[D]?.process(l,p,g,C)??l}),l}};const Gb={},Hb=o=>!Ta(o)&&typeof o!="boolean"&&typeof o!="number";class qg extends Wg{constructor(l,p={}){super(),Xw(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],l,this),this.options=p,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xc.create("translator")}changeLanguage(l){l&&(this.language=l)}exists(l,p={interpolation:{}}){const g={...p};return l==null?!1:this.resolve(l,g)?.res!==void 0}extractFromKey(l,p){let g=p.nsSeparator!==void 0?p.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const C=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator;let D=p.ns||this.options.defaultNS||[];const w=g&&l.indexOf(g)>-1,c=!this.options.userDefinedKeySeparator&&!p.keySeparator&&!this.options.userDefinedNsSeparator&&!p.nsSeparator&&!a2(l,g,C);if(w&&!c){const R=l.match(this.interpolator.nestingRegexp);if(R&&R.length>0)return{key:l,namespaces:Ta(D)?[D]:D};const k=l.split(g);(g!==C||g===C&&this.options.ns.indexOf(k[0])>-1)&&(D=k.shift()),l=k.join(C)}return{key:l,namespaces:Ta(D)?[D]:D}}translate(l,p,g){let C=typeof p=="object"?{...p}:p;if(typeof C!="object"&&this.options.overloadTranslationOptionHandler&&(C=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(C={...C}),C||(C={}),l==null)return"";Array.isArray(l)||(l=[String(l)]);const D=C.returnDetails!==void 0?C.returnDetails:this.options.returnDetails,w=C.keySeparator!==void 0?C.keySeparator:this.options.keySeparator,{key:c,namespaces:R}=this.extractFromKey(l[l.length-1],C),k=R[R.length-1];let q=C.nsSeparator!==void 0?C.nsSeparator:this.options.nsSeparator;q===void 0&&(q=":");const G=C.lng||this.language,Z=C.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(G?.toLowerCase()==="cimode")return Z?D?{res:`${k}${q}${c}`,usedKey:c,exactUsedKey:c,usedLng:G,usedNS:k,usedParams:this.getUsedParamsDetails(C)}:`${k}${q}${c}`:D?{res:c,usedKey:c,exactUsedKey:c,usedLng:G,usedNS:k,usedParams:this.getUsedParamsDetails(C)}:c;const H=this.resolve(l,C);let ae=H?.res;const Ie=H?.usedKey||c,Ve=H?.exactUsedKey||c,we=["[object Number]","[object Function]","[object RegExp]"],Le=C.joinArrays!==void 0?C.joinArrays:this.options.joinArrays,Oe=!this.i18nFormat||this.i18nFormat.handleAsObject,ot=C.count!==void 0&&!Ta(C.count),He=qg.hasDefaultValue(C),Se=ot?this.pluralResolver.getSuffix(G,C.count,C):"",_t=C.ordinal&&ot?this.pluralResolver.getSuffix(G,C.count,{ordinal:!1}):"",Dt=ot&&!C.ordinal&&C.count===0,zt=Dt&&C[`defaultValue${this.options.pluralSeparator}zero`]||C[`defaultValue${Se}`]||C[`defaultValue${_t}`]||C.defaultValue;let Ht=ae;Oe&&!ae&&He&&(Ht=zt);const ga=Hb(Ht),sa=Object.prototype.toString.apply(Ht);if(Oe&&Ht&&ga&&we.indexOf(sa)<0&&!(Ta(Le)&&Array.isArray(Ht))){if(!C.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const $t=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Ie,Ht,{...C,ns:R}):`key '${c} (${this.language})' returned an object instead of string.`;return D?(H.res=$t,H.usedParams=this.getUsedParamsDetails(C),H):$t}if(w){const $t=Array.isArray(Ht),ea=$t?[]:{},ca=$t?Ve:Ie;for(const Ke in Ht)if(Object.prototype.hasOwnProperty.call(Ht,Ke)){const $e=`${ca}${w}${Ke}`;He&&!ae?ea[Ke]=this.translate($e,{...C,defaultValue:Hb(zt)?zt[Ke]:void 0,joinArrays:!1,ns:R}):ea[Ke]=this.translate($e,{...C,joinArrays:!1,ns:R}),ea[Ke]===$e&&(ea[Ke]=Ht[Ke])}ae=ea}}else if(Oe&&Ta(Le)&&Array.isArray(ae))ae=ae.join(Le),ae&&(ae=this.extendTranslation(ae,l,C,g));else{let $t=!1,ea=!1;!this.isValidLookup(ae)&&He&&($t=!0,ae=zt),this.isValidLookup(ae)||(ea=!0,ae=c);const Ke=(C.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ea?void 0:ae,$e=He&&zt!==ae&&this.options.updateMissing;if(ea||$t||$e){if(this.logger.log($e?"updateKey":"missingKey",G,k,c,$e?zt:ae),w){const rt=this.resolve(c,{...C,keySeparator:!1});rt&&rt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let xt=[];const kt=this.languageUtils.getFallbackCodes(this.options.fallbackLng,C.lng||this.language);if(this.options.saveMissingTo==="fallback"&&kt&&kt[0])for(let rt=0;rt<kt.length;rt++)xt.push(kt[rt]);else this.options.saveMissingTo==="all"?xt=this.languageUtils.toResolveHierarchy(C.lng||this.language):xt.push(C.lng||this.language);const _e=(rt,ht,Mt)=>{const Ft=He&&Mt!==ae?Mt:Ke;this.options.missingKeyHandler?this.options.missingKeyHandler(rt,k,ht,Ft,$e,C):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(rt,k,ht,Ft,$e,C),this.emit("missingKey",rt,k,ht,ae)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ot?xt.forEach(rt=>{const ht=this.pluralResolver.getSuffixes(rt,C);Dt&&C[`defaultValue${this.options.pluralSeparator}zero`]&&ht.indexOf(`${this.options.pluralSeparator}zero`)<0&&ht.push(`${this.options.pluralSeparator}zero`),ht.forEach(Mt=>{_e([rt],c+Mt,C[`defaultValue${Mt}`]||zt)})}):_e(xt,c,zt))}ae=this.extendTranslation(ae,l,C,H,g),ea&&ae===c&&this.options.appendNamespaceToMissingKey&&(ae=`${k}${q}${c}`),(ea||$t)&&this.options.parseMissingKeyHandler&&(ae=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${k}${q}${c}`:c,$t?ae:void 0,C))}return D?(H.res=ae,H.usedParams=this.getUsedParamsDetails(C),H):ae}extendTranslation(l,p,g,C,D){if(this.i18nFormat?.parse)l=this.i18nFormat.parse(l,{...this.options.interpolation.defaultVariables,...g},g.lng||this.language||C.usedLng,C.usedNS,C.usedKey,{resolved:C});else if(!g.skipInterpolation){g.interpolation&&this.interpolator.init({...g,interpolation:{...this.options.interpolation,...g.interpolation}});const R=Ta(l)&&(g?.interpolation?.skipOnVariables!==void 0?g.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let k;if(R){const G=l.match(this.interpolator.nestingRegexp);k=G&&G.length}let q=g.replace&&!Ta(g.replace)?g.replace:g;if(this.options.interpolation.defaultVariables&&(q={...this.options.interpolation.defaultVariables,...q}),l=this.interpolator.interpolate(l,q,g.lng||this.language||C.usedLng,g),R){const G=l.match(this.interpolator.nestingRegexp),Z=G&&G.length;k<Z&&(g.nest=!1)}!g.lng&&C&&C.res&&(g.lng=this.language||C.usedLng),g.nest!==!1&&(l=this.interpolator.nest(l,(...G)=>D?.[0]===G[0]&&!g.context?(this.logger.warn(`It seems you are nesting recursively key: ${G[0]} in key: ${p[0]}`),null):this.translate(...G,p),g)),g.interpolation&&this.interpolator.reset()}const w=g.postProcess||this.options.postProcess,c=Ta(w)?[w]:w;return l!=null&&c?.length&&g.applyPostProcessor!==!1&&(l=d_.handle(c,l,p,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...C,usedParams:this.getUsedParamsDetails(g)},...g}:g,this)),l}resolve(l,p={}){let g,C,D,w,c;return Ta(l)&&(l=[l]),l.forEach(R=>{if(this.isValidLookup(g))return;const k=this.extractFromKey(R,p),q=k.key;C=q;let G=k.namespaces;this.options.fallbackNS&&(G=G.concat(this.options.fallbackNS));const Z=p.count!==void 0&&!Ta(p.count),H=Z&&!p.ordinal&&p.count===0,ae=p.context!==void 0&&(Ta(p.context)||typeof p.context=="number")&&p.context!=="",Ie=p.lngs?p.lngs:this.languageUtils.toResolveHierarchy(p.lng||this.language,p.fallbackLng);G.forEach(Ve=>{this.isValidLookup(g)||(c=Ve,!Gb[`${Ie[0]}-${Ve}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(Gb[`${Ie[0]}-${Ve}`]=!0,this.logger.warn(`key "${C}" for languages "${Ie.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Ie.forEach(we=>{if(this.isValidLookup(g))return;w=we;const Le=[q];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(Le,q,we,Ve,p);else{let ot;Z&&(ot=this.pluralResolver.getSuffix(we,p.count,p));const He=`${this.options.pluralSeparator}zero`,Se=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(Z&&(Le.push(q+ot),p.ordinal&&ot.indexOf(Se)===0&&Le.push(q+ot.replace(Se,this.options.pluralSeparator)),H&&Le.push(q+He)),ae){const _t=`${q}${this.options.contextSeparator}${p.context}`;Le.push(_t),Z&&(Le.push(_t+ot),p.ordinal&&ot.indexOf(Se)===0&&Le.push(_t+ot.replace(Se,this.options.pluralSeparator)),H&&Le.push(_t+He))}}let Oe;for(;Oe=Le.pop();)this.isValidLookup(g)||(D=Oe,g=this.getResource(we,Ve,Oe,p))}))})}),{res:g,usedKey:C,exactUsedKey:D,usedLng:w,usedNS:c}}isValidLookup(l){return l!==void 0&&!(!this.options.returnNull&&l===null)&&!(!this.options.returnEmptyString&&l==="")}getResource(l,p,g,C={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(l,p,g,C):this.resourceStore.getResource(l,p,g,C)}getUsedParamsDetails(l={}){const p=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],g=l.replace&&!Ta(l.replace);let C=g?l.replace:l;if(g&&typeof l.count<"u"&&(C.count=l.count),this.options.interpolation.defaultVariables&&(C={...this.options.interpolation.defaultVariables,...C}),!g){C={...C};for(const D of p)delete C[D]}return C}static hasDefaultValue(l){const p="defaultValue";for(const g in l)if(Object.prototype.hasOwnProperty.call(l,g)&&p===g.substring(0,p.length)&&l[g]!==void 0)return!0;return!1}}class Xb{constructor(l){this.options=l,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xc.create("languageUtils")}getScriptPartFromCode(l){if(l=Sm(l),!l||l.indexOf("-")<0)return null;const p=l.split("-");return p.length===2||(p.pop(),p[p.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(p.join("-"))}getLanguagePartFromCode(l){if(l=Sm(l),!l||l.indexOf("-")<0)return l;const p=l.split("-");return this.formatLanguageCode(p[0])}formatLanguageCode(l){if(Ta(l)&&l.indexOf("-")>-1){let p;try{p=Intl.getCanonicalLocales(l)[0]}catch{}return p&&this.options.lowerCaseLng&&(p=p.toLowerCase()),p||(this.options.lowerCaseLng?l.toLowerCase():l)}return this.options.cleanCode||this.options.lowerCaseLng?l.toLowerCase():l}isSupportedCode(l){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(l=this.getLanguagePartFromCode(l)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(l)>-1}getBestMatchFromCodes(l){if(!l)return null;let p;return l.forEach(g=>{if(p)return;const C=this.formatLanguageCode(g);(!this.options.supportedLngs||this.isSupportedCode(C))&&(p=C)}),!p&&this.options.supportedLngs&&l.forEach(g=>{if(p)return;const C=this.getScriptPartFromCode(g);if(this.isSupportedCode(C))return p=C;const D=this.getLanguagePartFromCode(g);if(this.isSupportedCode(D))return p=D;p=this.options.supportedLngs.find(w=>{if(w===D)return w;if(!(w.indexOf("-")<0&&D.indexOf("-")<0)&&(w.indexOf("-")>0&&D.indexOf("-")<0&&w.substring(0,w.indexOf("-"))===D||w.indexOf(D)===0&&D.length>1))return w})}),p||(p=this.getFallbackCodes(this.options.fallbackLng)[0]),p}getFallbackCodes(l,p){if(!l)return[];if(typeof l=="function"&&(l=l(p)),Ta(l)&&(l=[l]),Array.isArray(l))return l;if(!p)return l.default||[];let g=l[p];return g||(g=l[this.getScriptPartFromCode(p)]),g||(g=l[this.formatLanguageCode(p)]),g||(g=l[this.getLanguagePartFromCode(p)]),g||(g=l.default),g||[]}toResolveHierarchy(l,p){const g=this.getFallbackCodes((p===!1?[]:p)||this.options.fallbackLng||[],l),C=[],D=w=>{w&&(this.isSupportedCode(w)?C.push(w):this.logger.warn(`rejecting language code not found in supportedLngs: ${w}`))};return Ta(l)&&(l.indexOf("-")>-1||l.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&D(this.formatLanguageCode(l)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&D(this.getScriptPartFromCode(l)),this.options.load!=="currentOnly"&&D(this.getLanguagePartFromCode(l))):Ta(l)&&D(this.formatLanguageCode(l)),g.forEach(w=>{C.indexOf(w)<0&&D(this.formatLanguageCode(w))}),C}}const Zb={zero:0,one:1,two:2,few:3,many:4,other:5},$b={select:o=>o===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class n2{constructor(l,p={}){this.languageUtils=l,this.options=p,this.logger=xc.create("pluralResolver"),this.pluralRulesCache={}}addRule(l,p){this.rules[l]=p}clearCache(){this.pluralRulesCache={}}getRule(l,p={}){const g=Sm(l==="dev"?"en":l),C=p.ordinal?"ordinal":"cardinal",D=JSON.stringify({cleanedCode:g,type:C});if(D in this.pluralRulesCache)return this.pluralRulesCache[D];let w;try{w=new Intl.PluralRules(g,{type:C})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),$b;if(!l.match(/-|_/))return $b;const R=this.languageUtils.getLanguagePartFromCode(l);w=this.getRule(R,p)}return this.pluralRulesCache[D]=w,w}needsPlural(l,p={}){let g=this.getRule(l,p);return g||(g=this.getRule("dev",p)),g?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(l,p,g={}){return this.getSuffixes(l,g).map(C=>`${p}${C}`)}getSuffixes(l,p={}){let g=this.getRule(l,p);return g||(g=this.getRule("dev",p)),g?g.resolvedOptions().pluralCategories.sort((C,D)=>Zb[C]-Zb[D]).map(C=>`${this.options.prepend}${p.ordinal?`ordinal${this.options.prepend}`:""}${C}`):[]}getSuffix(l,p,g={}){const C=this.getRule(l,g);return C?`${this.options.prepend}${g.ordinal?`ordinal${this.options.prepend}`:""}${C.select(p)}`:(this.logger.warn(`no plural rule found for: ${l}`),this.getSuffix("dev",p,g))}}const Jb=(o,l,p,g=".",C=!0)=>{let D=Jw(o,l,p);return!D&&C&&Ta(p)&&(D=Hy(o,p,g),D===void 0&&(D=Hy(l,p,g))),D},Ty=o=>o.replace(/\$/g,"$$$$");class r2{constructor(l={}){this.logger=xc.create("interpolator"),this.options=l,this.format=l?.interpolation?.format||(p=>p),this.init(l)}init(l={}){l.interpolation||(l.interpolation={escapeValue:!0});const{escape:p,escapeValue:g,useRawValueToEscape:C,prefix:D,prefixEscaped:w,suffix:c,suffixEscaped:R,formatSeparator:k,unescapeSuffix:q,unescapePrefix:G,nestingPrefix:Z,nestingPrefixEscaped:H,nestingSuffix:ae,nestingSuffixEscaped:Ie,nestingOptionsSeparator:Ve,maxReplaces:we,alwaysFormat:Le}=l.interpolation;this.escape=p!==void 0?p:Yw,this.escapeValue=g!==void 0?g:!0,this.useRawValueToEscape=C!==void 0?C:!1,this.prefix=D?Dp(D):w||"{{",this.suffix=c?Dp(c):R||"}}",this.formatSeparator=k||",",this.unescapePrefix=q?"":G||"-",this.unescapeSuffix=this.unescapePrefix?"":q||"",this.nestingPrefix=Z?Dp(Z):H||Dp("$t("),this.nestingSuffix=ae?Dp(ae):Ie||Dp(")"),this.nestingOptionsSeparator=Ve||",",this.maxReplaces=we||1e3,this.alwaysFormat=Le!==void 0?Le:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const l=(p,g)=>p?.source===g?(p.lastIndex=0,p):new RegExp(g,"g");this.regexp=l(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=l(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=l(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(l,p,g,C){let D,w,c;const R=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},k=H=>{if(H.indexOf(this.formatSeparator)<0){const we=Jb(p,R,H,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(we,void 0,g,{...C,...p,interpolationkey:H}):we}const ae=H.split(this.formatSeparator),Ie=ae.shift().trim(),Ve=ae.join(this.formatSeparator).trim();return this.format(Jb(p,R,Ie,this.options.keySeparator,this.options.ignoreJSONStructure),Ve,g,{...C,...p,interpolationkey:Ie})};this.resetRegExp();const q=C?.missingInterpolationHandler||this.options.missingInterpolationHandler,G=C?.interpolation?.skipOnVariables!==void 0?C.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:H=>Ty(H)},{regex:this.regexp,safeValue:H=>this.escapeValue?Ty(this.escape(H)):Ty(H)}].forEach(H=>{for(c=0;D=H.regex.exec(l);){const ae=D[1].trim();if(w=k(ae),w===void 0)if(typeof q=="function"){const Ve=q(l,D,C);w=Ta(Ve)?Ve:""}else if(C&&Object.prototype.hasOwnProperty.call(C,ae))w="";else if(G){w=D[0];continue}else this.logger.warn(`missed to pass in variable ${ae} for interpolating ${l}`),w="";else!Ta(w)&&!this.useRawValueToEscape&&(w=qb(w));const Ie=H.safeValue(w);if(l=l.replace(D[0],Ie),G?(H.regex.lastIndex+=w.length,H.regex.lastIndex-=D[0].length):H.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),l}nest(l,p,g={}){let C,D,w;const c=(R,k)=>{const q=this.nestingOptionsSeparator;if(R.indexOf(q)<0)return R;const G=R.split(new RegExp(`${q}[ ]*{`));let Z=`{${G[1]}`;R=G[0],Z=this.interpolate(Z,w);const H=Z.match(/'/g),ae=Z.match(/"/g);((H?.length??0)%2===0&&!ae||ae.length%2!==0)&&(Z=Z.replace(/'/g,'"'));try{w=JSON.parse(Z),k&&(w={...k,...w})}catch(Ie){return this.logger.warn(`failed parsing options string in nesting for key ${R}`,Ie),`${R}${q}${Z}`}return w.defaultValue&&w.defaultValue.indexOf(this.prefix)>-1&&delete w.defaultValue,R};for(;C=this.nestingRegexp.exec(l);){let R=[];w={...g},w=w.replace&&!Ta(w.replace)?w.replace:w,w.applyPostProcessor=!1,delete w.defaultValue;const k=/{.*}/.test(C[1])?C[1].lastIndexOf("}")+1:C[1].indexOf(this.formatSeparator);if(k!==-1&&(R=C[1].slice(k).split(this.formatSeparator).map(q=>q.trim()).filter(Boolean),C[1]=C[1].slice(0,k)),D=p(c.call(this,C[1].trim(),w),w),D&&C[0]===l&&!Ta(D))return D;Ta(D)||(D=qb(D)),D||(this.logger.warn(`missed to resolve ${C[1]} for nesting ${l}`),D=""),R.length&&(D=R.reduce((q,G)=>this.format(q,G,g.lng,{...g,interpolationkey:C[1].trim()}),D.trim())),l=l.replace(C[0],D),this.regexp.lastIndex=0}return l}}const o2=o=>{let l=o.toLowerCase().trim();const p={};if(o.indexOf("(")>-1){const g=o.split("(");l=g[0].toLowerCase().trim();const C=g[1].substring(0,g[1].length-1);l==="currency"&&C.indexOf(":")<0?p.currency||(p.currency=C.trim()):l==="relativetime"&&C.indexOf(":")<0?p.range||(p.range=C.trim()):C.split(";").forEach(w=>{if(w){const[c,...R]=w.split(":"),k=R.join(":").trim().replace(/^'+|'+$/g,""),q=c.trim();p[q]||(p[q]=k),k==="false"&&(p[q]=!1),k==="true"&&(p[q]=!0),isNaN(k)||(p[q]=parseInt(k,10))}})}return{formatName:l,formatOptions:p}},Wb=o=>{const l={};return(p,g,C)=>{let D=C;C&&C.interpolationkey&&C.formatParams&&C.formatParams[C.interpolationkey]&&C[C.interpolationkey]&&(D={...D,[C.interpolationkey]:void 0});const w=g+JSON.stringify(D);let c=l[w];return c||(c=o(Sm(g),C),l[w]=c),c(p)}},s2=o=>(l,p,g)=>o(Sm(p),g)(l);class l2{constructor(l={}){this.logger=xc.create("formatter"),this.options=l,this.init(l)}init(l,p={interpolation:{}}){this.formatSeparator=p.interpolation.formatSeparator||",";const g=p.cacheInBuiltFormats?Wb:s2;this.formats={number:g((C,D)=>{const w=new Intl.NumberFormat(C,{...D});return c=>w.format(c)}),currency:g((C,D)=>{const w=new Intl.NumberFormat(C,{...D,style:"currency"});return c=>w.format(c)}),datetime:g((C,D)=>{const w=new Intl.DateTimeFormat(C,{...D});return c=>w.format(c)}),relativetime:g((C,D)=>{const w=new Intl.RelativeTimeFormat(C,{...D});return c=>w.format(c,D.range||"day")}),list:g((C,D)=>{const w=new Intl.ListFormat(C,{...D});return c=>w.format(c)})}}add(l,p){this.formats[l.toLowerCase().trim()]=p}addCached(l,p){this.formats[l.toLowerCase().trim()]=Wb(p)}format(l,p,g,C={}){const D=p.split(this.formatSeparator);if(D.length>1&&D[0].indexOf("(")>1&&D[0].indexOf(")")<0&&D.find(c=>c.indexOf(")")>-1)){const c=D.findIndex(R=>R.indexOf(")")>-1);D[0]=[D[0],...D.splice(1,c)].join(this.formatSeparator)}return D.reduce((c,R)=>{const{formatName:k,formatOptions:q}=o2(R);if(this.formats[k]){let G=c;try{const Z=C?.formatParams?.[C.interpolationkey]||{},H=Z.locale||Z.lng||C.locale||C.lng||g;G=this.formats[k](c,H,{...q,...C,...Z})}catch(Z){this.logger.warn(Z)}return G}else this.logger.warn(`there was no format function for ${k}`);return c},l)}}const c2=(o,l)=>{o.pending[l]!==void 0&&(delete o.pending[l],o.pendingCount--)};class u2 extends Wg{constructor(l,p,g,C={}){super(),this.backend=l,this.store=p,this.services=g,this.languageUtils=g.languageUtils,this.options=C,this.logger=xc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=C.maxParallelReads||10,this.readingCalls=0,this.maxRetries=C.maxRetries>=0?C.maxRetries:5,this.retryTimeout=C.retryTimeout>=1?C.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(g,C.backend,C)}queueLoad(l,p,g,C){const D={},w={},c={},R={};return l.forEach(k=>{let q=!0;p.forEach(G=>{const Z=`${k}|${G}`;!g.reload&&this.store.hasResourceBundle(k,G)?this.state[Z]=2:this.state[Z]<0||(this.state[Z]===1?w[Z]===void 0&&(w[Z]=!0):(this.state[Z]=1,q=!1,w[Z]===void 0&&(w[Z]=!0),D[Z]===void 0&&(D[Z]=!0),R[G]===void 0&&(R[G]=!0)))}),q||(c[k]=!0)}),(Object.keys(D).length||Object.keys(w).length)&&this.queue.push({pending:w,pendingCount:Object.keys(w).length,loaded:{},errors:[],callback:C}),{toLoad:Object.keys(D),pending:Object.keys(w),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(R)}}loaded(l,p,g){const C=l.split("|"),D=C[0],w=C[1];p&&this.emit("failedLoading",D,w,p),!p&&g&&this.store.addResourceBundle(D,w,g,void 0,void 0,{skipCopy:!0}),this.state[l]=p?-1:2,p&&g&&(this.state[l]=0);const c={};this.queue.forEach(R=>{$w(R.loaded,[D],w),c2(R,l),p&&R.errors.push(p),R.pendingCount===0&&!R.done&&(Object.keys(R.loaded).forEach(k=>{c[k]||(c[k]={});const q=R.loaded[k];q.length&&q.forEach(G=>{c[k][G]===void 0&&(c[k][G]=!0)})}),R.done=!0,R.errors.length?R.callback(R.errors):R.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(R=>!R.done)}read(l,p,g,C=0,D=this.retryTimeout,w){if(!l.length)return w(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:l,ns:p,fcName:g,tried:C,wait:D,callback:w});return}this.readingCalls++;const c=(k,q)=>{if(this.readingCalls--,this.waitingReads.length>0){const G=this.waitingReads.shift();this.read(G.lng,G.ns,G.fcName,G.tried,G.wait,G.callback)}if(k&&q&&C<this.maxRetries){setTimeout(()=>{this.read.call(this,l,p,g,C+1,D*2,w)},D);return}w(k,q)},R=this.backend[g].bind(this.backend);if(R.length===2){try{const k=R(l,p);k&&typeof k.then=="function"?k.then(q=>c(null,q)).catch(c):c(null,k)}catch(k){c(k)}return}return R(l,p,c)}prepareLoading(l,p,g={},C){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),C&&C();Ta(l)&&(l=this.languageUtils.toResolveHierarchy(l)),Ta(p)&&(p=[p]);const D=this.queueLoad(l,p,g,C);if(!D.toLoad.length)return D.pending.length||C(),null;D.toLoad.forEach(w=>{this.loadOne(w)})}load(l,p,g){this.prepareLoading(l,p,{},g)}reload(l,p,g){this.prepareLoading(l,p,{reload:!0},g)}loadOne(l,p=""){const g=l.split("|"),C=g[0],D=g[1];this.read(C,D,"read",void 0,void 0,(w,c)=>{w&&this.logger.warn(`${p}loading namespace ${D} for language ${C} failed`,w),!w&&c&&this.logger.log(`${p}loaded namespace ${D} for language ${C}`,c),this.loaded(l,w,c)})}saveMissing(l,p,g,C,D,w={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(p)){this.logger.warn(`did not save key "${g}" as the namespace "${p}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(g==null||g==="")){if(this.backend?.create){const R={...w,isUpdate:D},k=this.backend.create.bind(this.backend);if(k.length<6)try{let q;k.length===5?q=k(l,p,g,C,R):q=k(l,p,g,C),q&&typeof q.then=="function"?q.then(G=>c(null,G)).catch(c):c(null,q)}catch(q){c(q)}else k(l,p,g,C,c,R)}!l||!l[0]||this.store.addResource(l[0],p,g,C)}}}const Yb=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o=>{let l={};if(typeof o[1]=="object"&&(l=o[1]),Ta(o[1])&&(l.defaultValue=o[1]),Ta(o[2])&&(l.tDescription=o[2]),typeof o[2]=="object"||typeof o[3]=="object"){const p=o[3]||o[2];Object.keys(p).forEach(g=>{l[g]=p[g]})}return l},interpolation:{escapeValue:!0,format:o=>o,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Qb=o=>(Ta(o.ns)&&(o.ns=[o.ns]),Ta(o.fallbackLng)&&(o.fallbackLng=[o.fallbackLng]),Ta(o.fallbackNS)&&(o.fallbackNS=[o.fallbackNS]),o.supportedLngs?.indexOf?.("cimode")<0&&(o.supportedLngs=o.supportedLngs.concat(["cimode"])),typeof o.initImmediate=="boolean"&&(o.initAsync=o.initImmediate),o),_g=()=>{},d2=o=>{Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach(p=>{typeof o[p]=="function"&&(o[p]=o[p].bind(o))})};class Tm extends Wg{constructor(l={},p){if(super(),this.options=Qb(l),this.services={},this.logger=xc,this.modules={external:[]},d2(this),p&&!this.isInitialized&&!l.isClone){if(!this.options.initAsync)return this.init(l,p),this;setTimeout(()=>{this.init(l,p)},0)}}init(l={},p){this.isInitializing=!0,typeof l=="function"&&(p=l,l={}),l.defaultNS==null&&l.ns&&(Ta(l.ns)?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));const g=Yb();this.options={...g,...this.options,...Qb(l)},this.options.interpolation={...g.interpolation,...this.options.interpolation},l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);const C=k=>k?typeof k=="function"?new k:k:null;if(!this.options.isClone){this.modules.logger?xc.init(C(this.modules.logger),this.options):xc.init(null,this.options);let k;this.modules.formatter?k=this.modules.formatter:k=l2;const q=new Xb(this.options);this.store=new Ub(this.options.resources,this.options);const G=this.services;G.logger=xc,G.resourceStore=this.store,G.languageUtils=q,G.pluralResolver=new n2(q,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==g.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),k&&(!this.options.interpolation.format||this.options.interpolation.format===g.interpolation.format)&&(G.formatter=C(k),G.formatter.init&&G.formatter.init(G,this.options),this.options.interpolation.format=G.formatter.format.bind(G.formatter)),G.interpolator=new r2(this.options),G.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},G.backendConnector=new u2(C(this.modules.backend),G.resourceStore,G,this.options),G.backendConnector.on("*",(H,...ae)=>{this.emit(H,...ae)}),this.modules.languageDetector&&(G.languageDetector=C(this.modules.languageDetector),G.languageDetector.init&&G.languageDetector.init(G,this.options.detection,this.options)),this.modules.i18nFormat&&(G.i18nFormat=C(this.modules.i18nFormat),G.i18nFormat.init&&G.i18nFormat.init(this)),this.translator=new qg(this.services,this.options),this.translator.on("*",(H,...ae)=>{this.emit(H,...ae)}),this.modules.external.forEach(H=>{H.init&&H.init(this)})}if(this.format=this.options.interpolation.format,p||(p=_g),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const k=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);k.length>0&&k[0]!=="dev"&&(this.options.lng=k[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(k=>{this[k]=(...q)=>this.store[k](...q)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(k=>{this[k]=(...q)=>(this.store[k](...q),this)});const c=sm(),R=()=>{const k=(q,G)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(G),p(q,G)};if(this.languages&&!this.isInitialized)return k(null,this.t.bind(this));this.changeLanguage(this.options.lng,k)};return this.options.resources||!this.options.initAsync?R():setTimeout(R,0),c}loadResources(l,p=_g){let g=p;const C=Ta(l)?l:this.language;if(typeof l=="function"&&(g=l),!this.options.resources||this.options.partialBundledLanguages){if(C?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return g();const D=[],w=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(k=>{k!=="cimode"&&D.indexOf(k)<0&&D.push(k)})};C?w(C):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(R=>w(R)),this.options.preload?.forEach?.(c=>w(c)),this.services.backendConnector.load(D,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),g(c)})}else g(null)}reloadResources(l,p,g){const C=sm();return typeof l=="function"&&(g=l,l=void 0),typeof p=="function"&&(g=p,p=void 0),l||(l=this.languages),p||(p=this.options.ns),g||(g=_g),this.services.backendConnector.reload(l,p,D=>{C.resolve(),g(D)}),C}use(l){if(!l)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!l.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return l.type==="backend"&&(this.modules.backend=l),(l.type==="logger"||l.log&&l.warn&&l.error)&&(this.modules.logger=l),l.type==="languageDetector"&&(this.modules.languageDetector=l),l.type==="i18nFormat"&&(this.modules.i18nFormat=l),l.type==="postProcessor"&&d_.addPostProcessor(l),l.type==="formatter"&&(this.modules.formatter=l),l.type==="3rdParty"&&this.modules.external.push(l),this}setResolvedLanguage(l){if(!(!l||!this.languages)&&!(["cimode","dev"].indexOf(l)>-1)){for(let p=0;p<this.languages.length;p++){const g=this.languages[p];if(!(["cimode","dev"].indexOf(g)>-1)&&this.store.hasLanguageSomeTranslations(g)){this.resolvedLanguage=g;break}}!this.resolvedLanguage&&this.languages.indexOf(l)<0&&this.store.hasLanguageSomeTranslations(l)&&(this.resolvedLanguage=l,this.languages.unshift(l))}}changeLanguage(l,p){this.isLanguageChangingTo=l;const g=sm();this.emit("languageChanging",l);const C=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},D=(c,R)=>{R?this.isLanguageChangingTo===l&&(C(R),this.translator.changeLanguage(R),this.isLanguageChangingTo=void 0,this.emit("languageChanged",R),this.logger.log("languageChanged",R)):this.isLanguageChangingTo=void 0,g.resolve((...k)=>this.t(...k)),p&&p(c,(...k)=>this.t(...k))},w=c=>{!l&&!c&&this.services.languageDetector&&(c=[]);const R=Ta(c)?c:c&&c[0],k=this.store.hasLanguageSomeTranslations(R)?R:this.services.languageUtils.getBestMatchFromCodes(Ta(c)?[c]:c);k&&(this.language||C(k),this.translator.language||this.translator.changeLanguage(k),this.services.languageDetector?.cacheUserLanguage?.(k)),this.loadResources(k,q=>{D(q,k)})};return!l&&this.services.languageDetector&&!this.services.languageDetector.async?w(this.services.languageDetector.detect()):!l&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(w):this.services.languageDetector.detect(w):w(l),g}getFixedT(l,p,g){const C=(D,w,...c)=>{let R;typeof w!="object"?R=this.options.overloadTranslationOptionHandler([D,w].concat(c)):R={...w},R.lng=R.lng||C.lng,R.lngs=R.lngs||C.lngs,R.ns=R.ns||C.ns,R.keyPrefix!==""&&(R.keyPrefix=R.keyPrefix||g||C.keyPrefix);const k=this.options.keySeparator||".";let q;return R.keyPrefix&&Array.isArray(D)?q=D.map(G=>`${R.keyPrefix}${k}${G}`):q=R.keyPrefix?`${R.keyPrefix}${k}${D}`:D,this.t(q,R)};return Ta(l)?C.lng=l:C.lngs=l,C.ns=p,C.keyPrefix=g,C}t(...l){return this.translator?.translate(...l)}exists(...l){return this.translator?.exists(...l)}setDefaultNamespace(l){this.options.defaultNS=l}hasLoadedNamespace(l,p={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const g=p.lng||this.resolvedLanguage||this.languages[0],C=this.options?this.options.fallbackLng:!1,D=this.languages[this.languages.length-1];if(g.toLowerCase()==="cimode")return!0;const w=(c,R)=>{const k=this.services.backendConnector.state[`${c}|${R}`];return k===-1||k===0||k===2};if(p.precheck){const c=p.precheck(this,w);if(c!==void 0)return c}return!!(this.hasResourceBundle(g,l)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||w(g,l)&&(!C||w(D,l)))}loadNamespaces(l,p){const g=sm();return this.options.ns?(Ta(l)&&(l=[l]),l.forEach(C=>{this.options.ns.indexOf(C)<0&&this.options.ns.push(C)}),this.loadResources(C=>{g.resolve(),p&&p(C)}),g):(p&&p(),Promise.resolve())}loadLanguages(l,p){const g=sm();Ta(l)&&(l=[l]);const C=this.options.preload||[],D=l.filter(w=>C.indexOf(w)<0&&this.services.languageUtils.isSupportedCode(w));return D.length?(this.options.preload=C.concat(D),this.loadResources(w=>{g.resolve(),p&&p(w)}),g):(p&&p(),Promise.resolve())}dir(l){if(l||(l=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!l)return"rtl";try{const C=new Intl.Locale(l);if(C&&C.getTextInfo){const D=C.getTextInfo();if(D&&D.direction)return D.direction}}catch{}const p=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],g=this.services?.languageUtils||new Xb(Yb());return l.toLowerCase().indexOf("-latn")>1?"ltr":p.indexOf(g.getLanguagePartFromCode(l))>-1||l.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(l={},p){return new Tm(l,p)}cloneInstance(l={},p=_g){const g=l.forkResourceStore;g&&delete l.forkResourceStore;const C={...this.options,...l,isClone:!0},D=new Tm(C);if((l.debug!==void 0||l.prefix!==void 0)&&(D.logger=D.logger.clone(l)),["store","services","language"].forEach(c=>{D[c]=this[c]}),D.services={...this.services},D.services.utils={hasLoadedNamespace:D.hasLoadedNamespace.bind(D)},g){const c=Object.keys(this.store.data).reduce((R,k)=>(R[k]={...this.store.data[k]},R[k]=Object.keys(R[k]).reduce((q,G)=>(q[G]={...R[k][G]},q),R[k]),R),{});D.store=new Ub(c,C),D.services.resourceStore=D.store}return D.translator=new qg(D.services,C),D.translator.on("*",(c,...R)=>{D.emit(c,...R)}),D.init(C,p),D.translator.options=C,D.translator.backendConnector.services.utils={hasLoadedNamespace:D.hasLoadedNamespace.bind(D)},D}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Dr=Tm.createInstance();Dr.createInstance=Tm.createInstance;Dr.createInstance;Dr.dir;Dr.init;Dr.loadResources;Dr.reloadResources;Dr.use;Dr.changeLanguage;Dr.getFixedT;Dr.t;Dr.exists;Dr.setDefaultNamespace;Dr.hasLoadedNamespace;Dr.loadNamespaces;Dr.loadLanguages;const h2=(o,l,p,g)=>{const C=[p,{code:l,...g||{}}];if(o?.services?.logger?.forward)return o.services.logger.forward(C,"warn","react-i18next::",!0);Ah(C[0])&&(C[0]=`react-i18next:: ${C[0]}`),o?.services?.logger?.warn?o.services.logger.warn(...C):console?.warn&&console.warn(...C)},e0={},Xy=(o,l,p,g)=>{Ah(p)&&e0[p]||(Ah(p)&&(e0[p]=new Date),h2(o,l,p,g))},h_=(o,l)=>()=>{if(o.isInitialized)l();else{const p=()=>{setTimeout(()=>{o.off("initialized",p)},0),l()};o.on("initialized",p)}},Zy=(o,l,p)=>{o.loadNamespaces(l,h_(o,p))},t0=(o,l,p,g)=>{if(Ah(p)&&(p=[p]),o.options.preload&&o.options.preload.indexOf(l)>-1)return Zy(o,p,g);p.forEach(C=>{o.options.ns.indexOf(C)<0&&o.options.ns.push(C)}),o.loadLanguages(l,h_(o,g))},p2=(o,l,p={})=>!l.languages||!l.languages.length?(Xy(l,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:l.languages}),!0):l.hasLoadedNamespace(o,{lng:p.lng,precheck:(g,C)=>{if(p.bindI18n?.indexOf("languageChanging")>-1&&g.services.backendConnector.backend&&g.isLanguageChangingTo&&!C(g.isLanguageChangingTo,o))return!1}}),Ah=o=>typeof o=="string",f2=o=>typeof o=="object"&&o!==null,m2=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,g2={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},y2=o=>g2[o],v2=o=>o.replace(m2,y2);let $y={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:v2};const b2=(o={})=>{$y={...$y,...o}},x2=()=>$y;let p_;const _2=o=>{p_=o},w2=()=>p_,C2={type:"3rdParty",init(o){b2(o.options.react),_2(o)}},S2=fe.createContext();class T2{constructor(){this.usedNamespaces={}}addUsedNamespaces(l){l.forEach(p=>{this.usedNamespaces[p]||(this.usedNamespaces[p]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const P2=(o,l)=>{const p=fe.useRef();return fe.useEffect(()=>{p.current=o},[o,l]),p.current},f_=(o,l,p,g)=>o.getFixedT(l,p,g),D2=(o,l,p,g)=>fe.useCallback(f_(o,l,p,g),[o,l,p,g]),Jt=(o,l={})=>{const{i18n:p}=l,{i18n:g,defaultNS:C}=fe.useContext(S2)||{},D=p||g||w2();if(D&&!D.reportNamespaces&&(D.reportNamespaces=new T2),!D){Xy(D,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const ot=(Se,_t)=>Ah(_t)?_t:f2(_t)&&Ah(_t.defaultValue)?_t.defaultValue:Array.isArray(Se)?Se[Se.length-1]:Se,He=[ot,{},!1];return He.t=ot,He.i18n={},He.ready=!1,He}D.options.react?.wait&&Xy(D,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const w={...x2(),...D.options.react,...l},{useSuspense:c,keyPrefix:R}=w;let k=o||C||D.options?.defaultNS;k=Ah(k)?[k]:k||["translation"],D.reportNamespaces.addUsedNamespaces?.(k);const q=(D.isInitialized||D.initializedStoreOnce)&&k.every(ot=>p2(ot,D,w)),G=D2(D,l.lng||null,w.nsMode==="fallback"?k:k[0],R),Z=()=>G,H=()=>f_(D,l.lng||null,w.nsMode==="fallback"?k:k[0],R),[ae,Ie]=fe.useState(Z);let Ve=k.join();l.lng&&(Ve=`${l.lng}${Ve}`);const we=P2(Ve),Le=fe.useRef(!0);fe.useEffect(()=>{const{bindI18n:ot,bindI18nStore:He}=w;Le.current=!0,!q&&!c&&(l.lng?t0(D,l.lng,k,()=>{Le.current&&Ie(H)}):Zy(D,k,()=>{Le.current&&Ie(H)})),q&&we&&we!==Ve&&Le.current&&Ie(H);const Se=()=>{Le.current&&Ie(H)};return ot&&D?.on(ot,Se),He&&D?.store.on(He,Se),()=>{Le.current=!1,D&&ot?.split(" ").forEach(_t=>D.off(_t,Se)),He&&D&&He.split(" ").forEach(_t=>D.store.off(_t,Se))}},[D,Ve]),fe.useEffect(()=>{Le.current&&q&&Ie(Z)},[D,R,q]);const Oe=[ae,D,q];if(Oe.t=ae,Oe.i18n=D,Oe.ready=q,q||!q&&!c)return Oe;throw new Promise(ot=>{l.lng?t0(D,l.lng,k,()=>ot()):Zy(D,k,()=>ot())})},M2={home:"Home",experiences:"Experiences",about:"About Us",security:"Safety",contact:"Contact",gear:"Store",divesites:"Dive Spots",policies:"Our Policies",termsAndConditions:"Terms and Conditions",privacy:"Privacy Policy",faqs:"FAQs",footerLinksTitle:"Explore & Learn"},A2={footerSlogan:"At JustDiveCol, we create heartfelt explorers, not just tourists. Your underwater adventure with us transcends borders and expands your world.",footerClosingMessage:"More than just diving, at JustDiveCol, we create unforgettable memories that last a lifetime beneath the sea. Feel the passion for the ocean!",footerCopyright:"JustDiveCol. All rights reserved.",footerCredits:"Designed and built with passion for underwater explorers, powered by React + Vite, TailwindCSS, and Motion."},I2={paymentTitle:"Flexible Payment Methods",paymentMethod1Name:"Secure Payment Link",paymentMethod1Desc:"For your convenience, we'll send you a personalized payment link. Pay easily with national credit card (Visa, Mastercard), debit (PSE), or directly from your Bancolombia or Nequi account. A simple and protected process.",paymentMethod2Name:"Direct Bank Transfer",paymentMethod2Desc:"If you prefer, transfer directly to our Bold savings account. We'll provide bank details upon booking confirmation. Simple and direct to secure your adventure!"},L2={learnMore:"Discover More",viewCalendar:"View Dive Calendar",chatOnWhatsApp:"Let's Chat on WhatsApp",logoAlt:"JustDiveCol Logo",viewDetails:"View Details",datesNotAvailable:"Dates Not Available",viewTripDetails:"View experience details",noScheduledDates:"No dates scheduled yet. Contact us for a custom experience!",durationFormat:"{{days}} Days / {{nights}} Nights",detailsDateLabel:"Trip Dates",detailsDurationLabel:"Trip Duration",upcomingDates:"Upcoming Dates",statusUpcoming:"Dates Coming Soon!",statusAvailable:"Spots Available",statusLastSeats:"Last Spots Available!",statusSoldOut:"Fully Booked!",statusCompleted:"Completed",ariaPrevious:"Previous Item",ariaNext:"Next Item",ariaGoToPage:"Go to Page",loading:"Loading Content...",day:"Day"},E2={homeSeoTitle:"JustDiveCol - Unforgettable Dive Courses & Experiences",homeSeoDesc:"Dive into an underwater adventure that transcends borders. As a tourism company specializing in diving, we offer world-class PADI certifications and personalized trips to the most amazing destinations globally. Your exploration of the big blue starts today with JustDiveCol!",homeSeoKeywords:"diving, dive courses, PADI certifications, dive trips, underwater adventure, JustDiveCol, ocean exploration, safe diving, Colombia diving, personalized diving, open water, advanced open water, rescue diver, marine life",homeHeroTitle:"Your Next Great Adventure Begins Underwater",homeHeroSubtitle:"Explore the hidden wonders of the oceans with the safety and passion that distinguish us. We invite you to discover a world of unparalleled beauty, fascinating life, and emotions that linger long after the dive.",homeHeroCtaText:"Discover Our Experiences",homeHeroMainLogoAlt:"JustDiveCol Main Logo",homeHeroPhotoCreditKey:"Photo Credits: Camilo Beltran @JustDiveCol",homeExpTitle:"Experiences That Transform Your Worldview",homeExpSubtitle:"No matter if you're taking your first breaths underwater or if you're already an experienced diver; at JustDiveCol, we have an underwater adventure tailored to your adventurous spirit and boldest dreams.",expCardCertificacionTitle:"PADI Certifications",expCardCertificacionCategory:"Your Journey to the Underwater World Starts Here",expCardCertificacionMainLogoAlt:"JustDiveCol Main Logo",expCardCertificacionComplementaryLogoAlt:"PADI Logo",expCardCertificacionPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expCardExploracionTitle:"Dive Trips & Exploration",expCardExploracionCategory:"Destinations That Will Take Your Breath Away",expCardExploracionMainLogoAlt:"JustDiveCol Main Logo",expCardExploracionPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expCardPrivadosTitle:"Personalized Experiences",expCardPrivadosCategory:"Design the Perfect Underwater Adventure for You",expCardPrivadosMainLogoAlt:"JustDiveCol Main Logo",expCardPrivadosPhotoCredit:"Photo Credits: @giovannidiveservices",homeSafetyTitle:"Your Only Mission: Dive and Explore with Peace of Mind",homeSafetySubtitle:"Diving is a passion that should be enjoyed with complete tranquility and confidence. We take care of every detail for your safety, allowing you to focus solely on the ocean's magic.",homeSafetyPoint1Title:"Expert & PADI Certified Guides and Instructors",homeSafetyPoint1Desc:"Our team consists of highly qualified PADI professionals, with years of experience leading safe and memorable dives in diverse underwater environments. Your safety is in expert hands.",homeSafetyPoint2Title:"Top-Quality Equipment & Rigorous Maintenance",homeSafetyPoint2Desc:"We only use diving equipment from leading industry brands, subjected to exhaustive maintenance and regular inspections with Swiss watch standards, to ensure your maximum safety and comfort on every dive.",homeSafetyPoint3Title:"Strict International Safety Protocols",homeSafetyPoint3Desc:"We rigorously follow the strictest safety standards and protocols established by PADI and other international organizations, ensuring that every dive you undertake with us is safe, responsible, and mindful of your well-being at all times.",homeSafetyCtaText:"Learn About Our Safety Commitments",homeTestimonialsTitle:"Voices from Our Unforgettable Underwater Adventures",homeTestimonial1Quote:"The diving experience exceeded all my expectations. The JustDiveCol team is incredibly professional and passionate. I felt safe and free on every dive. An adventure that will change your life!",homeTestimonial1Name:"María Fernanda R.",homeTestimonial1Origin:"Bogotá, Colombia",homeTestimonial2Quote:"I always dreamed of diving, and JustDiveCol made that dream come true in the most spectacular way. The organization, equipment quality, and the instructor's warmth made everything perfect. I'm now a certified and happy diver!",homeTestimonial2Name:"Carlos S.",homeTestimonial2Origin:"Mexico City, Mexico",homeTestimonial3Quote:"Every trip with JustDiveCol is a new story. They have managed to combine extreme adventure with a genuine commitment to conservation. The personalized attention and chosen destinations are unparalleled. Highly recommended for any diver!",homeTestimonial3Name:"Andrea M.",homeTestimonial3Origin:"Madrid, Spain",homeFinalCtaTitle:"Ready for your next great dive and to explore limitlessly?",homeFinalCtaSubtitle:"The world's depths await to reveal their most astonishing secrets. Contact us today to start planning your unforgettable underwater journey. Your adventure begins with a conversation!",homeFinalCtaText:"Let's talk about your experience",homeFinalCtaMainLogoAlt:"JustDiveCol Main Logo",homeFinalCtaPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",homeFinalCtaWhatsAppMessage:"Hello, JustDiveCol team. I'm ready for my next great dive! I'd like to discuss how I can start planning my underwater adventure. Could you please advise me?"},z2={expSeoTitle:"Diving Experiences | JustDiveCol - Courses & Custom Trips",expSeoDesc:"Explore our complete catalog of PADI certifications and unforgettable dive trips with JustDiveCol. From your first breaths underwater to personalized adventures in the world's most spectacular destinations, we connect you deeply with the ocean and its wonders. Your next adventure starts here!",expSeoKeywords:"diving experiences, PADI courses, dive certifications, dive trips, custom diving, personalized diving, underwater adventure, ocean exploration, JustDiveCol, beginner diving, advanced diving, dive destinations",expHeaderTitle:"An Ocean of Possibilities Awaits You",expHeaderSubtitle:"From your first breath underwater to explorations in the planet's most remote corners, every dive with JustDiveCol is an unforgettable story to tell. Choose your next great underwater adventure and prepare to transform your perspective.",expHeaderMainLogoAlt:"JustDiveCol Main Logo",expHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expAvailableTitle:"Discover your next underwater adventure",expAvailableSubtitle:"Explore our calendar of exciting experiences and scheduled courses. Your great dive awaits!",expAvailableCtaText:"View all experiences",expAvailableCtaMessage:"Hello, JustDiveCol team. I'd like to know more about the diving experiences you have available on your calendar. Could you provide more details?",expNoUpcomingTripsTitle:"New experiences are brewing in the blue!",expNoUpcomingTripsSubtitle:"We're currently planning exciting experiences and courses that will soon be revealed. Looking for something specific? Tell us your underwater dream, and let's design your custom adventure together!",expNoUpcomingTripsCtaText:"Design my custom experience",expNoUpcomingTripsCtaMessage:"Hello, JustDiveCol team. I can't find any available experiences on the calendar. I'd like to know more about future offerings or design a personalized adventure. Could you advise me?",expTripsTitle:"Calendar of Upcoming Scheduled Adventures",expTripsSubtitle:"These are our next scheduled trips and courses. Secure your spot today and get ready to immerse yourself in the extraordinary! Don't let adventure wait.",expCatalogCoursesTitle:"Your Next Level: PADI Courses and Certifications",expCatalogDestsTitle:"Discover the Most Memorable Underwater Destinations",expCtaTitle:"Can't find the underwater experience of your dreams among our offerings?",expCtaSubtitle:"With JustDiveCol, the perfect adventure can become a reality designed exclusively for you. Contact us, and let's work together to create a private experience, completely tailored to your expectations, interests, and the spirit of exploration that drives you. Your trip, your rules, your ocean!",expCtaButton:"Design my custom experience",expCtaWhatsAppMessage:"Hello, JustDiveCol. I'd like to design a custom dive experience! I have an idea in mind and want to explore it with you. Could you help me?",expCtaMainLogoAlt:"JustDiveCol Main Logo",expCtaPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol"},R2={aboutSeoTitle:"About Us | JustDiveCol - Your Gateway to the Ocean with Passion and Safety",aboutSeoDesc:"Discover our story, meet a team united by underwater adventure, and learn about our unwavering commitment to safety and marine conservation. Embark on your next dive with confidence.",aboutSeoKeywords:"JustDiveCol, about us, JustDiveCol history, dive team, safe diving, marine conservation, underwater adventure, dive operator, diving community, ocean passion, marine sustainability, Colombia dive trips",aboutHeaderTitle:"More Than an Operator: We're a Community that Breathes the Ocean",aboutHeaderSubtitle:"At JustDiveCol, we are explorers at heart. We share, protect, and celebrate every underwater corner to ensure your dive is truly unforgettable.",aboutHeaderMainLogoAlt:"JustDiveCol Main Logo",aboutHeaderComplementaryLogoAlt:"JustDiveCol Complementary Logo",aboutHeaderTextOverlay:"Exploring the Deep Blue",aboutHeaderPhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",aboutHistoryTitle:"Our Story: Passion That Emerged From the Blue",aboutHistoryP1:"JustDiveCol was born from the deep connection between friends united by an unconditional love for the sea. What began as recreational dives soon evolved into a shared vision: to reveal the wonder and limitless freedom that only the ocean can offer.",aboutHistoryP2:"From the first bubble we exhaled underwater, we knew that safety would be the fundamental pillar of every adventure we undertook. With a constant commitment to learning and absolute respect for the marine ecosystem, we have forged experiences that connect heart and mind with this extraordinary aquatic world.",aboutHistoryP3:"Today, JustDiveCol is a growing global family. We invite you to join us to discover new horizons, experience amazing underwater encounters, and cherish unforgettable memories beneath the waves.",aboutHistoryImageMainLogoAlt:"JustDiveCol Main Logo",aboutHistoryImagePhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",aboutTeamTitle:"The Architects of Your Unforgettable Dives",aboutTeamSubtitle:"Meet our team: a passionate, expert group fully committed to your learning, safety, and enjoyment on every underwater expedition.",aboutTeamMember1Name:"Camilo Beltrán",aboutTeamMember1Role:"Founder and Navigator of Underwater Dreams",aboutTeamMember1Bio:"For Camilo, the ocean is not just a destination; it's a sanctuary of peace and excitement. His deep passion led him to found JustDiveCol, with the purpose of sharing this love through safe and adventurous experiences. He is living proof that deep calm and adrenaline can coexist in perfect harmony underwater.",aboutTeamMember1Fact1:"Systems engineer by day; at night, his perfect reset is to dive into the deep sea.",aboutTeamMember1Fact2:"His most impactful encounter was face-to-face with a bull shark, an experience that reaffirmed his immense respect for marine life.",aboutTeamMember1Fact3:"He checks his dive log more frequently than his meeting schedule, a clear reflection of where his true passion lies.",aboutTeamMember2Name:"Alejandra Vargas",aboutTeamMember2Role:"Helmswoman of New Ideas and Unforgettable Routes",aboutTeamMember2Bio:"For Alejandra, diving is like slowly flying through a hidden universe. She delights in floating among vibrant corals, gently drifting with currents, and discovering otherworldly landscapes. Her mission is to guide you to appreciate every nuance of this vast and amazing ocean.",aboutTeamMember2Fact1:"Her first dive was at 12 years old, and since then, she has been a tireless fighter for ocean clean-ups.",aboutTeamMember2Fact2:"Although her big dream is to swim alongside a blue whale, for now, encounters with humpback whales take her breath away.",aboutTeamMember2Fact3:"She always braids her hair before diving: untangling her curly hair after several dives is a real challenge.",aboutTeamMember3Name:"Pablo Orjuela",aboutTeamMember3Role:"Adventurer, Photographer & Visual Storyteller",aboutTeamMember3Bio:"Although he is the newest member to the world of diving, Pablo brings his exceptional artistic eye to capture underwater magic. His stunning images and videos tell captivating stories that will inspire you to discover the ocean with all your senses.",aboutTeamMember3Fact1:"His biggest underwater dream: to dive alongside a great white shark.",aboutTeamMember3Fact2:"He bought his first camera to photograph the sea long before his first dive.",aboutTeamMember3Fact3:"On his last terrestrial adventure, he walked approximately 850 km / 528 miles to challenge his own limits.",aboutCommitmentTitle:"Our Unwavering Commitment to the Ocean",aboutCommitmentSubtitle:"We firmly believe that every dive is also a promise: to protect and preserve this invaluable blue treasure for future generations.",aboutCommitmentPoint1Title:"Sustainability and Marine Conservation",aboutCommitmentPoint1Desc:"We actively promote low-impact diving practices, collaborate with global conservation projects, and gain valuable insights from every dive to ensure the health of our oceans.",aboutCommitmentPoint2Title:"Uncompromising Safety",aboutCommitmentPoint2Desc:"Your well-being is our top priority. We maintain strict international safety protocols and use the highest quality diving equipment so you can enjoy every dive with complete confidence and peace of mind.",aboutCommitmentPoint3Title:"Local Support and Responsible Tourism",aboutCommitmentPoint3Desc:"We work hand-in-hand with local communities and operators to foster a tourism model that drives sustainable social and economic development in every destination we visit."},k2={safetySeoTitle:"Commitment to Safety | JustDiveCol - Your Well-being in Every Dive",safetySeoDesc:"Discover how our rigorous protocols, state-of-the-art equipment, and strategic partnerships ensure a safe, enjoyable, and unforgettable diving and adventure experience with JustDiveCol. Your peace of mind is our top priority.",safetySeoKeywords:"dive safety, diving protocols, safe diving, JustDiveCol, dive equipment, dive gear maintenance, PADI instructors, certified guides, underwater safety, PADI standards, DAN, diver well-being, dive accident prevention, dive briefings",safetyHeaderTitle:"Safety Without Compromise: Your Peace of Mind is Our Top Priority",safetyHeaderSubtitle:"At JustDiveCol, we understand that a truly unforgettable adventure is built on an unwavering foundation of trust. That's why safety is the fundamental and non-negotiable pillar of every experience we offer. We want you to dive with absolute peace of mind.",safetyHeaderMainLogoAlt:"JustDiveCol Main Logo",safetyHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",safetyProtocolsTitle:"Our Safety Standard in Every Dive",safetyProtocolsSubtitle:"We follow a meticulous and rigorous process in each of our operations, prioritizing at all times the well-being, confidence, and full enjoyment of our valued underwater explorers. Every step is designed for your protection.",safetyStep1Name:"Detailed Pre-Dive Briefing",safetyStep1Desc:"Before every dive or activity, we conduct a comprehensive and interactive briefing session. We review environmental conditions, thoroughly explain the dive plan, and go over essential safety procedures to ensure your full understanding and preparation. Your active participation is key.",safetyStep2Name:"Exhaustive Pre-Dive Check (BWRAF)",safetyStep2Desc:"Together, we perform the crucial pre-dive check, a global safety standard that ensures your equipment is perfect and you dive with complete confidence. This check follows the BWRAF (BCD, Weights, Releases, Air, Final check) mnemonic, ensuring nothing is overlooked.",safetyStep3Name:"Professional and Personalized Guidance",safetyStep3Desc:"Our PADI certified guides and instructors lead small groups to ensure maximum attention. This allows us to provide truly personalized care, adapt the dive to your experience level, and guarantee a safe, comfortable, and enriching experience at all times. We are with you every bubble of the way.",safetyStep4Name:"Constant Monitoring and Post-Dive Debriefing",safetyStep4Desc:"During and after each dive, we closely monitor the well-being, air consumption, and dive profile of each participant. Upon completion, we conduct a detailed debriefing to share observations, answer any questions, and consolidate the learnings from the experience. Your safety and learning continue even out of the water.",safetyEquipmentTitle:"State-of-the-Art Equipment for Your Optimal Protection",safetyEquipmentSubtitle:"We rely solely on diving equipment from leading brands in the global industry. All our equipment undergoes rigorous maintenance and periodic inspections to Swiss watch standards, ensuring maximum safety, reliability, and comfort on every dive. Your gear is our guarantee.",safetyEquip1Name:"High-Performance Regulators",safetyEquip1Desc:"We use latest-generation regulators that guarantee a smooth, constant, and safe air supply, fundamental for comfortable, natural, and effortless breathing underwater, even in the most demanding conditions.",safetyEquip2Name:"Ergonomic and Precise Buoyancy Compensators (BCDs)",safetyEquip2Desc:"Our BCDs are comfortable, precisely fitting, and offer intuitive and accurate buoyancy control, key elements for a pleasant, safe dive that allows you to move freely and efficiently underwater.",safetyEquip3Name:"Advanced Dive Computers for Everyone",safetyEquip3Desc:"Every one of your dives is monitored with modern and precise dive computers, allowing to stay within safety limits, optimize your dive profile, and record every detail. Technology at your service for a smarter and safer dive.",safetyCertsTitle:"Commitment to Excellence, Sustainability, and Best Practices",safetyCertsSubtitle:"At JustDiveCol, we not only meet, but exceed the highest international standards of diving safety and sustainability. We are proudly affiliated with the leading organizations in the sector, guaranteeing world-class service.",safetyPartner1Name:"Rigorous International Standards",safetyPartner1Desc:"All our operations and experiences are based on the strictest protocols and recommendations from globally recognized entities such as PADI (Professional Association of Diving Instructors) and DAN (Divers Alert Network). Our adherence to these regulations is your guarantee of a safe and professional adventure anywhere in the world.",safetyPartner2Name:"Continuous Team Training and Updates",safetyPartner2Desc:"Our team of professionals regularly participates in first aid (EFR), rescue, and advanced safety and diving technique update courses. This continuous training ensures that your well-being is always in the most capable, experienced, and up-to-date hands in underwater safety."},N2={contactSeoTitle:"Contact Us | JustDiveCol - Plan Your Underwater Adventure",contactSeoDesc:"Ready for your next dive? Contact us to plan your dream trip, get all your questions answered, or simply share your passion for the underwater world with JustDiveCol.",contactSeoKeywords:"contact, JustDiveCol, underwater adventure, plan dive trip, diving questions, ocean passion, WhatsApp diving, JustDiveCol communication, dive customer service",contactHeaderTitle:"Let's Talk About Your Next Great Adventure",contactHeaderSubtitle:"We are here to answer all your questions, help you plan your dream trip, or simply share our deep passion for the ocean and its mysteries. Your adventure begins with a conversation!",contactHeaderMainLogoAlt:"JustDiveCol Main Logo",contactHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",contactInfoTitle:"Our Communication Channels",contactWhatsAppTitle:"Send Us a Direct Message on WhatsApp",contactWhatsAppDesc:"Have a quick question, need personalized advice, or prefer a direct conversation? Click the button below to instantly start a chat with our team on WhatsApp. We're ready to help you plan your perfect dive!",contactWhatsAppButton:"Chat Now with JustDiveCol",contactWhatsAppMessage:"Hello, JustDiveCol team. I would like more information about...",courseInquiryMessage:'Hello, JustDiveCol team. I would like more information about the "{{courseName}}" course.',contactFollowUs:"Follow Us on Social Media",contactCtaTitle:"Ready for the Big Leap? We're Waiting for You!",contactCtaSubtitle:"The wonders of the deep await you. Tell us your underwater dream, and we'll make it a reality. Your next unforgettable adventure starts with a simple conversation!",contactCtaText:"Start Your Adventure Today",contactCtaMainLogoAlt:"JustDiveCol Main Logo",contactCtaPhotoCredit:"Photo Credits: XYZ"},j2={availableTripsTitle:"Upcoming Adventures and Courses Available",noUpcomingTrips:"Attention Adventurer! Course and experience dates are on their way. Soon you'll be able to prepare your fins for new and exciting experiences!",noUpcomingTripsCtaButton:"Hablemos de tu interés",noUpcomingTripsWhatsAppMessage:"Hello! I'm interested in the {{courseName}} course and would like to know when upcoming dates are available.",courseCtaAvailableTitle:"Ready to Get Your Certification and Explore the Underwater World?",courseCtaAvailableButton:"View Our Cancellation Policies",courseAvailableTitle:"Your path to PADI certification starts here!",courseAvailableSubtitle:"Explore our upcoming dive courses. Choose your level and dive into learning with the best instructors!",courseAvailableCtaText:"View upcoming courses",courseAvailableCtaMessage:"Hello, JustDiveCol team. I'm interested in getting a diving certification. Could you provide more information about the available courses?",courseNoUpcomingTitle:"Get your fins ready! New courses are coming.",courseNoUpcomingSubtitle:"We are currently updating our PADI course calendar. If you have a specific level or date in mind, contact us and we'll plan it just for you!",courseNoUpcomingCtaText:"Inquire about a personalized course",courseNoUpcomingCtaMessage:"Hello, JustDiveCol team. I don't see any scheduled courses right now. I'd like to know when new dates will be available or if I can arrange a private course. Could you assist me?",owdSeoTitle:"PADI Open Water Diver Course | Learn to Dive with JustDiveCol",owdSeoDesc:"Become a certified diver with JustDiveCol's PADI Open Water Diver course. It's your gateway to the fascinating underwater world, where you'll learn essential fundamentals and earn a globally recognized certification to explore the depths with complete confidence.",owdSeoKeywords:"PADI Open Water Diver course, learn to dive, dive certification, certified diver, JustDiveCol, diving fundamentals, first dives, recreational diving, beginner dive course, global certification, dive in Colombia",owdHeaderTitle:"PADI Open Water Diver: Your Passport to the Blue World",owdHeaderSubtitle:"Discover 70% of the planet waiting to be explored by you. The underwater adventure calls!",owdHeaderMainLogoAlt:"JustDiveCol Main Logo",owdHeaderComplementaryLogoAlt:"PADI Logo",owdHeaderPhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",owdDescTitle:"Become a Certified Diver: Adventure Awaits",owdDescP1:"The PADI Open Water Diver course is the most recognized and sought-after diving certification in the world. Millions have already discovered the wonders of the aquatic world through this transformative experience. It's the exciting first step towards a life of limitless underwater exploration.",owdDescP2:"At JustDiveCol, we guide you step-by-step, from the essential theoretical principles you can study from home, to your first unforgettable ocean dives. Our goal is for you to become a competent, safe, responsible, and deeply passionate diver of the depths. Your journey begins here!",owdCardMainLogoAlt:"JustDiveCol Main Logo",owdCardComplementaryLogoAlt:"PADI Logo",owdCardTextOverlay:"Diving Courses",owdCardPhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",owdDetailsTitle:"Your Certification Adventure in Detail",owdDetailDurationValue:"3 to 4 days (flexible)",owdDetailLabel1:"Estimated Duration",owdDetailValue1:"3 to 4 days (flexible)",owdDetailLabel2:"Maximum Depth",owdDetailValue2:"18 m / 60 ft",owdCurriculumTitle:"What Will You Learn in Your Open Water Course?",owdModule1Name:"Interactive Theoretical Modules",owdModule1Desc:"Through the innovative PADI eLearning® platform, you will learn the fundamental principles of diving at your own pace, from the comfort of your home. It's flexible and highly effective!",owdModule2Name:"Personalized Virtual Guidance",owdModule2Desc:"We complement your study with 5 live virtual sessions where one of our expert instructors will reinforce key concepts, answer all your questions, and thoroughly prepare you for the next step in your training.",owdModule3Name:"Confined Water Practice Sessions",owdModule3Desc:"In a safe and controlled environment, like a swimming pool, you will practice and master all essential diving skills. Here, you will build solid confidence before your first open water adventure.",owdModule4Name:"Exciting Open Water Dives",owdModule4Desc:"The culmination of your learning! You will complete four memorable dives in the ocean, applying everything you've learned under the expert supervision of your instructor. Prepare to be amazed by the marine life and underwater landscapes.",owdCurriculumNote1:"Globally Recognized Certification: Upon successful completion of the course, you will earn a PADI credential valid worldwide, opening doors to underwater exploration at any destination you can imagine.",owdReqsTitle:"Requirements to Start Your Underwater Adventure",owdReqItem1:"Must be at least 10 years old (for Junior Open Water Diver).",owdReqItem2:"Be comfortable in the water and know how to swim (no need to be an Olympic swimmer!).",owdReqItem3:"Complete and pass a medical questionnaire or have a doctor's authorization, if necessary.",owdReqItem4:"Commit to actively participating in all theoretical and practical sessions of the course to ensure your maximum learning and safety.",owdIncludedTitle:"Your Course Includes Everything You Need to Dive",owdIncludeItem1:"International PADI Open Water Diver certification.",owdIncludeItem2:"Unlimited access to the PADI eLearning® platform.",owdIncludeItem3:"5 live virtual sessions with a dedicated PADI instructor.",owdIncludeItem4:"5 confined water practice sessions (pool) to master your skills.",owdIncludeItem5:"4 exciting open water dives (ocean).",owdIncludeItem6:"Full set of high-quality diving equipment (mask, fins, wetsuit, regulator, BCD, tank).",owdIncludeItem7:"Personalized accompaniment from a highly qualified PADI instructor, committed to your progress.",owdIncludeItem8:"Comprehensive dive insurance for the entire duration of the course.",owdGalleryTitle:"Unforgettable Moments from Your Open Water Course",owdGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",owdGaleryImg1PhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",owdGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",owdGaleryImg2PhotoCredit:"Photo Credits: XYZ",owdGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",owdGaleryImg3PhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",owdGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",owdGaleryImg4PhotoCredit:"Photo Credits: Camilo Beltrán @JustDiveCol",owdCtaTitle:"Can't find dates that work for your schedule?",owdCtaButtonText:"Contact Us to Explore Personalized Options",aowdSeoTitle:"PADI Advanced Open Water Diver Course | Expand Your Limits with JustDiveCol",aowdSeoDesc:"Take your diving to the next level with JustDiveCol's PADI Advanced Open Water Diver course. Explore new specialties, gain unparalleled confidence in diverse conditions, and delve deeper into the fascinating underwater world.",aowdSeoKeywords:"PADI Advanced Open Water Diver, advanced dive course, expand diving limits, JustDiveCol, new dive specialties, underwater confidence, deep diving, underwater navigation, night diver, peak performance buoyancy, underwater photography, dive certification",aowdHeaderTitle:"PADI Advanced Open Water Diver: Your Next Level of Adventure",aowdHeaderSubtitle:"Perfect your skills, gain unwavering confidence, and explore new dimensions of diving with JustDiveCol. The ocean awaits you!",aowdHeaderMainLogoAlt:"JustDiveCol Main Logo",aowdHeaderComplementaryLogoAlt:"PADI Logo",aowdHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",aowdDescTitle:"Expand Your Horizons: More Confidence, More Exploration",aowdDescP1:`The PADI Advanced Open Water Diver course is designed to take your diving experience far beyond the basics. It's not just about earning an "advanced" certification, but about gaining greater confidence, more practical experience, and the ability to explore a wider variety of dive sites and conditions anywhere in the world.`,aowdDescP2:"At JustDiveCol, we will guide you through five exciting adventure dives that will allow you to discover new passions underwater and refine your existing techniques. Each dive will bring you closer to becoming a safer, more competent, and versatile diver, ready for any challenge and wonder the vast ocean presents.",aowdCardMainLogoAlt:"JustDiveCol Main Logo",aowdCardComplementaryLogoAlt:"PADI Logo",aowdCardTextOverlay:"Diving Courses",aowdCardPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",aowdDetailsTitle:"Your Advanced Adventure in Detail",aowdDetailDurationValue:"2 to 3 days (flexible)",aowdDetailLabel1:"Estimated Duration",aowdDetailValue1:"2 to 3 days (flexible)",aowdDetailLabel2:"Maximum Depth",aowdDetailValue2:"30 m / 100 ft",aowdCurriculumTitle:"What Will You Learn in Your Advanced Open Water Course?",aowdModule1Name:"Deep Dive (Required)",aowdModule1Desc:"Discover the fascinating world beyond 18 m / 60 ft. You'll learn the safety considerations, planning, air management, and pressure effects specific to deep diving, safely expanding your exploration range to 30 m / 100 ft.",aowdModule2Name:"Underwater Navigation (Required)",aowdModule2Desc:"Become an expert in underwater orientation. You will perfect your compass and natural navigation skills, allowing you to move with confidence and precision in any underwater environment, optimizing each dive and discovering new corners.",aowdModule3Name:"Three Adventure Dives of Your Choice",aowdModule3Desc:"Customize your course by choosing three specialties that truly spark your interest and curiosity. Popular options include: Night Diver, Peak Performance Buoyancy, Fish ID, Underwater Photographer, Search and Recovery, and many more. Each one is an exciting new skill and a new adventure waiting for you under the waves!",aowdCurriculumNote1:"Earn PADI Specialty Credits: Each adventure dive you complete counts as the first dive of the corresponding PADI specialty. One step closer to your next specialty diver certification and an excellent way to try out new disciplines!",aowdReqsTitle:"Requirements to Take Your Diving to the Next Level",aowdReqItem1:"Must be at least 12 years old (for Junior Advanced Open Water Diver).",aowdReqItem2:"Must be certified as a PADI Open Water Diver or have an equivalent recognized certification.",aowdReqItem3:"Complete and pass a medical questionnaire or have a doctor's authorization, if necessary, to ensure your well-being.",aowdReqItem4:"Commit to actively participating in all theoretical, virtual, and practical sessions of the course, to ensure comprehensive and safe learning.",aowdIncludedTitle:"Your Course Includes Everything You Need for Your Next Great Adventure",aowdIncludeItem1:"International PADI Advanced Open Water Diver Certification, recognized worldwide.",aowdIncludeItem2:"Unlimited access to the PADI eLearning® platform (for the Advanced Open Water course), so you can study at your own pace.",aowdIncludeItem3:"Personalized advice and informative sessions (briefings) with an expert PADI instructor throughout the course, answering all your questions.",aowdIncludeItem4:"5 exciting adventure dives in open water (in the sea) that will expand your skills.",aowdIncludeItem5:"Full set of high-quality diving equipment rental (mask, fins, wetsuit, regulator, BCD, tank).",aowdIncludeItem6:"Personalized accompaniment and constant supervision from a highly qualified PADI instructor, ensuring your safety and progress.",aowdIncludeItem7:"Comprehensive dive insurance for the entire duration of the course, for your complete peace of mind.",aowdGalleryTitle:"Highlights from Your Advanced Open Water Course",aowdGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",aowdGaleryImg1PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",aowdGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",aowdGaleryImg2PhotoCredit:"Photo Credits: PADI",aowdGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",aowdGaleryImg3PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",aowdGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",aowdGaleryImg4PhotoCredit:"Photo Credits: PADI",aowdCtaTitle:"Do the available dates not fit your schedule?",aowdCtaButtonText:"Contact Us for Personalized Options",rdSeoTitle:"PADI Rescue Diver Course | Become an Underwater Hero with JustDiveCol",rdSeoDesc:"Develop vital rescue and emergency management skills with JustDiveCol's PADI Rescue Diver course. Learn to prevent problems and respond effectively in diving, protecting yourself and your buddies anywhere in the world. Make a difference!",rdSeoKeywords:"PADI Rescue Diver course, rescue diver, rescue skills, dive emergency management, dive problem prevention, JustDiveCol, protecting dive buddies, reliable diver, underwater leadership, dive safety, dive first aid, PADI Divemaster, PADI Instructor",rdHeaderTitle:"PADI Rescue Diver: Your Power to Protect Lives Underwater",rdHeaderSubtitle:"Become the reliable and proactive diver everyone will want by their side on every dive. Be the safety the ocean needs!",rdHeaderMainLogoAlt:"JustDiveCol Main Logo",rdHeaderComplementaryLogoAlt:"PADI Logo",rdHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",rdDescTitle:"From Diver to Hero: The Confidence of Knowing How to Act with Purpose",rdDescP1:"The PADI Rescue Diver course is an immensely rewarding challenge that will transform you into a safer, more capable, and deeply environmentally conscious diver. You will learn to prevent diving problems before they occur and, if necessary, to effectively and calmly manage emergencies, both for your own safety and that of your buddies. Get ready to make a difference!",rdDescP2:"At JustDiveCol, we will train you through realistic scenarios and proven techniques, preparing you to respond effectively to any unexpected situation in the water. This course not only enhances your technical diving skills but also fosters your confidence, leadership abilities, and an unwavering commitment to safety in the fascinating underwater world. Get ready to be an exemplary rescue diver and a true leader underwater!",rdCardMainLogoAlt:"JustDiveCol Main Logo",rdCardComplementaryLogoAlt:"PADI Logo",rdCardTextOverlay:"Diving Courses",rdCardPhotoCredit:"Photo Credits: PADI",rdDetailsTitle:"Your Rescue Training in Detail",rdDetailDurationValue:"2 to 3 days (flexible)",rdDetailLabel1:"Estimated Duration",rdDetailValue1:"2 to 3 days (flexible)",rdDetailLabel2:"Key Skills",rdDetailValue2:"Prevention, emergency management, first aid, effective leadership",rdCurriculumTitle:"What Will You Learn in Your Rescue Diver Course?",rdModule1Name:"Knowledge Development: Prevention and Rescue",rdModule1Desc:"You will learn to recognize and manage stress in other divers, how to use and organize emergency equipment in various situations, and the crucial psychological considerations of rescue. We will use the PADI eLearning® platform for you to study at your own pace, with constant support from your instructor.",rdModule2Name:"Self-Rescue and Panicked Diver Management",rd2Desc:"You will master essential techniques to manage your own underwater and surface emergencies calmly and effectively. You will learn how to approach, calm, and effectively assist a panicked diver, both on the surface and at depth, transforming yourself into a pillar of safety.",rdModule3Name:"Response to Unconscious and Non-Responsive Divers",rdModule3Desc:"You will practice the safe recovery of unconscious divers from the bottom, the vital provision of in-water rescue breathing, and the efficient towing of a non-responsive diver to the surface, preparing you for the most critical situations with confidence and skill.",rdModule4Name:"Dive Emergency Management and Advanced First Aid",rdModule4Desc:"You will learn to coordinate an effective emergency response, to professionally use emergency oxygen equipment, and to apply dive first aid for common injuries and more serious conditions. This module is vital for crisis management, making you a leader in crucial moments.",rdModule5Name:"Realistic Rescue Scenarios and Practical Drills",rdModule5Desc:"You will participate in intensive realistic scenario exercises that simulate various diving emergency situations. This will allow you to apply and consolidate all your skills in a practical and controlled pressure environment, preparing you comprehensively for the real world and any challenges that arise.",rdCurriculumNote1:"This course is an essential and transformative prerequisite for divers wishing to advance to the professional level of PADI Divemaster, Instructor, and beyond, opening the doors to a rewarding career in diving and teaching.",rdReqsTitle:"Requirements to Start Your Path as a Professional Rescue Diver",rdReqItem1:"Must be at least 12 years old (for Junior Rescue Diver).",rdReqItem2:"Must be certified as a PADI Advanced Open Water Diver or have an equivalent recognized certification.",rdReqItem3:"Must have completed a First Aid and CPR course (such as Emergency First Response® or equivalent) within the last 24 months, to ensure a solid foundation in pre-hospital care.",rdReqItem4:"Complete and pass a medical questionnaire or have a doctor's authorization, if necessary, ensuring your full fitness for the course.",rdReqItem5:"Commit to actively participating in all theoretical, virtual, and practical sessions of the course, demonstrating proactivity, responsibility, and a genuine desire to learn.",rdIncludedTitle:"Your Rescue Course Includes Everything You Need for Your Comprehensive Preparation",rdIncludeItem1:"International PADI Rescue Diver Certification, recognized and globally valued.",rdIncludeItem2:"Unlimited access to the PADI eLearning® platform (for the Rescue Diver course), facilitating your autonomous study.",rdIncludeItem3:"Theoretical and practical sessions guided by an expert PADI instructor, with continuous and personalized feedback for your maximum development.",rdIncludeItem4:"Extensive practices and advanced drills in confined water (pool) and open water (sea), so you can master every technique.",rdIncludeItem5:"Realistic and challenging rescue scenario simulations, replicating real-world situations for comprehensive preparation.",rdIncludeItem6:"Full diving equipment rental (excluding personal equipment if you already own it) and specific rescue equipment required for the course.",rdIncludeItem7:"Personalized accompaniment and constant supervision from a highly qualified PADI instructor, committed to your development and safety.",rdIncludeItem8:"Comprehensive dive insurance for the entire duration of the course, specifically covering incidents related to diving activity, for your complete peace of mind.",rdGalleryTitle:"Preparation and Action: Moments from Your Rescue Diver Training",rdGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",rdGaleryImg1PhotoCredit:"Photo Credits: XYZ",rdGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",rdGaleryImg2PhotoCredit:"Photo Credits: XYZ",rdGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",rdGaleryImg3PhotoCredit:"Photo Credits: @atlantidabucea",rdGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",rdGaleryImg4PhotoCredit:"Photo Credits: PADI",rdCtaTitle:"Do the available dates not fit your schedule?",rdCtaButtonText:"Contact Us for Personalized Options"},K2={destinationUpcomingTripsTitle:"Upcoming Trips and Adventures to This Destination",exploreDestination:"Explore this destination",destinationAvailableTitle:"Upcoming expeditions to this underwater paradise",destinationAvailableSubtitle:"Don't miss the chance to dive into the wonders of this destination. Book your spot on our next departures!",destinationAvailableCtaText:"View dates and book",destinationAvailableCtaMessage:"Hello, JustDiveCol team. I'd like more information about the upcoming diving expeditions to [Destination Name]. I'm ready to explore!",destinationNoUpcomingTitle:"Explore this destination on your terms!",destinationNoUpcomingSubtitle:"We currently don't have scheduled trips for [Destination Name], but we can design a personalized experience that fulfills all your wishes. Tell us your vision!",destinationNoUpcomingCtaText:"Plan my trip to [Destination Name]",destinationNoUpcomingCtaMessage:"Hello, JustDiveCol team. I'm interested in a dive trip to [Destination Name] but don't see any scheduled dates. Could we explore personalized options?",smName:"Santa Marta",smSeoTitle:"Diving in Santa Marta | Explore the Vibrant Colombian Caribbean with JustDiveCol",smSeoDesc:"Immerse yourself in the rich and warm waters of Santa Marta with JustDiveCol. Discover vibrant marine life, stunning coral reefs, and unique dive sites in the heart of the Colombian Caribbean. Your next underwater adventure awaits!",smSeoKeywords:"diving Santa Marta, dive Colombian Caribbean, Santa Marta coral reefs, Santa Marta dive sites, marine life Santa Marta, JustDiveCol Santa Marta, Tayrona Park diving, Santa Marta dive courses, beginner diving Santa Marta, advanced diving Santa Marta, Santa Marta wrecks, underwater tourism Santa Marta, Taganga diving",smHeaderTitle:"Santa Marta: Where the Majestic Sierra Meets the Blue Caribbean for Diving",smHeaderSubtitle:"Dive into the vibrant history and life-filled reefs of the Colombian Caribbean. A destination that captivates both in and out of the water.",smHeaderMainLogoAlt:"JustDiveCol Main Logo",smHeaderPhotoCredit:"Photo Credits: XYZ",smDescTitle:"A Journey to the Fascinating Heart of the Colombian Caribbean",smDescP1:"Beyond its stunning reefs, Santa Marta is a vibrant city with a rich history intertwined with tales of pirates, settlers, and the ancient Tayrona culture. Its contagious music, exquisite gastronomy, and the genuine warmth of its people are as captivating as the astonishing marine life waiting beneath its waves.",smDescP2:"Exploring this region means discovering a unique blend of influences that have shaped this coastal paradise. From the charm of the historic center to the majestic beaches of Tayrona Park, every corner tells a fascinating story and invites you to adventure.",smCardDescription:"Where the imposing Sierra Nevada meets the mystery of the Caribbean, Santa Marta is an ideal destination to learn to dive, expand your skills, and explore the underwater world with JustDiveCol.",smCardMainLogoAlt:"JustDiveCol Main Logo",smCardTextOverlay:"Dive Destination",smCardPhotoCredit:"Photo Credits: XYZ",smDetailsTitle:"Key Information for Your Diving Adventure",smDetailLabel1:"Recommended Diving Level",smDetailValue1:"All levels (from beginners to advanced divers)",smDetailLabel2:"Water Temperature",smDetailValue2:"24-28 °C / 75-82 °F",smDetailLabel3:"Average Visibility",smDetailValue3:"10-20 m / 35-65 ft",smDetailLabel4:"Best Time for Diving",smDetailValue4:"April to December (with optimal conditions)",smDetailLabel5:"Additional Considerations",smDetailValue5:"Visibility and conditions may vary seasonally. We recommend checking the local forecast.",smDiveSitesTitle:"Iconic Dive Sites in and Around Santa Marta",smDiveSite1Name:"Wreck Dive (Barco Hundido)",smDiveSite1Desc:"An ancient merchant ship peacefully resting between 21 m / 70 ft and 30 m / 100 ft deep. This fascinating wreck offers a unique and captivating experience for advanced divers, being home to an impressive variety of marine life that has made it their artificial reef.",smDiveSite2Name:"Natalia",smDiveSite2Desc:"A mysterious yacht sunk about 30 m / 100 ft deep in the picturesque El Rodadero area. Its intriguing history and the vibrant marine life inhabiting it make it a challenging and extraordinarily captivating dive site, ideal for experienced divers seeking a challenge and deep exploration.",smDiveSite3Name:"La Piedra del Medio (Middle Rock)",smDiveSite3Desc:"Part of an impressive rocky system near the coast, this site is a true hotbed of rich biodiversity. It is a favorite spot for close encounters with majestic sea turtles and a multitude of colorful tropical fish, suitable for various experience levels and always offering something new to discover.",smDiveSite4Name:"Isla Aguja (Needle Island)",smDiveSite4Desc:"An undisputed classic for diving in Santa Marta, ideal for everyone. It offers multiple versatile dive points, suitable for both training sessions and courses, as well as exciting deep exploration dives. Here you will find spectacular coral formations and abundant, diverse marine life that will take your breath away.",smUniqueFindsTitle:"Unmissable Experiences in Santa Marta",smUniqueFind1:"The incredible marine biodiversity of the region, including colorful reefs, vibrant corals, and an astonishing variety of marine species waiting for you underwater.",smUniqueFind2:"The unique rock and coral formations that adorn its seabed, creating underwater landscapes that seem out of this world and are perfect for photography.",smUniqueFind3:"The vibrant cultural and nightlife of Santa Marta and nearby Taganga, ideal for complementing your diving days with local flavor, music, and Caribbean gastronomy.",smUniqueFind4:"The opportunity to obtain or advance your PADI diving certification in a spectacular and safe environment, accompanied by expert instructors passionate about the ocean.",smGalleryTitle:"Unforgettable Moments in This Paradise Destination",smGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",smGaleryImg1PhotoCredit:"Photo Credits: XYZ",smGaleryImg2PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",smGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",smGaleryImg3PhotoCredit:"Photo Credits: XYZ",smGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",smGaleryImg4PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",smGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",smGaleryImg5PhotoCredit:"Photo Credits: XYZ",smGaleryImg5MainLogoAlt:"JustDiveCol Main Logo",smGaleryImg6PhotoCredit:"Photo Credits: XYZ",smGaleryImg6MainLogoAlt:"JustDiveCol Main Logo",provName:"Providencia",provSeoTitle:"Diving in Providencia | Discover the Sea of Seven Colors and its Coral Reef with JustDiveCol",provSeoDesc:"Immerse yourself in the crystal-clear waters of Providencia, the Caribbean's hidden gem. Explore pristine reefs, exceptional marine life, and authentic culture. Your diving adventure in the legendary Sea of Seven Colors awaits you with JustDiveCol!",provSeoKeywords:"diving Providencia, sea of seven colors, Providencia coral reef, pristine Caribbean reefs, Colombian Caribbean diving, JustDiveCol Providencia, Seaflower Biosphere Reserve, Providencia marine life, Raizal culture, Providencia wrecks, beginner diving Providencia, advanced diving Providencia, Providencia natural sanctuary",provHeaderTitle:"Providencia: Where the Sea of Seven Colors Calls You to Dive",provHeaderSubtitle:"Discover the Caribbean's hidden treasure, its pristine reefs, and an authentic culture that will envelop you. An unparalleled underwater and cultural experience!",provHeaderMainLogoAlt:"JustDiveCol Main Logo",provHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",provDescTitle:"Immerse Yourself in the Essence of Providencia: A Natural and Cultural Sanctuary",provDescP1:"Beyond its spectacular underwater landscapes, Providencia and its sister Santa Catalina are islands with a rich and complex history, forged by pirates, English settlers, and the unwavering Raizal culture. This heritage is manifested in its vibrant Creole language, contagious music, and a gastronomy that delights the palate, offering an experience as captivating on land as the astonishing marine life that awaits beneath its crystal-clear waters.",provDescP2:"Exploring Providencia is to immerse yourself in a sustainable way of life deeply connected to nature. Every corner, from its colorful wooden houses to its pristine beaches, tells the story of a people who have preserved their identity and environment, making it an unparalleled destination for those seeking authenticity, adventure, and the tranquility of a preserved paradise with JustDiveCol.",provCardDescription:"Where the Caribbean essence merges with the majesty of the world's third largest coral barrier reef, Providencia is a natural and cultural sanctuary immersed in the Seaflower Biosphere Reserve, ideal for divers seeking awe, biodiversity, and unparalleled peace.",provCardMainLogoAlt:"JustDiveCol Main Logo",provCardTextOverlay:"Dive Destination",provCardPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",provDetailsTitle:"Key Information for Your Adventure in Providencia",provDetailLabel1:"Recommended Diving Level",provDetailValue1:"All levels (from beginners to expert divers)",provDetailLabel2:"Water Temperature",provDetailValue2:"26-29 °C / 79-84 °F",provDetailLabel3:"Average Visibility",provDetailValue3:"20-35 m / 65-115 ft",provDetailLabel4:"Best Time for Diving",provDetailValue4:"March to May and September to November (optimal conditions)",provDetailLabel5:"Additional Considerations",provDetailValue5:"Generally mild to moderate currents. Visibility may vary slightly with seasons.",provDiveSitesTitle:"Iconic Dive Sites in and Around Providencia",provDiveSite1Name:"El Planchón (Providencia Wreck)",provDiveSite1Desc:"This fascinating shipwreck has transformed into a thriving artificial reef, home to nurse sharks, barracudas, jacks, and moray eels, with penetrable structures that invite exploration. Its depth ranges from 18 m / 60 ft to 30 m / 100 ft, offering exceptional visibility of 20-30 m / 65-100 ft, making it an exciting and accessible dive for various diver levels.",provDiveSite2Name:"Felipe's Place",provDiveSite2Desc:"Known for its impressive vibrant coral walls and dramatic drop-offs, it's a place where large pelagic species like majestic manta rays and eagle rays can be spotted, in addition to immense schools of reef fish. Dives here can be deep, reaching up to 40 m / 130 ft or more in some sections, offering an exciting challenge and visual rewards for advanced divers.",provDiveSite3Name:"Nick's Place",provDiveSite3Desc:"A beautiful reef distinguished by its vast valleys of giant sponges and prolific macro life, including numerous species of reef fish, curious turtles, and large groupers. With depths ranging from 15 m / 50 ft to 30 m / 100 ft, it is ideal for underwater photography and detailed observation of the small and wonderful life inhabiting the reef.",provDiveSite4Name:"Piedra Tortuga (Turtle Rock or Pavitos Island Drop-off)",provDiveSite4Desc:"This site is famous for its enormous barrel and elephant ear sponge formations, and is one of the best places to guarantee sightings of sea turtles in their natural habitat. It offers great depth versatility, from 4.5 m / 15 ft for snorkeling, to 40 m / 130 ft on its deep wall, suitable for all diving levels and a delight for turtle lovers.",provUniqueFindsTitle:"Unmissable Experiences in Providencia",provUniqueFind1:"The heart of the world's third largest coral barrier reef, an exceptionally preserved marine ecosystem, teeming with life and colors that will leave you breathless. It is a true underwater sanctuary.",provUniqueFind2:"An immersion into an authentic Anglo-Caribbean culture, with its unique Creole language, vibrant music, and traditional architecture, offering a deep connection to the island's soul.",provUniqueFind3:'Waters famous for their incredible and dazzling range of blue and green hues, an unforgettable visual spectacle known worldwide as the "Sea of Seven Colors".',provUniqueFind4:"A serene, tranquil atmosphere and a deep connection with nature, far from the crowds. It is the ideal destination for total relaxation and conscious, respectful exploration of the environment.",provGalleryTitle:"Unforgettable Moments in This Paradise Destination",provGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",provGaleryImg1PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",provGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",provGaleryImg2PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",provGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",provGaleryImg3PhotoCredit:"Photo Credits: XYZ",provGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",provGaleryImg4PhotoCredit:"Photo Credits: XYZ",provGaleryImg5MainLogoAlt:"JustDiveCol Main Logo",provGaleryImg5PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",provGaleryImg6MainLogoAlt:"JustDiveCol Main Logo",provGaleryImg6PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",ifName:"Isla Fuerte",ifSeoTitle:"Diving in Isla Fuerte | Unexplored Underwater Eden in the Colombian Caribbean with JustDiveCol",ifSeoDesc:"Discover Isla Fuerte, a pristine and amazing dive destination in the Colombian Caribbean with JustDiveCol. Explore untouched reefs, fascinating wrecks, and unique phenomena like the underwater mud volcano. Dive into a paradise of biodiversity and tranquility.",ifSeoKeywords:"diving Isla Fuerte, unexplored Colombian Caribbean, underwater eden, pristine reefs, underwater mud volcano, Isla Fuerte wrecks, marine biodiversity, JustDiveCol Isla Fuerte, relaxed diving, Millenary Ceiba, sloth spotting, mangroves, Tunnel of Time",ifHeaderTitle:"Isla Fuerte: Your Unexplored Underwater Eden in the Caribbean",ifHeaderSubtitle:"Dive into crystal-clear waters, discover vibrant reefs, and unique phenomena in this biodiversity paradise. A hidden gem awaits you!",ifHeaderMainLogoAlt:"JustDiveCol Main Logo",ifHeaderPhotoCredit:"Photo Credits: XYZ",ifDescTitle:"Discover the Unique Magic of Isla Fuerte: Underwater and On Land",ifDescP1:"Located off the picturesque coast of Córdoba, Isla Fuerte is a true hidden gem of the Colombian Caribbean. This small and charming island offers an unparalleled combination of lush nature and an atmosphere of absolute peace. Its terrestrial landscapes, adorned with ancient trees and rich birdlife, perfectly complement the magic that awaits beneath its turquoise waters.",ifDescP2:"Exploring Isla Fuerte means immersing yourself in a leisurely pace of life, where an authentic connection with nature is paramount. Beyond diving, you can enjoy enriching ecological walks, spotting exotic birds and curious sloths in their natural habitat, and share with a local community that has preserved its essence and environment. Every visit becomes an authentic and memorable experience with JustDiveCol.",ifCardDescription:"An underexplored Caribbean paradise, with crystal-clear waters, vibrant reefs, and rich marine biodiversity that invites conscious exploration and adventure in a peaceful setting.",ifCardMainLogoAlt:"JustDiveCol Main Logo",ifCardTextOverlay:"Dive Destination",ifCardPhotoCredit:"Photo Credits: XYZ",ifDetailsTitle:"Key Information for Your Isla Fuerte Expedition",ifDetailLabel1:"Recommended Diving Level",ifDetailValue1:"All levels (from beginners to certified divers)",ifDetailLabel2:"Water Temperature",ifDetailValue2:"28 °C / 82 °F",ifDetailLabel3:"Average Visibility",ifDetailValue3:"15-30 m / 50-100 ft",ifDetailLabel4:"Best Time for Diving",ifDetailValue4:"April to December (generally optimal conditions)",ifDetailLabel5:"Additional Considerations",ifDetailValue5:"Ideal for relaxed diving and exploring unique natural phenomena. Currents are usually mild.",ifDiveSitesTitle:"Iconic Dive Sites in and Around Isla Fuerte",ifDiveSite1Name:"Bajo Bushnell (Bushnell Shoal)",ifDiveSite1Desc:"Considered one of the best-preserved reefs in the continental Colombian Caribbean, this site impresses with its vast expanses of gorgonians and large schools of barracudas, jacks, and pompanos. It features gently sloping drop-offs, with depths that can reach 30 m / 100 ft, offering astonishing biodiversity and perfect for underwater photography.",ifDiveSite2Name:"El Planchón (The Wreck)",ifDiveSite2Desc:"The remains of a merchant ship approximately 30 m / 100 ft long, now serving as a vibrant artificial reef. Its structure has been colonized by a wide variety of marine organisms, offering shelter to reef fish and curious nurse sharks. The maximum depth is around 9 m / 30 ft, making it ideal for divers of all levels, including beginners, and for detailed macro photography.",ifDiveSite3Name:"Burbujas (Bubbles - Underwater Mud Volcano)",ifDiveSite3Desc:"A truly unique underwater natural phenomenon: a mud volcano colonized by colorful corals. Here you can observe fascinating continuous gas emanations forming bubbles, creating a curious and magical interaction with the schools of fish surrounding it. Depths are moderate, reaching up to 30 m / 100 ft, suitable for easy and awe-inspiring exploration.",ifDiveSite4Name:"El Bobito (The Little Fool)",ifDiveSite4Desc:"This site allows exploration of the very edge of the island reef, formed by large coral blocks that create a winding path full of life. It's common to encounter majestic rays and the curious nurse sharks, from which the place gets its name. The average depth is 21 m / 70 ft, ideal for relaxed dives and observing the rich marine life.",ifUniqueFindsTitle:"Unmissable Experiences on Isla Fuerte (Beyond Diving)",ifUniqueFind1:"The Millenary Ceiba: A monumental tree, the living symbol of the island, said to date back to the discovery of America. Its impressive trunk dimensions and mystical aura make it a place worth admiring and feeling the history.",ifUniqueFind2:"Sloth Spotting: The island is home to a healthy population of adorable three-toed sloths. They are visible on trails and in trees, offering a close and tender encounter with terrestrial wildlife in their natural habitat.",ifUniqueFind3:"Southern and Northern Mangroves: Vital and beautiful ecosystems that provide refuge for diverse marine species and exotic birds. They offer natural tunnels to explore by kayak or paddleboard, immersing you in a world of tranquility and biodiversity.",ifUniqueFind4:"The Tunnel of Time: A natural rock formation that mysteriously dips into the sea, creating a unique and magical passage. Ideal for swimmers and snorkelers, this tunnel is filled with light and life, offering an unforgettable and photogenic experience.",ifGalleryTitle:"Unforgettable Moments in This Paradise Destination",ifGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",ifGaleryImg1PhotoCredit:"Photo Credits: XYZ",ifGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",ifGaleryImg2PhotoCredit:"Photo Credits: XYZ",ifGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",ifGaleryImg3PhotoCredit:"Photo Credits: XYZ",ifGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",ifGaleryImg4PhotoCredit:"Photo Credits: XYZ",ifGaleryImg5MainLogoAlt:"JustDiveCol Main Logo",ifGaleryImg5PhotoCredit:"Photo Credits: XYZ",ifGaleryImg6MainLogoAlt:"JustDiveCol Main Logo",ifGaleryImg6PhotoCredit:"Photo Credits: XYZ",malpName:"Malpelo",malpSeoTitle:"Diving in Malpelo | Global Mecca for Sharks and Pelagic Life with JustDiveCol",malpSeoDesc:"Dive into Malpelo, a UNESCO Sanctuary in the Colombian Pacific with JustDiveCol. Experience extreme diving with massive aggregations of hammerhead sharks, Galápagos sharks, and other pelagic species. Your ultimate ocean adventure awaits in this untamed paradise.",malpSeoKeywords:"Malpelo diving, hammerhead sharks, pelagic life, UNESCO sanctuary, Colombian Pacific, extreme diving, Galapagos sharks, whale shark, liveaboard diving, oceanic currents, JustDiveCol Malpelo, Malpelo Island, technical diving, marine megafauna",malpHeaderTitle:"Malpelo: Where the Giants of the Pacific Await You",malpHeaderSubtitle:"Experience extreme diving and epic shark encounters in this UNESCO World Heritage Wildlife Sanctuary. Adrenaline calls!",malpHeaderMainLogoAlt:"JustDiveCol Main Logo",malpHeaderPhotoCredit:"Photo Credits: XYZ",malpDescTitle:"The Global Epicenter of Pelagic Life in the Pacific",malpDescP1:"Located approximately 500 kilometers / 310 miles off the Colombian coast in the vast Pacific Ocean, Malpelo Island is a Natural Monument and Fauna and Flora Sanctuary, recognized as a UNESCO World Heritage Site. This imposing oceanic rock is a meeting point for some of the largest aggregations of pelagic life on the planet, attracting elite divers from all over the world in search of epic and unforgettable encounters that only JustDiveCol can facilitate.",malpDescP2:"Malpelo is an extreme and deeply rewarding diving experience, where the true adventure begins long before you even get in the water. Its isolation and powerful ocean currents create a unique ecosystem that favors an unparalleled abundance of species. It is a place where wild nature is displayed at its fullest, offering an underwater spectacle that challenges, amazes, and transforms equally those who have the privilege of exploring it. Get ready for the unexpected!",malpCardDescription:"A Fauna and Flora Sanctuary, an imposing rocky bastion in the Pacific, Malpelo is the global mecca for sharks and large pelagics, a destination for divers seeking the extraordinary.",malpCardMainLogoAlt:"JustDiveCol Main Logo",malpCardTextOverlay:"Extreme Dive Destination",malpCardPhotoCredit:"Photo Credits: XYZ",malpDetailsTitle:"Key Information for Your Malpelo Expedition",malpDetailLabel1:"Recommended Diving Level",malpDetailValue1:"Advanced or Expert (essential experience in current diving, deep diving, and remote oceanic conditions)",malpDetailLabel2:"Water Temperature",malpDetailValue2:"18-26 °C / 64-79 °F (with variable and marked thermoclines)",malpDetailLabel3:"Average Visibility",malpDetailValue3:"15-30 m / 50-100 ft (variable depending on season and currents)",malpDetailLabel4:"Best Time for Sightings",malpDetailValue4:"January to May: Massive aggregations of hammerhead and Galápagos sharks. July to November: High probability of spotting whale sharks and rays.",malpDetailLabel5:"Additional Considerations",malpDetailValue5:"Liveaboard expeditions only. Strong currents and challenging oceanic conditions are the norm. This is an extreme diving experience for the most daring.",malpDiveSitesTitle:"Iconic Dive Sites in Malpelo: The Pelagic Sanctuary",malpDiveSite1Name:"La Nevera (The Fridge)",malpDiveSite1Desc:"A legendary spot famous for massive aggregations of hammerhead and Galápagos sharks. Diving in its waters, influenced by strong upward currents, guarantees sightings of hundreds of individuals. Depths can exceed 30 m / 100 ft, a challenging and must-do dive for true shark enthusiasts.",malpDiveSite2Name:"El David (The David)",malpDiveSite2Desc:"An impressive underwater rock formation with intricate tunnels and caverns. It is a privileged place to observe majestic whale sharks (in season), tuna, jacks, and large schools of pelagic fish. Depths vary between 15 m / 50 ft and 40 m / 130 ft, offering diverse environments for exploration beyond the ordinary.",malpDiveSite3Name:"El Jardín (The Garden)",malpDiveSite3Desc:"Characterized by a topography of terraces, crevices, and ledges, this site is a paradise for macro life, colorful moray eels, and occasionally white-tip reef sharks. With more manageable depths, between 10 m / 35 ft and 25 m / 80 ft, it is ideal for enjoying the smallest details of the vibrant reef without losing sight of the pelagic fauna that roams nearby.",malpDiveSite4Name:"Bajo de las Corrientes (Currents Shoal)",malpDiveSite4Desc:"As its name suggests, this spot is known for its strong and exciting currents, which attract large schools of fish and pelagics such as tuna, wahoos, and occasionally oceanic sharks. It is a challenging dive with depths exceeding 30 m / 100 ft, offering pure adrenaline and unforgettable encounters with marine megafauna at its peak.",malpUniqueFindsTitle:"Unmissable and Exclusive Malpelo Experiences",malpUniqueFind1:"Large Shark Aggregations: Globally renowned for massive concentrations of hammerhead, Galápagos, and occasionally silky and whale sharks. An unparalleled natural spectacle!",malpUniqueFind2:"Intense Current Diving: Challenging dives in oceanic currents that reveal the unparalleled magnitude and diversity of pelagic life thriving in these rich waters.",malpUniqueFind3:"The Endemic Malpelo Crab: The rare sighting of the red crab (Gecarcinus malpilensis), a unique terrestrial species endemic to the island, a fascinating encounter in this underwater paradise that often goes unnoticed.",malpUniqueFind4:"Fauna and Flora Sanctuary (UNESCO Heritage): A remote and rigorously protected volcanic island, recognized by UNESCO for its exceptional marine and terrestrial biodiversity, home to rare and endangered species that only thrive here.",malpGalleryTitle:"Epic Moments Captured in Malpelo",malpGaleryImg1MainLogoAlt:"JustDiveCol Main Logo",malpGaleryImg1PhotoCredit:"Photo Credits: XYZ",malpGaleryImg2MainLogoAlt:"JustDiveCol Main Logo",malpGaleryImg2PhotoCredit:"Photo Credits: XYZ",malpGaleryImg3MainLogoAlt:"JustDiveCol Main Logo",malpGaleryImg3PhotoCredit:"Photo Credits: XYZ",malpGaleryImg4MainLogoAlt:"JustDiveCol Main Logo",malpGaleryImg4PhotoCredit:"Photo Credits: XYZ",malpGaleryImg5MainLogoAlt:"JustDiveCol Main Logo",malpGaleryImg5PhotoCredit:"Photo Credits: XYZ",malpGaleryImg6MainLogoAlt:"JustDiveCol Main Logo",malpGaleryImg6PhotoCredit:"Photo Credits: XYZ"},O2={expOtherTripsTitle:"Other Available Experiences",day:"Day",expTitle:"Our Underwater Experiences",expSubtitle:"From your very first breath underwater to becoming an advanced explorer, JustDiveCol has an adventure specially designed for you. Dive in and live the passion for the ocean!",expsmsept25Name:"Believers / Open Water Certification Experience: Santa Marta",expsmoct25Name:"Open Water Certification Experience: Santa Marta",expsmnov25Name:"Open Water Certification Experience: Santa Marta",expsmsept25SeoTitle:"PADI Open Water Certification in Santa Marta | JustDiveCol Dive Trip",expsmsept25SeoDesc:"Get your PADI Open Water dive license on an unforgettable trip to Santa Marta with JustDiveCol. Learn the fundamentals in the crystal-clear waters of the Colombian Caribbean and begin your exciting underwater exploration with confidence and safety. Your adventure awaits!",expsmsept25HeaderTitle:"Your Underwater Adventure Starts Here: Get Certified in Santa Marta!",expsmsept25HeaderSubtitle:"Earn your PADI Open Water certification in the magical waters of Santa Marta. An unforgettable experience that will open the doors to the fascinating 70% of the planet.",expsmsept25HeaderMainLogoAlt:"JustDiveCol Main Logo",expsmsept25HeaderComplementaryLogoAlt:"PADI Logo",expsmsept25HeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expsmsept25DescTitle:"Where a New Explorer of the Blue World is Born",expsmsept25DescP1:"Imagine your first breath underwater, not just anywhere, but in the vibrant and crystal-clear waters of the Colombian Caribbean, with the captivating city of Santa Marta as your base. This experience has been meticulously designed for you to dive in with full confidence, from scratch. We will guide you step-by-step through the region's diverse and protected bays, a true underwater paradise waiting to be discovered by you. The adventure of a lifetime awaits!",expsmsept25DescP2:"More than just a course, this trip is the beginning of a deep passion for diving, one that will compel you to explore 70% of the planet with a new perspective. Prepare to transform your perception of the world, discovering a universe teeming with life, color, and mystery beneath the surface. With JustDiveCol's expert safety and guidance, every dive will be another step towards becoming a responsible and passionate explorer of the big blue.",expsmsept25DetailsTitle:"Essential Details of Your Certification Experience",expsmsept25DetailLabel1:"Total Experience Price",expsmsept25DetailValue1:"COP 3,500,000",expsmoct25DetailValue1:"COP4.000.000",expsmnov25DetailValue1:"COP 4.000.000",expsmsept25DetailLabel2:"Dives Included",expsmsept25DetailValue2:"5 Confined Water + 4 Open Water Dives",expsmsept25DetailLabel3:"Minimum Level Required",expsmsept25DetailValue3:"None (Just a desire to explore and an adventurous spirit!)",expsmsept25DetailLabel4:"Minimum Age",expsmsept25DetailValue4:"10 years old (special conditions apply for minors)",paymentPlanTitle:"Your Payment Plan",paymentPlanStep1Name:"50% (Deadline: August 15th, 2025)",paymentPlanStep1Desc:"Secure your spot and receive PADI study materials.",paymentPlanStep2Name:"25% (Deadline: September 5th, 2025)",paymentPlanStep2Desc:"Cover the next installment for your experience.",paymentPlanStep3Name:"25% (Deadline: September 19th, 2025)",paymentPlanStep3Desc:"Settle the remaining balance to complete your booking. Adventure ready!",paymentPlanNote1:"If your booking is made after a payment deadline, the amount due will include previous installments. Please contact us for the exact calculation and personalized assistance.",expsmsept25ItineraryTitle:"Your Step-by-Step Path to Becoming a Certified Diver",expsmsept25ItineraryDay1Title:"Day 1: Arrival and Confined Water Fundamentals",expsmsept25ItineraryDay1Desc:"Arrive in Santa Marta, your gateway to the Caribbean's charm. After a refreshing lunch, we'll kick off your exciting adventure with the first skill development session in a controlled environment. Here, you'll comfortably familiarize yourself with the dive gear and basic principles that will allow you to breathe underwater with confidence.",expsmsept25ItineraryDay2Title:"Day 2: To the Sea! Your First Open Water Dives",expsmsept25ItineraryDay2Desc:"This is the moment you've been eagerly anticipating. We'll prepare to conduct your first two unforgettable dives in the spectacular open waters of Santa Marta and its vibrant reefs. Discover majestic marine life in its natural habitat. You'll have the afternoon free to relax, process your new experiences, and dream of future explorations.",expsmsept25ItineraryDay3Title:"Day 3: Completing Your Certification and Celebration",expsmsept25ItineraryDay3Desc:"We will conduct the final two dives required to complete your PADI Open Water Diver certification, solidifying your skills and confidence underwater. In the evening, we'll celebrate your extraordinary achievement with a graduation ceremony in a festive and memorable atmosphere, filled with joy and new friendships.",expsmsept25ItineraryDay4Title:"Day 4: Farewell to a New Underwater Explorer",expsmsept25ItineraryDay4Desc:"Enjoy a final delicious breakfast as a proud certified PADI Open Water Diver, reminiscing about the incredible moments experienced. Afterwards, you'll check out from the hotel, taking with you not just a prestigious certification, but a lifelong passion for the ocean and its mysteries, and the beginning of countless future adventures.",expsmsept25ItineraryNote1:"We strongly recommend scheduling your return flight for after noon on the last day, to ensure an adequate post-dive safety margin (minimum 18-24 hours without flying after the last dive).",expsmsept25ItineraryNote2:"For experiences involving minors, notarized authorization from the legal guardian or both parents is mandatory, in accordance with current regulations, to ensure the protection and well-being of young explorers.",expsmsept25IncludedTitle:"What Does Your Open Water Certification Experience Include?",expsmsept25IncludeItem1:"Accommodation for 3 nights and 4 days in a selected hotel (comfortable double/triple rooms).",expsmsept25IncludeItem2:"Full meal plan during the stay: delicious dinners (3), energizing breakfasts (3), and daily snacks to refuel.",expsmsept25IncludeItem3:"All necessary transfers: airport-hotel-airport and to all exciting diving/course activities, for your total convenience.",expsmsept25IncludeItem4:"Professional photographic coverage of your dives and key moments, so you can treasure the memories of your adventure.",expsmsept25NotIncludedTitle:"Your Investment Does NOT Include",expsmsept25NotIncludeItem1:"Domestic or international air tickets to and from Santa Marta.",expsmsept25NotIncludeItem2:"Alcoholic beverages, unspecified drinks, and additional meals outside the established meal plan.",expsmsept25NotIncludeItem3:"Tips for guides, instructors, and support staff (optional, but always appreciated).",expsmsept25NotIncludeItem4:"Other personal expenses not explicitly mentioned in the experience plan.",expsmsept25OfferedCoursesTitle:"Certifications available with this experience",expsmsept25GalleryTitle:"Unforgettable Moments from Your Underwater Experience",expsmsept25GaleryImg1MainLogoAlt:"JustDiveCol Main Logo",expsmsept25GaleryImg1PhotoCredit:"Photo Credits: XYZ",expsmsept25GaleryImg2MainLogoAlt:"JustDiveCol Main Logo",expsmsept25GaleryImg2PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expsmsept25GaleryImg3MainLogoAlt:"JustDiveCol Main Logo",expsmsept25GaleryImg3PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expsmsept25GaleryImg4MainLogoAlt:"JustDiveCol Main Logo",expsmsept25GaleryImg4PhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",expsmsept25CtaTitle:"Ready for your first dive and to get your PADI certification?",expsmsept25CtaButtonText:"Start Your Diving Adventure with JustDiveCol Today",expsmsept25CtaWhatsAppMessage:`Hello, JustDiveCol. I'm interested in your "Open Water: Santa Marta" experience! Could you provide more information to start my PADI certification?`},q2={policiesSeoTitle:"Policies and Regulations | JustDiveCol - Your Guide to a Safe and Transparent Experience",policiesSeoDesc:"Consult JustDiveCol's booking, cancellation, service conditions, rigorous safety protocols, and equipment rental policies. We offer full transparency for a pleasant and worry-free diving and adventure experience. Your peace of mind is our priority!",policiesSeoKeywords:"JustDiveCol policies, diving terms and conditions, dive cancellation policy, dive refund, diving safety, dive equipment rental, dive data protection, diving regulations, responsible diving, JustDiveCol policies, dive service terms",policiesHeaderTitle:"Our Policies & Regulations: Clarity for Your Underwater Adventure",policiesHeaderSubtitle:"At JustDiveCol, transparency, safety, and fairness are as crucial as the thrill of the dive. Discover our policies, designed to ensure a pleasant, clear, and seamless experience for all our valued explorers. Dive with confidence, knowing you're in the best hands!",policiesHeaderMainLogoAlt:"JustDiveCol Main Logo",policiesHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",policiesSection1Title:"Booking and Payment Policy",policiesSection1Point1:"To confirm your spot in any of our experiences, a non-refundable initial payment is required, the value of which may vary by experience. This payment covers the purchase and activation of certification materials (when applicable for courses), which remain valid for 12 months to complete your course with us or any PADI dive center or professional. This initial payment is essential to secure your place and the necessary resources for your adventure.",policies1Point2:"The remaining balance must be paid by the deadline indicated at the time of booking, which varies by experience, being at most 15 days before the start of the trip or activity. Our team will provide you with all payment details clearly and promptly.",policiesSection1Point3:"Your spot is considered reserved only once the initial payment has been received and confirmed by JustDiveCol. In case the final payment is not received within the established timeframe, we reserve the right to release your spot, and the initial payment will be forfeited in its entirety, as it covers operational planning costs.",policiesSection2Title:"Cancellation and Refund Policy",policiesSection2Point1:"Client Cancellation:",policiesSection2Point1a:"More than 30 days before the start date: 50% refund of the total amount paid (excluding the non-refundable initial payment).",policiesSection2Point1b:"Between 15 and 30 days before the start date: No refund applies. A 50% credit of the amount paid (excluding the non-refundable initial payment) will be offered for a future experience, valid for 12 months. The remainder covers operational costs.",policiesSection2Point1c:"Less than 15 days before the start date: No refund or credit applies. The total amount paid (including the initial payment) will be forfeited in its entirety, due to incurred logistical and planning costs.",policies2Point1d:"No-Show on the day of the activity: No refund or credit applies. 100% of the amount paid will be forfeited without exception. We ask for your punctuality and commitment.",policiesSection2Point2:"Changes or cancellations by JustDiveCol (force majeure, weather, permits):",policiesSection2Point2a:"If JustDiveCol is forced to modify or cancel an experience due to adverse weather conditions, lack of navigation permits, operational safety, or any other force majeure cause beyond our control, a credit for a future experience will be offered. The value of this credit may vary depending on the case and non-recoverable operational costs. This credit will be valid for 12 months from the original activity date.",policiesSection2Point2b:"Under these circumstances, no cash refunds will be issued, nor will free rescheduling be provided. The amount paid will be considered used to cover incurred and non-recoverable operational and logistical costs of the original experience, ensuring the continuity of our operations.",policiesSection2Point3:"Medical Exceptions:",policiesSection2Point3a:"Cancellations due to unforeseen medical conditions (prior to the activity) preventing the diver from participating, and duly certified by a doctor, will be evaluated individually. In these cases, a credit for a future date, valid for 12 months, may be offered, but only if cancellation is notified more than 30 days in advance. This credit will be partial and subject to the deduction of all non-recoverable operational costs already incurred. In any other case of medical cancellation with less notice, no refund or credit will apply. Please consider purchasing robust travel insurance to cover such eventualities.",policiesSection3Title:"Safety and Health Regulations & Guidelines",policiesSection3Point1:"All certified divers must present their PADI or equivalent certification card, and their updated dive logbook upon arrival or at the first briefing. This is essential to validate your level and experience.",policiesSection3Point2:"It is each diver's responsibility to know, understand, and strictly adhere to all diving safety standards established by PADI and local regulations of each destination. We will provide all necessary information for you to dive safely.",policiesSection3Point3:"Participants must inform JustDiveCol of any pre-existing medical conditions that may affect their ability to dive safely, before the activity begins. Honesty on this point is crucial for your well-being.",policiesSection3Point4:"JustDiveCol reserves the absolute right to deny service or participation in a dive to any diver who, in the judgment of our certified staff, is deemed not to meet safety requirements, is under the influence of substances, or may compromise their safety or that of others. We prioritize the safety of the entire group.",policiesSection3Point5:"Insurance Coverage: Some of our experiences, especially certifications, include dive insurance that specifically covers incidents related to the diving activity for its duration. However, we strongly recommend having additional travel insurance that offers broader coverage for general medical emergencies, evacuation, and trip cancellation, as JustDiveCol is not responsible for expenses arising from incidents not covered by the specific dive policy or the client's own insurance. Your complete peace of mind is our goal.",policiesSection4Title:"Equipment Rental and Use Policy",policiesSection4Point1:"Rental equipment provided by JustDiveCol must be inspected by the user diver before each use. Any pre-existing damage or anomaly must be reported to our staff immediately before the dive to avoid inconvenience.",policiesSection4Point2:"Divers are responsible for any damage to rental equipment that exceeds normal wear and tear. This includes, but is not limited to, breakages, losses, or malfunctions caused by negligence or misuse. We want the equipment to be in optimal condition for everyone.",policiesSection4Point3:"In case of loss or serious damage to any piece of rental equipment attributable to the diver, a charge equivalent to the replacement or repair cost will be applied, as applicable. An inventory and condition check of the equipment will be performed before and after each use.",policiesSection4Point4:"The use of diving equipment must always be supervised and strictly in accordance with the instructions of our certified instructors and guides. Your safety and the preservation of the equipment are paramount.",policiesSection5Title:"Responsibility and Acceptance of Risks",policiesSection5Point1:"Participation in diving and adventure activities carries certain inherent risks. By joining our experiences, you fully acknowledge and accept these risks. Our mission is to minimize them as much as possible, but it is crucial that you are aware of them.",policiesSection5Point2:"JustDiveCol and its staff act as expert facilitators and guides, striving to minimize risks through strict adherence to international safety protocols and industry best practices. Your safety is our top priority.",policiesSection5Point3:"The signing of an industry-standard Waiver of Liability and any other required documents is mandatory before the start of any diving or adventure activity. Refusal to sign will result in non-participation without right to refund, as it is an essential measure to protect everyone and ensure responsible diving. Transparency is the key to our trusting relationship!"},B2={tcaSeoTitle:"Terms & Conditions | JustDiveCol - Service Usage",tcaSeoDesc:"Learn about the essential terms and conditions governing the use of our website and JustDiveCol's services. This information is crucial for your interaction with our platform and to ensure a clear and safe experience.",tcaSeoKeywords:"terms and conditions, service usage, platform policies, JustDiveCol, diving conditions, intellectual property, limitation of liability, applicable laws, privacy, dive services, adventure",tcaHeaderTitle:"Terms and Conditions of Service",tcaHeaderSubtitle:"By accessing, Browse, or using our website and by booking or participating in any of our services, you confirm that you have read, understood, and fully accepted the following terms and conditions. We invite you to review them with due attention.",tcaHeaderMainLogoAlt:"JustDiveCol Main Logo",tcaHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",tcaSection1Title:"1. Acceptance of Terms",tcaSection1Point1:"By accessing or using the JustDiveCol website, as well as by booking or participating in any of our dive experiences and courses, you confirm that you have read, understood, and accepted these terms and conditions in their entirety. If you do not agree with any part or condition set forth in this document, we kindly ask that you do not use our services or browse our platform. Your consent is fundamental to beginning your adventure with us.",tcaSection1Point2:"JustDiveCol reserves the right to modify, update, or revise these terms and conditions at any time and at our discretion. We will notify you of important changes through publication on the website or via email. Your continued use of our services after such modifications will signify your tacit and full acceptance of the revised terms. We recommend reviewing this section periodically.",tcaSection2Title:"2. Use of Our Services and Website",tcaSection2Point1:"Our website and the services offered are designed exclusively for informational purposes and for the legitimate booking of diving and adventure experiences. Any misuse, such as fraudulent manipulation of information, attempts at unauthorized access, interference with the normal operation of the site, or any activity that compromises the integrity of our platform, is strictly prohibited and will be subject to appropriate legal action.",tcaSection2Point2:"You are solely responsible for maintaining the confidentiality of your account information and password (if applicable) and for all activities that occur under your account. We urge you to protect your credentials and to notify us immediately of any unauthorized use.",tcaSection2Point3:"By making a reservation through our platform, you guarantee that all information you provide is true, complete, and accurate, and that you have the necessary legal authority to make such a reservation and to accept the terms and conditions on behalf of all persons included therein.",tcaSection3Title:"3. Intellectual Property",tcaSection3Point1:"All content on this website (including, but not limited to, texts, images, photographs, graphics, videos, audio recordings, logos, icons, software, and the overall design of the platform) is the exclusive property of JustDiveCol or its respective licensors. Such content is protected by copyright laws, trademark laws, and other applicable intellectual property laws at national and international levels.",tcaSection3Point2:"Unauthorized use, reproduction, distribution, modification, or public display of any material owned by JustDiveCol without our express written consent is strictly prohibited. You may view, download, and print content from our website solely for your personal and non-commercial use, provided that you keep all copyright notices, trademark notices, and other proprietary notices intact on the materials.",tcaSection4Title:"4. Limitation of Liability",tcaSection4Point1:"JustDiveCol diligently strives to keep the information contained on its website accurate, complete, and up-to-date. However, we cannot guarantee the complete absence of errors, absolute integrity, or uninterrupted reliability of such information. The use of information provided on this website is at your own risk and discretion.",tcaSection4Point2:"JustDiveCol, its directors, employees, partners, or affiliates shall not be liable for any direct, indirect, incidental, consequential, special, or punitive damages, including, but not limited to, loss of profits, data, or use, arising from the use or inability to use our website or services, even if JustDiveCol has been advised of the possibility of such damages. This limitation applies to the fullest extent permitted by law.",tcaSection4Point3:"JustDiveCol's total and maximum liability for any claim or damage related to contracted services (diving experiences, courses, etc.) shall be limited, in all cases, to the total amount paid by the client for the specific experience in question. This limitation shall apply regardless of the form of action, whether contractual, tortious, or any other nature.",tcaSection5Title:"5. Links to Third-Party Websites",tcaSection5Point1:"Our website may contain links to third-party websites, services, or resources. These links are provided solely for your convenience and information and do not imply endorsement or affiliation by JustDiveCol with such sites or their content. JustDiveCol has no control over the content, privacy policies, security practices, or availability of these third-party sites and, therefore, assumes no responsibility for them.",tcaSection5Point2:"We strongly recommend that you read the terms and conditions, as well as the privacy policies, of any third-party websites you visit. Interaction with these sites is at your own risk.",tcaSection6Title:"6. Governing Law and Jurisdiction",tcaSection6Point1:"These terms and conditions shall be governed by and construed exclusively in accordance with the laws of the Republic of Colombia, without giving effect to any principles of conflicts of law that might lead to the application of the law of another jurisdiction.",tcaSection6Point2:"Any dispute, controversy, or claim arising out of or in connection with these terms and conditions, including their existence, validity, interpretation, performance, breach, or termination, shall be resolved exclusively by the competent courts of the city of Bogotá, Colombia. Both parties irrevocably submit to the exclusive jurisdiction of said courts.",tcaSection7Title:"7. Severability",tcaSection7Point1:"If any provision of these terms and conditions is deemed illegal, void, or unenforceable by a competent court or authority, such provision shall be deemed severable from the remaining terms and shall not affect the validity and enforceability of the remaining provisions. The parties agree to replace the invalid provision with a valid provision that achieves, to the greatest extent possible, the purpose and intent of the original provision."},F2={ppSeoTitle:"Privacy Policy | JustDiveCol - Your Secure and Protected Information",ppSeoDesc:"Learn about JustDiveCol's Privacy Policy. We clearly and thoroughly explain how we collect, use, protect, and manage your personal data, as well as your rights when interacting with our platform and services. Your trust and the security of your information are our fundamental priorities underwater and beyond.",ppSeoKeywords:"privacy policy, data privacy, data protection, JustDiveCol, personal information, data usage, data security, privacy rights, safe diving, data management, cookies, consent",ppHeaderTitle:"Our Privacy Policy: Your Trust Is Our Most Valuable Treasure",ppHeaderSubtitle:"At JustDiveCol, we deeply value your trust and are committed to protecting your privacy. This policy transparently and thoroughly explains how we collect, use, protect, and, in specific circumstances, share your personal information. We want you to feel as secure with your data when interacting with us as you would diving under our expert supervision. Your peace of mind is essential to us.",ppHeaderMainLogoAlt:"JustDiveCol Main Logo",ppHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",ppSection1Title:"1. Information We Collect",ppSection1Point1:"Information you provide directly to us: We collect personal data that you voluntarily provide when interacting with our services. This includes, but is not limited to, your full name, email address, phone number, emergency contact information, payment details (which are securely processed by third parties), dive certification history, travel preferences, and any other information you give us when registering on our website, booking an experience or course, contacting us directly, or participating in surveys and promotions.",ppSection1Point2:"Automatically collected information: When you visit and interact with our website, we may automatically collect certain information about your device and usage behavior. This may include your IP address, browser type, operating system, pages visited, duration of your visit, links you click, and other usage data. This information helps us understand how you interact with our platform to improve its functionality, user experience, and the relevance of our content.",ppSection1Point3:"Third-party information: On certain occasions and in accordance with applicable laws, we may receive information about you from trusted partners (such as booking platforms or third-party service providers with whom we collaborate) or from other public sources. We always ensure that these sources adhere to relevant data protection laws and regulations before integrating such information.",ppSection2Title:"2. How We Use Your Information",ppSection2Point1:"To provide and manage our services: The primary reason we collect your information is to provide and manage the services you request from us. This includes processing your bookings and payments, organizing your dive experiences and courses, managing your accommodation and transfers (if part of the contracted package), sending you booking confirmations, important reminders, updates about your trip, and any other essential communications related to your activity with JustDiveCol.",ppSection2Point2:"To enhance your experience: We use the collected information to better understand your preferences and needs. This allows us to personalize your experience on our website, offer you content and deals that are more relevant to your interests, and analyze how you interact with JustDiveCol to identify areas for improvement and develop new and exciting future experiences and services.",ppSection2Point3:"For communication and marketing: With your prior consent or when legally permitted, we may send you informative emails about our new experiences, dive courses, special promotions, newsletters, or other information we believe might be of interest to you. You will always have the option to unsubscribe from these communications at any time. We want to make it clear that we do not share your personal data with third parties for their own marketing purposes.",ppSection2Point4:"For security and legal compliance: Your information is fundamental to ensuring the security of all our operations, protecting our customers and staff, and preventing fraudulent or unauthorized activities. Additionally, we use it to comply with applicable laws, regulations, ordinances, and legal requests, including, for example, PADI registration and certification requirements, or insurance policy management.",ppSection3Title:"3. How We Share Your Information",ppSection3Point1:"With service providers: To operate our business and provide you with the best experience, we share your personal information with trusted third parties who provide us with essential services. This may include payment processors, local dive operators in the destinations you visit, hotels, airlines (if your travel package includes flights), IT service providers, among others. These third parties are contractually obligated to protect your information and to use it only for the specific purposes for which it was shared, and in accordance with this privacy policy.",ppSection3Point2:"For legal compliance and security: We may disclose your personal information if required by law, for example, in response to a court order or similar legal process. We may also share your information if we believe in good faith that such action is necessary to comply with a legal obligation, protect JustDiveCol's rights or property, investigate potential policy violations, or ensure the safety of our customers or the general public. This includes sharing information with relevant authorities in case of emergencies or safety situations.",ppSection3Point3:"In business transfers: In the unlikely event that JustDiveCol participates in a merger, acquisition, asset sale, or any other similar transaction involving a change of ownership, your personal information could be transferred to the new owner as part of that transaction. In such a case, the new owner will be obligated to adhere to the privacy practices described in this policy, or to notify you of any significant changes.",ppSection4Title:"4. Your Rights and Choices",ppSection4Point1:"Right to Access and Correction: You have the right to access your personal information that we hold, and to request that it be corrected or updated if you find it to be inaccurate or incomplete. If you wish to exercise this right, please contact us directly through the channels provided in Section 8.",ppSection4Point2:"Right to Opt-Out of Marketing Communications: You can choose not to receive marketing communications from JustDiveCol at any time. You can do this by following the unsubscribe instructions included at the bottom of all our marketing emails. It is important to note that, even if you unsubscribe from marketing, this will not affect essential communications related to your active bookings or contracted services (e.g., payment confirmations, travel itineraries, safety updates).",ppSection4Point3:"Right to Data Deletion: You have the right to request the deletion of your personal data. However, this right is subject to our legal and contractual data retention obligations. For example, we are required to maintain certain dive records and transactions for safety, audit, and regulatory compliance reasons.",ppSection5Title:"5. Data Security",pp5Point1:"At JustDiveCol, we implement rigorous technical, administrative, and physical security measures to protect your personal information against unauthorized access, misuse, disclosure, alteration, or destruction. This includes the use of encryption, firewalls, access controls, and robust security procedures in our systems and operations.",ppSection5Point2:"Despite our extensive efforts to protect your data, it is crucial to remember that no internet data transmission or electronic storage system is 100% secure. Therefore, while we strive our utmost, we cannot guarantee the absolute security of your information. The security of your information also largely depends on you; please protect your passwords, do not share them with third parties, and exercise caution when sharing personal information online. Your cooperation is a crucial part of our security strategy.",ppSection6Title:"6. Data Retention",ppSection6Point1:"We retain your personal information for as long as is strictly necessary to fulfill the purposes for which it was collected, including the continued provision of our services, compliance with our legal and regulatory obligations (such as maintaining dive records required by certification agencies), dispute resolution, and the enforcement of our agreements. Once your information is no longer needed for these purposes, we will securely delete it or anonymize it in accordance with current regulations.",ppSection7Title:"7. Changes to this Privacy Policy",ppSection7Point1:"JustDiveCol reserves the right to update or modify this privacy policy periodically to reflect changes in our data practices, our business operations, or applicable legal requirements. We will post any significant changes on this webpage, and if the changes are of a substantial nature, we will notify you via email or through other clear and visible means on our platform.",ppSection7Point2:"We strongly recommend that you review this privacy policy regularly to stay informed about how we protect your information and how we use it. The date of the last update will be clearly indicated at the beginning of the policy.",ppSection8Title:"8. Contact",ppSection8Point1:"If you have any questions, concerns, or comments about this privacy policy, our data practices, or if you wish to exercise any of your rights related to your personal information, please do not hesitate to contact us. You can do so through our contact form in the relevant section of our website or by sending an email directly to info@justdivecol.com. We are ready to listen and address any queries with the utmost transparency."},V2={faqsSeoTitle:"Frequently Asked Questions (FAQs) | JustDiveCol - Your Reliable Dive Guide",faqsSeoDesc:"Find clear answers to your most frequent questions about dive courses, thrilling trips, safety, bookings, and much more with JustDiveCol. Plan your underwater adventure with total confidence and a smile!",faqsHeaderTitle:"Frequently Asked Questions",faqsHeaderSubtitle:"Find clear answers to your questions about our diving experiences and services.",faqsHeaderMainLogoAlt:"JustDiveCol Logo",faqsHeaderPhotoCredit:"Photo Credits: Camilo Beltran @JustDiveCol",certificationsFaqsTitle:"Courses & Certifications: Your First Splash Towards a New Passion!",faqFirstCertificationQuestion:"What certification do I need to start diving?",faqFirstCertificationAnswer:"To make your first exciting bubbles in recreational diving, the PADI Open Water Diver course is your passport to the underwater world. It's the most popular certification on the planet and will teach you all the essential fundamentals to dive safely and autonomously up to 18 m (60 ft) deep. Get your fins ready, adventure awaits!",faqWhatIsIncludedCertificationQuestion:"What does the price of a certification course with you include?",faqWhatIsIncludedCertificationAnswer:"Our courses are like an all-inclusive combo, designed for your convenience and learning. They generally come with unlimited access to the PADI eLearning® platform, all theoretical and practical sessions (both in confined water and open ocean), full top-quality equipment rental, accompaniment and supervision from an expert PADI instructor, and dive insurance for the duration of the course. The exact and complete details for each certification can be found in its specific course description. So, no surprises underwater, just pure fun!",faqSwimmingRequirementQuestion:"Do I need to be a fish to dive? Do I have to know how to swim?",faqSwimmingRequirementAnswer:"You don't need to be an Olympic champion, but yes, it is essential to know how to swim! You must be comfortable and confident in the water, and be able to swim 200 m (650 ft) non-stop (or 300 m (1000 ft) with light gear like mask and fins) and float for 10 minutes. These requirements are for your own safety and comfort underwater, so if you need to practice those strokes, now's the time!",faqMinimunAgeQuestion:"What is the minimum age to join the underwater adventure?",faqMinimunAgeAnswer:'For our youngest explorers, the Junior Open Water Diver certification starts from 10 years old. For the "adult" Open Water Diver course and other advanced courses, the minimum age is generally 12 years or older. The passion for the sea has no age, but safety does have clear requirements to ensure everyone enjoys it to the fullest!',faqMedicalRequirementQuestion:"Do I need to see a doctor before diving?",faqMedicalRequirementAnswer:`Yes, it's an essential "check-up" for your ocean well-being. Before any course or dive, you'll need to complete a PADI Medical Questionnaire. If you answer "yes" to any questions (due to pre-existing medical conditions, for example), no worries! You'll just need a medical authorization signed by a doctor, preferably one specializing in hyperbaric medicine. This is a vital step for your safety, so please review it well in advance and without rushing.`,faqAirCompensationQuestion:"What if my ears don't equalize well underwater?",faqAirCompensationAnswer:"It happens to all of us! Ear equalization is a key skill in diving, and our expert instructors will teach you several effective techniques to do it correctly. If you still experience difficulties, it's crucial to communicate immediately. In some cases, persistent issues might require a medical consultation. Never force your ears; listen to your body and always follow your instructor's guidance for a safe and pleasant dive!",faqRespirationIssueQuestion:"Can I dive if I have asthma or a respiratory condition?",faqRespirationIssueAnswer:"Safety is our absolute priority. Respiratory conditions like asthma or any other condition affecting your breathing or circulation require a thorough medical evaluation. If you have any of these conditions, it is mandatory that a specialist hyperbaric physician authorizes your fitness for diving. Don't take risks; your health is your greatest treasure, and we want you to enjoy diving with complete peace of mind and safety!",tripsAndExpiriencesFaqsTitle:"Dive Trips & Experiences: Let's Explore the Blue World!",faqExperienceTypeQuestion:"What type of dive experiences do you offer?",faqExperienceTypeAnswer:"We offer a menu of underwater adventures for all tastes and levels: from exciting certification trips to postcard-perfect destinations, to advanced experiences for the boldest and most demanding divers. We are passionate about exploring vibrant reefs, mysterious historical wrecks, and unforgettable encounters with the planet's most surprising marine life. Always with excitement and safety as the main ingredients in every adventure!",faqExperienceLevelQuestion:"What experience level is required for your trips?",faqExperienceLevelAnswer:`There's an adventure for every explorer! We offer experiences adapted from absolute beginners who still "smell of pool chlorine," to advanced divers looking for the next big challenge. It's important to note that each experience or dive site has its recommended or required certification level. For example, Malpelo is exclusive to advanced divers with vast experience in currents and challenging oceanic conditions. No room for novices there (yet), but certainly for those who crave the adrenaline of the big blue!`,faqExperienceAloneQuestion:`Can I join a trip if I don't have a dive buddy? Am I a "Forever Alone" diver?`,faqExperienceAloneAnswer:`Not a "Forever Alone" diver at all! Many of our clients travel solo and not only find great friends underwater but also lifelong companions. We take care of assigning you a certified dive buddy with a similar experience level to yours. This way, we guarantee your safety, enjoyment, and the opportunity to forge new friendships. Here, no one dives alone, unless it's their personal wish, as in recreational technical diving!`,faqExperiencePackingQuestion:"What should I pack for a dive trip? Just fins and go?",faqExperiencePackingAnswer:"Almost! Don't forget your PADI certification (or equivalent recognized), your updated dive logbook, personal items (please, make them biodegradable to protect the ecosystem), comfortable and quick-drying clothes, swimwear, reef-friendly sunscreen, and if you have it, your personal diving gear. In the detailed description of each experience, you'll find a more specific packing list so you don't leave anything out of your suitcase (or your fins) and fully enjoy your adventure.",faqExperienceCustomQuestion:'Do you offer customized experiences? Can I order my adventure "à la carte"?',faqExperienceCustomAnswer:"Absolutely! At JustDiveCol, we love creativity and making your boldest underwater dreams come true. If our experience calendar doesn't have that specific adventure you're dreaming of, don't hold back! Contact us, and we'll be your adventure architects. We can design a private experience or a fully personalized dive trip that perfectly fits your unique interests, certification level, and preferred dates. Your adventure, your secret recipe, your personalized bubbles!",bookingAndPaymentFaqsTitle:"Bookings & Payments: Secure Your Spot in the Deep Blue!",faqBookingAndPaymentHowToReserveQuestion:"How can I book an experience with JustDiveCol?",faqBookingAndPaymentHowToReserveAnswer:"It's easier than breathing underwater! You can book your adventure directly on our website, by visiting each course or experience page. If you prefer a more personal chat or need advice, don't hesitate to contact us via WhatsApp or email. We'll guide you step-by-step through the entire booking and payment process – no tangles or complications, so you can focus only on the excitement of diving!",faqBookingAndPaymentMethodsQuestion:"What are your payment methods? Do you accept bartering with seashells?",faqBookingAndPaymentMethodsAnswer:"We accept modern and secure payment methods – no seashells for now! You can use our secure payment link for transactions with domestic credit cards (Visa, Mastercard), debit (PSE), or directly from your Bancolombia or Nequi account. We also accept direct bank transfers to our Bold account. Specific details for your payment will be sent clearly and promptly when you confirm your booking. Your peace of mind is our priority!",faqBookingAndPaymentPoliciesQuestion:"What is your cancellation and refund policy? Is it super strict?",faqBookingAndPaymentPoliciesAnswer:"Yes, to be completely transparent, our cancellation and refund policy is strict, and we'll explain why. Imagine we've already invested in logistics: we've bought the air space for your tank, booked your spot on the boat, and prepared all the details. Due to the high operational costs and advance planning involved in our experiences and courses, the initial payment is non-refundable. Conditions for refunding the remaining amount vary significantly depending on when you cancel (more or less than 30 or 15 days in advance) and if you don't show up (No-Show). For changes due to force majeure (adverse weather conditions, permit restrictions, etc.), the main solution is to offer future credit. We strongly encourage you to read our detailed Policies section in the main menu so there are no doubts. Transparency and your full understanding are key to a trusting relationship and worry-free diving!",safetyAndHealthFaqsTitle:"Safety & Health: Our Top Priority Underwater (and out of it)!",faqSafetyAndHealthMeasuresQuestion:"What safety measures does JustDiveCol implement? Are they super strict?",faqSafetyAndHealthMeasuresAnswer:"More than strict, we're obsessive and methodical about your safety! We implement rigorous protocols based on the highest standards of PADI and DAN (Divers Alert Network). We only use high-quality diving equipment with professional and constant maintenance. Our PADI guides and instructors are super certified, and before each dive, we conduct detailed briefings and exhaustive equipment checks. Plus, we constantly monitor you underwater. We want your only concern to be enjoying yourself to the fullest and diving with absolute peace of mind!",faqSafetyAndHealthInsuranceQuestion:"Is dive insurance mandatory? What if a jellyfish stings me?",faqSafetyAndHealthInsuranceAnswer:"Some of our experiences, especially certifications, include dive insurance that specifically covers incidents related to the diving activity for its duration. It's an excellent backup. However, we strongly recommend having additional travel insurance that covers general medical emergencies (like a jellyfish sting, a small scare that can happen!), evacuation, and cancellations. JustDiveCol is not responsible for expenses not covered by the specific dive policy or by your own insurance. Remember, better safe than sorry, and your peace of mind is priceless!",faqSafetyAndHealthEmergencyQuestion:"What happens if I have a medical emergency during an experience?",faqSafetyAndHealthEmergencyAnswer:"Our team is highly trained to act quickly and effectively! All our guides and instructors are trained in first aid and emergency management. In case of any medical situation, emergency protocols will be activated, and appropriate medical attention will be sought. It is crucial that you inform us about any pre-existing medical conditions before starting the activity, so we can provide you with the best support. Your well-being is our number one alarm bell and the reason for our utmost attention!",faqSafetyAndHealthLiabilityQuestion:"Is signing a liability release mandatory? Are you playing a legal trick on me?",faqSafetyAndHealthLiabilityAnswer:"Not a trick at all; it's an industry standard and essential for your safety and everyone's! Yes, signing a standard industry Waiver of Liability and any other required documents is mandatory before starting any diving or adventure activity. It's an acknowledgment of the inherent risks of diving. If you decide not to sign these documents, unfortunately, you won't be able to participate in the experience, and there will be no refund. It's a measure to protect all of us in this incredible adventure and ensure everyone understands and accepts the terms for responsible diving. Transparency is our compass!",generalInformationFaqsTitle:"General Information: Things You Might Not Know & Will Find Interesting!",faqGeneralInformationDiveCenterQuestion:"Is JustDiveCol a physical dive center?",faqGeneralInformationDiveCenterAnswer:"We're not a traditional physical center with walls and fixed hours! At JustDiveCol, we define ourselves as an adventure and dive tourism company specializing in personalized experiences. Think of us as your organizers and curators of underwater adventures around the world. We work closely with high-quality local operators in each destination, guaranteeing you the best experience and the highest level of service. We're more an adventurous spirit and a global community than a physical address, bringing the magic of diving wherever the ocean calls us!",faqGeneralInformationCustomExperienceQuestion:'Do you offer customized experiences? Can I order my adventure "à la carte"?',faqGeneralInformationCustomExperienceAnswer:"Absolutely! We love creativity and making your boldest underwater dreams come true. If our experience calendar doesn't have that specific adventure you're dreaming of, don't hold back! Contact us, and we'll be your adventure architects. We can design a private experience or a fully personalized dive trip that perfectly fits your unique interests, certification level, and preferred dates. Your adventure, your secret recipe, your personalized bubbles!",faqGeneralInformationInformationQuestion:"How can I stay updated on your new experiences and offers?",faqGeneralInformationInformationAnswer:"It's super easy and exciting! Follow us on our social media where we share the daily magic of our adventures and the latest news. And to not miss a thing, we invite you to subscribe to our newsletter: you'll receive exclusive news, special offers, and updates on our upcoming trips and courses directly in your inbox. You won't want to miss the next wave of fun!",faqGeneralInformationEnvironmentQuestion:"What's your commitment to the marine environment?",faqGeneralInformationEnvironmentAnswer:"We love the ocean as much as you do! Our commitment to the marine environment is unwavering and profound. We actively promote low-impact diving practices, support marine conservation initiatives locally and globally, and educate all our explorers on the vital importance of protecting underwater ecosystems. We believe firmly that every dive is a unique opportunity to learn, care for, and leave the sea better than we found it. We are guardians of the blue and ambassadors of marine sustainability in every bubble we exhale!",faqGeneralInformationContactQuestion:"How can I contact you directly?",faqGeneralInformationContactAnswer:"We love to chat and are ready to listen! You can easily contact us through the Contact section on our website, where you'll find all options. You can also send us a direct message via WhatsApp for a quick and personalized response, or email us if you prefer. We're ready to listen and plan your next underwater adventure with the passion that characterizes us!",faqGeneralInformationQ6Title:"What if my flight is delayed and I miss part of the experience?",faqGeneralInformationQ6Point1:"Ugh, that's a classic traveler's nightmare! Unfortunately, JustDiveCol is not responsible for flight delays, transportation cancellations, or other events outside our operation that prevent you from arriving on time. Our itineraries and costs are fixed, so portions of the experience missed due to your delay are non-refundable and non-recoverable. That's why we strongly urge you to consider good travel insurance that covers these eventualities!",faqGeneralInformationQ7Title:"Can I bring my own dive gear?",faqGeneralInformationQ7Point1:"Absolutely! If you have your own gear and prefer to use it, you're more than welcome. Just make sure it's in perfect condition and up-to-date on its maintenance. If you need to rent anything specific you're missing, we can also help you out. The most important thing is that you feel comfortable and safe underwater!"},U2={notFoundTitle:"404: Lost in the Depths",notFoundSubtitle:"Oops! Looks like you forgot to equalize and ended up in an unexplored part of our site. Let's head back to the surface before the pressure increases. We'll guide you back to safety and the information you're looking for.",notFoundCtaText:"Return to the Surface",notFoundMainLogoAlt:"404 Page Image - Diver lost in the ocean"},G2={underConstructionSeoTitle:"Under Construction | JustDiveCol - Preparing Your Next Underwater Adventure",underConstructionSeoDesc:"This section of JustDiveCol is currently under construction! We're fine-tuning the last details to unveil new and exciting underwater adventures. We invite you to visit us again very soon to discover all that's coming. The wait will be worth it!",underConstructionTitle:"Gearing Up for a New Dive...",underConstructionSubtitle:"We're making our safety stop before a big reveal! This section of JustDiveCol will be ready for your next underwater adventure very soon. We appreciate your patience as we fine-tune every detail to ensure an exceptional experience. The big blue awaits you!",underConstructionCtaText:"Go to Home",notFoundMainLogoAlt:"JustDiveCol Main Logo"},H2={bajoDelPescadorSmName:"Bajo del Pescador - Tayrona National Natural Park",bajoDelPescadorSmDescriptionP1:"Dive into Bajo del Pescador, an underwater oasis in Tayrona National Natural Park, perfect for beginner and Open Water divers. A vibrant reef awaits you, teeming with colorful tropical fish and majestic turtles, all in warm, calm waters with excellent visibility. It's the ideal setting for your first safe and relaxed dive, where every bubble brings you closer to the magic of the Colombian Caribbean.",bajoDelPescadorSmDescriptionP2:"This site, easily accessible by boat, stands out for its shallow depth and healthy hard corals, creating a fascinating and secure ecosystem to explore. The experience is as relaxing as it is enriching, allowing novice divers to build confidence while being amazed by the biodiversity. Bajo del Pescador is not just a dive; it's your gateway to Santa Marta's underwater world, offering an unforgettable glimpse into life beneath the waves.",bajoDelPescadorSmXXMainLogoAlt:"JustDiveCol Logo",bajoDelPescadorSmXXPhotoCredit:"Photo Credits: XYZ",barcazaProfundaSmName:"Deep Barge",barcazaProfundaSmDescriptionP1:"Dive into the intriguing history of the Caribe Barge, a fascinating wreck resting between 32 m / 105 ft and 40 m / 130 ft deep off El Morro Chico in Santa Marta. This shipwreck has transformed into a vibrant artificial reef, offering a technical dive teeming with marine life on its metal structures. It’s the perfect setting for advanced and technical divers seeking an underwater adventure with purpose and challenge.",barcazaProfundaSmDescriptionP2:"Sunk in 1997 with 660 tons of coal, the Caribe Barge is now completely colonized by lush corals and a wide variety of reef fish. The dive typically begins on the south face of El Morro, allowing divers to circle the wreck and often continue towards the nearby Punta Betín Barges. Its depth and dynamic environment make it an experience for those with the appropriate certification and experience, guaranteeing an unforgettable underwater journey full of historical and biological discoveries.",barcazaProfundaSmXXMainLogoAlt:"JustDiveCol Logo",barcazaProfundaSmXXPhotoCredit:"Photo Credits: XYZ",barcoHundidoSmName:"Sunken Ship (El Rodadero Wreck)",barcoHundidoSmDescriptionP1:"Explore an impressive artificial shipwreck, 33 m / 110 ft long, resting approximately 30 m / 100 ft deep off the iconic Morro de Santa Marta. This wreck has transformed into a vibrant underwater reef, teeming with colorful corals and an astonishing diversity of marine life. It's an ideal site for Advanced Open Water certified divers looking to dive into a fascinating history beneath the waves.",barcoHundidoSmDescriptionP2:"Sunk in the late 1980s, this wreck is beautifully covered by oysters, corals, and countless reef fish. You can explore its exterior, admiring its structure turned habitat, or, if you have the appropriate advanced training, venture to explore its mysterious holds and passageways. Given its depth and the potential for currents, this dive offers a challenging and rewarding exploration experience. A true journey back in time for underwater explorers!",barcoHundidoSmXXMainLogoAlt:"JustDiveCol Logo",barcoHundidoSmXXPhotoCredit:"Photo Credits: XYZ",cagaPajaroSmName:"Caga Pájaro - Tayrona National Natural Park",cagaPajaroSmDescriptionP1:"Explore Caga Pájaro, a dynamic dive site in the heart of Tayrona National Natural Park, known for its unique rock formations and fascinating underwater crevices. It's a hidden paradise ideal for Open Water divers seeking adventure and the opportunity to discover surprising macro life in every corner. Dive into a labyrinth of natural beauty!",cagaPajaroSmDescriptionP2:"With a maximum depth of about 18 m / 60 ft, this site offers a relaxed yet discovery-filled experience. Its reef is adorned with a wide variety of hard and soft corals, serving as home to colorful reef fish, curious moray eels, and an impressive diversity of macro life. Visibility is usually good and currents are generally mild, ensuring a comfortable and safe dive, perfect for underwater photography. A natural gem waiting to be explored in the Colombian Caribbean!",cagaPajaroSmXXMainLogoAlt:"JustDiveCol Logo",cagaPajaroSmXXPhotoCredit:"Photo Credits: XYZ",calichanSmName:"Calichán - Tayrona National Natural Park",calichanSmDescriptionP1:"Discover Calichán, an exceptionally versatile dive site in Tayrona National Natural Park, designed to captivate both beginners and advanced divers. The shallow area (Calichán I) offers tranquil reefs between 5 m / 15 ft and 12 m / 40 ft, perfect for those starting out or seeking relaxed dives. It’s an oasis of fringing corals and abundant small marine life in calm, clear waters, a true paradise for observation.",calichanSmDescriptionP2:'For advanced divers, Calichán II is an exciting dive into a mesophotic reef, where the underwater slope descends to 40 m / 130 ft. Here, a sandy valley reveals impressive "lettuce" coral formations, offering the chance to explore lesser-known ecosystems and species adapted to depth. While there may be a slight current in this area, both sections of Calichán are renowned for their exceptional biodiversity and unparalleled opportunities for underwater photography in the warm Caribbean waters. Two underwater worlds in one fascinating destination!',calichanSmXXMainLogoAlt:"JustDiveCol Logo",calichanSmXXPhotoCredit:"Photo Credits: XYZ",cantilGranateSmName:"El Cantíl de Granate - Tayrona National Natural Park",cantilGranateSmDescriptionP1:"Be amazed by El Cantíl de Granate, a spectacular vertical coral wall in Tayrona National Natural Park. Starting at just 2 m / 5 ft and descending to 30 m / 100 ft, this impressive wall is completely colonized by vibrant corals and a diversity of marine life that will take your breath away. It is an exceptional site for Open Water divers with good buoyancy and intermediate divers looking to explore an underwater world of color and movement, also ideal for exciting night dives.",cantilGranateSmDescriptionP2:`Also known as "Casa Camargo," this popular dive site is a feast for the senses. In the upper part, between 2 m / 5 ft and 5 m / 15 ft, you'll find a picturesque passageway between two large rocks and an incredible concentration of life. As you descend, from 15 m / 50 ft, the wall reveals enormous brain corals and is home to numerous lobsters hidden in the crevices. The base of the wall, at 30 m / 100 ft, ends in a sandy bottom where spotting rays is common. Entry is by boat, and although currents can vary, the magic and photographic opportunities are constant in this vibrant ecosystem.`,cantilGranateSmXXMainLogoAlt:"JustDiveCol Logo",cantilGranateSmXXPhotoCredit:"Photo Credits: XYZ",elCoroSmName:"El Coro - Tayrona National Natural Park",elCoroSmDescriptionP1:"Get ready for a challenging and thrilling dive at El Coro, an exclusive site for advanced divers located offshore in the majestic Tayrona National Natural Park. Here, two impressive rock pinnacles rise from 40 m / 130 ft deep, with their tops reaching 14 m / 45 ft from the surface, creating an epic underwater landscape. It's renowned for its oceanic currents, which attract occasional reef shark sightings. Adrenaline and wildlife at their best await you!",elCoroSmDescriptionP2:"El Coro's rock formations host small caves and hollows, providing shelter for diverse marine life, from vibrant fish to fascinating invertebrates. The currents, which can be moderate to strong, add a dynamic level of challenge, making it an ideal experience for those seeking a demanding and rewarding dive. Given the depth and open ocean conditions, an advanced diving certification is required to explore this thrilling underwater pinnacle and live an adventure few have the privilege of experiencing.",elCoroSmXXMainLogoAlt:"JustDiveCol Logo",elCoroSmXXPhotoCredit:"Photo Credits: XYZ",elMorroChicoSmName:"El Morro Chico",elMorroChicoSmDescriptionP1:"Explore El Morro Chico, a dynamic reef in Santa Marta Bay that invites you to a vibrant dive. With depths ranging from 5 m / 15 ft to 30 m / 100 ft, this site is ideal for Open Water divers seeking rich marine biodiversity and an exciting drift dive. Here, adventure combines with the opportunity to observe colorful fish and corals in an active environment.",elMorroChicoSmDescriptionP2:'The dive at El Morro Chico starts near "Las Barcazas" and takes you along an extensive reef that transitions from soft coral plains to steeper slopes. While surface currents and backwash during ascent can add a challenge (considered medium difficulty), the abundance of marine life and excellent opportunities for underwater photography make it worthwhile. Good communication with the boat captain is crucial for surface support, ensuring a safe and discovery-filled experience in its warm waters.',elMorroChicoSmXXMainLogoAlt:"JustDiveCol Logo",elMorroChicoSmXXPhotoCredit:"Photo Credits: XYZ",elRemansoSmName:"El Remanso - Tayrona National Natural Park",elRemansoSmDescriptionP1:"Dive into El Remanso, an exceptionally calm and sheltered dive site in Tayrona National Natural Park. With depths of just 5 m / 15 ft to 12 m / 40 ft, it's the ideal spot for beginners, discovery dives, and training courses, thanks to the almost complete absence of currents or swell. Discover an underwater haven of peace and the abundant shallow marine life of the Caribbean!",elRemansoSmDescriptionP2:"Located near Taganga, this shallow coastal reef features low coral formations and sandy bottoms that host typical shallow marine fauna, offering a relaxed glimpse into local biodiversity. Its serene conditions make it perfect for night dives, allowing easy observation of crepuscular and nocturnal species that emerge after sunset. Visibility is usually good, and the warm water ensures a comfortable and enjoyable diving experience, ideal for those seeking a gentle introduction to the underwater world or a peaceful observation of marine life.",elRemansoSmXXMainLogoAlt:"JustDiveCol Logo",elRemansoSmXXPhotoCredit:"Photo Credits: XYZ",elTorinSmName:"El Torín - Tayrona National Natural Park",elTorinSmDescriptionP1:"Discover the serenity of El Torín, a pristine and exceptionally well-preserved reef in Tayrona National Natural Park. This site is a true underwater sanctuary, ideal for Open Water divers seeking a tranquil and vibrant environment. Here, the water clarity is often the best in the entire area, revealing a healthy coral ecosystem and abundant marine life. Get ready for a rewarding diving experience in warm, crystal-clear waters!",elTorinSmDescriptionP2:"El Torín benefits from excellent protection against winds and currents, helping to maintain its corals in immaculate condition. With average depths of about 18 m / 60 ft (ranging between 12 m / 40 ft and 20 m / 65 ft), it is perfectly accessible for Open Water certified divers. You can appreciate in detail its well-developed corals, including fascinating orange plate forms, and the rich biodiversity that inhabits this vibrant reef. Diving at El Torín means immersing yourself in the tranquility and pure beauty of the Colombian Caribbean, offering countless opportunities for underwater photography and conscious observation.",elTorinSmXXMainLogoAlt:"JustDiveCol Logo",elTorinSmXXPhotoCredit:"Photo Credits: XYZ",incaIncaSmName:"Inca Inca",incaIncaSmDescriptionP1:`Discover Inca Inca, an exceptionally calm and shallow coastal reef in Santa Marta, located in front of the picturesque Inca Inca Beach. It's the ideal spot for beginners, snorkeling, and training, offering a "natural pool" environment with calm waters and abundant reef life. Here you can enjoy a relaxed and safe introduction to the fascinating underwater world of the Caribbean, perfect for your first bubbles or for family exploration.`,incaIncaSmDescriptionP2:'This hidden gem is characterized by a micro-barrier coral formation, with depths ranging from 4 m / 15 ft to a maximum of 12 m / 40 ft. The absence of significant currents and the excellent light penetration allow you to appreciate in detail its branching and massive corals, as well as a large number of small reef fish. Inca Inca is perfect for discovery dives, programs like "Discover Scuba Diving," and activities such as "aquanautas," guaranteeing a simple, vibrant, and lively underwater experience in its warm waters.',incaIncaSmXXMainLogoAlt:"JustDiveCol Logo",incaIncaSmXXPhotoCredit:"Photo Credits: XYZ",laAntenaSmName:"La Antena",laAntenaSmDescriptionP1:"Explore La Antena, an accessible and surprising dive site near Taganga, known for its artificial structures that have become a vibrant home for marine and macro life. It's the ideal place for Open Water divers and underwater photographers seeking close encounters with nudibranchs, small crustaceans, and an astonishing diversity of reef fish. A hidden treasure for lovers of ocean details and small marine life!",laAntenaSmDescriptionP2:"Although its name might suggest otherwise, La Antena stands out for its unique rocky reef and artificial structures that attract a great diversity of organisms. With a maximum depth of approximately 18 m / 60 ft, its warm waters and generally mild currents make it perfect for a relaxed and discovery-filled exploration. Visibility can vary, but the richness of its underwater ecosystem offers constant opportunities to capture the hidden beauty of the Colombian Caribbean. Dives are always conducted from a boat.",laAntenaSmXXMainLogoAlt:"JustDiveCol Logo",laAntenaSmXXPhotoCredit:"Photo Credits: XYZ",laPeceraSmName:"La Pecera - Tayrona National Natural Park",laPeceraSmDescriptionP1:'Dive into La Pecera, a true "natural aquarium" in the heart of Tayrona National Natural Park, where an exceptionally vibrant reef awaits you. This dive site is a paradise ideal for all levels, from beginners to experienced divers, offering calm and life-filled dives, including the frequent and thrilling presence of hawksbill turtles. A spectacle of color and underwater biodiversity awaits you!',laPeceraSmDescriptionP2:"Located in the picturesque Granate Cove, La Pecera stands out for its impressive and healthy elkhorn and brain coral formations, which cover the rocks and create a perfect refuge for countless tropical fish. With depths generally between 6 m / 20 ft and 18 m / 60 ft, it is well-protected from the wind, ensuring calm waters and excellent visibility. Diving here offers an immersive and vivid sensation of being inside an aquarium teeming with life, making it an ideal spot for underwater photography and detailed observation of a thriving ecosystem in the warm Caribbean waters.",laPeceraSmXXMainLogoAlt:"JustDiveCol Logo",laPeceraSmXXPhotoCredit:"Photo Credits: XYZ",laPiedraDelChivoSmName:"La Piedra del Chivo - Tayrona National Natural Park",laPiedraDelChivoSmDescriptionP1:"Discover the serenity of La Piedra del Chivo, a charming, calm, and shallow dive site in Tayrona National Natural Park. With a maximum depth of just 15 m / 50 ft, it's an underwater oasis ideal for beginners, Open Water divers, and macro life enthusiasts, where good visibility and healthy reefs create the perfect setting for detailed, relaxed exploration. Feel the peace underwater as you marvel at miniature life!",laPiedraDelChivoSmDescriptionP2:"This site stands out for its serene atmosphere and generally calm waters, allowing for intimate observation of its rocky reef, covered with hard and soft corals. It's a haven for a varied community of fish and, what makes it special, the frequent presence of small nudibranchs, shrimp, and other invertebrates hiding among the formations. Currents are minimal, ensuring a safe and pleasant diving experience. La Piedra del Chivo is an excellent spot for underwater photography, offering the chance to capture the vibrant biodiversity of the Colombian Caribbean in a peaceful and accessible environment. Entry to the site is always by boat.",laPiedraDelChivoSmXXMainLogoAlt:"JustDiveCol Logo",laPiedraDelChivoSmXXPhotoCredit:"Photo Credits: XYZ",laPiedraDelMedioSmName:"La Piedra del Medio - Tayrona National Natural Park",laPiedraDelMedioSmDescriptionP1:"Explore La Piedra del Medio, an iconic underwater pinnacle in the heart of Tayrona National Natural Park, descending to 25 m / 80 ft. Famous for being a biodiversity magnet and a meeting point for vibrant reef fish and pelagic species, this site is ideal for both Open Water and advanced divers. A vibrant spectacle of marine life awaits you on every dive!",laPiedraDelMedioSmDescriptionP2:"Considered one of Tayrona's most popular sites, La Piedra del Medio rises from the seafloor, creating an isolated reef carpeted by a healthy mix of hard and soft corals. The potential presence of moderate currents adds a dynamic touch to the dive, favoring the presence of schooling barracudas and jacks. With generally good visibility in its warm Caribbean waters, and always accessed by boat, this biodiversity hotspot offers excellent opportunities for underwater photography and an unforgettable experience.",laPiedraDelMedioSmXXMainLogoAlt:"JustDiveCol Logo",laPiedraDelMedioSmXXPhotoCredit:"Photo Credits: XYZ",laTravesiaSmName:"La Travesía - Tayrona National Natural Park",laTravesiaSmDescriptionP1:"Get ready for an action-packed dive at La Travesía, a dynamic drift dive site in Tayrona National Natural Park. With impressive walls and canyons descending to 25 m / 80 ft, this destination is ideal for Advanced Open Water divers experienced in currents who seek thrilling encounters with abundant pelagic life. Feel the ocean's power as you explore an ever-moving underwater landscape.",laTravesiaSmDescriptionP2:"La Travesía's topography will guide you through rock formations that create interesting passageways and tunnels. Its moderate to strong currents not only add adrenaline but also bring in a wealth of nutrients, resulting in frequent sightings of large schools of fish and pelagic species like barracudas. While visibility can be variable, the waters are warm, and the reef, composed of a healthy mix of hard and soft corals, is teeming with life. Careful planning with the captain is crucial for a safe and rewarding experience, offering a distinct and vibrant dive in the Colombian Caribbean.",laTravesiaSmXXMainLogoAlt:"JustDiveCol Logo",laTravesiaSmXXPhotoCredit:"Photo Credits: XYZ",laVueltaNegraSmName:"La Vuelta Negra - Tayrona National Natural Park",laVueltaNegraSmDescriptionP1:"Explore La Vuelta Negra, a dynamic and mysterious dive site in the stunning Tayrona National Natural Park, famous for its dark rocky pinnacles and enigmatic underwater canyons. With a maximum depth of 25 m / 80 ft, it's ideal for intermediate and advanced divers seeking a varied and fascinating dive, where light and shadow create a unique exploration setting. Get ready to weave through underwater landscapes that seem otherworldly!",laVueltaNegraSmDescriptionP2:'This site is distinguished by its intriguing topography, combining rocky reefs, gentle walls, and formations that invite exploration of natural passageways and overhangs. A great diversity of reef marine life finds refuge here, including colorful fish and vibrant schools. Visibility can be variable, and currents generally moderate, adding a dynamic element to the dive. La Vuelta Negra is an authentic "biodiversity hotspot" offering excellent opportunities for underwater photography, allowing you to capture the dramatic contrasts between the dark rocks and the lush coral life in its warm waters. Entry to the site is always by boat.',laVueltaNegraSmXXMainLogoAlt:"JustDiveCol Logo",laVueltaNegraSmXXPhotoCredit:"Photo Credits: XYZ",langostasSmName:"Langostas - Tayrona National Natural Park",langostasSmDescriptionP1:"Dive into Langostas, a vibrant reef in Tayrona National Natural Park, famous for its impressive rock formations and the astonishing abundance of lobsters in their natural habitat. With a maximum depth of about 20 m / 65 ft, this underwater paradise is ideal for Open Water divers who enjoy exploring every nook, cranny, and cave, and for macro life enthusiasts. A true feast for the underwater eyes that will leave you amazed!",langostasSmDescriptionP2:"This dive site, accessible for Open Water Divers, is characterized by a labyrinth of rock formations that create countless hiding spots, providing shelter for a wealth of marine life. In addition to the omnipresent lobsters, you'll find a wide variety of reef fish, hard and soft corals, and fascinating macro life that invites detailed observation. Diving conditions typically involve mild currents and variable visibility, offering a comfortable and rewarding experience. The dive is always conducted from a boat, and its warm waters are perfect for underwater photography and enjoying the rich biodiversity of the Colombian Caribbean.",langostasSmXXMainLogoAlt:"JustDiveCol Logo",langostasSmXXPhotoCredit:"Photo Credits: XYZ",lasBarcazasSmName:"The Barges (Punta Betín)",lasBarcazasSmDescriptionP1:"Dive into the fascinating underwater history of Santa Marta at Las Barcazas de Punta Betín. This historic dive site hosts multiple sunken barges that have transformed into vibrant artificial reefs, teeming with marine life. It offers exciting options for Open Water divers, who can explore two wrecks between 6 m / 20 ft and 15 m / 50 ft, and additional challenges for advanced divers wishing to descend to 35 m / 115 ft. An adventure combining history and biodiversity awaits you beneath the waves!",lasBarcazasSmDescriptionP2:"Strategically located on a rocky promontory in the bay, these metal structures, which once transported coal, are now completely covered in colorful corals, oysters, and sponges, serving as a refuge for countless reef fish and rays. Exploring their hulls and adjacent sandy areas reveals a thriving ecosystem full of discoveries. Despite their proximity to the city, the charm of these wrecks is undeniable; they are not only brimming with biodiversity but also tell a vital part of Santa Marta's industrial history. With variable visibility and generally mild currents, this dive promises a comfortable and memorable experience for all diving levels.",lasBarcazasSmXXMainLogoAlt:"JustDiveCol Logo",lasBarcazasSmXXPhotoCredit:"Photo Credits: XYZ",sisiguacaSmName:"Sisiguaca",sisiguacaSmDescriptionP1:"Dive into Sisiguaca, a vibrant dive site in Tayrona National Natural Park, where impressive rock formations and underwater canyons create a perfect labyrinth for exploration. With a maximum depth of 20 m / 65 ft, it's ideal for Open Water divers who enjoy dynamic diving and discovering new things. Get ready to weave through unique landscapes and admire abundant reef life!",sisiguacaSmDescriptionP2:'This fascinating site stands out for its unique underwater topography and rich biodiversity. Dives at Sisiguaca reveal a healthy reef covered with a wide variety of hard and soft corals, serving as a refuge for colorful schools of fish and hidden moray eels. Currents can be moderate, adding an element of excitement and occasionally attracting pelagic species like barracudas. With consistently warm waters and being an authentic "biodiversity hotspot", Sisiguaca is a favorite spot for underwater photography, offering countless opportunities to capture the unique beauty of the Colombian Caribbean. Entry to the site is always by boat.',sisiguacaSmXXMainLogoAlt:"JustDiveCol Logo",sisiguacaSmXXPhotoCredit:"Photo Credits: XYZ",morritoLargoSmName:"Morrito Largo - Tayrona National Natural Park",morritoLargoSmDescriptionP1:"Prepare for a challenging and epic dive at Morrito Largo, an underwater rocky pinnacle in Tayrona National Natural Park that steeply descends to 40 m / 130 ft for recreational diving and extends up to 75 m / 245 ft for technical diving. This site is a true playground for advanced and technical divers, famous for its strong side currents, impressive black corals, and the possibility of encountering pelagic life. An adventure in the depths that will test your skills!",morritoLargoSmDescriptionP2:"Despite its name, the magnitude of the adventure at Morrito Largo lies in its impressive walls, densely populated with gorgonians and black corals thriving in deeper waters, creating a spectacular underwater landscape. The presence of horizontally tilted giant sponges is a clear indicator of the constant current force, which experienced divers sometimes leverage for a thrilling underwater traverse to Isla Aguja. With variable, yet always surprising, visibility, this biodiversity hotspot offers excellent opportunities for deep underwater photography in the warm waters of the Colombian Caribbean, making it an unparalleled experience for the boldest explorers of the blue.",morritoLargoSmXXMainLogoAlt:"JustDiveCol Logo",morritoLargoSmXXPhotoCredit:"Photo Credits: XYZ",morroGairaSmName:"Morro de Gaira",morroGairaSmDescriptionP1:"Explore Morro de Gaira, a prominent underwater rock formation in Santa Marta Bay, directly opposite El Rodadero beach. This vibrant dive site, with depths up to 25 m / 80 ft, is ideal for Open Water and certified divers seeking multiple routes and rich marine biodiversity. Its most notable feature is its south face, which is the best preserved and most accessible, perfect for a calm dive full of discoveries. A versatile and captivating spot for all diving levels!",morroGairaSmDescriptionP2:"As an underwater extension of the Sierra Nevada, Morro de Gaira offers diverse variations in slope and rocky substrates where a lush coral community has settled. The advantage of this islet is the flexibility to adapt the dive to the day's conditions and divers' levels. Here you'll find an abundance of reef fish, hard, and soft corals, creating a constant visual spectacle. Dives can be out-and-back or gentle drift, depending on logistics. Visibility is variable, but the warm waters and remarkable biodiversity make it an excellent spot for underwater photography and enjoying a peaceful dive in the heart of Santa Marta.",morroGairaSmXXMainLogoAlt:"JustDiveCol Logo",morroGairaSmXXPhotoCredit:"Photo Credits: XYZ",morroSantaMartaSmName:"Morro de Santa Marta",morroSantaMartaSmDescriptionP1:"Explore the iconic Morro de Santa Marta, an islet with a lighthouse majestically rising in the bay, offering a challenging dive for advanced divers. Here, deep walls descend to 30 m / 100 ft or more, influenced by strong currents that attract impressive pelagic fauna. Get ready for epic sightings of tuna and barracuda, and immerse yourself in an experience full of adrenaline and discoveries at this emblematic spot in the Colombian Caribbean.",morroSantaMartaSmDescriptionP2:`Known simply as "El Morro," this site combines a shallow reef terrace (up to 20 m / 65 ft) teeming with corals and small fish, with a steep slope where the adventure truly comes alive. The currents, though demanding, are a blessing that bring nutrients and larger marine life. Diving can vary depending on the side of the islet explored (eastern side more sheltered; western side more exposed), but it always reveals impressive soft corals that sway with the water flow. Beyond its biological richness, this historic site once served as Colombia's first prison, adding a fascinating layer to your unforgettable underwater exploration.`,morroSantaMartaSmXXMainLogoAlt:"JustDiveCol Logo",morroSantaMartaSmXXPhotoCredit:"Photo Credits: XYZ",oceanoSmName:"Ocean - Tayrona National Natural Park",oceanoSmDescriptionP1:"Explore the immensity of Ocean, a dive site in Tayrona National Natural Park that connects you directly with the wild and open sea life. Here, the depths and currents are more demanding, offering an experience for advanced divers seeking encounters with pelagic species like large schools of fish, rays, and, occasionally, sharks. Feel the true power and beauty of the ocean in its purest state!",oceanoSmDescriptionP2:"This site, whose name evokes its open-sea nature, features an underwater topography that descends beyond 30 m / 100 ft, with rock formations serving as refuge and gathering points for larger fauna. Although visibility can be variable due to oceanic conditions, the reward is the opportunity to observe the majesty of pelagic life in its element. Dives here require careful planning and experience in current diving, but the experience of being one with the vast blue of the Colombian Caribbean is unforgettable. Entry to the site is always by boat.",oceanoSmXXMainLogoAlt:"JustDiveCol Logo",oceanoSmXXPhotoCredit:"Photo Credits: XYZ",panelesSmName:"Panelés (Dos Morritos) - Tayrona National Natural Park",panelesSmDescriptionP1:'Prepare for a dive only for the boldest at Panelés (Dos Morritos), a challenging dive site in Tayrona National Natural Park, exclusive for highly experienced and technical divers. Here, rock pinnacles battered by intense oceanic currents await you, offering the incredible opportunity to "fly" between underwater formations. This is the epicenter of pelagic life, where massive schools and large predatory fish will take your breath away. An extreme adventure that only elite divers can fully enjoy!',panelesSmDescriptionP2:"Located on the western side of Isla Aguja, this site consists of a pair of rock formations that barely peek above the surface. The constant force of the currents, far from being an obstacle, is a blessing that brings a huge amount of nutrients, allowing the rocks to be carpeted by an infinity of marine species—including corals, sponges, and anemones—thriving in these extreme conditions, creating an incredibly productive and dense ecosystem. It is one of the most interesting sites for observing larger fish, as schools of jacks, snappers, good-sized barracudas, and other pelagic fish frequently visit the area, actively feeding in the current. Occasionally, sea turtles may also be spotted passing by. Visibility is usually very clear (15-25+ m / 50-80+ ft) due to the constant renewal of oceanic water, although the current's force itself can create surface turbulence. Depths range from 5-8 m / 15-25 ft at the top of the rocks, descending to over 30 m / 100 ft at the base on deep sandy bottoms.",panelesSmXXMainLogoAlt:"JustDiveCol Logo",panelesSmXXPhotoCredit:"Photo Credits: XYZ",paraisoSmName:"Paraíso - Tayrona National Natural Park",paraisoSmDescriptionP1:"Dive into Paraíso, a true underwater haven in the heart of Tayrona National Natural Park, living up to its name. This calm and colorful reef is ideal for divers of all levels, from beginners to experienced, offering exceptionally calm waters, excellent visibility, and vibrant marine life. It's the perfect setting for a relaxed and photogenic dive, where every detail invites admiration!",paraisoSmDescriptionP2:'With a maximum depth of approximately 15 m / 50 ft, Paraíso stands out for the absence of strong currents and a serene surface, ensuring a very comfortable and safe diving experience. Here you can appreciate a large number of hard and soft corals in excellent condition, which carpet the rocky bottom and serve as home to abundant tropical fish and fascinating macro life. This "biodiversity hotspot" offers a serene and discovery-rich diving experience in the warm waters of the Colombian Caribbean, making it a favorite spot for underwater photography. Entry to the site is conveniently by boat.',paraisoSmXXMainLogoAlt:"JustDiveCol Logo",paraisoSmXXPhotoCredit:"Photo Credits: XYZ",pasoDelAngelSmName:"Paso del Ángel - Tayrona National Natural Park",pasoDelAngelSmDescriptionP1:"Explore Paso del Ángel, a spectacular reef slope in Tayrona National Natural Park, considered one of the best dive sites in the region. Here, the dive, descending to 40 m / 130 ft, is famous for its exceptional biodiversity, abundant presence of angel fish, and the thrill of a drift dive. It's the ideal destination for intermediate and advanced divers seeking a vibrant and life-filled underwater adventure.",pasoDelAngelSmDescriptionP2:`This underwater paradise, starting at just 7 m / 25 ft deep, is teeming with an incredible variety of fish, sponges, and both hard and soft corals. During the drift dive, propelled by currents that can range from moderate to strong, it's common to encounter impressive green moray eels, large lobsters, and even occasional sightings of delicate seahorses, making it a favorite spot for macro and marine life photography. For the most daring divers, there's the exciting option to extend the adventure towards "La Travesía" of Morrito Largo, a journey with even more intense currents reserved only for expert drift divers. With variable, but always rewarding, visibility, Paso del Ángel offers an unforgettable experience in the warm waters of the Colombian Caribbean, with guaranteed access by boat (from Taganga).`,pasoDelAngelSmXXMainLogoAlt:"JustDiveCol Logo",pasoDelAngelSmXXPhotoCredit:"Photo Credits: XYZ",playacaSmName:"Playaca",playacaSmDescriptionP1:"Discover the serenity of Playaca, a calm and shallow dive site in Tayrona National Natural Park, ideal for beginners, Open Water divers, and photography enthusiasts. Here, healthy reefs, excellent visibility, and an explosion of colorful marine life await you. It's the perfect setting for a relaxed dive, where every moment underwater is an opportunity to marvel at the beauty of the Colombian Caribbean. A true underwater paradise that invites you to calm and observation!",playacaSmDescriptionP2:'With a maximum depth of approximately 18 m / 60 ft, Playaca stands out for its calm waters and minimal currents, ensuring an extremely comfortable and safe diving experience. Its coral reef, composed of a vibrant mix of hard and soft corals, hosts an abundant variety of reef fish. This combination of favorable conditions and rich biodiversity makes Playaca an authentic "biodiversity hotspot" and a favorite spot for underwater photography and detailed macro life observation. Entry to the site is conveniently by boat, allowing you to fully enjoy this picturesque and peaceful corner of Tayrona.',playacaSmXXMainLogoAlt:"JustDiveCol Logo",playacaSmXXPhotoCredit:"Photo Credits: XYZ",puntaAgujaSmName:"Punta Aguja - Tayrona National Natural Park",puntaAgujaSmDescriptionP1:"Explore Punta Aguja, the emblematic heart of diving in Tayrona National Natural Park and the most representative site in the area. This iconic rocky pinnacle offers a vibrant dive with lush reefs and depths up to 30 m / 100 ft, being suitable for divers of all levels. Here, a dive full of life awaits you, with astonishing biodiversity including colorful reef fish and the possibility of encountering pelagic species. An unmissable adventure in the Colombian Caribbean that will take your breath away!",puntaAgujaSmDescriptionP2:'Also known as "Isla Aguja," its varied topography includes walls and canyons that invite exploration. While much of the diving is accessible for Open Water divers, its deeper areas and variable currents offer exciting opportunities for advanced divers, adding constant dynamism. Punta Aguja is a magnet for marine life, where schools of fish are omnipresent, and the chance to spot barracudas or sea turtles is real. With variable, but always rewarding, visibility in its warm Caribbean waters, this true "biodiversity hotspot" is ideal for underwater photography, capturing the explosion of life with every bubble. Entry to the site is always by boat.',puntaAgujaSmXXMainLogoAlt:"JustDiveCol Logo",puntaAgujaSmXXPhotoCredit:"Photo Credits: XYZ",puntaCabezaNegrosSmName:"Punta Cabeza de Negros - Tayrona National Natural Park",puntaCabezaNegrosSmDescriptionP1:"Explore Punta Cabeza de Negros, a vibrant and diverse dive site in Tayrona National Natural Park. Here, impressive rock formations and walls descend to 25 m / 80 ft, creating a fascinating underwater topography. It's ideal for Open Water divers looking to explore a life-filled reef with the thrill of possible moderate currents. Get ready for a dynamic dive full of discoveries in a unique Colombian Caribbean setting!",puntaCabezaNegrosSmDescriptionP2:`This site, accessible by boat, immerses you in a rich ecosystem where healthy hard and soft corals serve as home to a wide diversity of reef fish, moray eels, and lobsters hidden in crevices and cracks. The currents, though variable, add a dynamic element that enriches the ecosystem. With warm waters and being an authentic "biodiversity hotspot", Punta Cabeza de Negros offers excellent opportunities for underwater photography, allowing you to capture the vibrant essence of life beneath Tayrona's waves. A perfect place to enjoy exploration and natural beauty.`,puntaCabezaNegrosSmXXMainLogoAlt:"JustDiveCol Logo",puntaCabezaNegrosSmXXPhotoCredit:"Photo Credits: XYZ",puntaGairaSmName:"Punta Gaira / Playa Blanca",puntaGairaSmDescriptionP1:"Discover the tranquility of Punta Gaira / Playa Blanca, an idyllic dive site in Santa Marta, ideal for beginners, snorkelers, and Open Water divers. With a healthy reef and depths up to 15 m / 50 ft, you'll immerse yourself in warm, calm waters, teeming with colorful tropical marine life. It's the perfect setting for your first underwater experience or to enjoy a relaxed and photogenic dive in a peaceful environment. A true paradise for the whole family!",puntaGairaSmDescriptionP2:"This highly accessible and popular site is distinguished by its minimal currents and excellent visibility, making it a very safe and enjoyable place for underwater exploration. The coral reef, composed of a vibrant mix of hard and soft corals, serves as home to a wide diversity of colorful reef fish and fascinating macro life, ideal for photography. In addition to diving, its shallow depth makes it excellent for snorkeling, allowing you to fully enjoy the richness of the ecosystem. Entry to the site is conveniently by boat, complementing the experience in the beautiful waters of the Colombian Caribbean.",puntaGairaSmXXMainLogoAlt:"JustDiveCol Logo",puntaGairaSmXXPhotoCredit:"Photo Credits: XYZ",puntaGranateSmName:"Punta Granate - Tayrona National Natural Park",puntaGranateSmDescriptionP1:"Explore Punta Granate, the vibrant rocky edge of Granate Bay in Tayrona National Natural Park, an exceptionally versatile dive site. Here, divers of all levels will find their adventure: from calm inner areas perfect for beginners, to outer zones with moderate currents and coral patches teeming with marine life. It’s the ideal setting to discover astonishing biodiversity in a dynamic and ever-changing environment. Get ready for a dive that adapts to you and surprises you at every turn!",puntaGranateSmDescriptionP2:'This rocky point, relatively sheltered from the Trade Winds, offers favorable conditions for most of the year. The sandy bottom, sprinkled with coral rock blocks, hosts numerous "coral patches" at about 10-15 m / 35-50 ft depth, acting as oases of life. You can spot everything from small groupers and French angelfish to hidden lobsters and vibrant anemones with symbiotic shrimp. Visibility, generally good (8-18 m / 25-60 ft), allows appreciation of large schools of fish like jacks or mackerel that transit the nearby open waters. Entry is always by boat, and this site combines perfectly with a visit to El Cantil on the same dive trip, ensuring a complete experience in the warm waters of the Colombian Caribbean.',puntaGranateSmXXMainLogoAlt:"JustDiveCol Logo",puntaGranateSmXXPhotoCredit:"Photo Credits: XYZ",puntaVenadoSmName:"Punta Venado - Tayrona National Natural Park",puntaVenadoSmDescriptionP1:"Discover the magic of Punta Venado, an exceptional coastal reef in Tayrona National Natural Park, famous for transforming completely at dusk. It's the ideal site for intermediate divers or those wishing to try night diving, offering a safe and fascinating experience. Here, a multitude of crustaceans, mollusks, and nocturnal fish emerge from their hiding spots, revealing a mysterious and vibrant underwater world that will leave you in awe. Get ready to see the ocean like never before!",puntaVenadoSmDescriptionP2:"During the day, Punta Venado appears as a shallow fringing reef (between 5 m / 15 ft and 18 m / 60 ft deep), with corals, sponges, and algae sheltering butterflyfish, wrasses, and moray eels. However, it's at sunset that the site truly comes alive with unparalleled activity. Diving conditions are consistently calm, with shallow depths and minimal currents, allowing for relaxed exploration even in the dark. With good visibility (generally between 8 m / 25 ft and 15 m / 50 ft) and warm waters, Punta Venado guarantees a comfortable and unforgettable experience for photographing marine life in its most enigmatic aspect. Entry to the site is always by boat.",puntaVenadoSmXXMainLogoAlt:"JustDiveCol Logo",puntaVenadoSmXXPhotoCredit:"Photo Credits: XYZ",salichanSmName:"Salichán - Tayrona National Natural Park",salichanSmDescriptionP1:"Dive into Salichán, an advanced dive site in the stunning Tayrona National Natural Park, where a fascinating reef slope descends to 35 m / 115 ft. This destination is ideal for Advanced Open Water divers looking to explore vibrant deep corals and the thrill of spotting pelagic fauna. Moderate currents enrich the ecosystem, attracting a diversity of life that will leave you breathless. Get ready for a dynamic dive full of discoveries in the heart of the Colombian Caribbean!",salichanSmDescriptionP2:`Salichán immerses you in a healthy reef, covered by diverse hard and soft coral formations, creating a vibrant underwater ecosystem. As you descend, the topography reveals small canyons and rock formations that serve as refuge for countless reef fish and, occasionally, barracudas. Although visibility can be variable, the warm waters of the Colombian Caribbean ensure a comfortable and rewarding diving experience. This authentic "biodiversity hotspot" offers excellent opportunities for underwater photography, especially for capturing life on the deep reef. Entry to the site is always by boat, providing a memorable adventure in one of Colombia's most impressive national parks.`,salichanSmXXMainLogoAlt:"JustDiveCol Logo",salichanSmXXPhotoCredit:"Photo Credits: XYZ",salideroSmName:"Salidero - Tayrona National Natural Park",salideroSmDescriptionP1:"Prepare for a spectacular dive at Salidero, a challenging drift dive site at the southern tip of Isla Aguja in Tayrona National Natural Park. Exclusive for experienced divers, this spot is famous for its strong currents that attract impressive barracudas and for its stunning colonies of brain and elkhorn corals. It's a site that dazzles even the most seasoned divers, offering an explosion of life and adrenaline!",salideroSmDescriptionP2:`The name "Salidero" comes from the current channel formed between the island and the coast, creating a dynamic yet incredibly rich environment. Despite its relatively shallow maximum depth of just 14 m / 45 ft, the site allows for good air consumption and, under favorable conditions, it's even possible to extend the dive towards El Torín. Here, the marine life is dazzling: from reef fish to groupers and snappers lurking in the current. Visibility typically ranges between 10 m / 35 ft and 18 m / 60 ft, varying significantly with the current. Each dive at Salidero is an unforgettable experience that connects you with the force of nature, making it a paradise for underwater photography. Entry to the site is always by boat.`,salideroSmXXMainLogoAlt:"JustDiveCol Logo",salideroSmXXPhotoCredit:"Photo Credits: XYZ",elNataliaSmName:"Sunken Yacht “El Natalia”",elNataliaSmDescriptionP1:`Discover the mystery of the Sunken Yacht “El Natalia”, a well-kept "secret" in Gaira Bay, Santa Marta. Resting about 32 m / 105 ft deep, this wreck offers an intact and exclusive exploration, teeming with vibrant marine life that will make you feel like a true discoverer. It's the ideal site for advanced divers seeking a unique adventure and the opportunity to dive into a thriving, almost pristine underwater ecosystem.`,elNataliaSmDescriptionP2:"This private yacht, sunk in the late 1980s, has transformed into a spectacular artificial reef, completely carpeted with multicolored sponges, bryozoans, and algae. Dense schools of grunts and croakers congregate within and around the hull, and it's common to observe juvenile groupers and other fish species finding safe refuge there. Every nook and cranny hides small gobies and blennies, making it a macro photography paradise. With generally good visibility (10-15 m / 35-50 ft) and mild currents, El Natalia promises a comfortable exploration full of astonishing encounters, revealing the beauty of a developing ecosystem in the warm waters of the Colombian Caribbean.",elNataliaSmXXMainLogoAlt:"JustDiveCol Logo",elNataliaSmXXPhotoCredit:"Photo Credits: XYZ",depthLabel:"Depth",levelRequiredLabel:"Level Required",difficultyLabel:"Difficulty",typeLabel:"Type",conditionsLabel:"Conditions",tagsLabel:"Tags",noneLevelKey:"None",openWaterDiverLevelKey:"Open Water Diver",advancedOpenWaterDiverLevelKey:"Advanced Open Water Diver",technicalDiverLevelKey:"Technical Diver",anyLevelKey:"All Levels",easyDifficultyKey:"Easy",mediumDifficultyKey:"Medium",hardDifficultyKey:"Hard",expertDifficultyKey:"Expert",reefTypeKey:"Reef",wreckTypeKey:"Wreck",wallTypeKey:"Wall",pinnacleTypeKey:"Pinnacle",cavernTypeKey:"Cavern",caveTypeKey:"Cave",driftTypeKey:"Drift",muckTypeKey:"Muck",blueHoleTypeKey:"Blue Hole",cenoteTypeKey:"Cenote",freshwaterTypeKey:"Freshwater",artificialReefTypeKey:"Artificial Reef",currentConditionKey:"Current",mildCurrentConditionKey:"Mild Current",moderateCurrentConditionKey:"Moderate Current",strongCurrentConditionKey:"Strong Current",deepConditionKey:"Deep",visibilityConditionKey:"Visibility",variableVisibilityConditionKey:"Variable Visibility",goodVisibilityConditionKey:"Good Visibility",limitedVisibilityConditionKey:"Limited Visibility",thermoclineConditionKey:"Thermocline",surgeConditionKey:"Surge",surfaceConditionKey:"Surface",roughSurfaceConditionKey:"Rough Surface",calmSurfaceConditionKey:"Calm Surface",entryConditionKey:"Entry",boatEntryConditionKey:"Boat Entry",shoreEntryConditionKey:"Shore Entry",nightConditionKey:"Night",marineLifeTagCategory:"Marine Life",diveCharacteristicsTagCategory:"Dive Characteristics",featuresTagCategory:"Features",locationTagCategory:"Location",sharksTag:"sharks",turtlesTag:"turtles",mantaRaysTag:"manta rays",whaleSharksTag:"whale sharks",nudibranchsTag:"nudibranchs",macroLifeTag:"macro life",schoolingFishTag:"schooling fish",barracudaTag:"barracuda",octopusTag:"octopus",dolphinsTag:"dolphins",seahorsesTag:"seahorses",frogfishTag:"frogfish",reefFishTag:"reef fish",pelagicsTag:"pelagics",photographyTag:"photography",nightDiveTag:"night dive",driftDiveTag:"drift dive",deepDiveTag:"deep dive",technicalDiveTag:"technical dive",beginnerFriendlyTag:"beginner friendly",advancedOnlyTag:"advanced only",historicalTag:"historical",biodiversityHotspotTag:"biodiversity hotspot",conservationAreaTag:"conservation area",coldWaterTag:"cold water",warmWaterTag:"warm water",swimThroughsTag:"swim-throughs",canyonsTag:"canyons",cavesTag:"caves",overhangsTag:"overhangs",softCoralsTag:"soft corals",hardCoralsTag:"hard corals",anemonesTag:"anemones",caribbeanTag:"Caribbean",pacificTag:"Pacific",redSeaTag:"Red Sea",indianOceanTag:"Indian Ocean",tropicalTag:"tropical",temperateTag:"temperate",colombiaCountryKey:"Colombia",showingSitesCountFull:"Showing {{filtered}} of {{total}} dive sites",noMatchingSites:"No matching dive sites found for the filters.",destinationLabel:"Destination",noOptionsAvailable:"No options available"},X2={mapSeoTitle:"Global Dive Site Map | Explore Underwater Destinations with JustDiveCol",mapSeoDesc:"Discover and explore our interactive map featuring the world's best dive sites. Filter by destination, plan your next underwater adventure, and immerse yourself in the planet's most spectacular ecosystems with JustDiveCol.",mapSeoKeywords:"dive map, dive sites, diving destinations, interactive map, explore diving, JustDiveCol map, dive spots, world diving, dive planning, underwater adventure, filter dive destinations",mapHeaderTitle:"The Underwater World at Your Fingertips: A Map of Adventures",mapHeaderSubtitle:"Explore the map: all available dive sites for your next adventure.",mapHeaderMainLogoAlt:"JustDiveCol Main Logo",mapHeaderPhotoCredit:"Photo Credits: XYZ",allLabel:"All Points",clearFiltersLabel:"Clear All Filters",searchPlaceholder:"Search by site name...",viewMoreLabel:"View more information",mapLabel:"The Underwater World: Our Dive Sites",mapDisclaimerTitle:"Important Note: ",mapDisclaimerText:"This map is currently under development. Some data may be imprecise. Please contact us for up-to-date information."},Z2={home:"Inicio",experiences:"Experiencias",about:"Nosotros",security:"Seguridad",contact:"Contacto",gear:"Tienda",divesites:"Puntos de buceo",policies:"Nuestras políticas",termsAndConditions:"Términos y condiciones",privacy:"Política de privacidad",faqs:"Preguntas frecuentes (FAQs)",footerLinksTitle:"Explora y conoce"},$2={footerSlogan:"En JustDiveCol, creamos exploradores de corazón, no solo turistas. Tu aventura submarina con nosotros trasciende fronteras y expande tu mundo.",footerClosingMessage:"Más que simplemente bucear, en JustDiveCol creamos recuerdos inolvidables que duran toda la vida bajo el mar. ¡Siente la pasión por el océano!",footerCopyright:"JustDiveCol. Todos los derechos reservados.",footerCredits:"Diseñado y construido con pasión para exploradores submarinos, impulsado por React + Vite, TailwindCSS y Motion."},J2={paymentTitle:"Métodos de pago flexibles",paymentMethod1Name:"Link de pago seguro",paymentMethod1Desc:"Para tu comodidad, te enviaremos un link de pago personalizado. Paga fácilmente con tarjeta de crédito nacional (Visa, Mastercard), débito (PSE), o directamente desde Bancolombia o Nequi. Un proceso sencillo y protegido.",paymentMethod2Name:"Transferencia bancaria directa",paymentMethod2Desc:"Si prefieres, transfiere directamente a nuestra cuenta de ahorros en Bold. Te daremos los datos bancarios al confirmar tu reserva. ¡Simple y directo para asegurar tu aventura!"},W2={learnMore:"Descubre más",viewCalendar:"Ver calendario de inmersiones",chatOnWhatsApp:"Hablemos por WhatsApp",logoAlt:"Logo de JustDiveCol",viewDetails:"Ver detalles",datesNotAvailable:"Fechas no disponibles",viewTripDetails:"Ver detalles de la experiencia",noScheduledDates:"Aún no hay fechas programadas. ¡Contáctanos para una experiencia a medida!",durationFormat:"{{days}} Días / {{nights}} Noches",detailsDateLabel:"Fechas del viaje",detailsDurationLabel:"Duración del viaje",upcomingDates:"Próximas fechas",statusUpcoming:"¡Próximamente fechas!",statusAvailable:"Cupos disponibles",statusLastSeats:"¡Últimos cupos disponibles!",statusSoldOut:"¡Completamente reservado!",statusCompleted:"Finalizado",ariaPrevious:"Elemento anterior",ariaNext:"Siguiente elemento",ariaGoToPage:"Ir a la página",loading:"Cargando contenido...",day:"Día",contactUsButton:"Contáctanos"},Y2={homeSeoTitle:"JustDiveCol - Cursos, certificaciones y experiencias de buceo inolvidables",homeSeoDesc:"Sumérgete en una aventura submarina que trasciende fronteras. Como empresa especializada en turismo de buceo, ofrecemos certificaciones PADI de clase mundial y viajes personalizados a los destinos más asombrosos del mundo. ¡Tu exploración del gran azul comienza hoy mismo con JustDiveCol!",homeSeoKeywords:"buceo, cursos de buceo, certificaciones PADI, viajes de buceo, aventura submarina, JustDiveCol, explorar océanos, buceo seguro, buceo Colombia, buceo personalizado, open water, advanced open water, rescue diver, vida marina",homeHeroTitle:"Tu próxima gran aventura comienza bajo el agua",homeHeroSubtitle:"Explora las maravillas ocultas de los océanos con la seguridad y la pasión que nos distingue. Te invitamos a descubrir un mundo de belleza inigualable, vida fascinante y emociones que perduran mucho después de la inmersión.",homeHeroCtaText:"Descubre nuestras experiencias",homeHeroMainLogoAlt:"Logo principal de JustDiveCol",homeHeroPhotoCreditKey:"Créditos de la foto: Camilo Beltran @JustDiveCol",homeExpTitle:"Experiencias que transforman tu visión del mundo",homeExpSubtitle:"No importa si estás dando tus primeras burbujas como principiante o si ya eres un buzo experimentado; en JustDiveCol tenemos una aventura submarina a la medida de tu espíritu explorador y tus sueños más audaces.",expCardCertificacionTitle:"Certificaciones PADI",expCardCertificacionCategory:"Tu viaje al mundo submarino empieza Aquí",expCardCertificacionMainLogoAlt:"Logo principal de JustDiveCol",expCardCertificacionComplementaryLogoAlt:"Logo PADI",expCardCertificacionPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expCardExploracionTitle:"Viajes de buceo y exploración",expCardExploracionCategory:"Destinos que te dejarán sin aliento",expCardExploracionMainLogoAlt:"Logo principal de JustDiveCol",expCardExploracionPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expCardPrivadosTitle:"Experiencias personalizadas",expCardPrivadosCategory:"Diseña la aventura submarina perfecta para ti",expCardPrivadosMainLogoAlt:"Logo principal de JustDiveCol",expCardPrivadosPhotoCredit:"Créditos de la foto: @giovannidiveservices",homeSafetyTitle:"Tu única misión: sumergirte y explorar con tranquilidad",homeSafetySubtitle:"El buceo es una pasión que debe disfrutarse con total tranquilidad y confianza. Nosotros nos encargamos de cada detalle para tu seguridad, permitiéndote concentrarte solo en la magia del océano.",homeSafetyPoint1Title:"Guías e instructores expertos y certificados PADI",homeSafetyPoint1Desc:"Nuestro equipo está formado por profesionales PADI altamente cualificados, con años de experiencia liderando inmersiones seguras y memorables en diversos entornos submarinos. Tu seguridad está en manos expertas.",homeSafetyPoint2Title:"Equipos de primera calidad y mantenimiento riguroso",homeSafetyPoint2Desc:"Utilizamos solo equipos de buceo de marcas líderes en la industria, sometidos a un mantenimiento exhaustivo y revisiones periódicas con estándares de reloj suizo, para garantizar tu máxima seguridad y confort en cada inmersión.",homeSafetyPoint3Title:"Protocolos de seguridad internacionales estrictos",homeSafetyPoint3Desc:"Seguimos rigurosamente los estándares y protocolos de seguridad más estrictos establecidos por PADI y otras organizaciones internacionales, asegurando que cada inmersión que realizas con nosotros sea segura, responsable y cuidando tu bienestar en todo momento.",homeSafetyCtaText:"Conoce nuestros compromisos de seguridad",homeTestimonialsTitle:"Voces de nuestras aventuras submarinas inolvidables",homeTestimonial1Quote:"La experiencia de buceo superó todas mis expectativas. El equipo de JustDiveCol es increíblemente profesional y apasionado. Me sentí seguro y libre en cada inmersión. ¡Una aventura que cambiará tu vida!",homeTestimonial1Name:"María Fernanda R.",homeTestimonial1Origin:"Bogotá, Colombia",homeTestimonial2Quote:"Siempre soñé con bucear, y JustDiveCol hizo ese sueño realidad de la manera más espectacular. La organización, la calidad del equipo y la calidez del instructor hicieron que todo fuera perfecto. ¡Ahora soy una buza certificada y feliz!",homeTestimonial2Name:"Carlos S.",homeTestimonial2Origin:"Ciudad de México, México",homeTestimonial3Quote:"Cada viaje con JustDiveCol es una nueva historia. Han sabido combinar la aventura extrema con un compromiso genuino por la conservación. La atención personalizada y los destinos elegidos son inigualables. ¡Altamente recomendados para cualquier buzo!",homeTestimonial3Name:"Andrea M.",homeTestimonial3Origin:"Madrid, España",homeFinalCtaTitle:"¿Listo para tu próxima gran inmersión y para explorar sin límites?",homeFinalCtaSubtitle:"Las profundidades del mundo te esperan para revelarte sus secretos más asombrosos. Contáctanos hoy mismo para empezar a planificar tu inolvidable viaje submarino. ¡Tu aventura comienza con una conversación!",homeFinalCtaText:"Hablemos de tu experiencia",homeFinalCtaMainLogoAlt:"Logo principal de JustDiveCol",homeFinalCtaPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",homeFinalCtaWhatsAppMessage:"Hola, equipo de JustDiveCol. ¡Estoy listo/a para mi próxima gran inmersión! Me gustaría hablar sobre cómo puedo empezar a planificar mi aventura submarina. ¿Podrían asesorarme?"},Q2={expSeoTitle:"Experiencias de buceo | JustDiveCol - Cursos y viajes a medida",expSeoDesc:"Explora nuestro completo catálogo de certificaciones PADI y viajes de buceo inolvidables con JustDiveCol. Desde tus primeras inmersiones hasta aventuras personalizadas en los destinos más espectaculares del mundo, te conectamos profundamente con el océano y sus maravillas. ¡Tu próxima aventura comienza aquí!",expSeoKeywords:"experiencias de buceo, cursos PADI, certificaciones de buceo, viajes de buceo, buceo a medida, buceo personalizado, aventura submarina, explorar el océano, JustDiveCol, buceo para principiantes, buceo avanzado, destinos de buceo",expHeaderTitle:"Un océano de posibilidades te espera",expHeaderSubtitle:"Desde tu primera respiración bajo el agua hasta exploraciones en los rincones más remotos del planeta, cada inmersión con JustDiveCol es una historia inolvidable por contar. Elige tu próxima gran aventura submarina y prepárate para transformar tu perspectiva.",expHeaderMainLogoAlt:"Logo principal de JustDiveCol",expHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expAvailableTitle:"Próximos viajes",expAvailableSubtitle:"Explora nuestro calendario de emocionantes experiencias y cursos programados. ¡Tu gran inmersión te espera!",expAvailableCtaText:"Ver todas las experiencias",expAvailableCtaMessage:"Hola, equipo de JustDiveCol. Me gustaría conocer más sobre las experiencias de buceo que tienen disponibles en su calendario. ¿Podrían darme más detalles?",expPastTripsTitle:"Nuestros recuerdos bajo el mar: experiencias pasadas",expNoUpcomingTripsTitle:"¡Nuevas experiencias están cocinándose en el azul!",expNoUpcomingTripsSubtitle:"Actualmente, estamos planeando emocionantes experiencias y cursos que pronto verán la luz. ¿Buscas algo específico? ¡Cuéntanos tu sueño submarino y diseñemos juntos tu aventura a medida!",expNoUpcomingTripsCtaText:"Diseñar mi experiencia a medida",expNoUpcomingTripsCtaMessage:"Hola, equipo de JustDiveCol. No encuentro experiencias disponibles en el calendario. Me gustaría saber más sobre futuras ofertas o diseñar una aventura personalizada. ¿Podrían asesorarme?",expCatalogCoursesTitle:"Tu próximo nivel: cursos y certificaciones PADI",expCatalogDestsTitle:"Descubre los destinos submarinos más memorables",expCtaTitle:"¿No encuentras la experiencia submarina de tus sueños entre nuestras ofertas?",expCtaSubtitle:"Con JustDiveCol, la aventura perfecta puede ser una realidad diseñada exclusivamente para ti. Contáctanos y trabajemos juntos para crear una experiencia privada, totalmente a la medida de tus expectativas, intereses y el espíritu de exploración que te mueve. ¡Tu viaje, tus reglas, tu océano!",expCtaButton:"Diseña tu experiencia a medida",expCtaWhatsAppMessage:"Hola, JustDiveCol. ¡Me gustaría diseñar una experiencia de buceo a medida! Tengo una idea en mente y quiero explorarla con ustedes. ¿Podrían ayudarme?",expCtaMainLogoAlt:"Logo principal de JustDiveCol",expCtaPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol"},eC={aboutSeoTitle:"Sobre nosotros | JustDiveCol - Tu pasaporte al fascinante mundo submarino",aboutSeoDesc:"Explora nuestra esencia: la historia de JustDiveCol, nuestro equipo apasionado y cómo combinamos la aventura submarina con un compromiso inquebrantable por la seguridad y la conservación marina. ¡Sumérgete con confianza!",aboutSeoKeywords:"JustDiveCol, sobre nosotros, historia JustDiveCol, equipo de buceo, buceo seguro, conservación marina, aventura submarina, operador de buceo, comunidad de buceo, pasión por el océano, sostenibilidad marina, viajes de buceo Colombia",aboutHeaderTitle:"Más que un operador: Somos una comunidad que vive el océano",aboutHeaderSubtitle:"En JustDiveCol, cada miembro es un explorador de corazón. Compartimos, protegemos y celebramos la majestuosidad del mundo submarino para garantizar que cada inmersión sea, simplemente, inolvidable.",aboutHeaderMainLogoAlt:"Logotipo principal de JustDiveCol",aboutHeaderPhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",aboutHistoryTitle:"Nuestra historia: La pasión que emergió del Azul",aboutHistoryP1:"JustDiveCol nació de la profunda conexión entre amigos unidos por un amor incondicional al mar. Lo que comenzó como inmersiones recreativas, pronto evolucionó en una visión compartida: revelar la maravilla y la libertad ilimitada que solo el océano puede ofrecer.",aboutHistoryP2:"Desde la primera burbuja que exhalamos bajo el agua, supimos que la seguridad sería el pilar fundamental de cada aventura que emprenderíamos. Con un compromiso constante con el aprendizaje y un respeto absoluto por el ecosistema marino, hemos forjado experiencias que conectan el corazón y la mente con este extraordinario mundo acuático.",aboutHistoryP3:"Hoy, JustDiveCol es una familia global en constante crecimiento. Te invitamos a unirte a nosotros para descubrir nuevos horizontes, vivir asombrosos encuentros submarinos y atesorar recuerdos imborrables bajo las olas.",aboutHistoryImageMainLogoAlt:"Logotipo principal de JustDiveCol",aboutHistoryImagePhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",aboutTeamTitle:"Los artífices de tus inmersiones inolvidables",aboutTeamSubtitle:"Conoce a nuestro equipo: un grupo apasionado, experto y totalmente comprometido con tu aprendizaje, seguridad y disfrute en cada expedición submarina.",aboutTeamMember1Name:"Camilo Beltrán",aboutTeamMember1Role:"Fundador y navegante de sueños submarinos",aboutTeamMember1Bio:"Para Camilo, el océano no es solo un destino, es un santuario de paz y emoción. Su profunda pasión lo llevó a fundar JustDiveCol, con el propósito de compartir este amor a través de experiencias seguras y llenas de aventura. Él es la prueba viviente de que la calma profunda y la adrenalina pueden coexistir en perfecta armonía bajo el agua.",aboutTeamMember1Fact1:"Ingeniero de sistemas durante el día; de noche, su desconexión perfecta es sumergirse en lo profundo del mar.",aboutTeamMember1Fact2:"Su encuentro más impactante fue cara a cara con un tiburón toro, una experiencia que reafirmó su inmenso respeto por la vida marina.",aboutTeamMember1Fact3:"Revisa su bitácora de buceo con más frecuencia que su agenda de reuniones, un claro reflejo de dónde reside su verdadera pasión.",aboutTeamMember2Name:"Alejandra Vargas",aboutTeamMember2Role:"Timonel de nuevas ideas y rutas inolvidables",aboutTeamMember2Bio:"Para Alejandra, bucear es como volar lentamente a través de un universo oculto. Se deleita flotando entre vibrantes corales, dejándose llevar suavemente por las corrientes y descubriendo paisajes de otro mundo. Su misión es guiarte a valorar cada matiz de este vasto y asombroso océano.",aboutTeamMember2Fact1:"Su primera inmersión fue a los 12 años, y desde entonces, es una incansable luchadora por la limpieza de los océanos.",aboutTeamMember2Fact2:"Aunque su gran sueño es nadar junto a una ballena azul, por ahora, los encuentros con ballenas jorobadas le roban el aliento.",aboutTeamMember2Fact3:"Siempre se hace trenzas antes de bucear: desenredar su cabello crespo después de varias inmersiones es un verdadero desafío.",aboutTeamMember3Name:"Pablo Orjuela",aboutTeamMember3Role:"Aventurero, fotógrafo y narrador visual",aboutTeamMember3Bio:"Aunque es el miembro más reciente en el mundo del buceo, Pablo aporta su excepcional ojo artístico para capturar la magia submarina. Sus impresionantes imágenes y videos cuentan historias cautivadoras que te inspirarán a descubrir el océano con todos los sentidos.",aboutTeamMember3Fact1:"Su mayor sueño submarino: bucear junto a un gran tiburón blanco.",aboutTeamMember3Fact2:"Compró su primera cámara para fotografiar el mar mucho antes de realizar su primera inmersión.",aboutTeamMember3Fact3:"En su última aventura terrestre, caminó aproximadamente 850 km / 528 miles para desafiar sus propios límites.",aboutCommitmentTitle:"Nuestro compromiso inquebrantable con el océano",aboutCommitmentSubtitle:"Creemos firmemente que cada inmersión es también una promesa: la de proteger y conservar este invaluable tesoro azul para las futuras generaciones.",aboutCommitmentPoint1Title:"Sostenibilidad y conservación Marina",aboutCommitmentPoint1Desc:"Promovemos activamente prácticas de buceo de bajo impacto, colaboramos con proyectos globales de conservación y extraemos valiosos aprendizajes de cada inmersión para asegurar la salud de nuestros océanos.",aboutCommitmentPoint2Title:"Seguridad sin concesiones",aboutCommitmentPoint2Desc:"Tu bienestar es nuestra máxima prioridad. Mantenemos estrictos protocolos de seguridad internacionales y utilizamos equipos de buceo de la más alta calidad para que disfrutes cada inmersión con total confianza y tranquilidad.",aboutCommitmentPoint3Title:"Apoyo local y turismo responsable",aboutCommitmentPoint3Desc:"Trabajamos de la mano con comunidades y operadores locales para fomentar un modelo de turismo que impulse un desarrollo social y económico sostenible en cada destino que visitamos."},tC={safetySeoTitle:"Compromiso con la seguridad | JustDiveCol - Tu bienestar en cada inmersión",safetySeoDesc:"Descubre cómo nuestros rigurosos protocolos de seguridad, equipamiento de vanguardia y alianzas estratégicas garantizan una experiencia de buceo y aventura segura, placentera e inolvidable con JustDiveCol. Tu tranquilidad es nuestra máxima prioridad.",safetySeoKeywords:"seguridad buceo, protocolos de seguridad, buceo seguro, JustDiveCol, equipo de buceo, mantenimiento equipo buceo, instructores PADI, guías certificados, seguridad submarina, estándares PADI, DAN, bienestar buzo, prevención accidentes buceo, briefings buceo",safetyHeaderTitle:"Seguridad sin concesiones: Tu tranquilidad es nuestra máxima prioridad",safetyHeaderSubtitle:"En JustDiveCol, entendemos que una aventura verdaderamente inolvidable se construye sobre la base inquebrantable de la confianza. Por eso, la seguridad es el pilar fundamental e innegociable de cada experiencia que ofrecemos. Queremos que te sumerjas con absoluta paz mental.",safetyHeaderMainLogoAlt:"Logo principal de JustDiveCol",safetyHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",safetyProtocolsTitle:"Nuestro estándar de seguridad en cada inmersión",safetyProtocolsSubtitle:"Seguimos un proceso meticuloso y riguroso en cada una de nuestras operaciones, priorizando en todo momento el bienestar, la confianza y el disfrute pleno de nuestros valiosos exploradores submarinos. Cada paso está diseñado para tu protección.",safetyStep1Name:"Briefing detallado pre-inmersión",safetyStep1Desc:"Antes de cada inmersión o actividad, realizamos una sesión informativa completa y participativa. Revisamos las condiciones específicas del entorno, explicamos detalladamente el plan de buceo y recordamos los procedimientos de seguridad esenciales para asegurar tu total comprensión y preparación. Tu participación activa es clave.",safetyStep2Name:"Chequeo pre-inmersión exhaustivo (CPTAO/BWRAF)",safetyStep2Desc:"Realizamos juntos el crucial chequeo pre-inmersión, un estándar de seguridad global que garantiza que tu equipo esté en perfectas condiciones y que bucees con total confianza. Este chequeo sigue las siglas CPTAO (Compañero, Peso, Tiras, Aire, Otro) o BWRAF (BCD, Weights, Releases, Air, Final check), asegurando que nada se pase por alto.",safetyStep3Name:"Guiado profesional y personalizado",safetyStep3Desc:"Nuestros guías e instructores certificados PADI lideran grupos reducidos para garantizar la máxima atención. Esto nos permite brindar una atención verdaderamente personalizada, adaptar la inmersión a tu nivel de experiencia y garantizar una vivencia segura, cómoda y enriquecedora en todo momento. Estamos contigo en cada burbuja.",safetyStep4Name:"Monitoreo constante y debriefing post-inmersión",safetyStep4Desc:"Durante y después de cada inmersión, monitoreamos de cerca el bienestar, el consumo de aire y el perfil de buceo de cada participante. Al finalizar, realizamos un debriefing detallado para compartir observaciones, resolver cualquier duda y consolidar los aprendizajes de la experiencia vivida. Tu seguridad y aprendizaje continúan incluso fuera del agua.",safetyEquipmentTitle:"Equipamiento de vanguardia para tu protección óptima",safetyEquipmentSubtitle:"Confiamos únicamente en equipos de buceo de las marcas líderes en la industria global. Todos nuestros equipos son sometidos a un mantenimiento riguroso y revisiones periódicas con estándares de reloj suizo, asegurando la máxima seguridad, fiabilidad y comodidad en cada inmersión. Tu equipamiento es nuestra garantía.",safetyEquip1Name:"Reguladores de alto rendimiento",safetyEquip1Desc:"Utilizamos reguladores de última generación que garantizan un suministro de aire suave, constante y seguro, fundamental para una respiración cómoda, natural y sin esfuerzo bajo el agua, incluso en las condiciones más demandantes.",safetyEquip2Name:"Chalecos compensadores (BCDs) ergonómicos y precisos",safetyEquip2Desc:"Nuestros BCDs son cómodos, de ajuste preciso y ofrecen un control intuitivo y exacto de la flotabilidad, elementos clave para una inmersión placentera, segura y que te permita moverte con libertad y eficiencia bajo el agua.",safetyEquip3Name:"Computadoras de buceo avanzadas",safetyEquip3Desc:"Cada una de tus inmersiones es monitoreada con computadoras de buceo modernas y precisas, que permiten manteneros dentro de los límites de seguridad, optimizar tu perfil de buceo y registrar cada detalle. La tecnología a tu servicio para una inmersión más inteligente y segura.",safetyCertsTitle:"Compromiso con la excelencia, la sostenibilidad y las mejores prácticas",safetyCertsSubtitle:"En JustDiveCol, no solo cumplimos, sino que excedemos los más altos estándares internacionales de seguridad y sostenibilidad en el buceo. Estamos orgullosamente afiliados a las principales organizaciones del sector, garantizando un servicio de clase mundial.",safetyPartner1Name:"Estándares internacionales rigurosos",safetyPartner1Desc:"Todas nuestras operaciones y experiencias se basan en los protocolos y recomendaciones más estrictos de entidades reconocidas globalmente como PADI (Professional Association of Diving Instructors) y DAN (Divers Alert Network). Nuestra adhesión a estas normativas es tu garantía de una aventura segura y profesional en cualquier lugar del mundo.",safetyPartner2Name:"Capacitación y actualización constante del equipo",safetyPartner2Desc:"Nuestro equipo de profesionales participa regularmente en cursos de primeros auxilios (EFR), rescate y actualización en técnicas avanzadas de seguridad y buceo. Esta capacitación continua garantiza que tu bienestar esté siempre en las manos más capacitadas, experimentadas y al tanto de las últimas innovaciones en seguridad submarina."},aC={contactSeoTitle:"Contacto | JustDiveCol - Planifica tu próxima aventura submarina",contactSeoDesc:"¿Listo para explorar el azul profundo? Contáctanos para diseñar tu viaje soñado, resolver tus dudas o simplemente compartir nuestra pasión por el increíble mundo submarino con JustDiveCol.",contactSeoKeywords:"contacto, JustDiveCol, aventura submarina, planificar viaje de buceo, dudas buceo, pasión por el océano, WhatsApp buceo, comunicación JustDiveCol, servicio al cliente buceo",contactHeaderTitle:"Hablemos de tu próxima gran aventura",contactHeaderSubtitle:"Estamos aquí para responder a cada una de tus preguntas, ayudarte a planificar ese viaje soñado o simplemente compartir nuestra profunda pasión por el océano y sus misterios. ¡Tu aventura comienza con una conversación!",contactHeaderMainLogoAlt:"Logo principal de JustDiveCol",contactHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",contactInfoTitle:"Nuestros canales de comunicación",contactWhatsAppTitle:"Envíanos un mensaje directo por WhatsApp",contactWhatsAppDesc:"¿Tienes una pregunta rápida, necesitas asesoría personalizada o prefieres una conversación más directa? Haz clic en el botón de abajo para iniciar un chat con nuestro equipo en WhatsApp de forma instantánea. ¡Estamos listos para ayudarte a planificar tu inmersión perfecta!",contactWhatsAppButton:"Chatear ahora con JustDiveCol",contactWhatsAppMessage:"Hola, equipo de JustDiveCol. Me gustaría recibir más información sobre...",courseInquiryMessage:'Hola, equipo de JustDiveCol. Me gustaría recibir más información sobre el curso "{{courseName}}".',contactFollowUs:"Síguenos en nuestras redes sociales",contactCtaTitle:"¿Listo para el gran salto? ¡Te estamos esperando!",contactCtaSubtitle:"Las maravillas de las profundidades te aguardan. Cuéntanos tu sueño submarino y lo haremos realidad. ¡Tu próxima aventura inolvidable comienza con una simple conversación!",contactCtaText:"Comienza tu aventura hoy mismo",contactCtaMainLogoAlt:"Logo principal de JustDiveCol",contactCtaPhotoCredit:"Créditos de la foto: XYZ"},iC={availableTripsTitle:"Próximas aventuras y cursos disponibles",noUpcomingTripsMessage:"¡Atención, explorador! Las fechas de nuestros próximos cursos y emocionantes experiencias están en camino. ¡Pronto podrás preparar tus aletas para nuevas y fascinantes vivencias!",noUpcomingTripsWhatsAppMessage:"¡Hola! Estoy interesado en el curso de {{courseName}} y me gustaría saber cuándo hay próximas fechas disponibles.",noUpcomingTripsCtaButton:"Hablemos de tu interés",courseAvailableTitle:"¡Tu camino a la certificación PADI comienza aquí!",courseAvailableSubtitle:"Explora nuestros próximos cursos de buceo. ¡Elige tu nivel y sumérgete en el aprendizaje con los mejores instructores!",courseAvailableCtaText:"Ver próximos cursos",courseAvailableCtaMessage:"Hola, equipo de JustDiveCol. Me interesa obtener una certificación de buceo. ¿Podrían darme más información sobre los cursos disponibles?",courseNoUpcomingTitle:"¡Prepara tus aletas! Nuevos cursos en camino.",courseNoUpcomingSubtitle:"Actualmente, estamos actualizando nuestro calendario de cursos PADI. Si tienes un nivel o fecha en mente, ¡contáctanos y lo planificamos a tu medida!",courseNoUpcomingCtaText:"Consultar por un curso personalizado",courseNoUpcomingCtaMessage:"Hola, equipo de JustDiveCol. No veo cursos programados en este momento. Me gustaría saber cuándo tendrán nuevas fechas o si puedo coordinar un curso privado. ¿Podrían ayudarme?",owdSeoTitle:"Curso PADI Open Water Diver | Aprende a bucear con JustDiveCol",owdSeoDesc:"Conviértete en un buzo certificado con el curso PADI Open Water Diver de JustDiveCol. Es tu puerta de entrada al fascinante mundo submarino, donde aprenderás los fundamentos esenciales y obtendrás una certificación reconocida globalmente para explorar las profundidades con total confianza.",owdSeoKeywords:"curso PADI Open Water Diver, aprender a bucear, certificación de buceo, buzo certificado, JustDiveCol, fundamentos de buceo, primeras inmersiones, buceo recreativo, curso de buceo para principiantes, certificación mundial, bucear en Colombia",owdHeaderTitle:"PADI Open Water Diver: tu pasaporte al mundo azul",owdHeaderSubtitle:"Descubre el 70% del planeta que espera ser explorado por ti. ¡La aventura submarina te llama!",owdHeaderMainLogoAlt:"Logo principal de JustDiveCol",owdHeaderComplementaryLogoAlt:"Logo PADI",owdHeaderPhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",owdDescTitle:"Conviértete en buzo certificado: la aventura te espera",owdDescP1:"El curso PADI Open Water Diver es la certificación de buceo más reconocida y buscada en el mundo. Millones de personas ya han descubierto las maravillas del mundo acuático a través de esta experiencia transformadora. Es el emocionante primer paso hacia una vida de exploración submarina sin límites.",owdDescP2:"En JustDiveCol, te guiaremos paso a paso, desde los principios teóricos esenciales que puedes estudiar desde casa, hasta tus primeras e inolvidables inmersiones en el mar. Nuestro objetivo es que te conviertas en un buzo competente, seguro, responsable y profundamente apasionado por las profundidades. ¡Tu viaje comienza aquí!",owdCardMainLogoAlt:"Logo principal de JustDiveCol",owdCardComplementaryLogoAlt:"Logo PADI",owdCardTextOverlay:"Cursos de buceo",owdCardPhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",owdDetailsTitle:"Tu aventura de certificación en detalle",owdDetailDurationValue:"3 a 4 días (flexible)",owdDetailLabel1:"Duración estimada",owdDetailValue1:"3 a 4 días (flexible)",owdDetailLabel2:"Profundidad máxima",owdDetailValue2:"18 m / 60 ft",owdCurriculumTitle:"¿Qué aprenderás en tu curso Open Water?",owdModule1Name:"Módulos teóricos interactivos",owdModule1Desc:"A través de la innovadora plataforma PADI eLearning®, aprenderás los principios fundamentales del buceo a tu propio ritmo, desde la comodidad de tu hogar. ¡Es flexible y muy efectivo!",owdModule2Name:"Guía virtual personalizada",owdModule2Desc:"Complementamos tu estudio con 5 sesiones virtuales en vivo, donde uno de nuestros instructores expertos reforzará conceptos clave, resolverá todas tus dudas y te preparará a fondo para el siguiente paso en tu formación.",owdModule3Name:"Sesiones prácticas en aguas confinadas",owdModule3Desc:"En un entorno seguro y controlado, como una piscina, practicarás y dominarás todas las habilidades esenciales de buceo. Aquí construirás una confianza sólida antes de tu primera aventura en mar abierto.",owdModule4Name:"Emocionantes inmersiones en mar abierto",owdModule4Desc:"¡La culminación de tu aprendizaje! Realizarás cuatro inmersiones memorables en el océano, aplicando todo lo aprendido bajo la supervisión experta de tu instructor. Prepárate para asombrarte con la vida marina y los paisajes submarinos.",owdCurriculumNote1:"Certificación reconocida globalmente: Al completar exitosamente el curso, obtendrás una credencial PADI válida en todo el mundo, abriendo las puertas a la exploración submarina en cualquier destino que imagines.",owdReqsTitle:"Requisitos para comenzar tu aventura submarina",owdReqItem1:"Tener al menos 10 años (para Junior Open Water Diver).",owdReqItem2:"Sentirte cómodo en el agua y saber nadar (¡no es necesario ser un nadador olímpico!).",owdReqItem3:"Completar y aprobar un cuestionario médico o contar con la autorización de un médico, si es necesario.",owdReqItem4:"Comprometerte a participar activamente en todas las sesiones teóricas y prácticas del curso para garantizar tu máximo aprendizaje y seguridad.",owdIncludedTitle:"Tu curso incluye todo lo necesario para bucear",owdIncludeItem1:"Certificación internacional PADI Open Water Diver.",owdIncludeItem2:"Acceso ilimitado a la plataforma PADI eLearning®.",owdIncludeItem3:"5 sesiones virtuales en vivo con un instructor PADI dedicado.",owdIncludeItem4:"5 sesiones prácticas en aguas confinadas (piscina) para dominar tus habilidades.",owdIncludeItem5:"4 inmersiones emocionantes en mar abierto (océano).",owdIncludeItem6:"Equipo completo de buceo de alta calidad (máscara, aletas, traje de neopreno, regulador, BCD, tanque).",owdIncludeItem7:"Acompañamiento personalizado de un instructor PADI altamente calificado, comprometido con tu progreso.",owdIncludeItem8:"Seguro de buceo completo durante toda la duración del curso.",owdGalleryTitle:"Momentos inolvidables de tu curso Open Water",owdGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",owdGaleryImg1PhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",owdGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",owdGaleryImg2PhotoCredit:"Créditos de la foto: XYZ",owdGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",owdGaleryImg3PhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",owdGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",owdGaleryImg4PhotoCredit:"Créditos de la foto: Camilo Beltrán @JustDiveCol",owdCtaTitle:"¿No encuentras fechas que se ajusten a tu agenda?",owdCtaButtonText:"Contáctanos para explorar opciones personalizadas",aowdSeoTitle:"Curso PADI Advanced Open Water Diver | Expande tus límites con JustDiveCol",aowdSeoDesc:"Lleva tu buceo al siguiente nivel con el curso PADI Advanced Open Water Diver de JustDiveCol. Explora nuevas especialidades, gana una confianza incomparable en diversas condiciones y profundiza en el fascinante mundo submarino.",aowdSeoKeywords:"PADI Advanced Open Water Diver, curso de buceo avanzado, expandir límites buceo, JustDiveCol, nuevas especialidades buceo, confianza submarina, buceo profundo, navegación subacuática, buceo nocturno, control de flotabilidad, fotografía submarina, certificación de buceo",aowdHeaderTitle:"PADI Advanced Open Water Diver: tu siguiente nivel de aventura",aowdHeaderSubtitle:"Perfecciona tus habilidades, gana una confianza inquebrantable y explora nuevas dimensiones del buceo con JustDiveCol. ¡El océano te espera!",aowdHeaderMainLogoAlt:"Logo principal de JustDiveCol",aowdHeaderComplementaryLogoAlt:"Logo PADI",aowdHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",aowdDescTitle:"Expande tus horizontes: más confianza, más exploración",aowdDescP1:'El curso PADI Advanced Open Water Diver está diseñado para llevar tu experiencia de buceo mucho más allá de lo básico. No se trata solo de obtener una certificación "avanzada", sino de adquirir una mayor confianza, más experiencia práctica y la capacidad de explorar una mayor variedad de sitios de buceo y condiciones en cualquier parte del mundo.',aowdDescP2:"En JustDiveCol, te guiaremos a través de cinco emocionantes inmersiones de aventura que te permitirán descubrir nuevas pasiones bajo el agua y perfeccionar tus técnicas existentes. Cada inmersión te acercará más a convertirte en un buzo más seguro, competente y versátil, listo para cualquier desafío y maravilla que el vasto océano te presente.",aowdCardMainLogoAlt:"Logo principal de JustDiveCol",aowdCardComplementaryLogoAlt:"Logo PADI",aowdCardTextOverlay:"Cursos de Buceo",aowdCardPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",aowdDetailsTitle:"Tu aventura avanzada en detalle",aowdDetailDurationValue:"2 a 3 días (flexible)",aowdDetailLabel1:"Duración estimada",aowdDetailValue1:"2 a 3 días (flexible)",aowdDetailLabel2:"Profundidad máxima",aowdDetailValue2:"30 m / 100 ft",aowdCurriculumTitle:"¿Qué aprenderás en tu curso Advanced Open Water?",aowdModule1Name:"Inmersión profunda (Obligatoria)",aowdModule1Desc:"Descubre el fascinante mundo más allá de los 18 m / 60 ft. Aprenderás las consideraciones de seguridad, planificación, gestión del aire y efectos de la presión específicos para el buceo profundo, expandiendo tu rango de exploración de manera segura hasta los 30 m / 100 ft.",aowdModule2Name:"Navegación subacuática (Obligatoria)",aowdModule2Desc:"Conviértete en un experto en orientación bajo el agua. Perfeccionarás tus habilidades con la brújula y la navegación natural, permitiéndote moverte con confianza y precisión en cualquier entorno submarino, optimizando cada inmersión y descubriendo nuevos rincones.",aowdModule3Name:"Tres inmersiones de aventura a tu elección",aowdModule3Desc:"Personaliza tu curso eligiendo tres especialidades que verdaderamente despierten tu interés y curiosidad. Algunas opciones populares incluyen: buceo nocturno (Night Diver), control de flotabilidad de precisión (Peak Performance Buoyancy), identificación de peces (Fish ID), fotografía subacuática (Underwater Photographer), búsqueda y recuperación (Search and Recovery), y muchas más. ¡Cada una es una nueva habilidad emocionante y una nueva aventura esperando por ti bajo las olas!",aowdCurriculumNote1:"Gana créditos para especialidades PADI: cada inmersión de aventura que completes cuenta como la primera inmersión de la especialidad PADI correspondiente. ¡Un paso más cerca de tu próxima certificación de buzo especialista y una manera excelente de probar nuevas disciplinas!",aowdReqsTitle:"Requisitos para llevar tu buceo al siguiente nivel",aowdReqItem1:"Tener al menos 12 años de edad (para Junior Advanced Open Water Diver).",aowdReqItem2:"Estar certificado como PADI Open Water Diver o contar con una certificación equivalente reconocida.",aowdReqItem3:"Completar y aprobar un cuestionario médico o contar con la autorización de un médico, si es necesario, para garantizar tu bienestar.",aowdReqItem4:"Comprometerte a participar activamente en todas las sesiones teóricas, virtuales y prácticas del curso, para asegurar un aprendizaje completo y seguro.",aowdIncludedTitle:"Tu curso incluye todo lo que necesitas para tu siguiente gran aventura",aowdIncludeItem1:"Certificación internacional PADI Advanced Open Water Diver, reconocida mundialmente.",aowdIncludeItem2:"Acceso ilimitado a la plataforma PADI eLearning® (para el curso Advanced Open Water), para que estudies a tu ritmo.",aowdIncludeItem3:"Asesoría personalizada y sesiones informativas (briefings) con un instructor PADI experto durante todo el curso, resolviendo todas tus dudas.",aowdIncludeItem4:"5 emocionantes inmersiones de aventura en aguas abiertas (en el mar) que expandirán tus habilidades.",aowdIncludeItem5:"Alquiler de equipo de buceo completo y de primera calidad (máscara, aletas, traje de neopreno, regulador, BCD, tanque).",aowdIncludeItem6:"Acompañamiento personalizado y supervisión constante de un instructor PADI altamente cualificado, garantizando tu seguridad y progreso.",aowdIncludeItem7:"Seguro de buceo completo durante toda la duración del curso, para tu total tranquilidad.",aowdGalleryTitle:"Momentos destacados de tu curso Advanced Open Water",aowdGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",aowdGaleryImg1PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",aowdGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",aowdGaleryImg2PhotoCredit:"Créditos de la foto: PADI",aowdGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",aowdGaleryImg3PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",aowdGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",aowdGaleryImg4PhotoCredit:"Créditos de la foto: PADI",aowdCtaTitle:"¿Las fechas disponibles no se ajustan a tu calendario?",aowdCtaButtonText:"Contáctanos para opciones personalizadas",rdSeoTitle:"Curso PADI Rescue Diver | Conviértete en un héroe submarino con JustDiveCol",rdSeoDesc:"Desarrolla habilidades vitales de rescate y manejo de emergencias con el curso PADI Rescue Diver de JustDiveCol. Aprende a prevenir problemas y a responder eficazmente en el buceo, protegiéndote a ti y a tus compañeros en cualquier parte del mundo. ¡Marca la diferencia!",rdSeoKeywords:"curso PADI Rescue Diver, buzo de rescate, habilidades de rescate, manejo de emergencias buceo, prevención de problemas buceo, JustDiveCol, protección compañeros buceo, buzo confiable, liderazgo submarino, seguridad en buceo, primeros auxilios buceo, PADI Divemaster, PADI Instructor",rdHeaderTitle:"PADI Rescue Diver: tu poder para proteger vidas bajo el agua",rdHeaderSubtitle:"Conviértete en el buzo confiable y proactivo que todos querrán tener a su lado en cada inmersión. ¡Sé la seguridad que el océano necesita!",rdHeaderMainLogoAlt:"Logo principal de JustDiveCol",rdHeaderComplementaryLogoAlt:"Logo PADI",rdHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",rdDescTitle:"De buzo a héroe: la confianza de saber actuar con propósito",rdDescP1:"El curso PADI Rescue Diver es un desafío inmensamente gratificante que te transformará en un buzo más seguro, más capaz y profundamente consciente de tu entorno. Aprenderás a prevenir problemas de buceo antes de que ocurran y, si es necesario, a manejar emergencias de manera eficaz y tranquila, tanto para tu propia seguridad como para la de tus compañeros. ¡Prepárate para marcar la diferencia!",rdDescP2:"En JustDiveCol, te capacitaremos a través de escenarios realistas y técnicas probadas, preparándote para responder eficazmente ante cualquier situación inesperada en el agua. Este curso no solo mejora tus habilidades técnicas de buceo, sino que también fomenta tu confianza, tu capacidad de liderazgo y un compromiso inquebrantable con la seguridad en el fascinante mundo submarino. ¡Prepárate para ser un buzo de rescate ejemplar y un verdadero líder bajo el agua!",rdCardMainLogoAlt:"Logo principal de JustDiveCol",rdCardComplementaryLogoAlt:"Logo PADI",rdCardTextOverlay:"Cursos de buceo",rdCardPhotoCredit:"Créditos de la foto: PADI",rdDetailsTitle:"Tu entrenamiento de rescate en detalle",rdDetailDurationValue:"2 a 3 días (flexible)",rdDetailLabel1:"Duración estimada",rdDetailValue1:"2 a 3 días (flexible)",rdDetailLabel2:"Habilidades clave",rdDetailValue2:"Prevención, gestión de emergencias, primeros auxilios, liderazgo efectivo",rdCurriculumTitle:"¿Qué aprenderás en tu curso Rescue Diver?",rdModule1Name:"Desarrollo de conocimientos: prevención y rescate",rdModule1Desc:"Aprenderás a reconocer y manejar el estrés en otros buzos, cómo utilizar y organizar equipo de emergencia en diversas situaciones, y las consideraciones psicológicas cruciales del rescate. Utilizaremos la plataforma PADI eLearning® para que estudies a tu propio ritmo, con el apoyo constante de tu instructor.",rdModule2Name:"Autorrescate y manejo de buzos en pánico",rdModule2Desc:"Dominarás técnicas esenciales para manejar tus propias emergencias bajo el agua y en superficie con calma y eficacia. Aprenderás cómo aproximarte, calmar y asistir eficazmente a un buzo en estado de pánico, tanto en la superficie como en el fondo, transformándote en un pilar de seguridad.",rdModule3Name:"Respuesta ante buzos inconscientes y no reactivos",rdModule3Desc:"Practicarás la recuperación segura de buzos inconscientes desde el fondo, la provisión vital de respiraciones de rescate en el agua (in-water rescue breathing) y el remolque eficiente de un buzo no reactivo a la superficie, preparándote para las situaciones más críticas con confianza y destreza.",rdModule4Name:"Gestión de emergencias de buceo y primeros auxilios avanzados",rdModule4Desc:"Aprenderás a coordinar una respuesta de emergencia efectiva, a utilizar equipo de oxígeno de emergencia de manera profesional y a aplicar primeros auxilios de buceo para lesiones comunes y condiciones más serias. Este módulo es vital para la gestión de crisis, convirtiéndote en un líder en momentos cruciales.",rdModule5Name:"Escenarios de rescate realistas y simulacros prácticos",rdModule5Desc:"Participarás en intensos ejercicios de escenarios realistas que simulan diversas situaciones de emergencia en el buceo. Esto te permitirá aplicar y consolidar todas tus habilidades en un entorno práctico y bajo presión controlada, preparándote de manera integral para el mundo real y cualquier desafío que surja.",rdCurriculumNote1:"Este curso es un prerrequisito esencial y transformador para los buzos que desean avanzar al nivel profesional de PADI Divemaster, Instructor y más allá, abriendo las puertas a una carrera gratificante en el buceo y la enseñanza.",rdReqsTitle:"Requisitos para iniciar tu camino como buzo de rescate profesional",rdReqItem1:"Tener al menos 12 años de edad (para Junior Rescue Diver).",rdReqItem2:"Estar certificado como PADI Advanced Open Water Diver o contar con una certificación equivalente reconocida.",rdReqItem3:"Haber completado un curso de Primeros Auxilios y RCP (como Emergency First Response® o equivalente) en los últimos 24 meses, para asegurar una base sólida en atención prehospitalaria.",rdReqItem4:"Completar y aprobar un cuestionario médico o contar con la autorización de un médico, si es necesario, garantizando tu plena aptitud para el curso.",rdReqItem5:"Comprometerte a participar activamente en todas las sesiones teóricas, virtuales y prácticas del curso, demostrando proactividad, responsabilidad y un deseo genuino de aprender.",rdIncludedTitle:"Tu curso de rescate incluye todo lo necesario para tu preparación integral",rdIncludeItem1:"Certificación internacional PADI Rescue Diver, reconocida y valorada globalmente.",rdIncludeItem2:"Acceso ilimitado a la plataforma PADI eLearning® (para el curso Rescue Diver), facilitando tu estudio autónomo.",rdIncludeItem3:"Sesiones teóricas y prácticas guiadas por un instructor PADI experto, con feedback continuo y personalizado para tu máximo desarrollo.",rdIncludeItem4:"Prácticas extensivas y simulacros avanzados en aguas confinadas (piscina) y aguas abiertas (mar), para que domines cada técnica.",rdIncludeItem5:"Simulacros de escenarios de rescate realistas y desafiantes, replicando situaciones del mundo real para una preparación completa.",rdIncludeItem6:"Alquiler de equipo de buceo completo (excluyendo equipo personal si ya lo posees) y equipo específico de rescate necesario para el curso.",rdIncludeItem7:"Acompañamiento personalizado y supervisión constante de un instructor PADI altamente cualificado, comprometido con tu desarrollo y seguridad.",rdIncludeItem8:"Seguro de buceo completo durante toda la duración del curso, cubriendo específicamente incidentes relacionados con la actividad de buceo, para tu total tranquilidad.",rdGalleryTitle:"Preparación y acción: momentos de tu entrenamiento Rescue Diver",rdGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",rdGaleryImg1PhotoCredit:"Créditos de la foto: XYZ",rdGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",rdGaleryImg2PhotoCredit:"Créditos de la foto: XYZ",rdGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",rdGaleryImg3PhotoCredit:"Créditos de la foto: @atlantidabucea",rdGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",rdGaleryImg4PhotoCredit:"Créditos de la foto: PADI",rdCtaTitle:"¿Las fechas disponibles no se ajustan a tu calendario?",rdCtaButtonText:"Contáctanos para explorar opciones personalizadas"},nC={availableTripsTitle:"Próximos viajes y aventuras a este destino",noUpcomingTripsMessage:"¡Explora este destino a tu medida!",noUpcomingTripsSubtitle:"Actualmente, no tenemos viajes programados para {{destinationName}}. Sin embargo, podemos diseñar una experiencia personalizada que cumpla todos tus deseos. ¡Cuéntanos tu visión!",noUpcomingTripsCtaButton:"Planificar mi viaje a este destino",noUpcomingTripsWhatsAppMessage:"Hola, JustDiveCol. Estoy interesado en un viaje de buceo a {{destinationName}} pero no veo fechas programadas. ¿Podríamos explorar opciones personalizadas para este destino?",exploreDestination:"Explorar este destino",destinationAvailableTitle:"Próximas expediciones a este paraíso submarino",destinationAvailableSubtitle:"No te pierdas la oportunidad de sumergirte en las maravillas de este destino. ¡Reserva tu lugar en nuestras próximas salidas!",destinationAvailableCtaText:"Ver fechas y reservar",destinationAvailableCtaMessage:"Hola, equipo de JustDiveCol. Me gustaría más información sobre las próximas expediciones de buceo a [Nombre del Destino]. ¡Estoy listo/a para explorar!",destinationNoUpcomingTitle:"¡Explora este destino a tu medida!",destinationNoUpcomingSubtitle:"Actualmente no tenemos viajes programados para [Nombre del Destino], pero podemos diseñar una experiencia personalizada que cumpla todos tus deseos. ¡Cuéntanos tu visión!",destinationNoUpcomingCtaText:"Planificar mi viaje a [Nombre del Destino]",destinationNoUpcomingCtaMessage:"Hola, equipo de JustDiveCol. Estoy interesado/a en un viaje de buceo a [Nombre del Destino] pero no veo fechas programadas. ¿Podríamos explorar opciones personalizadas?",smName:"Santa Marta",smSeoTitle:"Buceo en Santa Marta | Explora el vibrante Caribe Colombiano con JustDiveCol",smSeoDesc:"Sumérgete en las ricas y cálidas aguas de Santa Marta con JustDiveCol. Descubre una vibrante vida marina, impresionantes arrecifes de coral y sitios de buceo únicos en el corazón del Caribe Colombiano. ¡Tu próxima aventura submarina te espera!",smSeoKeywords:"buceo Santa Marta, bucear Caribe colombiano, arrecifes de coral Santa Marta, sitios de buceo Santa Marta, vida marina Santa Marta, JustDiveCol Santa Marta, Parque Tayrona buceo, cursos de buceo Santa Marta, buceo principiantes Santa Marta, buceo avanzado Santa Marta, pecios Santa Marta, turismo submarino Santa Marta, Taganga buceo",smHeaderTitle:"Santa Marta: donde la majestuosa sierra y el azul Caribe se encuentran para bucear",smHeaderSubtitle:"Sumérgete en la vibrante historia y los arrecifes llenos de vida del Caribe Colombiano. Un destino que cautiva tanto dentro como fuera del agua.",smHeaderMainLogoAlt:"Logo principal de JustDiveCol",smHeaderPhotoCredit:"Créditos de la foto: XYZ",smDescTitle:"Un viaje al corazón fascinante del Caribe Colombiano",smDescP1:"Más allá de sus impresionantes arrecifes, Santa Marta es una ciudad vibrante con una riqueza histórica que se entrelaza con relatos de piratas, colonos y la milenaria cultura Tayrona. Su música contagiosa, su exquisita gastronomía y la calidez genuina de su gente son tan cautivadoras como la asombrosa vida marina que aguarda bajo sus olas.",smDescP2:"Explorar esta región es descubrir una mezcla única de influencias que han dado forma a este paraíso costeño. Desde el encanto del centro histórico hasta la majestuosidad de las playas del Parque Tayrona, cada rincón cuenta una historia fascinante y te invita a la aventura.",smCardDescription:"Donde la imponente Sierra Nevada se encuentra con el misterio del Caribe, Santa Marta es un destino ideal para aprender a bucear, expandir tus habilidades y explorar el mundo submarino con JustDiveCol.",smCardMainLogoAlt:"Logo principal de JustDiveCol",smCardTextOverlay:"Destino de buceo",smCardPhotoCredit:"Créditos de la foto: XYZ",smDetailsTitle:"Información clave para tu aventura de buceo",smDetailLabel1:"Nivel de buceo recomendado",smDetailValue1:"Todos los niveles (desde principiantes hasta buzos avanzados)",smDetailLabel2:"Temperatura del agua",smDetailValue2:"24-28 °C / 75-82 °F",smDetailLabel3:"Visibilidad promedio",smDetailValue3:"10-20 m / 35-65 ft",smDetailLabel4:"Mejor época para bucear",smDetailValue4:"Abril a Diciembre (con condiciones óptimas)",smDetailLabel5:"Consideraciones adicionales",smDetailValue5:"La visibilidad y las condiciones pueden variar estacionalmente. Recomendamos consultar el pronóstico local.",smDiveSitesTitle:"Sitios de buceo emblemáticos en Santa Marta y sus alrededores",smDiveSite1Name:"Barco Hundido",smDiveSite1Desc:"Un antiguo barco mercante que yace apaciblemente entre los 21 m / 70 ft y 30 m / 100 ft de profundidad. Este fascinante pecio ofrece una experiencia única y cautivadora para buzos avanzados, siendo el hogar de una impresionante variedad de vida marina que lo ha convertido en su arrecife artificial.",smDiveSite2Name:"Natalia",smDiveSite2Desc:"Un misterioso yate hundido a unos 30 m / 100 ft en la pintoresca zona de El Rodadero. Su intrigante historia y la vibrante vida marina que lo habita lo convierten en un sitio de buceo exigente y extraordinariamente cautivador, ideal para aquellos buzos experimentados que buscan un reto y una exploración profunda.",smDiveSite3Name:"La Piedra del Medio",smDiveSite3Desc:"Parte de un impresionante sistema rocoso cercano a la costa, este sitio es un verdadero hervidero de rica biodiversidad. Es un lugar predilecto para encuentros cercanos con majestuosas tortugas marinas y una multitud de peces tropicales coloridos, siendo apto para diversos niveles de experiencia y ofreciendo siempre algo nuevo por descubrir.",smDiveSite4Name:"Isla Aguja",smDiveSite4Desc:"Un clásico indiscutible del buceo en Santa Marta, ideal para todos. Ofrece múltiples puntos de inmersión versátiles, aptos tanto para sesiones de entrenamiento y cursos como para emocionantes inmersiones de exploración profunda. Aquí encontrarás formaciones coralinas espectaculares y una vida marina abundante y diversa que te dejará sin aliento.",smUniqueFindsTitle:"Experiencias imperdibles en Santa Marta",smUniqueFind1:"La increíble biodiversidad marina de la región, que incluye coloridos arrecifes, vibrantes corales y una asombrosa variedad de especies marinas que te esperan bajo el agua.",smUniqueFind2:"Las formaciones rocosas y coralinas únicas que adornan sus fondos marinos, creando paisajes submarinos que parecen de otro planeta y son perfectos para la fotografía.",smUniqueFind3:"La vibrante vida cultural y nocturna de Santa Marta y la cercana Taganga, ideal para complementar tus días de buceo con sabor local, música y gastronomía caribeña.",smUniqueFind4:"La oportunidad de obtener o avanzar en tu certificación de buceo PADI en un entorno espectacular y seguro, acompañado por instructores expertos y apasionados por el océano.",smGalleryTitle:"Momentos inolvidables en este destino paradisiaco",smGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",smGaleryImg1PhotoCredit:"Créditos de la foto: XYZ",smGaleryImg2PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",smGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",smGaleryImg3PhotoCredit:"Créditos de la foto: XYZ",smGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",smGaleryImg4PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",smGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",smGaleryImg5PhotoCredit:"Créditos de la foto: XYZ",smGaleryImg5MainLogoAlt:"Logo principal de JustDiveCol",smGaleryImg6PhotoCredit:"Créditos de la foto: XYZ",smGaleryImg6MainLogoAlt:"Logo principal de JustDiveCol",provName:"Providencia",provSeoTitle:"Buceo en Providencia | Descubre el mar de los siete colores y su barrera coralina con JustDiveCol",provSeoDesc:"Sumérgete en las aguas cristalinas de Providencia, el tesoro escondido del Caribe. Explora arrecifes vírgenes, una vida marina excepcional y una cultura auténtica. ¡Tu aventura de buceo en el legendario Mar de los Siete Colores te espera con JustDiveCol!",provSeoKeywords:"buceo Providencia, mar de siete colores, barrera coralina Providencia, arrecifes vírgenes Caribe, buceo Caribe colombiano, JustDiveCol Providencia, Reserva de la Biosfera Seaflower, vida marina Providencia, cultura raizal, pecios Providencia, buceo principiantes Providencia, buceo avanzado Providencia, santuario natural Providencia",provHeaderTitle:"Providencia: donde el mar de siete colores te llama a bucear",provHeaderSubtitle:"Descubre el tesoro escondido del Caribe, sus arrecifes prístinos y una cultura auténtica que te envolverá. ¡Una experiencia submarina y cultural inigualable!",provHeaderMainLogoAlt:"Logo principal de JustDiveCol",provHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",provDescTitle:"Sumérgete en la esencia de providencia: un santuario natural y cultural",provDescP1:"Más allá de sus espectaculares paisajes submarinos, Providencia y su hermana Santa Catalina son islas con una historia rica y compleja, forjada por piratas, colonos ingleses y la inquebrantable cultura raizal. Esta herencia se manifiesta en su vibrante lengua creole, su contagiosa música y una gastronomía que deleita el paladar, ofreciendo una experiencia tan cautivadora en tierra como la asombrosa vida marina que aguarda bajo sus cristalinas aguas.",provDescP2:"Explorar Providencia es sumergirse en una forma de vida sostenible y profundamente conectada con la naturaleza. Cada rincón, desde sus coloridas casas de madera hasta sus playas vírgenes, narra la historia de un pueblo que ha sabido preservar su identidad y su entorno, convirtiéndola en un destino inigualable para quienes buscan autenticidad, aventura y la tranquilidad de un paraíso conservado con JustDiveCol.",provCardDescription:"Donde la esencia caribeña se fusiona con la majestuosidad de la tercera barrera coralina más grande del mundo, Providencia es un santuario natural y cultural inmerso en la Reserva de la Biosfera Seaflower, ideal para buzos que buscan asombro, biodiversidad y una paz inigualable.",provCardMainLogoAlt:"Logo principal de JustDiveCol",provCardTextOverlay:"Destino de Buceo",provCardPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",provDetailsTitle:"Información clave para tu aventura en Providencia",provDetailLabel1:"Nivel de buceo recomendado",provDetailValue1:"Todos los niveles (desde principiantes hasta buzos expertos)",provDetailLabel2:"Temperatura del agua",provDetailValue2:"26-29 °C / 79-84 °F",provDetailLabel3:"Visibilidad promedio",provDetailValue3:"20-35 m / 65-115 ft",provDetailLabel4:"Mejor época para bucear",provDetailValue4:"Marzo a Mayo y Septiembre a Noviembre (condiciones óptimas)",provDetailLabel5:"Consideraciones adicionales",provDetailValue5:"Generalmente corrientes suaves a moderadas. La visibilidad puede variar ligeramente con las estaciones.",provDiveSitesTitle:"Sitios de buceo emblemáticos en Providencia y sus alrededores",provDiveSite1Name:"El Planchón (Pecio de Providencia)",provDiveSite1Desc:"Este fascinante pecio de un barco hundido se ha transformado en un próspero arrecife artificial, hogar de tiburones nodriza, barracudas, jureles y morenas, con estructuras penetrables que invitan a la exploración. Su profundidad oscila entre los 18 m / 60 ft y 30 m / 100 ft, ofreciendo una visibilidad excepcional de 20-30 m / 65-100 ft, lo que lo convierte en una inmersión emocionante y accesible para diversos niveles de buzos.",provDiveSite2Name:"Felipe's Place",provDiveSite2Desc:"Conocido por sus impresionantes paredes de coral vibrantes y caídas dramáticas, es un lugar donde se pueden avistar grandes especies pelágicas como majestuosas mantarrayas y águilas marinas, además de inmensos bancos de peces de arrecife. Las inmersiones aquí pueden ser profundas, llegando hasta los 40 m / 130 ft o más en algunas secciones, ofreciendo un reto emocionante y recompensas visuales para buzos avanzados.",provDiveSite3Name:"Nick's Place",provDiveSite3Desc:"Un hermoso arrecife que se distingue por sus vastos valles de esponjas gigantes y una prolífica vida macro, incluyendo numerosas especies de peces de arrecife, curiosas tortugas y grandes meros. Con profundidades que van de 15 m / 50 ft a 30 m / 100 ft, es ideal para la fotografía submarina y la observación detallada de la pequeña y maravillosa vida que habita el arrecife.",provDiveSite4Name:"Piedra Tortuga (o Cantil de Isla Pavitos)",provDiveSite4Desc:"Este sitio es célebre por sus enormes formaciones de esponjas barril y oreja de elefante, y es uno de los mejores lugares para garantizar el avistamiento de tortugas marinas en su hábitat natural. Ofrece una gran versatilidad en profundidad, desde los 4.5 m / 15 ft para snorkeling, hasta los 40 m / 130 ft en su profunda pared, siendo apto para todos los niveles de buceo y una delicia para los amantes de las tortugas.",provUniqueFindsTitle:"Experiencias imperdibles en Providencia",provUniqueFind1:"El corazón de la tercera barrera coralina más grande del mundo, un ecosistema marino excepcionalmente conservado, rebosante de vida y colores que te dejarán sin aliento. Es un verdadero santuario submarino.",provUniqueFind2:"La inmersión en una auténtica cultura anglo-caribeña, con su singular idioma creole, música vibrante y arquitectura tradicional, ofreciendo una conexión profunda con el alma de la isla.",provUniqueFind3:'Aguas famosas por su increíble y deslumbrante gama de tonalidades de azul y verde, un espectáculo visual inolvidable conocido mundialmente como el "Mar de los Siete Colores".',provUniqueFind4:"Un ambiente sereno, tranquilo y una profunda conexión con la naturaleza, lejos de las multitudes. Es el destino ideal para la relajación total y la exploración consciente y respetuosa del entorno.",provGalleryTitle:"Momentos inolvidables en este destino paradisíaco",provGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",provGaleryImg1PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",provGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",provGaleryImg2PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",provGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",provGaleryImg3PhotoCredit:"Créditos de la foto: XYZ",provGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",provGaleryImg4PhotoCredit:"Créditos de la foto: XYZ",provGaleryImg5MainLogoAlt:"Logo principal de JustDiveCol",provGaleryImg5PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",provGaleryImg6MainLogoAlt:"Logo principal de JustDiveCol",provGaleryImg6PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",ifName:"Isla Fuerte",ifSeoTitle:"Buceo en Isla Fuerte | Edén submarino inexplorado en el Caribe Colombiano con JustDiveCol",ifSeoDesc:"Descubre Isla Fuerte, un destino de buceo virgen y asombroso en el Caribe Colombiano con JustDiveCol. Explora arrecifes prístinos, pecios fascinantes y fenómenos naturales únicos como el volcán de lodo submarino. Sumérgete en un paraíso de biodiversidad y tranquilidad.",ifSeoKeywords:"buceo Isla Fuerte, Caribe colombiano inexplorado, edén submarino, arrecifes prístinos, volcán de lodo submarino, pecios Isla Fuerte, biodiversidad marina, JustDiveCol Isla Fuerte, buceo tranquilo, Ceiba Milenaria, avistamiento perezosos, manglares, Túnel del Tiempo",ifHeaderTitle:"Isla Fuerte: tu edén submarino inexplorado en el Caribe",ifHeaderSubtitle:"Sumérgete en aguas cristalinas, descubre arrecifes vibrantes y fenómenos únicos en este paraíso de biodiversidad. ¡Una joya escondida te espera!",ifHeaderMainLogoAlt:"Logo principal de JustDiveCol",ifHeaderPhotoCredit:"Créditos de la foto: XYZ",ifDescTitle:"Descubre la magia única de Isla Fuerte: bajo el mar y en tierra firme",ifDescP1:"Ubicada frente a las pintorescas costas de Córdoba, Isla Fuerte es un verdadero tesoro escondido del Caribe Colombiano. Esta pequeña y encantadora isla ofrece una combinación inigualable de naturaleza exuberante y una atmósfera de paz absoluta. Sus paisajes terrestres, adornados con árboles centenarios y una rica avifauna, complementan a la perfección la magia que aguarda bajo sus aguas turquesas.",ifDescP2:"Explorar Isla Fuerte es sumergirse en un ritmo de vida pausado, donde la conexión auténtica con la naturaleza es primordial. Más allá del buceo, podrás disfrutar de enriquecedoras caminatas ecológicas, el avistamiento de aves exóticas y curiosos perezosos en su hábitat natural, y compartir con una comunidad local que ha sabido preservar su esencia y su entorno. Cada visita se convierte en una experiencia auténtica y memorable con JustDiveCol.",ifCardDescription:"Un paraíso caribeño poco explorado, con aguas cristalinas, arrecifes vibrantes y una rica biodiversidad marina que te invita a la exploración consciente y la aventura en un entorno de paz.",ifCardMainLogoAlt:"Logo principal de JustDiveCol",ifCardTextOverlay:"Destino de buceo",ifCardPhotoCredit:"Créditos de la foto: XYZ",ifDetailsTitle:"Información clave para tu expedición a Isla Fuerte",ifDetailLabel1:"Nivel de buceo recomendado",ifDetailValue1:"Todos los niveles (desde principiantes hasta buzos certificados)",ifDetailLabel2:"Temperatura del agua",ifDetailValue2:"28 °C / 82 °F",ifDetailLabel3:"Visibilidad promedio",ifDetailValue3:"15-30 m / 50-100 ft",ifDetailLabel4:"Mejor época para bucear",ifDetailValue4:"Abril a Diciembre (condiciones generalmente óptimas)",ifDetailLabel5:"Consideraciones adicionales",ifDetailValue5:"Ideal para buceo relajado y la exploración de fenómenos naturales únicos. Las corrientes son usualmente suaves.",ifDiveSitesTitle:"Sitios de buceo emblemáticos en Isla Fuerte y sus alrededores",ifDiveSite1Name:"Bajo Bushnell",ifDiveSite1Desc:"Considerado uno de los arrecifes mejor conservados del Caribe continental Colombiano, este sitio impresiona por sus vastas extensiones de gorgonias y grandes cardúmenes de barracudas, jureles y pámpanos. Presenta cantiles que descienden suavemente, con profundidades que pueden alcanzar los 30 m / 100 ft, ofreciendo una biodiversidad asombrosa y perfecta para la fotografía submarina.",ifDiveSite2Name:"El Planchón (Pecio)",ifDiveSite2Desc:"Los restos de un barco mercante de aproximadamente 30 m / 100 ft de longitud, que ahora sirve como un vibrante arrecife artificial. Su estructura ha sido colonizada por una gran variedad de organismos marinos, ofreciendo refugio a peces de arrecife y curiosos tiburones nodriza. La profundidad máxima ronda los 9 m / 30 ft, lo que lo hace ideal para buzos de todos los niveles, incluyendo principiantes y para la fotografía macro detallada.",ifDiveSite3Name:"Burbujas (Volcán de Lodo Submarino)",ifDiveSite3Desc:"Un fenómeno natural subacuático verdaderamente único: un volcán de lodo colonizado por coloridos corales. Aquí se pueden observar fascinantes emanaciones de gas que forman burbujas constantes, creando una interacción curiosa y mágica con los cardúmenes de peces que lo rodean. Las profundidades son moderadas, alcanzando hasta 30 m / 100 ft, apto para explorar con facilidad y asombro.",ifDiveSite4Name:"El Bobito",ifDiveSite4Desc:"Este sitio permite explorar el borde final del arrecife insular, conformado por grandes bloques coralinos que crean un recorrido sinuoso y lleno de vida. Es común encontrarse con majestuosas rayas y los curiosos tiburones bobos (nurse sharks), de los cuales el lugar toma su nombre. La profundidad promedio es de 21 m / 70 ft, ideal para inmersiones tranquilas y de observación de la rica vida marina.",ifUniqueFindsTitle:"Experiencias imperdibles en Isla Fuerte (más allá del buceo)",ifUniqueFind1:"La Ceiba Milenaria: Un árbol monumental, el símbolo viviente de la isla, que se dice data del descubrimiento de América. Su tronco de dimensiones impresionantes y su aura mística lo convierten en un lugar digno de admirar y sentir la historia.",ifUniqueFind2:"Avistamiento de Osos Perezosos: La isla alberga una población saludable de adorables osos perezosos tridáctilos. Son visibles en los senderos y entre los árboles, ofreciendo un encuentro cercano y tierno con la fauna terrestre en su hábitat natural.",ifUniqueFind3:"Manglares del Sur y del Norte: Ecosistemas vitales y hermosos que brindan refugio a diversas especies marinas y aves exóticas. Ofrecen túneles naturales para explorar en kayak o paddleboard, sumergiéndote en un mundo de tranquilidad y biodiversidad.",ifUniqueFind4:"El Túnel del Tiempo: Una formación rocosa natural que se sumerge misteriosamente en el mar, creando un paso único y mágico. Ideal para nadadores y snorkelers, este túnel está lleno de luz y vida, ofreciendo una experiencia inolvidable y fotogénica.",ifGalleryTitle:"Momentos inolvidables en este destino paradisiaco",ifGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",ifGaleryImg1PhotoCredit:"Créditos de la foto: XYZ",ifGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",ifGaleryImg2PhotoCredit:"Créditos de la foto: XYZ",ifGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",ifGaleryImg3PhotoCredit:"Créditos de la foto: XYZ",ifGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",ifGaleryImg4PhotoCredit:"Créditos de la foto: XYZ",ifGaleryImg5MainLogoAlt:"Logo principal de JustDiveCol",ifGaleryImg5PhotoCredit:"Créditos de la foto: XYZ",ifGaleryImg6MainLogoAlt:"Logo principal de JustDiveCol",ifGaleryImg6PhotoCredit:"Créditos de la foto: XYZ",malpName:"Malpelo",malpSeoTitle:"Buceo en Malpelo | Meca mundial de tiburones y megafauna pelágica con JustDiveCol",malpSeoDesc:"Sumérgete en Malpelo, un santuario de fauna y flora reconocido por la UNESCO en el Pacífico Colombiano con JustDiveCol. Experimenta el buceo extremo con masivas congregaciones de tiburones martillo, galápagos y otras especies pelágicas. Tu aventura oceánica definitiva te espera en este paraíso indomable.",malpSeoKeywords:"buceo Malpelo, tiburones martillo, vida pelágica, santuario UNESCO, Pacífico colombiano, buceo extremo, tiburones galápagos, tiburón ballena, buceo liveaboard, corrientes oceánicas, JustDiveCol Malpelo, Isla Malpelo, buceo técnico, megafauna marina",malpHeaderTitle:"Malpelo: donde los gigantes del pacífico te esperan",malpHeaderSubtitle:"Experimenta buceo extremo y encuentros épicos con tiburones en este santuario de vida salvaje, patrimonio de la humanidad UNESCO. ¡La adrenalina te llama!",malpHeaderMainLogoAlt:"Logo principal de JustDiveCol",malpHeaderPhotoCredit:"Créditos de la foto: XYZ",malpDescTitle:"El epicentro mundial de la vida pelágica en el Pacífico",malpDescP1:"Situada a unos 500 kilómetros / 310 miles de la costa colombiana en el inmenso Océano Pacífico, la Isla Malpelo es un monumento natural y santuario de fauna y flora, reconocido como patrimonio de la Humanidad por la UNESCO. Esta imponente roca oceánica es un punto de encuentro para algunas de las mayores congregaciones de vida pelágica del planeta, atrayendo a buzos de élite de todo el mundo en busca de encuentros épicos e inolvidables que solo JustDiveCol puede facilitar.",malpDescP2:"Malpelo es una experiencia de buceo extrema y profundamente gratificante, donde la verdadera aventura comienza mucho antes de sumergirse. Su aislamiento y las poderosas corrientes oceánicas crean un ecosistema único que favorece una abundancia sin igual de especies. Es un lugar donde la naturaleza salvaje se muestra en su máxima expresión, ofreciendo un espectáculo submarino que desafía, asombra y transforma por igual a quienes tienen el privilegio de explorarlo. ¡Prepárate para lo inesperado!",malpCardDescription:"Santuario de fauna y flora, un imponente bastión rocoso en el Pacífico, Malpelo es la meca mundial de tiburones y grandes pelágicos, un destino para buzos que buscan lo extraordinario.",malpCardMainLogoAlt:"Logo principal de JustDiveCol",malpCardTextOverlay:"Destino de buceo extremo",malpCardPhotoCredit:"Créditos de la foto: XYZ",malpDetailsTitle:"Información clave para tu expedición a Malpelo",malpDetailLabel1:"Nivel de buceo recomendado",malpDetailValue1:"Avanzado o Experto (imprescindible experiencia en buceo con corrientes, buceo profundo y condiciones oceánicas remotas)",malpDetailLabel2:"Temperatura del agua",malpDetailValue2:"18-26 °C / 64-79 °F (con termoclinas variables y marcadas)",malpDetailLabel3:"Visibilidad promedio",malpDetailValue3:"15-30 m / 50-100 ft (variable según la temporada y corrientes)",malpDetailLabel4:"Mejor época para avistamientos",malpDetailValue4:"Enero a Mayo: Masivas congregaciones de tiburones martillo y galápagos. Julio a Noviembre: Altas probabilidades de avistar tiburón ballena y rayas.",malpDetailLabel5:"Consideraciones adicionales",malpDetailValue5:"Solo expediciones de vida a bordo (Liveaboard). Fuertes corrientes y condiciones oceánicas desafiantes son la norma. Esta es una experiencia de buceo extrema para los más audaces.",malpDiveSitesTitle:"Sitios de buceo emblemáticos en Malpelo: el santuario pelágico",malpDiveSite1Name:"La Nevera",malpDiveSite1Desc:"Un punto legendario famoso por las masivas congregaciones de tiburones martillo y galápagos. Bucear en sus aguas, influenciadas por fuertes corrientes ascendentes, permite avistamientos garantizados de cientos de individuos. La profundidad puede superar los 30 m / 100 ft, una inmersión desafiante y obligatoria para los verdaderos amantes de los tiburones.",malpDiveSite2Name:"El David",malpDiveSite2Desc:"Una impresionante formación rocosa submarina con intrincados túneles y cavernas. Es un lugar privilegiado para observar majestuosos tiburones ballena (en temporada), atunes, jureles y grandes escuelas de peces pelágicos. La profundidad varía entre 15 m / 50 ft y 40 m / 130 ft, ofreciendo diversidad de ambientes para la exploración más allá de lo común.",malpDiveSite3Name:"El Jardín",malpDiveSite3Desc:"Caracterizado por una topografía de terrazas, grietas y salientes, este sitio es un paraíso para la vida macro, coloridas morenas y, ocasionalmente, tiburones punta blanca de arrecife. Con profundidades más manejables, entre 10 m / 35 ft y 25 m / 80 ft, es ideal para disfrutar de los detalles más pequeños del vibrante arrecife sin perder de vista a la fauna pelágica que lo ronda.",malpDiveSite4Name:"Bajo de las Corrientes",malpDiveSite4Desc:"Como su nombre lo indica, este punto es conocido por sus fuertes y emocionantes corrientes, que atraen a grandes bancos de peces y pelágicos como atunes, wahoos y ocasionalmente tiburones oceánicos. Es una inmersión desafiante con profundidades que superan los 30 m / 100 ft, ofreciendo adrenalina pura y encuentros inolvidables con la megafauna marina en su máximo esplendor.",malpUniqueFindsTitle:"Experiencias imperdibles y exclusivas de Malpelo",malpUniqueFind1:"Grandes agregaciones de tiburones: reconocido globalmente por las masivas concentraciones de tiburones martillo, galápagos y, ocasionalmente, tiburones seda y ballena. ¡Un espectáculo natural sin igual!",malpUniqueFind2:"Buceo en corrientes intensas: desafiantes inmersiones en corrientes oceánicas que revelan la magnitud y diversidad sin igual de la vida pelágica que prospera en estas aguas ricas.",malpUniqueFind3:"El Cangrejo Endémico de Malpelo: la rara observación del cangrejo rojo (Gecarcinus malpilensis), una especie terrestre única y endémica de la isla, un encuentro fascinante en este paraíso submarino que a menudo pasa desapercibido.",malpUniqueFind4:"Santuario de fauna y flora (Patrimonio UNESCO): una isla volcánica remota y rigurosamente protegida, reconocida por la UNESCO por su excepcional biodiversidad marina y terrestre, hogar de especies raras y amenazadas que solo prosperan aquí.",malpGalleryTitle:"Momentos épicos capturados en Malpelo",malpGaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",malpGaleryImg1PhotoCredit:"Créditos de la foto: XYZ",malpGaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",malpGaleryImg2PhotoCredit:"Créditos de la foto: XYZ",malpGaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",malpGaleryImg3PhotoCredit:"Créditos de la foto: XYZ",malpGaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",malpGaleryImg4PhotoCredit:"Créditos de la foto: XYZ",malpGaleryImg5MainLogoAlt:"Logo principal de JustDiveCol",malpGaleryImg5PhotoCredit:"Créditos de la foto: XYZ",malpGaleryImg6MainLogoAlt:"Logo principal de JustDiveCol",malpGaleryImg6PhotoCredit:"Créditos de la foto: XYZ"},rC={expOtherTripsTitle:"Otras experiencias disponibles",expsmsept25Name:"CREYENTES / Experiencia de certificación Open Water: Santa Marta",expsmoct25Name:"Experiencia de certificación Open Water: Santa Marta",expsmnov25Name:"Experiencia de certificación Open Water: Santa Marta",expsmsept25SeoTitle:"Certificación PADI Open Water en Santa Marta | Viaje de buceo inolvidable con JustDiveCol",expsmsept25SeoDesc:"Obtén tu licencia de buceo PADI Open Water en un viaje inolvidable a Santa Marta con JustDiveCol. Aprende los fundamentos en las aguas cristalinas del Caribe colombiano y comienza tu emocionante exploración submarina con confianza y seguridad. ¡Tu aventura te espera!",expsmsept25HeaderTitle:"Tu aventura submarina comienza aquí: ¡Certifícate en Santa Marta!",expsmsept25HeaderSubtitle:"Obtén tu certificación PADI Open Water en las mágicas aguas de Santa Marta. Una experiencia inolvidable que te abrirá las puertas al fascinante 70% del planeta.",expsmsept25HeaderMainLogoAlt:"Logo principal de JustDiveCol",expsmsept25HeaderComplementaryLogoAlt:"Logo PADI",expsmsept25HeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expsmsept25DescTitle:"Donde nace un nuevo explorador del mundo azul",expsmsept25DescP1:"Imagina tu primera respiración bajo el agua, no solo en cualquier lugar, sino en las vibrantes y cristalinas aguas del Caribe colombiano, con la cautivadora ciudad de Santa Marta como base. Esta experiencia ha sido meticulosamente diseñada para que, desde cero, te sumerjas con total confianza. Te guiaremos paso a paso a través de las diversas y protegidas bahías de la región, un verdadero paraíso submarino que espera ser descubierto por ti. ¡La aventura de tu vida te aguarda!",expsmsept25DescP2:"Más que un simple curso, este viaje es el inicio de una profunda pasión por el buceo, una que te impulsará a explorar el 70% del planeta con una nueva perspectiva. Prepárate para transformar tu percepción del mundo, descubriendo un universo rebosante de vida, color y misterio bajo la superficie. Con la seguridad y el acompañamiento experto de JustDiveCol, cada inmersión será un paso más hacia convertirte en un explorador responsable y apasionado del gran azul.",expsmsept25DetailsTitle:"Detalles esenciales de tu experiencia de certificación",expsmsept25DetailLabel1:"Precio total de la experiencia",expsmsept25DetailValue1:"COP 3.500.000",expsmoct25DetailValue1:"COP4.000.000",expsmnov25DetailValue1:"COP 4.000.000",expsmsept25DetailLabel2:"Inmersiones incluidas",expsmsept25DetailValue2:"5 en Aguas Confinadas + 4 en Aguas Abiertas",expsmsept25DetailLabel3:"Nivel mínimo requerido",expsmsept25DetailValue3:"Ninguno (¡Solo necesitas ganas de explorar y un espíritu aventurero!)",expsmsept25DetailLabel4:"Edad mínima",expsmsept25DetailValue4:"10 años (se aplican condiciones especiales para menores)",paymentPlanTitle:"Tu Plan de Pagos",paymentPlanStep1Name:"50% (Fecha Límite: 15 de agosto de 2025)",paymentPlanStep1Desc:"Asegura tu cupo y recibe el material de estudio PADI.",paymentPlanStep2Name:"25% (Fecha Límite: 5 de septiembre de 2025)",paymentPlanStep2Desc:"Cubre el siguiente abono para tu experiencia.",paymentPlanStep3Name:"25% (Fecha Límite: 19 de septiembre de 2025)",paymentPlanStep3Desc:"Liquida el saldo restante para completar tu reserva. ¡Aventura lista!",paymentPlanNote1:"Si tu reserva se realiza después de la fecha límite de un pago, el monto adeudado incluirá las cuotas previas. Por favor, contáctanos para el cálculo exacto y asistencia personalizada.",expsmsept25ItineraryTitle:"Tu camino paso a paso para convertirte en buzo certificado",expsmsept25ItineraryDay1Title:"Día 1: Llegada y fundamentos en aguas confinadas",expsmsept25ItineraryDay1Desc:"Arribo a Santa Marta, tu puerta al encanto del Caribe. Tras un reponedor almuerzo, daremos inicio a tu emocionante aventura con la primera sesión de desarrollo de habilidades en un entorno controlado. Aquí te familiarizarás cómodamente con el equipo de buceo y los principios básicos que te permitirán respirar bajo el agua con confianza.",expsmsept25ItineraryDay2Title:"Día 2: ¡Al mar! Tus primeras inmersiones en aguas abiertas",expsmsept25ItineraryDay2Desc:"Este es el momento que has estado esperando con ansias. Nos prepararemos para realizar tus dos primeras e inolvidables inmersiones en las espectaculares aguas abiertas de Santa Marta y sus vibrantes arrecifes. Descubre la majestuosa vida marina en su hábitat natural. Tendrás la tarde libre para relajarte, asimilar tus nuevas experiencias y soñar con futuras exploraciones.",expsmsept25ItineraryDay3Title:"Día 3: Completando tu certificación y celebración",expsmsept25ItineraryDay3Desc:"Realizaremos las dos últimas inmersiones necesarias para completar tu certificación PADI Open Water Diver, consolidando tus habilidades y tu confianza bajo el agua. Por la noche, celebraremos tu extraordinario logro con una ceremonia de graduación en un ambiente festivo y memorable, lleno de alegría y nuevas amistades.",expsmsept25ItineraryDay4Title:"Día 4: Despedida de un nuevo explorador submarino",expsmsept25ItineraryDay4Desc:"Disfruta de un último y delicioso desayuno como un orgulloso buzo PADI Open Water Diver certificado, rememorando los increíbles momentos vividos. Después, realizarás el check-out del hotel, llevando contigo no solo una prestigiosa certificación, sino una pasión de por vida por el océano y sus misterios, y el inicio de un sinfín de futuras aventuras.",expsmsept25ItineraryNote1:"Recomendamos encarecidamente programar tu vuelo de regreso para después del mediodía del último día, a fin de garantizar un margen de seguridad post-buceo adecuado (mínimo 18-24 horas sin volar después de la última inmersión).",expsmsept25ItineraryNote2:"Para experiencias con menores de edad, es indispensable presentar una autorización notariada del acudiente legal o de ambos padres, según la normativa vigente, para asegurar la protección y el bienestar de los jóvenes exploradores.",expsmsept25IncludedTitle:"¿Qué incluye tu experiencia de certificación Open Water?",expsmsept25IncludeItem1:"Alojamiento por 3 noches y 4 días en hotel seleccionado (habitaciones dobles/triples de confort).",expsmsept25IncludeItem2:"Plan de alimentación completo durante la estadía: deliciosas cenas (3), energizantes desayunos (3) y snacks diarios para recargar energías.",expsmsept25IncludeItem3:"Todos los traslados necesarios: aeropuerto-hotel-aeropuerto y a todas las emocionantes actividades de buceo/curso, para tu total comodidad.",expsmsept25IncludeItem4:"Cubrimiento fotográfico profesional de tus inmersiones y momentos clave, para que atesores los recuerdos de tu aventura.",expsmsept25NotIncludedTitle:"Tu inversión NO incluye",expsmsept25NotIncludeItem1:"Tiquetes aéreos nacionales o internacionales hacia y desde Santa Marta.",expsmsept25NotIncludeItem2:"Bebidas alcohólicas, bebidas no especificadas y comidas adicionales fuera del plan de alimentación establecido.",expsmsept25NotIncludeItem3:"Propinas para guías, instructores y personal de apoyo (opcional, pero siempre apreciadas).",expsmsept25NotIncludeItem4:"Otros gastos personales no mencionados explícitamente en el plan de experiencia.",expsmsept25OfferedCoursesTitle:"Certificaciones disponibles en esta experiencia",expsmsept25GalleryTitle:"Momentos inolvidables de tu experiencia submarina",expsmsept25GaleryImg1MainLogoAlt:"Logo principal de JustDiveCol",expsmsept25GaleryImg1PhotoCredit:"Créditos de la foto: XYZ",expsmsept25GaleryImg2MainLogoAlt:"Logo principal de JustDiveCol",expsmsept25GaleryImg2PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expsmsept25GaleryImg3MainLogoAlt:"Logo principal de JustDiveCol",expsmsept25GaleryImg3PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expsmsept25GaleryImg4MainLogoAlt:"Logo principal de JustDiveCol",expsmsept25GaleryImg4PhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",expsmsept25CtaTitle:"¿Listo para tu primera inmersión y obtener tu certificación PADI?",expsmsept25CtaButtonText:"Comienza tu aventura de buceo con JustDiveCol hoy",expsmsept25CtaWhatsAppMessage:'Hola, JustDiveCol. ¡Me interesa su experiencia "Open Water: Santa Marta"! ¿Podrían darme más información para iniciar mi certificación PADI?'},oC={policiesSeoTitle:"Políticas y regulaciones | JustDiveCol - Tu guía para una experiencia segura y transparente",policiesSeoDesc:"Consulta las políticas de reserva, cancelación, condiciones de servicio, rigurosos protocolos de seguridad y alquiler de equipos de JustDiveCol. Te ofrecemos total transparencia para una experiencia de buceo y aventura placentera y sin preocupaciones. ¡Tu tranquilidad es nuestra prioridad!",policiesSeoKeywords:"políticas JustDiveCol, términos y condiciones buceo, política de cancelación buceo, reembolso buceo, seguridad en buceo, alquiler equipo buceo, protección de datos buceo, regulaciones buceo, buceo responsable, JustDiveCol políticas, condiciones de servicio buceo",policiesHeaderTitle:"Nuestras políticas y regulaciones: claridad para tu aventura submarina",policiesHeaderSubtitle:"En JustDiveCol, la transparencia, la seguridad y la justicia son tan importantes como la emoción de la inmersión. Conoce nuestras políticas, diseñadas para garantizar una experiencia placentera, clara y sin contratiempos para todos nuestros valiosos exploradores. ¡Bucea con confianza, sabiendo que estás en las mejores manos!",policiesHeaderMainLogoAlt:"Logo principal de JustDiveCol",policiesHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",policiesSection1Title:"Política de reservas y pagos",policiesSection1Point1:"Para confirmar tu cupo en cualquiera de nuestras experiencias, se requiere un pago inicial no reembolsable, cuyo valor puede variar según la experiencia. Este pago se destina a cubrir la compra y activación del material de certificación (cuando aplique para cursos), el cual tiene una vigencia de 12 meses para completar tu curso con nosotros o cualquier centro de buceo o profesional PADI asociado. Este pago inicial es esencial para asegurar tu lugar y los recursos necesarios para tu aventura.",policiesSection1Point2:"El saldo restante debe ser cubierto en la fecha límite que se te indicará al momento de la reserva, la cual varía según la experiencia, siendo como máximo 15 días antes del inicio del viaje o actividad. Nuestro equipo te proporcionará todos los detalles de pago de forma clara y oportuna.",policiesSection1Point3:"Tu cupo se considera reservado únicamente una vez que el pago inicial ha sido recibido y confirmado por JustDiveCol. En caso de no recibir el pago final dentro del plazo establecido, nos reservamos el derecho de liberar tu cupo y el pago inicial se perderá en su totalidad, ya que cubre gastos operativos de planificación. ",policiesSection2Title:"Política de cancelaciones y reembolsos",policiesSection2Point1:"Cancelación por parte del Cliente:",policiesSection2Point1a:"Más de 30 días antes de la fecha de inicio: Reembolso del 50% del valor total pagado (excluyendo el pago inicial no reembolsable).",policiesSection2Point1b:"Entre 15 y 30 días antes de la fecha de inicio: No aplica reembolso. Se ofrecerá un crédito del 50% del valor pagado (excluyendo el pago inicial no reembolsable) para una futura experiencia, válido por 12 meses. El resto se destina a cubrir costos operativos.",policiesSection2Point1c:"Menos de 15 días antes de la fecha de inicio: No aplica reembolso ni crédito. El valor total pagado (incluyendo el pago inicial) se pierde en su totalidad, debido a los costos logísticos y de planificación incurridos.",policiesSection2Point1d:"No presentarse (No-Show) el día de la actividad: No aplica reembolso ni crédito. El 100% del valor pagado se pierde sin excepción. Te pedimos puntualidad y compromiso.",policiesSection2Point2:"Cambios o cancelaciones por JustDiveCol (fuerza mayor, clima, permisos):",policiesSection2Point2a:"Si JustDiveCol se ve obligado a modificar o cancelar una experiencia debido a condiciones climáticas adversas, falta de permisos de navegación, seguridad operacional u otras causas de fuerza mayor ajenas a nuestro control, se ofrecerá un crédito para una futura experiencia. El valor de este crédito puede variar según el caso y los costos operativos irrecuperables. Este crédito tendrá una validez de 12 meses a partir de la fecha original de la actividad.",policiesSection2Point2b:"Bajo estas circunstancias, no se realizarán reembolsos en efectivo ni se emitirán reprogramaciones sin costo adicional. El valor pagado se considerará utilizado para cubrir los costos operativos y logísticos ya incurridos e irrecuperables de la experiencia original, asegurando la continuidad de nuestras operaciones.",policiesSection2Point3:"Excepciones médicas:",policiesSection2Point3a:"Las cancelaciones debido a condiciones médicas imprevistas (previas a la actividad) que impidan al buzo participar, y que estén debidamente certificadas por un médico, serán evaluadas individualmente. En estos casos, se podrá ofrecer un crédito para una fecha futura, válido por 12 meses, solo si la cancelación se notifica con más de 30 días de antelación. Este crédito será parcial y estará sujeto a la deducción de todos los costos operativos irrecuperables ya generados. En cualquier otro caso de cancelación médica con menor antelación, no se aplicará reembolso ni crédito. Por favor, considera adquirir un seguro de viaje robusto para cubrir estas eventualidades.",policiesSection3Title:"Normativas y directrices de seguridad y salud",policiesSection3Point1:"Todos los buzos certificados deben presentar su credencial de certificación PADI o equivalente, y su bitácora de buceo (logbook) actualizada al momento de la llegada o en el primer briefing. Esto es esencial para validar tu nivel y experiencia.",policiesSection3Point2:"Es responsabilidad de cada buzo conocer, entender y acatar estrictamente todos los estándares de seguridad de buceo establecidos por PADI y las normativas locales de cada destino. Te brindaremos toda la información necesaria para que bucees con seguridad.",policiesSection3Point3:"Los participantes deben informar a JustDiveCol sobre cualquier condición médica preexistente que pueda afectar su capacidad para bucear de forma segura, antes del inicio de la actividad. La honestidad en este punto es crucial para tu bienestar.",policiesSection3Point4:"JustDiveCol se reserva el derecho absoluto de negar el servicio o la participación en una inmersión a cualquier buzo que, a juicio de nuestro staff certificado, se considere que no cumple con los requisitos de seguridad, esté bajo la influencia de sustancias, o pueda comprometer su seguridad o la de otros participantes. Priorizamos la seguridad de todo el grupo.",policiesSection3Point5:"Cobertura de Seguro: Algunas de nuestras experiencias, especialmente las certificaciones, incluyen un seguro de buceo que cubre específicamente incidencias relacionadas con la actividad de buceo para la duración de la misma. Sin embargo, recomendamos encarecidamente contar con un seguro de viaje adicional que ofrezca una cobertura más amplia para emergencias médicas generales, evacuación y cancelación de viaje, ya que JustDiveCol no se hace responsable por gastos derivados de incidentes no cubiertos por la póliza específica de buceo o por el seguro propio del cliente. Tu tranquilidad total es nuestra meta.",policiesSection4Title:"Política de alquiler y uso de equipos",policiesSection4Point1:"El equipo de alquiler proporcionado por JustDiveCol debe ser inspeccionado por el buzo usuario antes de cada uso. Cualquier daño preexistente o anomalía debe ser reportado a nuestro staff de inmediato antes de la inmersión para evitar inconvenientes.",policiesSection4Point2:"Los buzos son responsables de cualquier daño al equipo de alquiler que exceda el desgaste normal. Esto incluye, pero no se limita a, roturas, pérdidas o mal funcionamiento causados por negligencia o uso indebido. Queremos que el equipo esté en óptimas condiciones para todos.",policiesSection4Point3:"En caso de pérdida o daño grave de cualquier pieza del equipo de alquiler atribuible al buzo, se aplicará un cargo equivalente al costo de reposición o reparación, según sea el caso. Un inventario y estado del equipo se revisará antes y después de cada uso.",policiesSection4Point4:"El uso del equipo de buceo debe ser siempre supervisado y de acuerdo estricto con las instrucciones de nuestros instructores y guías certificados. Tu seguridad y la preservación del equipo son primordiales.",policiesSection5Title:"Responsabilidad y aceptación de riesgos",policiesSection5Point1:"La participación en actividades de buceo y aventura conlleva ciertos riesgos inherentes. Al unirte a nuestras experiencias, reconoces plenamente y aceptas estos riesgos. Nuestra misión es minimizarlos al máximo, pero es crucial que seas consciente de ellos.",policiesSection5Point2:"JustDiveCol y su personal actúan como facilitadores y guías expertos, esforzándose por minimizar los riesgos mediante el estricto cumplimiento de protocolos de seguridad internacionales y las mejores prácticas de la industria. Tu seguridad es nuestra máxima prioridad.",policiesSection5Point3:"La firma de una liberación de responsabilidad estándar de la industria (Waiver of Liability) y cualquier otro documento requerido es obligatoria antes del inicio de cualquier actividad de buceo o aventura. La negativa a firmar resultará en la no participación sin derecho a reembolso, ya que es una medida esencial para protegernos a todos y asegurar un buceo responsable. ¡La transparencia es la clave de nuestra relación de confianza!"},sC={tcaSeoTitle:"Términos y condiciones | JustDiveCol - Uso del servicio y la plataforma",tcaSeoDesc:"Conoce los términos y condiciones esenciales que rigen el uso de nuestro sitio web y la contratación de los servicios de JustDiveCol. Esta información es crucial para tu interacción con nuestra plataforma y para asegurar una experiencia clara y segura.",tcaSeoKeywords:"términos y condiciones, uso del servicio, políticas de plataforma, JustDiveCol, condiciones de buceo, propiedad intelectual, limitación de responsabilidad, leyes aplicables, privacidad, servicios de buceo, aventura",tcaHeaderTitle:"Términos y condiciones del servicio",tcaHeaderSubtitle:"Al acceder, navegar o utilizar nuestro sitio web y al reservar o participar en cualquiera de nuestros servicios, confirmas que has leído, entendido y aceptado plenamente los siguientes términos y condiciones. Te invitamos a revisarlos con la debida atención.",tcaHeaderMainLogoAlt:"Logo principal de JustDiveCol",tcaHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",tcaSection1Title:"1. Aceptación de los términos",tcaSection1Point1:"Al acceder o usar el sitio web de JustDiveCol, así como al reservar o participar en cualquiera de nuestras experiencias y cursos de buceo, confirmas que has leído, entendido y aceptado estos términos y condiciones en su totalidad. Si no estás de acuerdo con alguna parte o condición establecida en este documento, te solicitamos amablemente que no uses nuestros servicios ni navegues por nuestra plataforma. Tu consentimiento es fundamental para iniciar tu aventura con nosotros.",tcaSection1Point2:"JustDiveCol se reserva el derecho de modificar, actualizar o revisar estos términos y condiciones en cualquier momento y a nuestra discreción. Te notificaremos sobre cambios importantes a través de la publicación en el sitio web o por medio de correo electrónico. El uso continuado de nuestros servicios tras dichas modificaciones significará tu aceptación tácita y plena de los nuevos términos revisados. Te recomendamos revisar esta sección periódicamente.",tcaSection2Title:"2. Uso de nuestros servicios y sitio web",tcaSection2Point1:"Nuestro sitio web y los servicios ofrecidos están diseñados exclusivamente para fines informativos y para la reserva legítima de experiencias de buceo y aventura. Cualquier uso indebido, como la manipulación fraudulenta de información, el intento de acceso no autorizado, la interferencia con la operación normal del sitio o cualquier actividad que comprometa la integridad de nuestra plataforma, está estrictamente prohibido y será objeto de las acciones legales correspondientes.",tcaSection2Point2:"Eres el único responsable de mantener la confidencialidad de tu información de cuenta y contraseña (si aplica) y de todas las actividades que ocurran bajo tu cuenta. Te exhortamos a proteger tus credenciales y a notificarnos inmediatamente cualquier uso no autorizado.",tcaSection2Point3:"Al realizar una reserva a través de nuestra plataforma, garantizas que toda la información que proporcionas es veraz, completa y exacta. Asimismo, confirmas que posees la autoridad legal necesaria para realizar dicha reserva y para aceptar los términos y condiciones en nombre de todas las personas incluidas en la misma.",tcaSection3Title:"3. Propiedad intelectual",tcaSection3Point1:"Todo el contenido presente en este sitio web, incluyendo, pero no limitándose a, textos, imágenes, fotografías, gráficos, videos, grabaciones de audio, logotipos, íconos, software y el diseño general de la plataforma, es propiedad exclusiva de JustDiveCol o de sus respectivos licenciantes. Dicho contenido está protegido por las leyes de derechos de autor, marcas registradas y otras leyes de propiedad intelectual aplicables a nivel nacional e internacional.",tcaSection3Point2:"El uso no autorizado, la reproducción, la distribución, la modificación o la exhibición pública de cualquier material propiedad de JustDiveCol sin nuestro consentimiento expreso por escrito están estrictamente prohibidos. Puedes visualizar, descargar e imprimir contenido de nuestro sitio web únicamente para tu uso personal y no comercial, siempre que mantengas intactos todos los avisos de derechos de autor, marcas registradas y otros avisos de propiedad que aparezcan en los materiales.",tcaSection4Title:"4. Limitación de responsabilidad",tcaSection4Point1:"JustDiveCol se esfuerza diligentemente por mantener la información contenida en su sitio web precisa, completa y actualizada. Sin embargo, no podemos garantizar la ausencia total de errores, la integridad absoluta o la fiabilidad ininterrumpida de dicha información. El uso de la información proporcionada en este sitio web es bajo tu propio riesgo y discreción.",tcaSection4Point2:"JustDiveCol, sus directores, empleados, socios o afiliados no serán responsables por ningún daño directo, indirecto, incidental, consecuente, especial o punitivo, incluyendo, pero no limitándose a, pérdida de beneficios, datos o uso, derivados del uso o la imposibilidad de usar nuestro sitio web o servicios, incluso si JustDiveCol ha sido advertido de la posibilidad de tales daños. Esta limitación aplica en la máxima medida permitida por la ley.",tcaSection4Point3:"La responsabilidad total y máxima de JustDiveCol por cualquier reclamo o daño relacionado con los servicios contratados (experiencias de buceo, cursos, etc.) se limitará, en todos los casos, al monto total pagado por el cliente por la experiencia específica en cuestión. Esta limitación se aplicará sin importar la forma de la acción, ya sea contractual, extracontractual o de cualquier otra índole.",tcaSection5Title:"5. Enlaces a sitios web de terceros",tcaSection5Point1:"Nuestro sitio web puede contener enlaces a sitios web, servicios o recursos de terceros. Estos enlaces se proporcionan únicamente para tu conveniencia e información, y no implican un respaldo o afiliación por parte de JustDiveCol con dichos sitios o sus contenidos. JustDiveCol no tiene control sobre el contenido, las políticas de privacidad, las prácticas de seguridad o la disponibilidad de estos sitios de terceros y, por lo tanto, no asume ninguna responsabilidad por ellos.",tcaSection5Point2:"Te recomendamos encarecidamente leer los términos y condiciones, así como las políticas de privacidad, de cualquier sitio web de terceros que visites. La interacción con estos sitios está bajo tu propia responsabilidad.",tcaSection6Title:"6. Ley aplicable y jurisdicción",tcaSection6Point1:"Estos términos y condiciones se regirán e interpretarán exclusivamente de acuerdo con las leyes de la República de Colombia, sin dar efecto a ningún principio de conflictos de leyes que pudiera conducir a la aplicación de la ley de otra jurisdicción.",tcaSection6Point2:"Cualquier disputa, controversia o reclamo que surja de o en relación con estos términos y condiciones, incluyendo su existencia, validez, interpretación, cumplimiento, incumplimiento o terminación, será resuelto exclusivamente por los tribunales competentes de la ciudad de Bogotá, Colombia. Ambas partes se someten irrevocablemente a la jurisdicción exclusiva de dichos tribunales.",tcaSection7Title:"7. Divisibilidad",tcaSection7Point1:"Si alguna disposición de estos términos y condiciones es considerada ilegal, nula o inaplicable por un tribunal o autoridad competente, dicha disposición se considerará divisible de los demás términos y no afectará la validez y aplicabilidad de las disposiciones restantes. Las partes acordarán sustituir la disposición inválida por una disposición válida que logre, en la mayor medida posible, el propósito y la intención de la disposición original."},lC={ppSeoTitle:"Política de privacidad | JustDiveCol - Tu información segura y protegida",ppSeoDesc:"Conoce la política de privacidad de JustDiveCol. Te explicamos de forma clara y detallada cómo recopilamos, usamos, protegemos y gestionamos tus datos personales, así como tus derechos al interactuar con nuestra plataforma y servicios. Tu confianza y la seguridad de tu información son nuestras prioridades fundamentales bajo el agua y fuera de ella.",ppSeoKeywords:"política de privacidad, privacidad de datos, protección de datos, JustDiveCol, información personal, uso de datos, seguridad de datos, derechos de privacidad, buceo seguro, gestión de datos, cookies, consentimiento",ppHeaderTitle:"Nuestra política de privacidad: tu confianza es nuestro tesoro más valioso",ppHeaderSubtitle:"En JustDiveCol, valoramos profundamente tu confianza y nos comprometemos a proteger tu privacidad. Esta política explica de manera transparente y detallada cómo recopilamos, utilizamos, protegemos y, en circunstancias específicas, compartimos tu información personal. Queremos que te sientas tan seguro con tus datos al interactuar con nosotros, como te sentirías buceando bajo nuestra supervisión experta. Tu tranquilidad es esencial para nosotros.",ppHeaderMainLogoAlt:"Logo principal de JustDiveCol",ppHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",ppSection1Title:"1. Información que recopilamos",ppSection1Point1:"Información que nos proporcionas directamente: Recopilamos datos personales que nos brindas de forma voluntaria al interactuar con nuestros servicios. Esto incluye, pero no se limita a, tu nombre completo, dirección de correo electrónico, número de teléfono, información de contacto de emergencia, detalles de pago (que son procesados de forma segura por terceros), historial de certificaciones de buceo, preferencias de viaje, y cualquier otra información que nos proporciones al registrarte en nuestro sitio web, reservar una experiencia o curso, contactarnos directamente o participar en encuestas y promociones.",ppSection1Point2:"Información recopilada automáticamente: Al visitar e interactuar con nuestro sitio web, podemos recopilar automáticamente cierta información sobre tu dispositivo y tu comportamiento de uso. Esto puede incluir tu dirección IP, tipo de navegador, sistema operativo, páginas visitadas, la duración de tu visita, los enlaces en los que haces clic, y otros datos de uso. Esta información nos ayuda a entender cómo interactúas con nuestra plataforma para mejorar su funcionalidad, la experiencia del usuario y la relevancia de nuestros contenidos.",ppSection1Point3:"Información de terceros: En ciertas ocasiones y de acuerdo con las leyes aplicables, podemos recibir información sobre ti de socios confiables (como plataformas de reservas o proveedores de servicios de terceros con los que colaboramos) o de otras fuentes públicas. Siempre nos aseguramos de que estas fuentes se adhieran a las leyes y regulaciones de protección de datos pertinentes antes de integrar dicha información.",ppSection2Title:"2. Cómo utilizamos tu información",ppSection2Point1:"Para proveer y gestionar nuestros servicios: La principal razón por la que recopilamos tu información es para poder ofrecerte y gestionar los servicios que nos solicitas. Esto incluye procesar tus reservas y pagos, organizar tus experiencias y cursos de buceo, gestionar tu alojamiento y traslados (si son parte del paquete contratado), enviarte confirmaciones de reserva, recordatorios importantes, actualizaciones sobre tu viaje y cualquier otra comunicación esencial relacionada con tu actividad con JustDiveCol.",ppSection2Point2:"Para mejorar tu experiencia: Utilizamos la información recopilada para entender mejor tus preferencias y necesidades. Esto nos permite personalizar tu experiencia en nuestro sitio web, ofrecerte contenido y ofertas que sean más relevantes para tus intereses, y analizar cómo interactúas con JustDiveCol para identificar áreas de mejora y desarrollar nuevas y emocionantes experiencias y servicios futuros.",ppSection2Point3:"Para comunicación y marketing: Con tu consentimiento previo o cuando la ley lo permita, podemos enviarte correos electrónicos informativos sobre nuestras nuevas experiencias, cursos de buceo, promociones especiales, boletines informativos o cualquier otra información que creamos que podría ser de tu interés. Siempre tendrás la opción de cancelar la suscripción a estas comunicaciones en cualquier momento. Queremos dejar claro que no compartimos tus datos personales con terceros para sus propios fines de marketing.",ppSection2Point4:"Para seguridad y cumplimiento legal: Tu información es fundamental para garantizar la seguridad de todas nuestras operaciones, proteger a nuestros clientes y personal, y prevenir actividades fraudulentas o no autorizadas. Además, la utilizamos para cumplir con las leyes, regulaciones, ordenanzas y solicitudes legales aplicables, incluyendo, por ejemplo, los requisitos de registro y certificación de PADI, o la gestión de pólizas de seguro.",ppSection3Title:"3. Cómo compartimos tu información",ppSection3Point1:"Con proveedores de servicios: Para poder operar nuestro negocio y ofrecerte la mejor experiencia, compartimos tu información personal con terceros de confianza que nos brindan servicios esenciales. Esto puede incluir procesadores de pago, operadores de buceo locales en los destinos que visitas, hoteles, aerolíneas (si tu paquete de viaje incluye vuelos), proveedores de servicios de TI, entre otros. Estos terceros están obligados contractualmente a proteger tu información y a utilizarla únicamente para los fines específicos para los que fue compartida, y de acuerdo con esta política de privacidad.",ppSection3Point2:"Por cumplimiento legal y seguridad: Podemos divulgar tu información personal si la ley nos lo exige, por ejemplo, en respuesta a una citación judicial o un proceso legal similar. También podemos compartir tu información si creemos de buena fe que dicha acción es necesaria para cumplir con una obligación legal, proteger los derechos o la propiedad de JustDiveCol, investigar posibles infracciones de nuestras políticas, o asegurar la seguridad de nuestros clientes o el público en general. Esto incluye compartir información con autoridades relevantes en caso de emergencias o situaciones de seguridad.",ppSection3Point3:"En transferencias de negocio: En el improbable caso de que JustDiveCol participe en una fusión, adquisición, venta de activos o cualquier otra transacción similar que implique un cambio de propiedad, tu información personal podría ser transferida al nuevo propietario como parte de dicha transacción. En tal caso, el nuevo propietario estará obligado a adherirse a las prácticas de privacidad descritas en esta política, o a notificarte de cualquier cambio significativo.",ppSection4Title:"4. Tus derechos y opciones",ppSection4Point1:"Derecho de acceso y corrección: Tienes el derecho de acceder a tu información personal que tenemos, y de solicitar que se corrija o actualice si encuentras que es inexacta o incompleta. Si deseas ejercer este derecho, por favor contáctanos directamente a través de los canales proporcionados en la Sección 8.",ppSection4Point2:"Derecho a no recibir comunicaciones de marketing: Puedes optar por no recibir comunicaciones de marketing de JustDiveCol en cualquier momento. Puedes hacerlo siguiendo las instrucciones para cancelar la suscripción que se incluyen en la parte inferior de todos nuestros correos electrónicos de marketing. Es importante tener en cuenta que, aunque te des de baja del marketing, esto no afectará las comunicaciones esenciales relacionadas con tus reservas activas o servicios contratados (ej. confirmaciones de pago, itinerarios de viaje, actualizaciones de seguridad).",ppSection4Point3:"Derecho a la eliminación de datos: Tienes derecho a solicitar la eliminación de tus datos personales. Sin embargo, este derecho está sujeto a nuestras obligaciones legales y contractuales de retención de datos. Por ejemplo, estamos obligados a mantener ciertos registros de buceo y transacciones por razones de seguridad, auditoría y cumplimiento regulatorio.",ppSection5Title:"5. Seguridad de datos",ppSection5Point1:"En JustDiveCol, implementamos rigurosas medidas de seguridad técnicas, administrativas y físicas para proteger tu información personal contra el acceso no autorizado, el uso indebido, la divulgación, la alteración o la destrucción. Esto incluye el uso de cifrado, firewalls, controles de acceso y procedimientos de seguridad robustos en nuestros sistemas y operaciones.",ppSection5Point2:"A pesar de nuestros exhaustivos esfuerzos por proteger tus datos, es fundamental recordar que ninguna transmisión de datos por internet o sistema de almacenamiento electrónico es 100% segura. Por lo tanto, aunque nos esforzamos al máximo, no podemos garantizar la seguridad absoluta de tu información. La seguridad de tu información también depende en gran medida de ti; por favor, protege tus contraseñas, no las compartas con terceros y ten precaución al compartir información personal en línea. Tu colaboración es una parte crucial de nuestra estrategia de seguridad.",ppSection6Title:"6. Retención de datos",ppSection6Point1:"Retenemos tu información personal durante el tiempo que sea estrictamente necesario para cumplir con los fines para los que fue recopilada, incluyendo la prestación continua de nuestros servicios, el cumplimiento de nuestras obligaciones legales y regulatorias (como el mantenimiento de registros de buceo requeridos por las agencias de certificación), la resolución de disputas y la aplicación de nuestros acuerdos. Una vez que tu información ya no sea necesaria para estos fines, la eliminaremos de forma segura o la anonimizaremos de acuerdo con las normativas vigentes.",ppSection7Title:"7. Cambios en esta política de privacidad",ppSection7Point1:"JustDiveCol se reserva el derecho de actualizar o modificar esta política de privacidad periódicamente para reflejar cambios en nuestras prácticas de datos, nuestras operaciones comerciales o los requisitos legales aplicables. Publicaremos cualquier cambio significativo en esta página web, y si los cambios son de una naturaleza sustancial, te notificaremos por correo electrónico o a través de otros medios claros y visibles en nuestra plataforma.",ppSection7Point2:"Te recomendamos encarecidamente revisar esta política de privacidad de forma regular para estar siempre informado sobre cómo protegemos tu información y cómo la utilizamos. La fecha de la última actualización se indicará claramente al inicio de la política.",ppSection8Title:"8. Contacto",ppSection8Point1:"Si tienes alguna pregunta, inquietud o comentario sobre esta política de privacidad, nuestras prácticas de datos, o si deseas ejercer cualquiera de tus derechos relacionados con tu información personal, por favor no dudes en contactarnos. Puedes hacerlo a través de nuestro formulario de contacto en la sección correspondiente de nuestro sitio web o enviando un correo electrónico directamente a info@justdivecol.com. Estamos listos para escucharte y resolver cualquier duda con la mayor transparencia."},cC={faqsSeoTitle:"Preguntas frecuentes (FAQs) | JustDiveCol - Tu guía de buceo confiable",faqsSeoDesc:"Encuentra respuestas claras a tus preguntas más frecuentes sobre cursos de buceo, emocionantes viajes, seguridad, reservas y mucho más con JustDiveCol. ¡Planifica tu aventura submarina con total confianza y una sonrisa!",faqsSeoKeywords:"preguntas frecuentes buceo, FAQs buceo, cursos de buceo, viajes de buceo, seguridad buceo, reservas de buceo, certificaciones PADI, buceo para principiantes, buceo avanzado, equipo de buceo, seguro de buceo, política de cancelación, contacto JustDiveCol, medio ambiente marino, buceo personalizado",faqsHeaderTitle:"Preguntas frecuentes",faqsHeaderSubtitle:"Encuentra respuestas claras a tus dudas sobre nuestras experiencias y servicios de buceo.",faqsHeaderMainLogoAlt:"Logo principal de JustDiveCol",faqsHeaderPhotoCredit:"Créditos de la foto: Camilo Beltran @JustDiveCol",certificationsFaqsTitle:"Cursos y certificaciones: ¡El primer chapuzón hacia una nueva pasión!",faqFirstCertificationQuestion:"¿Qué certificación necesito para empezar a bucear?",faqFirstCertificationAnswer:"Para dar tus primeras y emocionantes burbujas en el buceo recreativo, el curso PADI Open Water Diver es tu pasaporte al mundo submarino. Es la certificación más popular del planeta y te enseñará todos los fundamentos esenciales para bucear de forma segura y autónoma hasta 18 m (60 ft) de profundidad. ¡Prepara tus aletas, la aventura te espera!",faqWhatIsIncludedCertificationQuestion:"¿Qué incluye el precio de un curso de certificación con ustedes?",faqWhatIsIncludedCertificationAnswer:"Nuestros cursos son como un combo todo incluido, diseñado para tu comodidad y aprendizaje. Generalmente vienen con acceso ilimitado a la plataforma PADI eLearning®, todas las sesiones teóricas y prácticas (tanto en piscina como en mar abierto), alquiler de equipo completo de alta calidad, acompañamiento y supervisión de un instructor PADI experto, y seguro de buceo durante la duración del curso. Los detalles exactos y completos de cada certificación los encontrarás en la descripción específica de cada curso. ¡Así, no habrá sorpresas bajo el agua, solo pura diversión!",faqSwimmingRequirementQuestion:"¿Necesito ser un pez para bucear? ¿Hay que saber nadar?",faqSwimmingRequirementAnswer:"¡No necesitas ser un campeón olímpico, pero sí, es indispensable saber nadar! Debes sentirte cómodo y seguro en el agua, y ser capaz de nadar 200 m (650 ft) sin parar (o 300 m (1000 ft) con equipo ligero como máscara y aletas) y flotar por 10 minutos. Estos requisitos son por tu propia seguridad y confort bajo el agua, así que si necesitas practicar esas brazadas, ¡este es el momento!",faqMinimunAgeQuestion:"¿Cuál es la edad mínima para unirse a la aventura submarina?",faqMinimunAgeAnswer:'Para nuestros exploradores más jóvenes, la certificación Junior Open Water Diver inicia a partir de los 10 años. Para el curso Open Water Diver "adulto" y otros cursos avanzados, la edad mínima es generalmente 12 años o más. La pasión por el mar no tiene edad, ¡pero la seguridad sí tiene requisitos claros para garantizar que todos disfruten al máximo!',faqMedicalRequirementQuestion:"¿Tengo que pasar por el médico antes de bucear?",faqMedicalRequirementAnswer:'Sí, es un "check-up" esencial para tu bienestar en el océano. Antes de cualquier curso o inmersión, deberás completar un cuestionario médico PADI. Si respondes "sí" a alguna pregunta (por condiciones médicas preexistentes, por ejemplo), ¡tranquilo! Solo necesitarás una autorización médica firmada por un doctor, preferiblemente uno especializado en medicina hiperbárica. Este es un paso vital para tu seguridad, así que por favor, revísalo con tiempo y sin prisas.',faqAirCompensationQuestion:"¿Qué pasa si mis oídos no se compensan bien bajo el agua?",faqAirCompensationAnswer:"¡Es una preocupación común, a todos nos ha pasado! La compensación de oídos es una habilidad clave en el buceo y nuestros instructores expertos te enseñarán varias técnicas efectivas para hacerlo correctamente. Si aun así experimentas dificultades, es crucial comunicarlo inmediatamente. En algunos casos, problemas persistentes podrían requerir una consulta médica. ¡Nunca fuerces tus oídos, escucha a tu cuerpo y sigue siempre las indicaciones de tu instructor para una inmersión segura y placentera!",faqRespirationIssueQuestion:"¿Puedo bucear si tengo asma o alguna condición respiratoria?",faqRespirationIssueAnswer:"La seguridad es nuestra prioridad absoluta. Condiciones respiratorias como el asma o cualquier otra condición que afecte tu respiración o circulación requieren una evaluación médica exhaustiva. Si tienes alguna de estas condiciones, es obligatorio que un médico especialista en medicina hiperbárica autorice tu aptitud para el buceo. No te arriesgues, ¡tu salud es tu mayor tesoro y queremos que disfrutes del buceo con total tranquilidad y seguridad!",tripsAndExpiriencesFaqsTitle:"Viajes y experiencias de buceo: ¡A explorar el mundo azul!",faqExperienceTypeQuestion:"¿Qué tipo de experiencias de buceo ofrecen?",faqExperienceTypeAnswer:"Ofrecemos un menú de aventuras submarinas para todos los gustos y niveles: desde emocionantes viajes de certificación en destinos con aguas de postal, hasta experiencias avanzadas para los buzos más audaces y exigentes. Nos apasiona la exploración de arrecifes vibrantes, misteriosos pecios con historia y el inolvidable encuentro con la vida marina más sorprendente del planeta. ¡Siempre con la emoción y la seguridad como ingredientes principales en cada aventura!",faqExperienceLevelQuestion:"¿Cuál es el nivel de experiencia requerido para sus viajes?",faqExperienceLevelAnswer:'¡Hay un nivel para cada explorador! Ofrecemos experiencias adaptadas desde principiantes absolutos que aún "huelen a cloro de piscina", hasta buzos avanzados buscando el siguiente gran reto. Es importante destacar que cada experiencia o sitio de buceo tiene su nivel de certificación recomendado o requerido. Por ejemplo, destinos como Malpelo son exclusivos para buzos avanzados con vasta experiencia en corrientes y condiciones oceánicas desafiantes. ¡Ahí no hay espacio para novatos (aún), pero sí para quienes anhelan la adrenalina del gran azul!',faqExperienceAloneQuestion:'¿Puedo unirme a un viaje si no tengo un compañero de buceo? ¿Soy un "Forever Alone" del buceo?',faqExperienceAloneAnswer:'¡Para nada eres un "Forever Alone" del buceo! Muchos de nuestros clientes viajan solos y no solo encuentran grandes amigos bajo el agua, sino también compañeros de vida. Nosotros nos encargamos de asignarte un compañero de buceo certificado y con un nivel de experiencia similar al tuyo. Así, garantizamos tu seguridad, disfrute y la oportunidad de forjar nuevas amistades. ¡Aquí nadie bucea solo, a menos que sea su deseo personal, como en buceo técnico recreativo!',faqExperiencePackingQuestion:"¿Qué debo empacar para un viaje de buceo? ¿Solo aletas y listo?",faqExperiencePackingAnswer:"¡Casi! Además de tus aletas, no olvides lo esencial: tu certificación PADI (o equivalente reconocida), tu bitácora de buceo (logbook) actualizada, tus artículos personales (por favor, que sean biodegradables para proteger el ecosistema), ropa cómoda y de secado rápido, traje de baño y protector solar amigable con el arrecife. Si posees equipo personal como máscara, aletas y regulador, ¡tráelo! En la descripción detallada de cada experiencia encontrarás una lista más específica para que no se te quede nada fuera de la maleta (ni de las aletas) y disfrutes al máximo tu aventura.",faqExperienceCustomQuestion:'¿Ofrecen experiencias personalizadas? ¿Puedo pedir mi aventura "a la carta"?',faqExperienceCustomAnswer:"¡Absolutamente! En JustDiveCol, amamos la creatividad y hacer realidad tus sueños más audaces. Si no encuentras la experiencia ideal en nuestro calendario, ¡no te quedes con las ganas! Contáctanos y seremos tus arquitectos de aventuras. Podemos diseñar una experiencia privada o un viaje de buceo totalmente personalizado que encaje a la perfección con tus intereses únicos, tu nivel de certificación y tus fechas preferidas. ¡Tu aventura, tu receta secreta, tus burbujas personalizadas!",bookingAndPaymentFaqsTitle:"Reservas y pagos: ¡Asegura tu cupo en el azul profundo!",faqBookingAndPaymentHowToReserveQuestion:"¿Cómo puedo reservar una experiencia con JustDiveCol?",faqBookingAndPaymentHowToReserveAnswer:"¡Es más fácil que respirar bajo el agua! Puedes reservar tu aventura directamente en nuestro sitio web, visitando las páginas de cada curso o experiencia. Si prefieres una charla más personal o necesitas asesoría, contáctanos sin dudarlo por WhatsApp o correo electrónico. Te guiaremos paso a paso en todo el proceso de reserva y pago, ¡sin enredos ni complicaciones, para que te concentres solo en la emoción de bucear!",faqBookingAndPaymentMethodsQuestion:"¿Cuáles son sus métodos de pago? ¿Aceptan trueques con conchas marinas?",faqBookingAndPaymentMethodsAnswer:"Aceptamos métodos de pago modernos y seguros, ¡conchas marinas por ahora no! Puedes usar nuestro link de pago seguro para transacciones con tarjeta de crédito nacional (Visa, Mastercard), débito (PSE), o directamente desde tu cuenta Bancolombia o Nequi. También recibimos transferencias bancarias directas a nuestra cuenta en Bold. Los detalles específicos para tu pago te los enviaremos de forma clara y oportuna cuando confirmes tu reserva. ¡Tu tranquilidad es nuestra prioridad!",faqBookingAndPaymentPoliciesQuestion:"¿Cuál es su política de cancelación y reembolso? ¿Es muy estricta?",faqBookingAndPaymentPoliciesAnswer:"Sí, para ser completamente transparentes, nuestra política es estricta, y te explicamos por qué. Imagina que ya hemos invertido en logística: compramos el espacio de aire para tu tanque, reservamos tu cupo en el bote y preparamos todos los detalles. Debido a los altos costos operativos y la planificación anticipada que conllevan nuestras experiencias y cursos, el pago inicial no es reembolsable. Las condiciones de reembolso del monto restante varían significativamente según el momento de la cancelación (con más o menos de 30 o 15 días de antelación) y si no te presentas (No-Show). Para los cambios por fuerza mayor (condiciones climáticas adversas, restricciones de permisos, etc.), la solución principal es ofrecer un crédito para el futuro. Te pedimos encarecidamente que leas nuestra sección detallada de Políticas en el menú principal para que no haya ninguna duda. ¡La transparencia y tu total comprensión son claves para una relación de confianza y un buceo sin preocupaciones!",safetyAndHealthFaqsTitle:"Seguridad y salud: ¡Nuestra prioridad máxima bajo el agua (y fuera de ella)!",faqSafetyAndHealthMeasuresQuestion:"¿Qué medidas de seguridad implementa JustDiveCol? ¿Son muy estrictos?",faqSafetyAndHealthMeasuresAnswer:"¡Más que estrictos, somos obsesivos y metódicos con tu seguridad! Implementamos rigurosos protocolos basados en los más altos estándares de PADI y DAN (Divers Alert Network). Usamos solo equipo de buceo de alta calidad con mantenimiento profesional y constante. Nuestros guías e instructores PADI están súper certificados y, antes de cada inmersión, hacemos briefings detallados y chequeos de equipo exhaustivos. Además, te monitoreamos constantemente bajo el agua. ¡Queremos que tu única preocupación sea disfrutar al máximo y sumergirte con absoluta tranquilidad!",faqSafetyAndHealthInsuranceQuestion:"¿Es obligatorio tener seguro de buceo? ¿Y si me pica una medusa?",faqSafetyAndHealthInsuranceAnswer:"Algunas de nuestras experiencias, especialmente las certificaciones, incluyen un seguro de buceo que te cubre específicamente para incidencias relacionadas con la actividad de buceo durante su duración. Es un excelente respaldo. Sin embargo, te recomendamos encarecidamente contar con un seguro de viaje adicional que cubra emergencias médicas generales (como la picadura de medusa, un pequeño susto que puede ocurrir), evacuación, y eventuales cancelaciones de viaje. JustDiveCol no se hace responsable por gastos no cubiertos por estas pólizas. ¡Recuerda, mejor prevenir que lamentar, y tu tranquilidad no tiene precio!",faqSafetyAndHealthEmergencyQuestion:"¿Qué sucede si tengo una emergencia médica durante una experiencia?",faqSafetyAndHealthEmergencyAnswer:"¡Nuestro equipo está altamente entrenado para actuar con rapidez y eficacia! Todos nuestros guías e instructores están capacitados en primeros auxilios y gestión de emergencias bajo el agua. En caso de cualquier situación médica, activaremos de inmediato los protocolos de emergencia establecidos y buscaremos la atención médica más adecuada y cercana. Es crucial que nos informes sobre cualquier condición médica preexistente antes de la actividad, para poder brindarte el mejor apoyo. ¡Tu bienestar es nuestra sirena de alarma número uno y la razón de nuestra máxima atención!",faqSafetyAndHealthLiabilityQuestion:"¿Es obligatorio firmar una liberación de responsabilidad? ¿Me están haciendo un truco legal?",faqSafetyAndHealthLiabilityAnswer:"¡Para nada es un truco, es una medida estándar de la industria y esencial para tu seguridad y la de todos! Sí, la firma de una liberación de responsabilidad (conocida como Waiver of Liability) y otros documentos requeridos es obligatoria antes de iniciar cualquier actividad. Esto es un reconocimiento de los riesgos inherentes al buceo, que, aunque controlado, implica ciertas condiciones. Si decides no firmar estos documentos, lamentablemente no podrás participar en la experiencia y no habrá reembolso. ¡Es una medida necesaria para protegernos a todos en esta increíble aventura y asegurar que todos comprendamos y aceptemos los términos para un buceo responsable. ¡La transparencia es nuestra brújula!",generalInformationFaqsTitle:"Información general: ¡Cosas que quizás no sabías y te interesarán!",faqGeneralInformationDiveCenterQuestion:"¿JustDiveCol es un centro de buceo físico?",faqGeneralInformationDiveCenterAnswer:"¡No somos un centro físico tradicional con paredes y un horario fijo! En JustDiveCol, nos definimos como una empresa de turismo de aventura y buceo especializada en experiencias personalizadas. Piensa en nosotros como tus organizadores y curadores de aventuras subacuáticas alrededor del mundo. Trabajamos en estrecha colaboración con operadores locales de alta calidad en cada destino, garantizándote la mejor experiencia y el más alto nivel de servicio. ¡Somos más un espíritu aventurero y una comunidad global que una dirección física, llevando la magia del buceo donde sea que el océano nos llame!",faqGeneralInformationCustomExperienceQuestion:'¿Ofrecen experiencias personalizadas? ¿Puedo pedir mi aventura "a la carta"?',faqGeneralInformationCustomExperienceAnswer:"¡Absolutamente! Amamos la creatividad y hacer realidad tus sueños más audaces. Si no encuentras la experiencia ideal en nuestro calendario, ¡no te quedes con las ganas! Contáctanos y seremos tus arquitectos de aventuras. Podemos diseñar una experiencia privada o un viaje de buceo totalmente personalizado que encaje a la perfección con tus intereses únicos, tu nivel de certificación y tus fechas preferidas. ¡Tu aventura, tu receta secreta, tus burbujas personalizadas!",faqGeneralInformationInformationQuestion:"¿Cómo me mantengo actualizado sobre sus nuevas experiencias y ofertas?",faqGeneralInformationInformationAnswer:"¡Es súper fácil y emocionante! Síguenos en nuestras redes sociales donde compartimos la magia diaria de nuestras aventuras y las últimas novedades. Y para no perderte nada, te invitamos a suscribirte a nuestro boletín informativo: recibirás noticias exclusivas, ofertas especiales y actualizaciones sobre nuestros próximos viajes y cursos directamente en tu bandeja de entrada. ¡No querrás perderte la próxima ola de diversión!",faqGeneralInformationEnvironmentQuestion:"¿Cuál es su compromiso con el medio ambiente marino?",faqGeneralInformationEnvironmentAnswer:"¡Amamos el océano tanto como tú! Nuestro compromiso con el medio ambiente marino es inquebrantable y profundo. Promovemos activamente prácticas de buceo de bajo impacto, apoyamos iniciativas de conservación marina a nivel local y global, y educamos a nuestros exploradores sobre la importancia de proteger los ecosistemas subacuáticos. Creemos firmemente que cada inmersión es una oportunidad única para aprender, cuidar y dejar el mar mejor de como lo encontramos. ¡Somos guardianes del azul y embajadores de la sostenibilidad marina en cada burbuja que exhalamos!",faqGeneralInformationContactQuestion:"¿Cómo puedo contactarlos directamente?",faqGeneralInformationContactAnswer:"¡Nos encanta charlar y estamos listos para escucharte! Puedes contactarnos fácilmente a través de la sección de Contacto en nuestra web, donde encontrarás todas las opciones. También puedes enviarnos un mensaje directo por WhatsApp para una respuesta rápida y personalizada, o escribirnos un correo electrónico si prefieres. ¡Estamos listos para planificar tu próxima aventura submarina y responder a todas tus inquietudes con la pasión que nos caracteriza!",faqGeneralInformationQ6Title:"¿Qué pasa si mi avión se retrasa y pierdo parte de la experiencia?",faqGeneralInformationQ6Point1:"¡Uy, eso es un clásico del viajero! Lamentablemente, JustDiveCol no se hace responsable por retrasos en vuelos, cancelaciones de transporte u otros eventos ajenos a nuestra operación que te impidan llegar a tiempo. Nuestros itinerarios y costos están fijos, por lo que las porciones de la experiencia perdidas por tu retraso no son reembolsables ni recuperables. Por eso, ¡insistimos en que consideres un buen seguro de viaje que cubra estas eventualidades!.",faqGeneralInformationQ7Title:"¿Puedo llevar mi propio equipo de buceo?",faqGeneralInformationQ7Point1:"¡Claro que sí! Si tienes tu propio equipo y prefieres usarlo, eres más que bienvenido. Solo asegúrate de que esté en perfecto estado y con sus mantenimientos al día. Si necesitas alquilar algo específico que te falte, también te podemos ayudar. ¡Lo importante es que te sientas cómodo y seguro bajo el agua!"},uC={notFoundTitle:"404: Ruta perdida en las profundidades",notFoundSubtitle:"¡Oops! Parece que olvidaste ecualizar y terminaste en un lugar inexplorado de nuestro sitio. Volvamos a la superficie antes de que la presión aumente. Te guiaremos de regreso a la seguridad y a la información que buscas.",notFoundCtaText:"Regresar a la superficie",notFoundMainLogoAlt:"Imagen de página 404 - Buzo perdido en el océano"},dC={underConstructionSeoTitle:"En Construcción | JustDiveCol - Preparando tu próxima aventura submarina",underConstructionSeoDesc:"¡Esta sección de JustDiveCol está actualmente en construcción! Estamos afinando los últimos detalles para revelarte nuevas y emocionantes aventuras submarinas. Te invitamos a visitarnos de nuevo muy pronto para descubrir todo lo que viene. ¡La espera valdrá la pena!",underConstructionTitle:"Preparando el equipo para una nueva inmersión...",underConstructionSubtitle:"¡Estamos haciendo nuestra parada de seguridad antes de una gran revelación! Esta sección de JustDiveCol estará lista para tu próxima aventura submarina muy pronto. Agradecemos tu paciencia mientras afinamos cada detalle para garantizar una experiencia excepcional. ¡El gran azul espera por ti!",underConstructionCtaText:"Ir al inicio",notFoundMainLogoAlt:"Logo principal de JustDiveCol"},hC={xyzSmName:"",xyzSmDescriptionP1:"",xyzSmDescriptionP2:"",xyzSmXXMainLogoAlt:"Logo JustDiveCol",xyzSmXXPhotoCredit:"Créditos: XYZ",bajoDelPescadorSmName:"Bajo del Pescador - PNN Tayrona",bajoDelPescadorSmDescriptionP1:"Sumérgete en Bajo del Pescador, un oasis submarino en el Parque Nacional Natural Tayrona, ideal para buzos principiantes y Open Water. Aquí te espera un arrecife vibrante, repleto de coloridos peces tropicales y majestuosas tortugas, todo en aguas cálidas, tranquilas y con excelente visibilidad. Es el escenario perfecto para tu primera inmersión segura y relajada, donde cada burbuja te acercará a la magia del Caribe colombiano.",bajoDelPescadorSmDescriptionP2:"Este sitio, cómodamente accesible desde bote, se distingue por su poca profundidad y sus saludables corales duros, creando un ecosistema fascinante y seguro para explorar. La experiencia es tan relajante como enriquecedora, permitiendo a los buzos novatos ganar confianza mientras se asombran con la biodiversidad. Bajo del Pescador no es solo una inmersión, es tu puerta de entrada al mundo submarino de Santa Marta, ofreciéndote un vistazo inolvidable a la vida bajo las olas.",bajoDelPescadorSmXXMainLogoAlt:"Logo JustDiveCol",bajoDelPescadorSmXXPhotoCredit:"Créditos: XYZ",barcazaProfundaSmName:"Barcaza Profunda",barcazaProfundaSmDescriptionP1:"Sumérgete en la intrigante historia de la Barcaza Caribe, un pecio fascinante que reposa entre 32 m / 105 ft y 40 m / 130 ft de profundidad frente al Morro Chico de Santa Marta. Este naufragio se ha transformado en un vibrante arrecife artificial, ofreciendo una inmersión técnica y repleta de vida marina sobre sus estructuras metálicas. Es el escenario perfecto para buzos avanzados y técnicos que buscan una aventura subacuática con propósito y desafío.",barcazaProfundaSmDescriptionP2:"Hundida en 1997 con 660 toneladas de carbón, la Barcaza Caribe está hoy completamente colonizada por exuberantes corales y una gran variedad de peces de arrecife. La inmersión suele comenzar en la cara sur del Morro, permitiendo rodear el pecio y, a menudo, seguir hacia las cercanas Barcazas de Punta Betín. Su profundidad y el entorno dinámico la convierten en una experiencia para aquellos con la certificación y la experiencia adecuadas, garantizando un viaje submarino inolvidable lleno de descubrimientos históricos y biológicos.",barcazaProfundaSmXXMainLogoAlt:"Logo JustDiveCol",barcazaProfundaSmXXPhotoCredit:"Créditos: XYZ",barcoHundidoSmName:"Barco Hundido (El Naufragio del Rodadero)",barcoHundidoSmDescriptionP1:"Explora un impresionante naufragio artificial de 33 m / 110 ft de eslora, que descansa a unos 30 m / 100 ft de profundidad frente al icónico Morro de Santa Marta. Este pecio se ha transformado en un vibrante arrecife submarino, rebosante de coloridos corales y una diversidad asombrosa de vida marina. Es un sitio ideal para buzos con certificación Advanced Open Water que buscan sumergirse en una fascinante historia bajo las olas.",barcoHundidoSmDescriptionP2:"Hundido a finales de los años 80, este pecio está bellamente recubierto por ostras, corales y una infinidad de peces de arrecife. Podrás recorrerlo por fuera, admirando su estructura convertida en hábitat, o, si cuentas con el entrenamiento avanzado adecuado, aventurarte a explorar sus misteriosas bodegas y pasillos. Dada su profundidad y la posible presencia de corrientes, esta inmersión ofrece una experiencia de exploración desafiante y gratificante. ¡Un verdadero viaje en el tiempo para los exploradores submarinos!",barcoHundidoSmXXMainLogoAlt:"Logo JustDiveCol",barcoHundidoSmXXPhotoCredit:"Créditos: XYZ",cagaPajaroSmName:"Caga Pájaro - PNN Tayrona",cagaPajaroSmDescriptionP1:"Explora Caga Pájaro, un dinámico sitio de buceo en el corazón del Parque Nacional Natural Tayrona, conocido por sus singulares formaciones rocosas y fascinantes grietas submarinas. Es un paraíso escondido ideal para buzos Open Water que buscan aventura y la oportunidad de descubrir una sorprendente vida macro en cada rincón. ¡Sumérgete en un laberinto de belleza natural!",cagaPajaroSmDescriptionP2:"Con una profundidad máxima de unos 18 m / 60 ft, este sitio ofrece una experiencia relajada pero llena de descubrimientos. Su arrecife está adornado con una gran variedad de corales duros y blandos, que sirven de hogar a coloridos peces de arrecife, curiosas morenas y una impresionante diversidad de vida macro. La visibilidad suele ser buena y las corrientes generalmente suaves, lo que garantiza una inmersión cómoda y segura, perfecta para la fotografía submarina. ¡Una joya natural esperando ser explorada en el Caribe colombiano!",cagaPajaroSmXXMainLogoAlt:"Logo JustDiveCol",cagaPajaroSmXXPhotoCredit:"Créditos: XYZ",calderonSmName:"Calderon",calderonSmDescriptionP1:"Sitio de buceo accesible y poco profundo cerca de Santa Marta, ideal para principiantes y buzos con certificación Open Water. Destaca por sus coloridos corales y vida macro.",calderonSmDescriptionP2:"El sitio de buceo Calderón es una joya submarina ubicada en las cercanías de Santa Marta, Colombia. Con una profundidad máxima de aproximadamente 18 metros (60 pies), es perfecto para buzos con certificación Open Water y aquellos que buscan una inmersión relajada. La visibilidad suele ser buena, y las corrientes son generalmente suaves, lo que contribuye a una experiencia de buceo muy cómoda y segura. Calderón es un arrecife vibrante, caracterizado por una abundancia de corales duros y blandos, así como una fascinante vida macro que incluye nudibranquios, gambas y pequeños peces de arrecife. Es un lugar excelente para la fotografía submarina y para observar de cerca la rica biodiversidad del Caribe colombiano. La entrada al sitio es típicamente en bote desde Santa Marta o Taganga.",calderonSmXXMainLogoAlt:"Logo JustDiveCol",calderonSmXXPhotoCredit:"Créditos: XYZ",calichanSmName:"Calichán - PNN Tayrona",calichanSmDescriptionP1:"Descubre Calichán, un sitio de buceo excepcionalmente versátil en el Parque Nacional Natural Tayrona, diseñado para cautivar tanto a principiantes como a buzos avanzados. La zona somera (Calichán I) ofrece arrecifes tranquilos entre 5 m / 15 ft y 12 m / 40 ft, perfectos para quienes inician o buscan inmersiones relajadas. Es un oasis de corales franjeantes y abundante vida marina pequeña en aguas calmadas y claras, un verdadero paraíso para la observación.",calichanSmDescriptionP2:'Para los buzos avanzados, Calichán II es una emocionante inmersión en un arrecife mesofótico, donde la ladera submarina desciende hasta los 40 m / 130 ft. Aquí, un valle arenoso revela impresionantes formaciones de corales tipo "lechuga", ofreciendo la oportunidad de explorar ecosistemas menos conocidos y especies adaptadas a la profundidad. Aunque puede haber una ligera corriente en esta zona, ambas secciones de Calichán son reconocidas por su biodiversidad excepcional y sus inigualables oportunidades para la fotografía submarina en las cálidas aguas del Caribe. ¡Dos mundos submarinos en un solo destino fascinante!',calichanSmXXMainLogoAlt:"Logo JustDiveCol",calichanSmXXPhotoCredit:"Créditos: XYZ",cantilGranateSmName:"El Cantíl de Granate - PNN Tayrona",cantilGranateSmDescriptionP1:"Déjate asombrar por El Cantíl de Granate, una espectacular pared coralina vertical en el Parque Nacional Natural Tayrona. Iniciándose a solo 2 m / 5 ft y descendiendo hasta 30 m / 100 ft, este impresionante muro está completamente colonizado por vibrantes corales y una diversidad de vida marina que te dejará sin aliento. Es un sitio excepcional para buzos Open Water con buena flotabilidad e intermedios que buscan explorar un mundo submarino de color y movimiento, ideal también para emocionantes buceos nocturnos.",cantilGranateSmDescriptionP2:'Conocido también como "Casa Camargo", este popular sitio de buceo es un festín para los sentidos. En la parte superior, entre 2 m / 5 ft y 5 m / 15 ft, encontrarás un pintoresco pasadizo entre dos grandes rocas y una concentración increíble de vida. A medida que desciendes, desde los 15 m / 50 ft, la pared revela enormes corales cerebro y es hogar de numerosas langostas escondidas en las grietas. La base del cantil, a 30 m / 100 ft, termina en un fondo arenoso donde es común avistar rayas. La entrada es en embarcación y, aunque las corrientes pueden variar, la magia y las oportunidades fotográficas son constantes en este vibrante ecosistema.',cantilGranateSmXXMainLogoAlt:"Logo JustDiveCol",cantilGranateSmXXPhotoCredit:"Créditos: XYZ",elCoroSmName:"El Coro - PNN Tayrona",elCoroSmDescriptionP1:"Prepárate para una inmersión desafiante y emocionante en El Coro, un sitio de buceo exclusivo para buzos avanzados ubicado mar adentro en el majestuoso Parque Nacional Natural Tayrona. Aquí, dos impresionantes pináculos rocosos se elevan desde 40 m / 130 ft de profundidad, con sus cimas alcanzando los 14 m / 45 ft de la superficie, creando un paisaje submarino épico. Es famoso por sus corrientes oceánicas, que atraen ocasionales avistamientos de tiburones de arrecife. ¡Adrenalina y vida salvaje en su máxima expresión te esperan!",elCoroSmDescriptionP2:"Las formaciones rocosas de El Coro albergan pequeñas cuevas y oquedades, sirviendo de refugio a una diversa vida marina, desde vibrantes peces hasta fascinantes invertebrados. Las corrientes, que pueden ser moderadas a fuertes, añaden un nivel de desafío dinámico, convirtiéndolo en una experiencia ideal para quienes buscan una inmersión exigente y gratificante. Dada la profundidad y las condiciones de mar abierto, se requiere una certificación de buceo avanzada para explorar este emocionante pináculo submarino y vivir una aventura que pocos tienen el privilegio de experimentar.",elCoroSmXXMainLogoAlt:"Logo JustDiveCol",elCoroSmXXPhotoCredit:"Créditos: XYZ",elMorroChicoSmName:"El Morro Chico",elMorroChicoSmDescriptionP1:"Explora El Morro Chico, un dinámico arrecife en la bahía de Santa Marta que te invita a una inmersión vibrante. Con profundidades que varían desde 5 m / 15 ft hasta 30 m / 100 ft, este sitio es ideal para buzos Open Water que buscan una rica biodiversidad marina y un emocionante buceo de deriva. Aquí la aventura se combina con la oportunidad de observar coloridos peces y corales en un entorno activo.",elMorroChicoSmDescriptionP2:"El recorrido en El Morro Chico se inicia cerca de las Barcazas y te lleva a lo largo de un extenso arrecife que transita de planicies de corales blandos a pendientes más pronunciadas. Aunque las corrientes superficiales y la resaca al ascenso pueden añadir un desafío (considerado de dificultad media), la riqueza de vida marina y las excelentes oportunidades para la fotografía submarina hacen que valga la pena. Es crucial una buena comunicación con el capitán de la embarcación para el apoyo en superficie, asegurando una experiencia segura y llena de descubrimientos en sus cálidas aguas.",elMorroChicoSmXXMainLogoAlt:"Logo JustDiveCol",elMorroChicoSmXXPhotoCredit:"Créditos: XYZ",elRemansoSmName:"El Remanso - PNN Tayrona",elRemansoSmDescriptionP1:"Sumérgete en El Remanso, un sitio de buceo excepcionalmente tranquilo y protegido en el Parque Nacional Natural Tayrona. Con profundidades de solo 5 m / 15 ft a 12 m / 40 ft, es el lugar ideal para principiantes, bautismos de buceo y cursos de entrenamiento, gracias a la casi total ausencia de corrientes u oleaje. ¡Descubre un refugio de paz submarina y la abundante vida marina somera del Caribe!",elRemansoSmDescriptionP2:"Ubicado cerca de Taganga, este arrecife costero presenta formaciones coralinas bajas y fondos arenosos que albergan la fauna típica de zonas marinas poco profundas, ofreciendo un vistazo relajado a la biodiversidad local. Sus condiciones serenas lo hacen perfecto para buceos nocturnos, permitiendo observar fácilmente especies con hábitos crepusculares y nocturnos que emergen al caer la noche. La visibilidad suele ser buena y la calidez del agua garantiza una experiencia de buceo cómoda y disfrutable, ideal para quienes buscan una introducción suave al mundo subacuático o una tranquila observación de la vida marina.",elRemansoSmXXMainLogoAlt:"Logo JustDiveCol",elRemansoSmXXPhotoCredit:"Créditos: XYZ",elTorinSmName:"El Torín - PNN Tayrona",elTorinSmDescriptionP1:"Descubre la serenidad de El Torín, un arrecife prístino y excepcionalmente conservado en el Parque Nacional Natural Tayrona. Este sitio es un verdadero santuario submarino, ideal para buzos Open Water que buscan un entorno tranquilo y rebosante de vida. Aquí, la claridad de agua es a menudo la mejor de toda la zona, revelando un ecosistema vibrante con corales saludables y abundante vida marina. ¡Prepárate para una experiencia de buceo gratificante en aguas cálidas y cristalinas!",elTorinSmDescriptionP2:"El Torín se beneficia de una excelente protección contra vientos y corrientes, lo que contribuye a mantener sus corales en un estado inmaculado. Con profundidades promedio de unos 18 m / 60 ft (oscilando entre 12 m / 40 ft y 20 m / 65 ft), es perfectamente accesible para buzos de nivel Open Water. Podrás apreciar en detalle sus corales bien desarrollados, incluyendo fascinantes formas de placa anaranjada, y la rica biodiversidad que habita este vibrante arrecife. Bucear en El Torín es sumergirse en la tranquilidad y la belleza pura del Caribe colombiano, ofreciendo innumerables oportunidades para la fotografía submarina y la observación consciente.",elTorinSmXXMainLogoAlt:"Logo JustDiveCol",elTorinSmXXPhotoCredit:"Créditos: XYZ",incaIncaSmName:"Inca Inca",incaIncaSmDescriptionP1:'Descubre Inca Inca, un arrecife costero somero y excepcionalmente tranquilo en Santa Marta, ubicado frente a la pintoresca Playa Inca Inca. Es el sitio ideal para principiantes, snorkel y entrenamiento, ofreciendo un ambiente de "piscina natural" con aguas calmadas y una abundante vida de arrecife. Aquí podrás disfrutar de una introducción relajada y segura al fascinante mundo submarino del Caribe, perfecta para tus primeras burbujas o para explorar en familia.',incaIncaSmDescriptionP2:'Este tesoro escondido se caracteriza por una formación coralina tipo micro-barrera, con profundidades que van de 4 m / 15 ft a un máximo de 12 m / 40 ft. La ausencia de corrientes significativas y el excelente flujo de luz que penetra el arrecife permiten apreciar en detalle sus corales ramificados y masivos, así como una gran cantidad de pequeños peces de arrecife. Inca Inca es perfecto para bautismos de buceo, programas como "Discover Scuba Diving" y actividades como "aquanautas", garantizando una experiencia submarina sencilla, vibrante y llena de vida en sus cálidas aguas.',incaIncaSmXXMainLogoAlt:"Logo JustDiveCol",incaIncaSmXXPhotoCredit:"Créditos: XYZ",laAntenaSmName:"La Antena",laAntenaSmDescriptionP1:"Explora La Antena, un sitio de buceo accesible y sorprendente cerca de Taganga, conocido por sus estructuras artificiales que se han convertido en un vibrante hogar para la vida marina y macro. Es el lugar ideal para buzos Open Water y fotógrafos submarinos que buscan encuentros cercanos con nudibranquios, pequeños crustáceos y una diversidad asombrosa de peces de arrecife. ¡Un tesoro escondido para los amantes de los detalles y la vida pequeña del océano!",laAntenaSmDescriptionP2:"Aunque su nombre pueda sugerir otra cosa, La Antena destaca por su singular arrecife rocoso y las estructuras que actúan como arrecifes artificiales, sirviendo de ancla para una inmersión cómoda y llena de descubrimientos. Con una profundidad máxima de aproximadamente 18 m / 60 ft, sus aguas cálidas y generalmente suaves corrientes la hacen perfecta para una exploración relajada. La visibilidad puede variar, pero la riqueza de su ecosistema subacuático ofrece oportunidades constantes para capturar la belleza oculta del Caribe colombiano. La inmersión se realiza siempre con entrada desde embarcación.",laAntenaSmXXMainLogoAlt:"Logo JustDiveCol",laAntenaSmXXPhotoCredit:"Créditos: XYZ",laPeceraSmName:"La Pecera - PNN Tayrona",laPeceraSmDescriptionP1:'Sumérgete en La Pecera, un verdadero "acuario natural" en el corazón del Parque Nacional Natural Tayrona, donde te espera un arrecife excepcionalmente vibrante. Este sitio es un paraíso de buceo ideal para todos los niveles, desde principiantes hasta experimentados, ofreciendo inmersiones tranquilas y repletas de vida marina, incluyendo la frecuente y emocionante presencia de tortugas carey. ¡Un espectáculo de color y biodiversidad bajo el agua te espera!',laPeceraSmDescriptionP2:"Ubicada en la pintoresca Ensenada de Granate, La Pecera destaca por sus impresionantes formaciones de corales cuerno de alce y cerebros en excelente estado, que cubren las rocas y crean un refugio perfecto para innumerables peces tropicales. Con profundidades generalmente entre 6 m / 20 ft y 18 m / 60 ft, está bien protegida del viento, lo que garantiza aguas calmadas y una excelente visibilidad. Bucear aquí ofrece una sensación inmersiva y vívida de estar dentro de un acuario rebosante de vida, siendo un lugar idóneo para la fotografía submarina y la observación detallada de un ecosistema próspero en las cálidas aguas del Caribe.",laPeceraSmXXMainLogoAlt:"Logo JustDiveCol",laPeceraSmXXPhotoCredit:"Créditos: XYZ",laPiedraDelChivoSmName:"La Piedra del Chivo - PNN Tayrona",laPiedraDelChivoSmDescriptionP1:"Descubre la serenidad de La Piedra del Chivo, un encantador sitio de buceo tranquilo y poco profundo en el Parque Nacional Natural Tayrona. Con una profundidad máxima de solo 15 m / 50 ft, es un oasis submarino ideal para principiantes, buzos Open Water y entusiastas de la vida macro, donde la buena visibilidad y los arrecifes saludables crean el escenario perfecto para una exploración detallada y relajada. ¡Siente la paz bajo el agua mientras te asombras con la vida en miniatura!",laPiedraDelChivoSmDescriptionP2:"Este sitio se destaca por su ambiente sereno y sus aguas generalmente calmadas, permitiendo una observación íntima de su arrecife rocoso, cubierto de corales duros y blandos. Es un refugio para una variada comunidad de peces y, lo que lo hace especial, la frecuente presencia de pequeños nudibranquios, camarones y otros invertebrados que se esconden entre las formaciones. Las corrientes son mínimas, garantizando una experiencia de buceo segura y placentera. La Piedra del Chivo es un lugar excelente para la fotografía submarina, ofreciendo la oportunidad de capturar la vibrante biodiversidad del Caribe colombiano en un entorno apacible y accesible. La entrada al sitio se realiza siempre en embarcación.",laPiedraDelChivoSmXXMainLogoAlt:"Logo JustDiveCol",laPiedraDelChivoSmXXPhotoCredit:"Créditos: XYZ",laPiedraDelMedioSmName:"La Piedra del Medio - PNN Tayrona",laPiedraDelMedioSmDescriptionP1:"Explora La Piedra del Medio, un emblemático pináculo submarino en el corazón del Parque Nacional Natural Tayrona, que desciende hasta 25 m / 80 ft. Famoso por ser un imán de biodiversidad y un punto de encuentro para vibrantes peces de arrecife y especies pelágicas, este sitio es ideal tanto para buzos Open Water como avanzados. ¡Un vibrante espectáculo de vida marina te espera en cada inmersión!",laPiedraDelMedioSmDescriptionP2:"Considerado uno de los sitios más populares del Tayrona, La Piedra del Medio se eleva desde el fondo, creando un arrecife aislado tapizado por una saludable mezcla de corales duros y blandos. La posible presencia de corrientes moderadas añade un toque dinámico a la inmersión, favoreciendo la presencia de cardúmenes de barracudas y jureles. Con visibilidad generalmente buena en sus cálidas aguas caribeñas, y acceso siempre desde embarcación, este biodiversity hotspot ofrece inmejorables oportunidades para la fotografía submarina y para vivir una experiencia inolvidable.",laPiedraDelMedioSmXXMainLogoAlt:"Logo JustDiveCol",laPiedraDelMedioSmXXPhotoCredit:"Créditos: XYZ",laTravesiaSmName:"La Travesía - PNN Tayrona",laTravesiaSmDescriptionP1:"Prepárate para una inmersión llena de acción en La Travesía, un dinámico sitio de buceo de deriva en el Parque Nacional Natural Tayrona. Con impresionantes paredes y cañones que descienden hasta 25 m / 80 ft, este destino es ideal para buzos Advanced Open Water con experiencia en corrientes que buscan encuentros emocionantes con abundante vida pelágica. Siente la fuerza del océano mientras exploras un paisaje submarino en constante movimiento.",laTravesiaSmDescriptionP2:"La topografía de La Travesía te guiará a través de formaciones rocosas que crean interesantes pasadizos y túneles. Sus corrientes moderadas a fuertes no solo añaden adrenalina, sino que también atraen una gran cantidad de nutrientes, lo que resulta en avistamientos frecuentes de grandes cardúmenes de peces y especies pelágicas como barracudas. Aunque la visibilidad puede ser variable, las aguas son cálidas y el arrecife, compuesto por una saludable mezcla de corales duros y blandos, está lleno de vida. La planificación con el capitán es crucial para una experiencia segura y gratificante, ofreciendo un buceo diferente y vibrante en el Caribe colombiano.",laTravesiaSmXXMainLogoAlt:"Logo JustDiveCol",laTravesiaSmXXPhotoCredit:"Créditos: XYZ",laVueltaNegraSmName:"La Vuelta Negra - PNN Tayrona",laVueltaNegraSmDescriptionP1:"Explora La Vuelta Negra, un sitio de buceo dinámico y misterioso en el impresionante Parque Nacional Natural Tayrona, famoso por sus oscuros pináculos rocosos y cañones submarinos. Con una profundidad máxima de 25 m / 80 ft, es ideal para buzos intermedios y avanzados que buscan una inmersión variada y fascinante, donde la luz y la sombra crean un escenario único para la exploración. ¡Prepárate para serpentear a través de paisajes submarinos que parecen de otro mundo!",laVueltaNegraSmDescriptionP2:'Este sitio se distingue por su topografía intrigante, que combina arrecifes rocosos, suaves paredes y formaciones que invitan a la exploración de pasadizos naturales y voladizos. Aquí se refugia una gran diversidad de vida marina de arrecife, incluyendo coloridos peces y cardúmenes vibrantes. La visibilidad puede ser variable y las corrientes generalmente moderadas, lo que añade un elemento dinámico a la inmersión. La Vuelta Negra es un auténtico "biodiversity hotspot" que ofrece excelentes oportunidades para la fotografía submarina, permitiendo capturar los dramáticos contrastes entre las rocas oscuras y la exuberante vida coralina en sus cálidas aguas. La entrada al sitio se realiza siempre desde embarcación.',laVueltaNegraSmXXMainLogoAlt:"Logo JustDiveCol",laVueltaNegraSmXXPhotoCredit:"Créditos: XYZ",langostasSmName:"Langostas - PNN Tayrona",langostasSmDescriptionP1:"Sumérgete en Langostas, un vibrante arrecife en el Parque Nacional Natural Tayrona, famoso por sus impresionantes formaciones rocosas y la asombrosa abundancia de langostas en su hábitat natural. Con una profundidad máxima de unos 20 m / 65 ft, este paraíso submarino es ideal para buzos Open Water que disfrutan explorando cada rincón, grieta y cueva, y para los entusiastas de la vida macro. ¡Un verdadero festín para los ojos submarinos que te dejará maravillado!",langostasSmDescriptionP2:"Este sitio de buceo, accesible para buzos Open Water Diver, se caracteriza por un laberinto de formaciones rocosas que crean innumerables escondites, sirviendo de refugio a una gran cantidad de vida marina. Además de las langostas, encontrarás una rica variedad de peces de arrecife, corales duros y blandos, y una fascinante vida macro que invita a la observación detallada. Las condiciones de buceo suelen ser de corriente leve y visibilidad variable, ofreciendo una experiencia cómoda y gratificante. La inmersión se realiza siempre con entrada desde embarcación, y sus cálidas aguas son perfectas para la fotografía submarina y para disfrutar de la rica biodiversidad del Caribe colombiano.",langostasSmXXMainLogoAlt:"Logo JustDiveCol",langostasSmXXPhotoCredit:"Créditos: XYZ",lasBarcazasSmName:"Las Barcazas (Punta Betín)",lasBarcazasSmDescriptionP1:"Sumérgete en la fascinante historia submarina de Santa Marta en Las Barcazas de Punta Betín. Este sitio histórico de buceo alberga múltiples barcazas hundidas que se han transformado en vibrantes arrecifes artificiales, rebosantes de vida marina. Ofrece emocionantes opciones para buzos Open Water, que pueden explorar dos pecios entre 6 m / 20 ft y 15 m / 50 ft, y desafíos adicionales para buzos avanzados que deseen descender hasta los 35 m / 115 ft. ¡Una aventura que combina historia y biodiversidad te espera bajo las olas!",lasBarcazasSmDescriptionP2:"Ubicadas estratégicamente en un promontorio rocoso de la bahía, estas estructuras metálicas, que en su día transportaron carbón, ahora están completamente cubiertas de coloridos corales, ostras y esponjas, sirviendo de refugio a innumerables peces de arrecife y rayas. Explorar sus cascos y las áreas arenosas adyacentes revela un ecosistema próspero y lleno de descubrimientos. A pesar de su cercanía a la ciudad, el encanto de estos naufragios es innegable; no solo están repletos de biodiversidad, sino que también cuentan una parte vital de la historia industrial de Santa Marta. Con visibilidad variable y corrientes generalmente suaves, esta inmersión promete una experiencia cómoda y memorable para todos los niveles de buceo.",lasBarcazasSmXXMainLogoAlt:"Logo JustDiveCol",lasBarcazasSmXXPhotoCredit:"Créditos: XYZ",losCarrosSmName:"Los Carros - PNN Tayrona",losCarrosSmDescriptionP1:"",losCarrosSmDescriptionP2:"",losCarrosSmXXMainLogoAlt:"Logo JustDiveCol",losCarrosSmXXPhotoCredit:"Créditos: XYZ",sisiguacaSmName:"Sisiguaca",sisiguacaSmDescriptionP1:"Sumérgete en Sisiguaca, un vibrante sitio de buceo en el Parque Nacional Natural Tayrona, donde te esperan impresionantes formaciones rocosas y cañones submarinos que crean un laberinto perfecto para la exploración. Con una profundidad máxima de 20 m / 65 ft, es ideal para buzos Open Water que buscan una inmersión dinámica y llena de descubrimientos. ¡Prepárate para serpentear a través de paisajes únicos y admirar una rica vida de arrecife!",sisiguacaSmDescriptionP2:'Este fascinante sitio destaca por su topografía singular y su rica biodiversidad. Las inmersiones en Sisiguaca revelan un arrecife saludable cubierto de una gran variedad de corales duros y blandos, sirviendo de refugio para coloridos cardúmenes de peces y morenas escondidas. Las corrientes pueden ser moderadas, añadiendo un elemento de emoción y atrayendo ocasionalmente a especies pelágicas como barracudas. Con aguas consistentemente cálidas y siendo un auténtico "biodiversity hotspot", Sisiguaca es un lugar predilecto para la fotografía submarina, ofreciendo innumerables oportunidades para capturar la belleza única del Caribe colombiano. La entrada al sitio se realiza siempre desde embarcación.',sisiguacaSmXXMainLogoAlt:"Logo JustDiveCol",sisiguacaSmXXPhotoCredit:"Créditos: XYZ",morritoLargoSmName:"Morrito Largo - PNN Tayrona",morritoLargoSmDescriptionP1:"Prepárate para una inmersión desafiante y épica en Morrito Largo, un pináculo rocoso submarino en el Parque Nacional Natural Tayrona que desciende abruptamente hasta 40 m / 130 ft para buceo recreativo y se extiende hasta 75 m / 245 ft para buceo técnico. Este sitio es un verdadero campo de juego para buzos avanzados y técnicos, famoso por sus fuertes corrientes laterales, impresionantes corales negros y la posibilidad de encuentros con vida pelágica. ¡Una aventura en las profundidades que pondrá a prueba tus habilidades!",morritoLargoSmDescriptionP2:"A pesar de su nombre, la magnitud de la aventura en Morrito Largo reside en sus impresionantes paredes, densamente pobladas de gorgonias y corales negros que prosperan en las aguas más profundas, creando un paisaje submarino espectacular. La presencia de esponjas gigantes inclinadas horizontalmente es un claro indicio de la constante fuerza de la corriente, que buzos experimentados a veces aprovechan para una emocionante travesía subacuática hasta la Isla Aguja. Con visibilidad variable, pero siempre sorprendente, este biodiversity hotspot ofrece excelentes oportunidades para la fotografía submarina profunda en las cálidas aguas del Caribe colombiano, convirtiéndola en una experiencia inigualable para los más audaces exploradores del azul.",morritoLargoSmXXMainLogoAlt:"Logo JustDiveCol",morritoLargoSmXXPhotoCredit:"Créditos: XYZ",morroGairaSmName:"Morro de Gaira",morroGairaSmDescriptionP1:"Explora el Morro de Gaira, una destacada formación rocosa submarina en la bahía de Santa Marta, justo frente a El Rodadero. Este vibrante sitio de buceo, con profundidades de hasta 25 m / 80 ft, es ideal para buzos Open Water y certificados que buscan múltiples rutas y una rica biodiversidad marina. Su característica más notable es su cara sur, la cual es la mejor conservada y más accesible, perfecta para una inmersión tranquila y llena de descubrimientos. ¡Un lugar versátil y cautivador para todos los niveles de buceo!",morroGairaSmDescriptionP2:"Como una extensión submarina de la Sierra Nevada, el Morro de Gaira ofrece diversas variaciones de pendiente y sustratos rocosos donde ha florecido una exuberante comunidad coralina. La ventaja de este islote es la flexibilidad para adaptar la inmersión a las condiciones del día y al nivel de los buzos. Aquí encontrarás una abundancia de peces de arrecife, corales duros y blandos, creando un espectáculo visual constante. Las inmersiones pueden ser de ida y regreso o de deriva ligera, dependiendo de la logística. La visibilidad es variable, pero las aguas cálidas y la notable biodiversidad lo convierten en un excelente lugar para la fotografía submarina y para disfrutar de un buceo relajado en el corazón de Santa Marta.",morroGairaSmXXMainLogoAlt:"Logo JustDiveCol",morroGairaSmXXPhotoCredit:"Créditos: XYZ",morroSantaMartaSmName:"Morro de Santa Marta",morroSantaMartaSmDescriptionP1:"Explora el icónico Morro de Santa Marta, un islote con faro que emerge majestuoso en la bahía, ofreciendo un desafiante buceo para avanzados. Aquí te esperan paredes profundas que descienden hasta 30 m / 100 ft o más, influenciadas por fuertes corrientes que atraen a impresionante fauna pelágica. Prepárate para avistamientos épicos de atunes y barracudas, y sumérgete en una experiencia llena de adrenalina y descubrimientos en este emblemático punto del Caribe colombiano.",morroSantaMartaSmDescriptionP2:'Conocido simplemente como "El Morro", este sitio combina una terraza arrecifal poco profunda (hasta 20 m / 65 ft) repleta de corales y peces pequeños, con una pendiente abrupta donde la aventura cobra vida. Las corrientes, aunque exigentes, son una bendición que traen nutrientes y vida mayor. La inmersión puede variar según el lado del islote (oriental más protegido, occidental más expuesto), pero siempre revela impresionantes corales blandos que danzan con el agua. Más allá de su riqueza biológica, este histórico lugar sirvió como la primera cárcel de Colombia, añadiendo una capa fascinante a tu inolvidable exploración submarina.',morroSantaMartaSmXXMainLogoAlt:"Logo JustDiveCol",morroSantaMartaSmXXPhotoCredit:"Créditos: XYZ",oceanoSmName:"Océano - PNN Tayrona",oceanoSmDescriptionP1:"Explora la inmensidad de Océano, un sitio de buceo en el Parque Nacional Natural Tayrona que te conecta directamente con la vida salvaje y abierta del mar. Aquí, las profundidades y corrientes son más exigentes, ofreciendo una experiencia para buzos avanzados que buscan encuentros con especies pelágicas como grandes cardúmenes, rayas y, ocasionalmente, tiburones. ¡Siente la verdadera fuerza y belleza del océano en su estado más puro!",oceanoSmDescriptionP2:"Este sitio, cuyo nombre evoca su naturaleza de mar abierto, presenta una topografía submarina que desciende más allá de los 30 m / 100 ft, con formaciones rocosas que sirven de refugio y punto de reunión para la fauna mayor. Aunque la visibilidad puede ser variable debido a las condiciones oceánicas, la recompensa es la oportunidad de observar la majestuosidad de la vida pelágica en su elemento. Las inmersiones aquí requieren una planificación cuidadosa y experiencia en buceo con corrientes, pero la vivencia de ser uno con el vasto azul del Caribe colombiano es inolvidable. La entrada al sitio se realiza siempre desde embarcación.",oceanoSmXXMainLogoAlt:"Logo JustDiveCol",oceanoSmXXPhotoCredit:"Créditos: XYZ",panelesSmName:"Panelés (Dos Morritos) - PNN Tayrona",panelesSmDescriptionP1:'Prepárate para una inmersión solo para los más audaces en Panelés (Dos Morritos), un desafiante sitio de buceo en el Parque Nacional Natural Tayrona, exclusivo para buzos muy experimentados y técnicos. Aquí te esperan pináculos rocosos azotados por corrientes oceánicas intensas, ofreciendo la increíble oportunidad de "volar" entre formaciones submarinas. Este es el epicentro de la vida pelágica, donde cardúmenes masivos y grandes peces cazadores te dejarán sin aliento. ¡Una aventura extrema que solo los buzos de élite pueden disfrutar al máximo!',panelesSmDescriptionP2:"Ubicado al costado occidental de Isla Aguja, este sitio se compone de un par de peñascos que apenas asoman en la superficie. La constante fuerza de las corrientes, lejos de ser un obstáculo, es una bendición que aporta una enorme cantidad de nutrientes, permitiendo que las rocas estén tapizadas por una infinidad de especies marinas, incluyendo corales, esponjas y anémonas, creando un ecosistema increíblemente denso. La visibilidad suele ser muy clara (15-25+ m / 50-80+ ft) y la profundidad va desde los 5-8 m / 15-25 ft en la cima de las rocas hasta más de 30 m / 100 ft en su base. Es el lugar ideal para la observación de jureles, pargos, barracudas de buen tamaño y ocasionales tortugas marinas, viviendo una experiencia dinámica e inolvidable.",panelesSmXXMainLogoAlt:"Logo JustDiveCol",panelesSmXXPhotoCredit:"Créditos: XYZ",paraisoSmName:"Paraíso - PNN Tayrona",paraisoSmDescriptionP1:"Sumérgete en Paraíso, un verdadero refugio submarino en el corazón del Parque Nacional Natural Tayrona, que vive a la altura de su nombre. Este arrecife tranquilo y lleno de color es ideal para buzos de todos los niveles, desde principiantes hasta experimentados, ofreciendo aguas excepcionalmente calmadas, excelente visibilidad y una vibrante vida marina. ¡Es el escenario perfecto para una inmersión relajada y fotogénica, donde cada detalle te invita a la admiración!",paraisoSmDescriptionP2:'Con una profundidad máxima de aproximadamente 15 m / 50 ft, Paraíso se distingue por la ausencia de corrientes fuertes y una superficie serena, lo que garantiza una experiencia de buceo muy cómoda y segura. Aquí podrás apreciar una gran cantidad de corales duros y blandos en excelente estado de conservación, que tapizan el fondo rocoso y sirven de hogar a una abundante vida de peces tropicales y fascinante vida macro. Este "biodiversity hotspot" ofrece una experiencia de buceo serena y rica en descubrimientos en las cálidas aguas del Caribe colombiano, siendo un lugar predilecto para la fotografía submarina. La entrada al sitio se realiza cómodamente desde embarcación.',paraisoSmXXMainLogoAlt:"Logo JustDiveCol",paraisoSmXXPhotoCredit:"Créditos: XYZ",pasoDelAngelSmName:"Paso del Ángel - PNN Tayrona",pasoDelAngelSmDescriptionP1:"Explora Paso del Ángel, una espectacular pendiente arrecifal en el Parque Nacional Natural Tayrona, considerada uno de los mejores sitios de buceo de la región. Aquí, la inmersión, que desciende hasta 40 m / 130 ft, es famosa por su excepcional biodiversidad, la abundante presencia de peces ángel y la emoción de un buceo a la deriva. Es el destino ideal para buzos intermedios y avanzados que buscan una aventura submarina vibrante y llena de vida.",pasoDelAngelSmDescriptionP2:'Este paraíso submarino, que comienza a solo 7 m / 25 ft de profundidad, está repleto de una increíble variedad de peces, esponjas y corales duros y blandos. Durante el buceo a la deriva, impulsado por corrientes que pueden ser de moderadas a fuertes, es común encontrarse con imponentes morenas verdes, langostas de gran tamaño e incluso el avistamiento ocasional de delicados caballitos de mar, convirtiéndolo en un lugar predilecto para la fotografía macro y de vida marina. Para los buzos más audaces, existe la emocionante opción de extender la aventura hacia "La Travesía" de Morrito Largo, un recorrido con corrientes aún más intensas reservado solo para expertos. Con visibilidad variable, pero siempre gratificante, Paso del Ángel ofrece una experiencia inolvidable en las cálidas aguas del Caribe colombiano, con acceso garantizado desde embarcación (lancha desde Taganga).',pasoDelAngelSmXXMainLogoAlt:"Logo JustDiveCol",pasoDelAngelSmXXPhotoCredit:"Créditos: XYZ",playacaSmName:"Playaca",playacaSmDescriptionP1:"Descubre la serenidad de Playaca, un sitio de buceo tranquilo y poco profundo en el Parque Nacional Natural Tayrona, ideal para principiantes, buzos Open Water y entusiastas de la fotografía. Aquí te esperan arrecifes saludables, excelente visibilidad y una explosión de colorida vida marina. Es el escenario perfecto para una inmersión relajada, donde cada momento bajo el agua es una oportunidad para asombrarse con la belleza del Caribe colombiano. ¡Un verdadero paraíso submarino que te invita a la calma y la observación!",playacaSmDescriptionP2:'Con una profundidad máxima de aproximadamente 18 m / 60 ft, Playaca se distingue por sus aguas calmadas y corrientes mínimas, lo que garantiza una experiencia de buceo sumamente cómoda y segura. Su arrecife coralino, compuesto por una mezcla vibrante de corales duros y blandos, alberga una abundante variedad de peces de arrecife. Esta combinación de condiciones favorables y rica biodiversidad convierte a Playaca en un auténtico "biodiversity hotspot" y un lugar predilecto para la fotografía submarina y la observación detallada de la vida macro. La entrada al sitio se realiza cómodamente desde embarcación, permitiéndote disfrutar plenamente de este pintoresco y apacible rincón del Tayrona.',playacaSmXXMainLogoAlt:"Logo JustDiveCol",playacaSmXXPhotoCredit:"Créditos: XYZ",puntaAgujaSmName:"Punta Aguja - PNN Tayrona",puntaAgujaSmDescriptionP1:"Explora Punta Aguja, el emblemático corazón del buceo en el Parque Nacional Natural Tayrona y el sitio más representativo de la zona. Este icónico pináculo rocoso ofrece un buceo vibrante con arrecifes exuberantes y profundidades de hasta 30 m / 100 ft, siendo apto para buzos de todos los niveles. Aquí te espera una inmersión llena de vida, con una asombrosa biodiversidad que incluye coloridos peces de arrecife y la posibilidad de encuentros con especies pelágicas. ¡Una aventura imprescindible en el Caribe colombiano que te dejará sin aliento!",puntaAgujaSmDescriptionP2:'Conocida también como "Isla Aguja", su topografía variada incluye paredes y cañones que invitan a la exploración. Aunque gran parte del buceo es accesible para buzos Open Water, sus zonas más profundas y las corrientes variables ofrecen oportunidades emocionantes para los buzos avanzados, añadiendo un dinamismo constante. Punta Aguja es un imán para la vida marina, donde los cardúmenes de peces son omnipresentes y la posibilidad de avistar barracudas o tortugas marinas es real. Con visibilidad variable, pero siempre gratificante en sus cálidas aguas caribeñas, este verdadero "biodiversity hotspot" es ideal para la fotografía submarina, capturando la explosión de vida en cada burbuja. La entrada al sitio se realiza siempre desde embarcación.',puntaAgujaSmXXMainLogoAlt:"Logo JustDiveCol",puntaAgujaSmXXPhotoCredit:"Créditos: XYZ",puntaCabezaNegrosSmName:"Punta Cabeza de Negros - PNN Tayrona",puntaCabezaNegrosSmDescriptionP1:"Explora Punta Cabeza de Negros, un sitio de buceo vibrante y diverso en el Parque Nacional Natural Tayrona. Aquí, las impresionantes formaciones rocosas y paredes descienden hasta 25 m / 80 ft, creando un fascinante relieve submarino. Es ideal para buzos Open Water que buscan explorar un arrecife lleno de vida con la emoción de posibles corrientes moderadas. ¡Prepárate para una inmersión dinámica y llena de descubrimientos en un entorno único del Caribe colombiano!",puntaCabezaNegrosSmDescriptionP2:'Este sitio, accesible desde embarcación, te sumerge en un ecosistema rico donde los corales duros y blandos en buen estado sirven de hogar a una gran diversidad de peces de arrecife, morenas y langostas escondidas en grietas y hendiduras. Las corrientes, aunque variables, añaden un elemento dinámico que enriquece el ecosistema. Con aguas cálidas y siendo un auténtico "biodiversity hotspot", Punta Cabeza de Negros ofrece excelentes oportunidades para la fotografía submarina, permitiéndote capturar la esencia vibrante de la vida bajo las olas del Tayrona. Un lugar perfecto para disfrutar de la exploración y la belleza natural.',puntaCabezaNegrosSmXXMainLogoAlt:"Logo JustDiveCol",puntaCabezaNegrosSmXXPhotoCredit:"Créditos: XYZ",puntaGairaSmName:"Punta Gaira / Playa Blanca",puntaGairaSmDescriptionP1:"Descubre la tranquilidad de Punta Gaira / Playa Blanca, un sitio de buceo idílico en Santa Marta, ideal para principiantes, snorkelistas y buzos Open Water. Con un arrecife saludable y profundidades de hasta 15 m / 50 ft, te sumergirás en aguas cálidas y tranquilas, repletas de colorida vida marina tropical. Es el escenario perfecto para tu primera experiencia bajo el agua o para disfrutar de una inmersión relajada y fotogénica en un entorno apacible. ¡Un verdadero paraíso para toda la familia!",puntaGairaSmDescriptionP2:"Este sitio, muy accesible y popular, se distingue por sus corrientes mínimas y excelente visibilidad, lo que lo convierte en un lugar seguro y muy agradable para la exploración submarina. El arrecife de coral, compuesto por una mezcla vibrante de corales duros y blandos, sirve de hogar a una gran diversidad de peces de arrecife y fascinante vida macro, ideal para la fotografía. Además de bucear, su poca profundidad lo hace excelente para el snorkel, permitiendo disfrutar plenamente de la riqueza del ecosistema. La entrada al sitio se realiza cómodamente desde embarcación, complementando la experiencia en las hermosas aguas del Caribe colombiano.",puntaGairaSmXXMainLogoAlt:"Logo JustDiveCol",puntaGairaSmXXPhotoCredit:"Créditos: XYZ",puntaGranateSmName:"Punta Granate - PNN Tayrona",puntaGranateSmDescriptionP1:"Explora Punta Granate, el vibrante extremo rocoso de Bahía Granate en el Parque Nacional Natural Tayrona, un sitio de buceo excepcionalmente versátil. Aquí, buzos de todos los niveles encontrarán su aventura: desde áreas internas tranquilas perfectas para principiantes, hasta zonas externas con corrientes moderadas y parches de coral que rebosan vida marina. Es el escenario ideal para descubrir una asombrosa biodiversidad en un entorno dinámico y siempre cambiante. ¡Prepárate para una inmersión que se adapta a ti y te sorprende en cada rincón!",puntaGranateSmDescriptionP2:'Esta punta rocosa, relativamente resguardada de los vientos Alisios, ofrece condiciones favorables la mayor parte del año. El fondo arenoso, salpicado de bloques de roca coralina, alberga numerosos "parches de coral" a unos 10-15 m / 35-50 ft de profundidad, funcionando como oasis de vida. Podrás avistar desde pequeños meros y peces ángel francés hasta langostas escondidas y vibrantes anémonas con camarones simbiontes. La visibilidad, generalmente buena (8-18 m / 25-60 ft), permite apreciar la gran cantidad de peces de mayor tamaño como jureles o macarelas que transitan por las aguas abiertas cercanas. La entrada se realiza siempre desde embarcación, y este sitio combina a la perfección con una visita a El Cantil en la misma salida de buceo, garantizando una experiencia completa en las cálidas aguas del Caribe colombiano.',puntaGranateSmXXMainLogoAlt:"Logo JustDiveCol",puntaGranateSmXXPhotoCredit:"Créditos: XYZ",puntaVenadoSmName:"Punta Venado - PNN Tayrona",puntaVenadoSmDescriptionP1:"Descubre la magia de Punta Venado, un excepcional arrecife costero en el Parque Nacional Natural Tayrona, famoso por transformarse completamente al anochecer. Es el sitio ideal para buzos de nivel intermedio o aquellos que desean iniciarse en el buceo nocturno, ofreciendo una experiencia segura y fascinante. Aquí, una multitud de crustáceos, moluscos y peces nocturnos emergen de sus escondites, revelando un mundo submarino misterioso y vibrante que te dejará asombrado. ¡Prepárate para ver el océano como nunca antes!",puntaVenadoSmDescriptionP2:"Durante el día, Punta Venado se presenta como un arrecife franjeante somero (entre 5 m / 15 ft y 18 m / 60 ft de profundidad), con corales, esponjas y algas que albergan peces mariposa, lábridos y morenas. Sin embargo, es con la puesta del sol cuando el sitio cobra vida con una actividad inigualable. Las condiciones de buceo son consistentemente tranquilas, con poca profundidad y escasa corriente, lo que permite una exploración relajada incluso en la oscuridad. Con buena visibilidad (generalmente entre 8 m / 25 ft y 15 m / 50 ft) y aguas cálidas, Punta Venado garantiza una experiencia cómoda e inolvidable para la fotografía de vida marina en su faceta más enigmática. La entrada al sitio se realiza siempre desde embarcación.",puntaVenadoSmXXMainLogoAlt:"Logo JustDiveCol",puntaVenadoSmXXPhotoCredit:"Créditos: XYZ",salichanSmName:"Salichán - PNN Tayrona",salichanSmDescriptionP1:"Sumérgete en Salichán, un sitio de buceo avanzado en el impresionante Parque Nacional Natural Tayrona, donde una fascinante pendiente arrecifal desciende hasta 35 m / 115 ft. Este destino es ideal para buzos Advanced Open Water que desean explorar vibrantes corales profundos y la emoción de avistar fauna pelágica. Las corrientes moderadas enriquecen el ecosistema, atrayendo una diversidad de vida que te dejará sin aliento. ¡Prepárate para una inmersión dinámica y llena de descubrimientos en el corazón del Caribe colombiano!",salichanSmDescriptionP2:'Salichán te sumerge en un arrecife saludable, cubierto por diversas formaciones de corales duros y blandos, creando un ecosistema submarino vibrante. A medida que desciendes, la topografía revela pequeños cañones y formaciones rocosas que sirven de refugio a incontables peces de arrecife y, ocasionalmente, a barracudas. Aunque la visibilidad puede ser variable, las aguas cálidas del Caribe colombiano garantizan una experiencia de buceo cómoda y gratificante. Este auténtico "biodiversity hotspot" ofrece excelentes oportunidades para la fotografía submarina, especialmente para capturar la vida en el arrecife profundo. La inmersión se realiza siempre con entrada desde embarcación, proporcionando una aventura memorable en uno de los parques nacionales más impresionantes de Colombia.',salichanSmXXMainLogoAlt:"Logo JustDiveCol",salichanSmXXPhotoCredit:"Créditos: XYZ",salideroSmName:"Salidero - PNN Tayrona",salideroSmDescriptionP1:"Prepárate para una inmersión espectacular en Salidero, un desafiante sitio de buceo de deriva en la punta sur de Isla Aguja, en el Parque Nacional Natural Tayrona. Exclusivo para buzos experimentados, este punto es famoso por sus fuertes corrientes que atraen a imponentes barracudas y por sus impresionantes colonias de corales cerebro y cuerno de alce. ¡Es un sitio que deslumbra incluso a los buzos más veteranos, ofreciendo una explosión de vida y adrenalina!",salideroSmDescriptionP2:'El nombre "Salidero" proviene del canal de corriente que se genera entre la isla y la costa, creando un entorno dinámico pero increíblemente rico. A pesar de su profundidad máxima de solo 14 m / 45 ft, el sitio permite aprovechar bien el aire y, en condiciones ideales, es posible extender la inmersión hacia El Torín. Aquí, la vida marina es deslumbrante: desde peces de arrecife hasta meros y pargos al acecho en la corriente. La visibilidad suele oscilar entre 10 m / 35 ft y 18 m / 60 ft, variando con la corriente. Cada inmersión en Salidero es una experiencia inolvidable que te conecta con la fuerza de la naturaleza, siendo un paraíso para la fotografía submarina. La entrada al sitio se realiza siempre con embarcación.',salideroSmXXMainLogoAlt:"Logo JustDiveCol",salideroSmXXPhotoCredit:"Créditos: XYZ",elNataliaSmName:"Yate Hundido “El Natalia”",elNataliaSmDescriptionP1:'Descubre el misterio del Yate Hundido “El Natalia”, un "secreto" bien guardado en la bahía de Gaira, Santa Marta. Descansando a unos 32 m / 105 ft de profundidad, este pecio ofrece una exploración intacta y exclusiva, rebosante de una vida marina vibrante que te hará sentir como un verdadero descubridor. Es el sitio ideal para buzos avanzados que buscan una aventura única y la oportunidad de sumergirse en un ecosistema submarino próspero y casi virgen.',elNataliaSmDescriptionP2:"Este yate privado, hundido a finales de los años 80, se ha transformado en un espectacular arrecife artificial, completamente tapizado de esponjas multicolores, briozoos y algas. Dentro y alrededor del casco, se congregan densos bancos de roncadores y corvinas, y es común observar meros juveniles y otras especies de peces que encuentran un refugio seguro. Cada recoveco esconde pequeños gobios y blénidos, lo que lo convierte en un paraíso para la fotografía macro. Con visibilidad generalmente buena (10-15 m / 35-50 ft) y corrientes leves, El Natalia promete una exploración cómoda y llena de asombrosos encuentros, revelando la belleza de un ecosistema en pleno desarrollo en las cálidas aguas del Caribe colombiano.",elNataliaSmXXMainLogoAlt:"Logo JustDiveCol",elNataliaSmXXPhotoCredit:"Créditos: XYZ",depthLabel:"Profundidad máxima",levelRequiredLabel:"Nivel Requerido",difficultyLabel:"Dificultad",typeLabel:"Tipo",conditionsLabel:"Condiciones",tagsLabel:"Etiquetas",noneLevelKey:"Ninguno",openWaterDiverLevelKey:"Buzo de Aguas Abiertas (Open Water Diver)",advancedOpenWaterDiverLevelKey:"Buzo Avanzado de Aguas Abiertas (Advanced Open Water Diver)",technicalDiverLevelKey:"Buzo Técnico",anyLevelKey:"Todos los niveles",easyDifficultyKey:"Fácil",mediumDifficultyKey:"Medio",hardDifficultyKey:"Difícil",expertDifficultyKey:"Experto",reefTypeKey:"Arrecife",wreckTypeKey:"Pecio",wallTypeKey:"Pared",pinnacleTypeKey:"Pináculo",cavernTypeKey:"Caverna",caveTypeKey:"Cueva",driftTypeKey:"Deriva",muckTypeKey:"Arenal",blueHoleTypeKey:"Blue Hole",cenoteTypeKey:"Cenote",freshwaterTypeKey:"Agua Dulce",artificialReefTypeKey:"Arrecife Artificial",currentConditionKey:"Corriente",mildCurrentConditionKey:"Corriente Leve",moderateCurrentConditionKey:"Corriente Moderada",strongCurrentConditionKey:"Corriente Fuerte",deepConditionKey:"Profundo",visibilityConditionKey:"Visibilidad",variableVisibilityConditionKey:"Visibilidad Variable",goodVisibilityConditionKey:"Buena Visibilidad",limitedVisibilityConditionKey:"Visibilidad Limitada",thermoclineConditionKey:"Termoclina",surgeConditionKey:"Oleaje",surfaceConditionKey:"Superficie",roughSurfaceConditionKey:"Superficie Agitada",calmSurfaceConditionKey:"Superficie En Calma",entryConditionKey:"Entrada",boatEntryConditionKey:"Entrada en Barco",shoreEntryConditionKey:"Entrada desde la Orilla",nightConditionKey:"Nocturno",marineLifeTagCategory:"Vida Marina",diveCharacteristicsTagCategory:"Características de Buceo",featuresTagCategory:"Características",locationTagCategory:"Ubicación",sharksTag:"tiburones",turtlesTag:"tortugas",mantaRaysTag:"mantarrayas",whaleSharksTag:"tiburones ballena",nudibranchsTag:"nudibranquios",macroLifeTag:"vida macro",schoolingFishTag:"cardúmenes de peces",barracudaTag:"barracudas",octopusTag:"pulpos",dolphinsTag:"delfines",seahorsesTag:"caballitos de mar",frogfishTag:"pez rana",reefFishTag:"peces de arrecife",pelagicsTag:"pelágicos",photographyTag:"fotografía",nightDiveTag:"buceo nocturno",driftDiveTag:"buceo a la deriva",deepDiveTag:"buceo profundo",technicalDiveTag:"buceo técnico",beginnerFriendlyTag:"apto para principiantes",advancedOnlyTag:"solo avanzados",historicalTag:"histórico",biodiversityHotspotTag:"punto de biodiversidad",conservationAreaTag:"área de conservación",coldWaterTag:"agua fría",warmWaterTag:"agua cálida",swimThroughsTag:"pasadizos",canyonsTag:"cañones",cavesTag:"cuevas",overhangsTag:"salientes",softCoralsTag:"corales blandos",hardCoralsTag:"corales duros",anemonesTag:"anémonas",caribbeanTag:"Caribe",pacificTag:"Pacífico",redSeaTag:"Mar Rojo",indianOceanTag:"Océano Índico",tropicalTag:"tropical",temperateTag:"templado",colombiaCountryKey:"Colombia",showingSitesCountFull:"Mostrando {{filtered}} de {{total}} sitios de buceo",noMatchingSites:"No se encontraron sitios de buceo que coincidan con los filtros.",destinationLabel:"Destino",noOptionsAvailable:"No hay opciones disponibles"},pC={mapSeoTitle:"Mapa de sitios de buceo global | Explora destinos submarinos con JustDiveCol",mapSeoDesc:"Descubre y explora nuestro mapa interactivo con los mejores sitios de buceo del mundo. Filtra por destino, planifica tu próxima aventura submarina y sumérgete en los ecosistemas más espectaculares del planeta con JustDiveCol.",mapSeoKeywords:"mapa de buceo, sitios de buceo, destinos de buceo, mapa interactivo, explorar buceo, JustDiveCol mapa, puntos de inmersión, buceo mundial, planificación buceo, aventura submarina, filtrar destinos buceo",mapHeaderTitle:"El mundo submarino a tu alcance: un mapa de aventuras",mapHeaderSubtitle:"Explora en el mapa todos los puntos de inmersión disponibles para tu próxima aventura.",mapHeaderMainLogoAlt:"Logo principal de JustDiveCol",mapHeaderPhotoCredit:"Créditos de la foto: XYZ",allLabel:"Todos los puntos",clearFiltersLabel:"Borrar todos los filtros",searchPlaceholder:"Buscar por nombre del sitio...",viewMoreLabel:"Ver más información",mapLabel:"El mundo submarino: nuestros puntos de inmersión",mapDisclaimerTitle:"Nota Importante: ",mapDisclaimerText:"Este mapa se encuentra en desarrollo. La precisión de algunos datos puede variar. Contáctanos para información actualizada."},fC={en:{navbar:M2,footer:A2,payment:I2,home:E2,experiencesPage:z2,aboutUs:R2,safety:k2,contact:N2,courses:j2,destinations:K2,experiences:O2,common:L2,policies:q2,termsAndConditions:B2,privacyPolicy:F2,faqs:V2,notFound:U2,underConstruction:G2,divesites:H2,map:X2},es:{navbar:Z2,footer:$2,payment:J2,home:Y2,experiencesPage:Q2,aboutUs:eC,safety:tC,contact:aC,courses:iC,destinations:nC,experiences:rC,common:W2,policies:oC,termsAndConditions:sC,privacyPolicy:lC,faqs:cC,notFound:uC,underConstruction:dC,divesites:hC,map:pC}};Dr.use(C2).init({resources:fC,lng:"es",fallbackLng:"en",ns:["navbar","gearNavbar","footer","payment","home","experiencesPage","aboutUs","safety","contact","courses","destinations","experiences","common","policies","termsAndConditions","privacyPolicy","faqs","notFound","underConstruction","divesites","map"],defaultNS:"common",interpolation:{escapeValue:!1}});var lm={},a0;function mC(){if(a0)return lm;a0=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.parse=w,lm.serialize=k;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,l=/^[\u0021-\u003A\u003C-\u007E]*$/,p=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,g=/^[\u0020-\u003A\u003D-\u007E]*$/,C=Object.prototype.toString,D=(()=>{const Z=function(){};return Z.prototype=Object.create(null),Z})();function w(Z,H){const ae=new D,Ie=Z.length;if(Ie<2)return ae;const Ve=H?.decode||q;let we=0;do{const Le=Z.indexOf("=",we);if(Le===-1)break;const Oe=Z.indexOf(";",we),ot=Oe===-1?Ie:Oe;if(Le>ot){we=Z.lastIndexOf(";",Le-1)+1;continue}const He=c(Z,we,Le),Se=R(Z,Le,He),_t=Z.slice(He,Se);if(ae[_t]===void 0){let Dt=c(Z,Le+1,ot),zt=R(Z,ot,Dt);const Ht=Ve(Z.slice(Dt,zt));ae[_t]=Ht}we=ot+1}while(we<Ie);return ae}function c(Z,H,ae){do{const Ie=Z.charCodeAt(H);if(Ie!==32&&Ie!==9)return H}while(++H<ae);return ae}function R(Z,H,ae){for(;H>ae;){const Ie=Z.charCodeAt(--H);if(Ie!==32&&Ie!==9)return H+1}return ae}function k(Z,H,ae){const Ie=ae?.encode||encodeURIComponent;if(!o.test(Z))throw new TypeError(`argument name is invalid: ${Z}`);const Ve=Ie(H);if(!l.test(Ve))throw new TypeError(`argument val is invalid: ${H}`);let we=Z+"="+Ve;if(!ae)return we;if(ae.maxAge!==void 0){if(!Number.isInteger(ae.maxAge))throw new TypeError(`option maxAge is invalid: ${ae.maxAge}`);we+="; Max-Age="+ae.maxAge}if(ae.domain){if(!p.test(ae.domain))throw new TypeError(`option domain is invalid: ${ae.domain}`);we+="; Domain="+ae.domain}if(ae.path){if(!g.test(ae.path))throw new TypeError(`option path is invalid: ${ae.path}`);we+="; Path="+ae.path}if(ae.expires){if(!G(ae.expires)||!Number.isFinite(ae.expires.valueOf()))throw new TypeError(`option expires is invalid: ${ae.expires}`);we+="; Expires="+ae.expires.toUTCString()}if(ae.httpOnly&&(we+="; HttpOnly"),ae.secure&&(we+="; Secure"),ae.partitioned&&(we+="; Partitioned"),ae.priority)switch(typeof ae.priority=="string"?ae.priority.toLowerCase():void 0){case"low":we+="; Priority=Low";break;case"medium":we+="; Priority=Medium";break;case"high":we+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${ae.priority}`)}if(ae.sameSite)switch(typeof ae.sameSite=="string"?ae.sameSite.toLowerCase():ae.sameSite){case!0:case"strict":we+="; SameSite=Strict";break;case"lax":we+="; SameSite=Lax";break;case"none":we+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${ae.sameSite}`)}return we}function q(Z){if(Z.indexOf("%")===-1)return Z;try{return decodeURIComponent(Z)}catch{return Z}}function G(Z){return C.call(Z)==="[object Date]"}return lm}mC();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var m_=o=>{throw TypeError(o)},gC=(o,l,p)=>l.has(o)||m_("Cannot "+p),Py=(o,l,p)=>(gC(o,l,"read from private field"),p?p.call(o):l.get(o)),yC=(o,l,p)=>l.has(o)?m_("Cannot add the same private member more than once"):l instanceof WeakSet?l.add(o):l.set(o,p),i0="popstate";function vC(o={}){function l(g,C){let{pathname:D,search:w,hash:c}=g.location;return Pm("",{pathname:D,search:w,hash:c},C.state&&C.state.usr||null,C.state&&C.state.key||"default")}function p(g,C){return typeof C=="string"?C:ud(C)}return xC(l,p,null,o)}function qa(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}function Rn(o,l){if(!o){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function bC(){return Math.random().toString(36).substring(2,10)}function n0(o,l){return{usr:o.state,key:o.key,idx:l}}function Pm(o,l,p=null,g){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof l=="string"?pd(l):l,state:p,key:l&&l.key||g||bC()}}function ud({pathname:o="/",search:l="",hash:p=""}){return l&&l!=="?"&&(o+=l.charAt(0)==="?"?l:"?"+l),p&&p!=="#"&&(o+=p.charAt(0)==="#"?p:"#"+p),o}function pd(o){let l={};if(o){let p=o.indexOf("#");p>=0&&(l.hash=o.substring(p),o=o.substring(0,p));let g=o.indexOf("?");g>=0&&(l.search=o.substring(g),o=o.substring(0,g)),o&&(l.pathname=o)}return l}function xC(o,l,p,g={}){let{window:C=document.defaultView,v5Compat:D=!1}=g,w=C.history,c="POP",R=null,k=q();k==null&&(k=0,w.replaceState({...w.state,idx:k},""));function q(){return(w.state||{idx:null}).idx}function G(){c="POP";let Ve=q(),we=Ve==null?null:Ve-k;k=Ve,R&&R({action:c,location:Ie.location,delta:we})}function Z(Ve,we){c="PUSH";let Le=Pm(Ie.location,Ve,we);k=q()+1;let Oe=n0(Le,k),ot=Ie.createHref(Le);try{w.pushState(Oe,"",ot)}catch(He){if(He instanceof DOMException&&He.name==="DataCloneError")throw He;C.location.assign(ot)}D&&R&&R({action:c,location:Ie.location,delta:1})}function H(Ve,we){c="REPLACE";let Le=Pm(Ie.location,Ve,we);k=q();let Oe=n0(Le,k),ot=Ie.createHref(Le);w.replaceState(Oe,"",ot),D&&R&&R({action:c,location:Ie.location,delta:0})}function ae(Ve){return g_(Ve)}let Ie={get action(){return c},get location(){return o(C,w)},listen(Ve){if(R)throw new Error("A history only accepts one active listener");return C.addEventListener(i0,G),R=Ve,()=>{C.removeEventListener(i0,G),R=null}},createHref(Ve){return l(C,Ve)},createURL:ae,encodeLocation(Ve){let we=ae(Ve);return{pathname:we.pathname,search:we.search,hash:we.hash}},push:Z,replace:H,go(Ve){return w.go(Ve)}};return Ie}function g_(o,l=!1){let p="http://localhost";typeof window<"u"&&(p=window.location.origin!=="null"?window.location.origin:window.location.href),qa(p,"No window.location.(origin|href) available to create URL");let g=typeof o=="string"?o:ud(o);return g=g.replace(/ $/,"%20"),!l&&g.startsWith("//")&&(g=p+g),new URL(g,p)}var fm,r0=class{constructor(o){if(yC(this,fm,new Map),o)for(let[l,p]of o)this.set(l,p)}get(o){if(Py(this,fm).has(o))return Py(this,fm).get(o);if(o.defaultValue!==void 0)return o.defaultValue;throw new Error("No value found for context")}set(o,l){Py(this,fm).set(o,l)}};fm=new WeakMap;var _C=new Set(["lazy","caseSensitive","path","id","index","children"]);function wC(o){return _C.has(o)}var CC=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function SC(o){return CC.has(o)}function TC(o){return o.index===!0}function Bg(o,l,p=[],g={}){return o.map((C,D)=>{let w=[...p,String(D)],c=typeof C.id=="string"?C.id:w.join("-");if(qa(C.index!==!0||!C.children,"Cannot specify children on an index route"),qa(!g[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),TC(C)){let R={...C,...l(C),id:c};return g[c]=R,R}else{let R={...C,...l(C),id:c,children:void 0};return g[c]=R,C.children&&(R.children=Bg(C.children,l,w,g)),R}})}function sd(o,l,p="/"){return Ig(o,l,p,!1)}function Ig(o,l,p,g){let C=typeof l=="string"?pd(l):l,D=Us(C.pathname||"/",p);if(D==null)return null;let w=y_(o);DC(w);let c=null;for(let R=0;c==null&&R<w.length;++R){let k=KC(D);c=NC(w[R],k,g)}return c}function PC(o,l){let{route:p,pathname:g,params:C}=o;return{id:p.id,pathname:g,params:C,data:l[p.id],handle:p.handle}}function y_(o,l=[],p=[],g=""){let C=(D,w,c)=>{let R={relativePath:c===void 0?D.path||"":c,caseSensitive:D.caseSensitive===!0,childrenIndex:w,route:D};R.relativePath.startsWith("/")&&(qa(R.relativePath.startsWith(g),`Absolute route path "${R.relativePath}" nested under path "${g}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),R.relativePath=R.relativePath.slice(g.length));let k=_c([g,R.relativePath]),q=p.concat(R);D.children&&D.children.length>0&&(qa(D.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${k}".`),y_(D.children,l,q,k)),!(D.path==null&&!D.index)&&l.push({path:k,score:RC(k,D.index),routesMeta:q})};return o.forEach((D,w)=>{if(D.path===""||!D.path?.includes("?"))C(D,w);else for(let c of v_(D.path))C(D,w,c)}),l}function v_(o){let l=o.split("/");if(l.length===0)return[];let[p,...g]=l,C=p.endsWith("?"),D=p.replace(/\?$/,"");if(g.length===0)return C?[D,""]:[D];let w=v_(g.join("/")),c=[];return c.push(...w.map(R=>R===""?D:[D,R].join("/"))),C&&c.push(...w),c.map(R=>o.startsWith("/")&&R===""?"/":R)}function DC(o){o.sort((l,p)=>l.score!==p.score?p.score-l.score:kC(l.routesMeta.map(g=>g.childrenIndex),p.routesMeta.map(g=>g.childrenIndex)))}var MC=/^:[\w-]+$/,AC=3,IC=2,LC=1,EC=10,zC=-2,o0=o=>o==="*";function RC(o,l){let p=o.split("/"),g=p.length;return p.some(o0)&&(g+=zC),l&&(g+=IC),p.filter(C=>!o0(C)).reduce((C,D)=>C+(MC.test(D)?AC:D===""?LC:EC),g)}function kC(o,l){return o.length===l.length&&o.slice(0,-1).every((g,C)=>g===l[C])?o[o.length-1]-l[l.length-1]:0}function NC(o,l,p=!1){let{routesMeta:g}=o,C={},D="/",w=[];for(let c=0;c<g.length;++c){let R=g[c],k=c===g.length-1,q=D==="/"?l:l.slice(D.length)||"/",G=Fg({path:R.relativePath,caseSensitive:R.caseSensitive,end:k},q),Z=R.route;if(!G&&k&&p&&!g[g.length-1].route.index&&(G=Fg({path:R.relativePath,caseSensitive:R.caseSensitive,end:!1},q)),!G)return null;Object.assign(C,G.params),w.push({params:C,pathname:_c([D,G.pathname]),pathnameBase:BC(_c([D,G.pathnameBase])),route:Z}),G.pathnameBase!=="/"&&(D=_c([D,G.pathnameBase]))}return w}function Fg(o,l){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[p,g]=jC(o.path,o.caseSensitive,o.end),C=l.match(p);if(!C)return null;let D=C[0],w=D.replace(/(.)\/+$/,"$1"),c=C.slice(1);return{params:g.reduce((k,{paramName:q,isOptional:G},Z)=>{if(q==="*"){let ae=c[Z]||"";w=D.slice(0,D.length-ae.length).replace(/(.)\/+$/,"$1")}const H=c[Z];return G&&!H?k[q]=void 0:k[q]=(H||"").replace(/%2F/g,"/"),k},{}),pathname:D,pathnameBase:w,pattern:o}}function jC(o,l=!1,p=!0){Rn(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let g=[],C="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(w,c,R)=>(g.push({paramName:c,isOptional:R!=null}),R?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(g.push({paramName:"*"}),C+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):p?C+="\\/*$":o!==""&&o!=="/"&&(C+="(?:(?=\\/|$))"),[new RegExp(C,l?void 0:"i"),g]}function KC(o){try{return o.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Rn(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),o}}function Us(o,l){if(l==="/")return o;if(!o.toLowerCase().startsWith(l.toLowerCase()))return null;let p=l.endsWith("/")?l.length-1:l.length,g=o.charAt(p);return g&&g!=="/"?null:o.slice(p)||"/"}function OC(o,l="/"){let{pathname:p,search:g="",hash:C=""}=typeof o=="string"?pd(o):o;return{pathname:p?p.startsWith("/")?p:qC(p,l):l,search:FC(g),hash:VC(C)}}function qC(o,l){let p=l.replace(/\/+$/,"").split("/");return o.split("/").forEach(C=>{C===".."?p.length>1&&p.pop():C!=="."&&p.push(C)}),p.length>1?p.join("/"):"/"}function Dy(o,l,p,g){return`Cannot include a '${o}' character in a manually specified \`to.${l}\` field [${JSON.stringify(g)}].  Please separate it out to the \`to.${p}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function b_(o){return o.filter((l,p)=>p===0||l.route.path&&l.route.path.length>0)}function Yg(o){let l=b_(o);return l.map((p,g)=>g===l.length-1?p.pathname:p.pathnameBase)}function Qg(o,l,p,g=!1){let C;typeof o=="string"?C=pd(o):(C={...o},qa(!C.pathname||!C.pathname.includes("?"),Dy("?","pathname","search",C)),qa(!C.pathname||!C.pathname.includes("#"),Dy("#","pathname","hash",C)),qa(!C.search||!C.search.includes("#"),Dy("#","search","hash",C)));let D=o===""||C.pathname==="",w=D?"/":C.pathname,c;if(w==null)c=p;else{let G=l.length-1;if(!g&&w.startsWith("..")){let Z=w.split("/");for(;Z[0]==="..";)Z.shift(),G-=1;C.pathname=Z.join("/")}c=G>=0?l[G]:"/"}let R=OC(C,c),k=w&&w!=="/"&&w.endsWith("/"),q=(D||w===".")&&p.endsWith("/");return!R.pathname.endsWith("/")&&(k||q)&&(R.pathname+="/"),R}var _c=o=>o.join("/").replace(/\/\/+/g,"/"),BC=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),FC=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,VC=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o,Vg=class{constructor(o,l,p,g=!1){this.status=o,this.statusText=l||"",this.internal=g,p instanceof Error?(this.data=p.toString(),this.error=p):this.data=p}};function Dm(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var x_=["POST","PUT","PATCH","DELETE"],UC=new Set(x_),GC=["GET",...x_],HC=new Set(GC),XC=new Set([301,302,303,307,308]),ZC=new Set([307,308]),My={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$C={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cm={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},_v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JC=o=>({hasErrorBoundary:!!o.hasErrorBoundary}),__="remix-router-transitions",w_=Symbol("ResetLoaderData");function WC(o){const l=o.window?o.window:typeof window<"u"?window:void 0,p=typeof l<"u"&&typeof l.document<"u"&&typeof l.document.createElement<"u";qa(o.routes.length>0,"You must provide a non-empty routes array to createRouter");let g=o.hydrationRouteProperties||[],C=o.mapRouteProperties||JC,D={},w=Bg(o.routes,C,void 0,D),c,R=o.basename||"/",k=o.dataStrategy||aS,q={unstable_middleware:!1,...o.future},G=null,Z=new Set,H=null,ae=null,Ie=null,Ve=o.hydrationData!=null,we=sd(w,o.history.location,R),Le=!1,Oe=null,ot;if(we==null&&!o.patchRoutesOnNavigation){let de=Bs(404,{pathname:o.history.location.pathname}),{matches:Pe,route:Ne}=v0(w);ot=!0,we=Pe,Oe={[Ne.id]:de}}else if(we&&!o.hydrationData&&ut(we,w,o.history.location.pathname).active&&(we=null),we)if(we.some(de=>de.route.lazy))ot=!1;else if(!we.some(de=>de.route.loader))ot=!0;else{let de=o.hydrationData?o.hydrationData.loaderData:null,Pe=o.hydrationData?o.hydrationData.errors:null;if(Pe){let Ne=we.findIndex(dt=>Pe[dt.route.id]!==void 0);ot=we.slice(0,Ne+1).every(dt=>!Wy(dt.route,de,Pe))}else ot=we.every(Ne=>!Wy(Ne.route,de,Pe))}else{ot=!1,we=[];let de=ut(null,w,o.history.location.pathname);de.active&&de.matches&&(Le=!0,we=de.matches)}let He,Se={historyAction:o.history.action,location:o.history.location,matches:we,initialized:ot,navigation:My,restoreScrollPosition:o.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:o.hydrationData&&o.hydrationData.loaderData||{},actionData:o.hydrationData&&o.hydrationData.actionData||null,errors:o.hydrationData&&o.hydrationData.errors||Oe,fetchers:new Map,blockers:new Map},_t="POP",Dt=!1,zt,Ht=!1,ga=new Map,sa=null,$t=!1,ea=!1,ca=new Set,Ke=new Map,$e=0,xt=-1,kt=new Map,_e=new Set,rt=new Map,ht=new Map,Mt=new Set,Ft=new Map,ba,aa=null;function Qi(){if(G=o.history.listen(({action:de,location:Pe,delta:Ne})=>{if(ba){ba(),ba=void 0;return}Rn(Ft.size===0||Ne!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let dt=ke({currentLocation:Se.location,nextLocation:Pe,historyAction:de});if(dt&&Ne!=null){let yt=new Promise(It=>{ba=It});o.history.go(Ne*-1),Me(dt,{state:"blocked",location:Pe,proceed(){Me(dt,{state:"proceeding",proceed:void 0,reset:void 0,location:Pe}),yt.then(()=>o.history.go(Ne))},reset(){let It=new Map(Se.blockers);It.set(dt,cm),Ai({blockers:It})}});return}return en(de,Pe)}),p){pS(l,ga);let de=()=>fS(l,ga);l.addEventListener("pagehide",de),sa=()=>l.removeEventListener("pagehide",de)}return Se.initialized||en("POP",Se.location,{initialHydration:!0}),He}function Ja(){G&&G(),sa&&sa(),Z.clear(),zt&&zt.abort(),Se.fetchers.forEach((de,Pe)=>Bi(Pe)),Se.blockers.forEach((de,Pe)=>ge(Pe))}function Qa(de){return Z.add(de),()=>Z.delete(de)}function Ai(de,Pe={}){Se={...Se,...de};let Ne=[],dt=[];Se.fetchers.forEach((yt,It)=>{yt.state==="idle"&&(Mt.has(It)?Ne.push(It):dt.push(It))}),Mt.forEach(yt=>{!Se.fetchers.has(yt)&&!Ke.has(yt)&&Ne.push(yt)}),[...Z].forEach(yt=>yt(Se,{deletedFetchers:Ne,viewTransitionOpts:Pe.viewTransitionOpts,flushSync:Pe.flushSync===!0})),Ne.forEach(yt=>Bi(yt)),dt.forEach(yt=>Se.fetchers.delete(yt))}function Ii(de,Pe,{flushSync:Ne}={}){let dt=Se.actionData!=null&&Se.navigation.formMethod!=null&&ls(Se.navigation.formMethod)&&Se.navigation.state==="loading"&&de.state?._isRedirect!==!0,yt;Pe.actionData?Object.keys(Pe.actionData).length>0?yt=Pe.actionData:yt=null:dt?yt=Se.actionData:yt=null;let It=Pe.loaderData?g0(Se.loaderData,Pe.loaderData,Pe.matches||[],Pe.errors):Se.loaderData,Tt=Se.blockers;Tt.size>0&&(Tt=new Map(Tt),Tt.forEach((et,Zt)=>Tt.set(Zt,cm)));let Pt=Dt===!0||Se.navigation.formMethod!=null&&ls(Se.navigation.formMethod)&&de.state?._isRedirect!==!0;c&&(w=c,c=void 0),$t||_t==="POP"||(_t==="PUSH"?o.history.push(de,de.state):_t==="REPLACE"&&o.history.replace(de,de.state));let Vt;if(_t==="POP"){let et=ga.get(Se.location.pathname);et&&et.has(de.pathname)?Vt={currentLocation:Se.location,nextLocation:de}:ga.has(de.pathname)&&(Vt={currentLocation:de,nextLocation:Se.location})}else if(Ht){let et=ga.get(Se.location.pathname);et?et.add(de.pathname):(et=new Set([de.pathname]),ga.set(Se.location.pathname,et)),Vt={currentLocation:Se.location,nextLocation:de}}Ai({...Pe,actionData:yt,loaderData:It,historyAction:_t,location:de,initialized:!0,navigation:My,revalidation:"idle",restoreScrollPosition:Be(de,Pe.matches||Se.matches),preventScrollReset:Pt,blockers:Tt},{viewTransitionOpts:Vt,flushSync:Ne===!0}),_t="POP",Dt=!1,Ht=!1,$t=!1,ea=!1,aa?.resolve(),aa=null}async function mo(de,Pe){if(typeof de=="number"){o.history.go(de);return}let Ne=Jy(Se.location,Se.matches,R,de,Pe?.fromRouteId,Pe?.relative),{path:dt,submission:yt,error:It}=s0(!1,Ne,Pe),Tt=Se.location,Pt=Pm(Se.location,dt,Pe&&Pe.state);Pt={...Pt,...o.history.encodeLocation(Pt)};let Vt=Pe&&Pe.replace!=null?Pe.replace:void 0,et="PUSH";Vt===!0?et="REPLACE":Vt===!1||yt!=null&&ls(yt.formMethod)&&yt.formAction===Se.location.pathname+Se.location.search&&(et="REPLACE");let Zt=Pe&&"preventScrollReset"in Pe?Pe.preventScrollReset===!0:void 0,Ut=(Pe&&Pe.flushSync)===!0,la=ke({currentLocation:Tt,nextLocation:Pt,historyAction:et});if(la){Me(la,{state:"blocked",location:Pt,proceed(){Me(la,{state:"proceeding",proceed:void 0,reset:void 0,location:Pt}),mo(de,Pe)},reset(){let Aa=new Map(Se.blockers);Aa.set(la,cm),Ai({blockers:Aa})}});return}await en(et,Pt,{submission:yt,pendingError:It,preventScrollReset:Zt,replace:Pe&&Pe.replace,enableViewTransition:Pe&&Pe.viewTransition,flushSync:Ut})}function si(){aa||(aa=mS()),Hr(),Ai({revalidation:"loading"});let de=aa.promise;return Se.navigation.state==="submitting"?de:Se.navigation.state==="idle"?(en(Se.historyAction,Se.location,{startUninterruptedRevalidation:!0}),de):(en(_t||Se.historyAction,Se.navigation.location,{overrideNavigation:Se.navigation,enableViewTransition:Ht===!0}),de)}async function en(de,Pe,Ne){zt&&zt.abort(),zt=null,_t=de,$t=(Ne&&Ne.startUninterruptedRevalidation)===!0,tt(Se.location,Se.matches),Dt=(Ne&&Ne.preventScrollReset)===!0,Ht=(Ne&&Ne.enableViewTransition)===!0;let dt=c||w,yt=Ne&&Ne.overrideNavigation,It=Ne?.initialHydration&&Se.matches&&Se.matches.length>0&&!Le?Se.matches:sd(dt,Pe,R),Tt=(Ne&&Ne.flushSync)===!0;if(It&&Se.initialized&&!ea&&lS(Se.location,Pe)&&!(Ne&&Ne.submission&&ls(Ne.submission.formMethod))){Ii(Pe,{matches:It},{flushSync:Tt});return}let Pt=ut(It,dt,Pe.pathname);if(Pt.active&&Pt.matches&&(It=Pt.matches),!It){let{error:Xt,notFoundMatches:Bt,route:pa}=Xe(Pe.pathname);Ii(Pe,{matches:Bt,loaderData:{},errors:{[pa.id]:Xt}},{flushSync:Tt});return}zt=new AbortController;let Vt=Ip(o.history,Pe,zt.signal,Ne&&Ne.submission),et=new r0(o.unstable_getContext?await o.unstable_getContext():void 0),Zt;if(Ne&&Ne.pendingError)Zt=[Th(It).route.id,{type:"error",error:Ne.pendingError}];else if(Ne&&Ne.submission&&ls(Ne.submission.formMethod)){let Xt=await Qn(Vt,Pe,Ne.submission,It,et,Pt.active,Ne&&Ne.initialHydration===!0,{replace:Ne.replace,flushSync:Tt});if(Xt.shortCircuited)return;if(Xt.pendingActionResult){let[Bt,pa]=Xt.pendingActionResult;if(ss(pa)&&Dm(pa.error)&&pa.error.status===404){zt=null,Ii(Pe,{matches:Xt.matches,loaderData:{},errors:{[Bt]:pa.error}});return}}It=Xt.matches||It,Zt=Xt.pendingActionResult,yt=Ay(Pe,Ne.submission),Tt=!1,Pt.active=!1,Vt=Ip(o.history,Vt.url,Vt.signal)}let{shortCircuited:Ut,matches:la,loaderData:Aa,errors:vt}=await cs(Vt,Pe,It,et,Pt.active,yt,Ne&&Ne.submission,Ne&&Ne.fetcherSubmission,Ne&&Ne.replace,Ne&&Ne.initialHydration===!0,Tt,Zt);Ut||(zt=null,Ii(Pe,{matches:la||It,...y0(Zt),loaderData:Aa,errors:vt}))}async function Qn(de,Pe,Ne,dt,yt,It,Tt,Pt={}){Hr();let Vt=dS(Pe,Ne);if(Ai({navigation:Vt},{flushSync:Pt.flushSync===!0}),It){let Ut=await Te(dt,Pe.pathname,de.signal);if(Ut.type==="aborted")return{shortCircuited:!0};if(Ut.type==="error"){let la=Th(Ut.partialMatches).route.id;return{matches:Ut.partialMatches,pendingActionResult:[la,{type:"error",error:Ut.error}]}}else if(Ut.matches)dt=Ut.matches;else{let{notFoundMatches:la,error:Aa,route:vt}=Xe(Pe.pathname);return{matches:la,pendingActionResult:[vt.id,{type:"error",error:Aa}]}}}let et,Zt=mm(dt,Pe);if(!Zt.route.action&&!Zt.route.lazy)et={type:"error",error:Bs(405,{method:de.method,pathname:Pe.pathname,routeId:Zt.route.id})};else{let Ut=Np(C,D,de,dt,Zt,Tt?[]:g,yt),la=await er(de,Ut,yt,null);if(et=la[Zt.route.id],!et){for(let Aa of dt)if(la[Aa.route.id]){et=la[Aa.route.id];break}}if(de.signal.aborted)return{shortCircuited:!0}}if(Ph(et)){let Ut;return Pt&&Pt.replace!=null?Ut=Pt.replace:Ut=p0(et.response.headers.get("Location"),new URL(de.url),R)===Se.location.pathname+Se.location.search,await pr(de,et,!0,{submission:Ne,replace:Ut}),{shortCircuited:!0}}if(ss(et)){let Ut=Th(dt,Zt.route.id);return(Pt&&Pt.replace)!==!0&&(_t="PUSH"),{matches:dt,pendingActionResult:[Ut.route.id,et,Zt.route.id]}}return{matches:dt,pendingActionResult:[Zt.route.id,et]}}async function cs(de,Pe,Ne,dt,yt,It,Tt,Pt,Vt,et,Zt,Ut){let la=It||Ay(Pe,Tt),Aa=Tt||Pt||x0(la),vt=!$t&&!et;if(yt){if(vt){let ti=Wa(Ut);Ai({navigation:la,...ti!==void 0?{actionData:ti}:{}},{flushSync:Zt})}let _a=await Te(Ne,Pe.pathname,de.signal);if(_a.type==="aborted")return{shortCircuited:!0};if(_a.type==="error"){let ti=Th(_a.partialMatches).route.id;return{matches:_a.partialMatches,loaderData:{},errors:{[ti]:_a.error}}}else if(_a.matches)Ne=_a.matches;else{let{error:ti,notFoundMatches:ja,route:Ar}=Xe(Pe.pathname);return{matches:ja,loaderData:{},errors:{[Ar.id]:ti}}}}let Xt=c||w,{dsMatches:Bt,revalidatingFetchers:pa}=l0(de,dt,C,D,o.history,Se,Ne,Aa,Pe,et?[]:g,et===!0,ea,ca,Mt,rt,_e,Xt,R,o.patchRoutesOnNavigation!=null,Ut);if(xt=++$e,!o.dataStrategy&&!Bt.some(_a=>_a.shouldLoad)&&pa.length===0){let _a=ee();return Ii(Pe,{matches:Ne,loaderData:{},errors:Ut&&ss(Ut[1])?{[Ut[0]]:Ut[1].error}:null,...y0(Ut),..._a?{fetchers:new Map(Se.fetchers)}:{}},{flushSync:Zt}),{shortCircuited:!0}}if(vt){let _a={};if(!yt){_a.navigation=la;let ti=Wa(Ut);ti!==void 0&&(_a.actionData=ti)}pa.length>0&&(_a.fetchers=Un(pa)),Ai(_a,{flushSync:Zt})}pa.forEach(_a=>{vn(_a.key),_a.controller&&Ke.set(_a.key,_a.controller)});let Xr=()=>pa.forEach(_a=>vn(_a.key));zt&&zt.signal.addEventListener("abort",Xr);let{loaderResults:Ci,fetcherResults:ra}=await Mr(Bt,pa,de,dt);if(de.signal.aborted)return{shortCircuited:!0};zt&&zt.signal.removeEventListener("abort",Xr),pa.forEach(_a=>Ke.delete(_a.key));let Ki=wg(Ci);if(Ki)return await pr(de,Ki.result,!0,{replace:Vt}),{shortCircuited:!0};if(Ki=wg(ra),Ki)return _e.add(Ki.key),await pr(de,Ki.result,!0,{replace:Vt}),{shortCircuited:!0};let{loaderData:tr,errors:ei}=m0(Se,Ne,Ci,Ut,pa,ra);et&&Se.errors&&(ei={...Se.errors,...ei});let Oo=ee(),kn=te(xt),Pn=Oo||kn||pa.length>0;return{matches:Ne,loaderData:tr,errors:ei,...Pn?{fetchers:new Map(Se.fetchers)}:{}}}function Wa(de){if(de&&!ss(de[1]))return{[de[0]]:de[1].data};if(Se.actionData)return Object.keys(Se.actionData).length===0?null:Se.actionData}function Un(de){return de.forEach(Pe=>{let Ne=Se.fetchers.get(Pe.key),dt=um(void 0,Ne?Ne.data:void 0);Se.fetchers.set(Pe.key,dt)}),new Map(Se.fetchers)}async function Tn(de,Pe,Ne,dt){vn(de);let yt=(dt&&dt.flushSync)===!0,It=c||w,Tt=Jy(Se.location,Se.matches,R,Ne,Pe,dt?.relative),Pt=sd(It,Tt,R),Vt=ut(Pt,It,Tt);if(Vt.active&&Vt.matches&&(Pt=Vt.matches),!Pt){za(de,Pe,Bs(404,{pathname:Tt}),{flushSync:yt});return}let{path:et,submission:Zt,error:Ut}=s0(!0,Tt,dt);if(Ut){za(de,Pe,Ut,{flushSync:yt});return}let la=mm(Pt,et),Aa=new r0(o.unstable_getContext?await o.unstable_getContext():void 0),vt=(dt&&dt.preventScrollReset)===!0;if(Zt&&ls(Zt.formMethod)){await go(de,Pe,et,la,Pt,Aa,Vt.active,yt,vt,Zt);return}rt.set(de,{routeId:Pe,path:et}),await hr(de,Pe,et,la,Pt,Aa,Vt.active,yt,vt,Zt)}async function go(de,Pe,Ne,dt,yt,It,Tt,Pt,Vt,et){Hr(),rt.delete(de);function Zt(li){if(!li.route.action&&!li.route.lazy){let ar=Bs(405,{method:et.formMethod,pathname:Ne,routeId:Pe});return za(de,Pe,ar,{flushSync:Pt}),!0}return!1}if(!Tt&&Zt(dt))return;let Ut=Se.fetchers.get(de);ji(de,hS(et,Ut),{flushSync:Pt});let la=new AbortController,Aa=Ip(o.history,Ne,la.signal,et);if(Tt){let li=await Te(yt,Ne,Aa.signal,de);if(li.type==="aborted")return;if(li.type==="error"){za(de,Pe,li.error,{flushSync:Pt});return}else if(li.matches){if(yt=li.matches,dt=mm(yt,Ne),Zt(dt))return}else{za(de,Pe,Bs(404,{pathname:Ne}),{flushSync:Pt});return}}Ke.set(de,la);let vt=$e,Xt=Np(C,D,Aa,yt,dt,g,It),pa=(await er(Aa,Xt,It,de))[dt.route.id];if(Aa.signal.aborted){Ke.get(de)===la&&Ke.delete(de);return}if(Mt.has(de)){if(Ph(pa)||ss(pa)){ji(de,rd(void 0));return}}else{if(Ph(pa))if(Ke.delete(de),xt>vt){ji(de,rd(void 0));return}else return _e.add(de),ji(de,um(et)),pr(Aa,pa,!1,{fetcherSubmission:et,preventScrollReset:Vt});if(ss(pa)){za(de,Pe,pa.error);return}}let Xr=Se.navigation.location||Se.location,Ci=Ip(o.history,Xr,la.signal),ra=c||w,Ki=Se.navigation.state!=="idle"?sd(ra,Se.navigation.location,R):Se.matches;qa(Ki,"Didn't find any matches after fetcher action");let tr=++$e;kt.set(de,tr);let ei=um(et,pa.data);Se.fetchers.set(de,ei);let{dsMatches:Oo,revalidatingFetchers:kn}=l0(Ci,It,C,D,o.history,Se,Ki,et,Xr,g,!1,ea,ca,Mt,rt,_e,ra,R,o.patchRoutesOnNavigation!=null,[dt.route.id,pa]);kn.filter(li=>li.key!==de).forEach(li=>{let ar=li.key,Ir=Se.fetchers.get(ar),Gn=um(void 0,Ir?Ir.data:void 0);Se.fetchers.set(ar,Gn),vn(ar),li.controller&&Ke.set(ar,li.controller)}),Ai({fetchers:new Map(Se.fetchers)});let Pn=()=>kn.forEach(li=>vn(li.key));la.signal.addEventListener("abort",Pn);let{loaderResults:_a,fetcherResults:ti}=await Mr(Oo,kn,Ci,It);if(la.signal.aborted)return;if(la.signal.removeEventListener("abort",Pn),kt.delete(de),Ke.delete(de),kn.forEach(li=>Ke.delete(li.key)),Se.fetchers.has(de)){let li=rd(pa.data);Se.fetchers.set(de,li)}let ja=wg(_a);if(ja)return pr(Ci,ja.result,!1,{preventScrollReset:Vt});if(ja=wg(ti),ja)return _e.add(ja.key),pr(Ci,ja.result,!1,{preventScrollReset:Vt});let{loaderData:Ar,errors:Zr}=m0(Se,Ki,_a,void 0,kn,ti);te(tr),Se.navigation.state==="loading"&&tr>xt?(qa(_t,"Expected pending action"),zt&&zt.abort(),Ii(Se.navigation.location,{matches:Ki,loaderData:Ar,errors:Zr,fetchers:new Map(Se.fetchers)})):(Ai({errors:Zr,loaderData:g0(Se.loaderData,Ar,Ki,Zr),fetchers:new Map(Se.fetchers)}),ea=!1)}async function hr(de,Pe,Ne,dt,yt,It,Tt,Pt,Vt,et){let Zt=Se.fetchers.get(de);ji(de,um(et,Zt?Zt.data:void 0),{flushSync:Pt});let Ut=new AbortController,la=Ip(o.history,Ne,Ut.signal);if(Tt){let pa=await Te(yt,Ne,la.signal,de);if(pa.type==="aborted")return;if(pa.type==="error"){za(de,Pe,pa.error,{flushSync:Pt});return}else if(pa.matches)yt=pa.matches,dt=mm(yt,Ne);else{za(de,Pe,Bs(404,{pathname:Ne}),{flushSync:Pt});return}}Ke.set(de,Ut);let Aa=$e,vt=Np(C,D,la,yt,dt,g,It),Bt=(await er(la,vt,It,de))[dt.route.id];if(Ke.get(de)===Ut&&Ke.delete(de),!la.signal.aborted){if(Mt.has(de)){ji(de,rd(void 0));return}if(Ph(Bt))if(xt>Aa){ji(de,rd(void 0));return}else{_e.add(de),await pr(la,Bt,!1,{preventScrollReset:Vt});return}if(ss(Bt)){za(de,Pe,Bt.error);return}ji(de,rd(Bt.data))}}async function pr(de,Pe,Ne,{submission:dt,fetcherSubmission:yt,preventScrollReset:It,replace:Tt}={}){Pe.response.headers.has("X-Remix-Revalidate")&&(ea=!0);let Pt=Pe.response.headers.get("Location");qa(Pt,"Expected a Location header on the redirect Response"),Pt=p0(Pt,new URL(de.url),R);let Vt=Pm(Se.location,Pt,{_isRedirect:!0});if(p){let vt=!1;if(Pe.response.headers.has("X-Remix-Reload-Document"))vt=!0;else if(_v.test(Pt)){const Xt=g_(Pt,!0);vt=Xt.origin!==l.location.origin||Us(Xt.pathname,R)==null}if(vt){Tt?l.location.replace(Pt):l.location.assign(Pt);return}}zt=null;let et=Tt===!0||Pe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Zt,formAction:Ut,formEncType:la}=Se.navigation;!dt&&!yt&&Zt&&Ut&&la&&(dt=x0(Se.navigation));let Aa=dt||yt;if(ZC.has(Pe.response.status)&&Aa&&ls(Aa.formMethod))await en(et,Vt,{submission:{...Aa,formAction:Pt},preventScrollReset:It||Dt,enableViewTransition:Ne?Ht:void 0});else{let vt=Ay(Vt,dt);await en(et,Vt,{overrideNavigation:vt,fetcherSubmission:yt,preventScrollReset:It||Dt,enableViewTransition:Ne?Ht:void 0})}}async function er(de,Pe,Ne,dt){let yt,It={};try{yt=await iS(k,de,Pe,dt,Ne,!1)}catch(Tt){return Pe.filter(Pt=>Pt.shouldLoad).forEach(Pt=>{It[Pt.route.id]={type:"error",error:Tt}}),It}if(de.signal.aborted)return It;for(let[Tt,Pt]of Object.entries(yt))if(cS(Pt)){let Vt=Pt.result;It[Tt]={type:"redirect",response:oS(Vt,de,Tt,Pe,R)}}else It[Tt]=await rS(Pt);return It}async function Mr(de,Pe,Ne,dt){let yt=er(Ne,de,dt,null),It=Promise.all(Pe.map(async Vt=>{if(Vt.matches&&Vt.match&&Vt.request&&Vt.controller){let Zt=(await er(Vt.request,Vt.matches,dt,Vt.key))[Vt.match.route.id];return{[Vt.key]:Zt}}else return Promise.resolve({[Vt.key]:{type:"error",error:Bs(404,{pathname:Vt.path})}})})),Tt=await yt,Pt=(await It).reduce((Vt,et)=>Object.assign(Vt,et),{});return{loaderResults:Tt,fetcherResults:Pt}}function Hr(){ea=!0,rt.forEach((de,Pe)=>{Ke.has(Pe)&&ca.add(Pe),vn(Pe)})}function ji(de,Pe,Ne={}){Se.fetchers.set(de,Pe),Ai({fetchers:new Map(Se.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function za(de,Pe,Ne,dt={}){let yt=Th(Se.matches,Pe);Bi(de),Ai({errors:{[yt.route.id]:Ne},fetchers:new Map(Se.fetchers)},{flushSync:(dt&&dt.flushSync)===!0})}function tn(de){return ht.set(de,(ht.get(de)||0)+1),Mt.has(de)&&Mt.delete(de),Se.fetchers.get(de)||$C}function Bi(de){let Pe=Se.fetchers.get(de);Ke.has(de)&&!(Pe&&Pe.state==="loading"&&kt.has(de))&&vn(de),rt.delete(de),kt.delete(de),_e.delete(de),Mt.delete(de),ca.delete(de),Se.fetchers.delete(de)}function kl(de){let Pe=(ht.get(de)||0)-1;Pe<=0?(ht.delete(de),Mt.add(de)):ht.set(de,Pe),Ai({fetchers:new Map(Se.fetchers)})}function vn(de){let Pe=Ke.get(de);Pe&&(Pe.abort(),Ke.delete(de))}function je(de){for(let Pe of de){let Ne=tn(Pe),dt=rd(Ne.data);Se.fetchers.set(Pe,dt)}}function ee(){let de=[],Pe=!1;for(let Ne of _e){let dt=Se.fetchers.get(Ne);qa(dt,`Expected fetcher: ${Ne}`),dt.state==="loading"&&(_e.delete(Ne),de.push(Ne),Pe=!0)}return je(de),Pe}function te(de){let Pe=[];for(let[Ne,dt]of kt)if(dt<de){let yt=Se.fetchers.get(Ne);qa(yt,`Expected fetcher: ${Ne}`),yt.state==="loading"&&(vn(Ne),kt.delete(Ne),Pe.push(Ne))}return je(Pe),Pe.length>0}function oe(de,Pe){let Ne=Se.blockers.get(de)||cm;return Ft.get(de)!==Pe&&Ft.set(de,Pe),Ne}function ge(de){Se.blockers.delete(de),Ft.delete(de)}function Me(de,Pe){let Ne=Se.blockers.get(de)||cm;qa(Ne.state==="unblocked"&&Pe.state==="blocked"||Ne.state==="blocked"&&Pe.state==="blocked"||Ne.state==="blocked"&&Pe.state==="proceeding"||Ne.state==="blocked"&&Pe.state==="unblocked"||Ne.state==="proceeding"&&Pe.state==="unblocked",`Invalid blocker state transition: ${Ne.state} -> ${Pe.state}`);let dt=new Map(Se.blockers);dt.set(de,Pe),Ai({blockers:dt})}function ke({currentLocation:de,nextLocation:Pe,historyAction:Ne}){if(Ft.size===0)return;Ft.size>1&&Rn(!1,"A router only supports one blocker at a time");let dt=Array.from(Ft.entries()),[yt,It]=dt[dt.length-1],Tt=Se.blockers.get(yt);if(!(Tt&&Tt.state==="proceeding")&&It({currentLocation:de,nextLocation:Pe,historyAction:Ne}))return yt}function Xe(de){let Pe=Bs(404,{pathname:de}),Ne=c||w,{matches:dt,route:yt}=v0(Ne);return{notFoundMatches:dt,route:yt,error:Pe}}function ze(de,Pe,Ne){if(H=de,Ie=Pe,ae=Ne||null,!Ve&&Se.navigation===My){Ve=!0;let dt=Be(Se.location,Se.matches);dt!=null&&Ai({restoreScrollPosition:dt})}return()=>{H=null,Ie=null,ae=null}}function st(de,Pe){return ae&&ae(de,Pe.map(dt=>PC(dt,Se.loaderData)))||de.key}function tt(de,Pe){if(H&&Ie){let Ne=st(de,Pe);H[Ne]=Ie()}}function Be(de,Pe){if(H){let Ne=st(de,Pe),dt=H[Ne];if(typeof dt=="number")return dt}return null}function ut(de,Pe,Ne){if(o.patchRoutesOnNavigation)if(de){if(Object.keys(de[0].params).length>0)return{active:!0,matches:Ig(Pe,Ne,R,!0)}}else return{active:!0,matches:Ig(Pe,Ne,R,!0)||[]};return{active:!1,matches:null}}async function Te(de,Pe,Ne,dt){if(!o.patchRoutesOnNavigation)return{type:"success",matches:de};let yt=de;for(;;){let It=c==null,Tt=c||w,Pt=D;try{await o.patchRoutesOnNavigation({signal:Ne,path:Pe,matches:yt,fetcherKey:dt,patch:(Zt,Ut)=>{Ne.aborted||c0(Zt,Ut,Tt,Pt,C)}})}catch(Zt){return{type:"error",error:Zt,partialMatches:yt}}finally{It&&!Ne.aborted&&(w=[...w])}if(Ne.aborted)return{type:"aborted"};let Vt=sd(Tt,Pe,R);if(Vt)return{type:"success",matches:Vt};let et=Ig(Tt,Pe,R,!0);if(!et||yt.length===et.length&&yt.every((Zt,Ut)=>Zt.route.id===et[Ut].route.id))return{type:"success",matches:null};yt=et}}function Et(de){D={},c=Bg(de,C,void 0,D)}function ta(de,Pe){let Ne=c==null;c0(de,Pe,c||w,D,C),Ne&&(w=[...w],Ai({}))}return He={get basename(){return R},get future(){return q},get state(){return Se},get routes(){return w},get window(){return l},initialize:Qi,subscribe:Qa,enableScrollRestoration:ze,navigate:mo,fetch:Tn,revalidate:si,createHref:de=>o.history.createHref(de),encodeLocation:de=>o.history.encodeLocation(de),getFetcher:tn,deleteFetcher:kl,dispose:Ja,getBlocker:oe,deleteBlocker:ge,patchRoutes:ta,_internalFetchControllers:Ke,_internalSetRoutes:Et},He}function YC(o){return o!=null&&("formData"in o&&o.formData!=null||"body"in o&&o.body!==void 0)}function Jy(o,l,p,g,C,D){let w,c;if(C){w=[];for(let k of l)if(w.push(k),k.route.id===C){c=k;break}}else w=l,c=l[l.length-1];let R=Qg(g||".",Yg(w),Us(o.pathname,p)||o.pathname,D==="path");if(g==null&&(R.search=o.search,R.hash=o.hash),(g==null||g===""||g===".")&&c){let k=wv(R.search);if(c.route.index&&!k)R.search=R.search?R.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&k){let q=new URLSearchParams(R.search),G=q.getAll("index");q.delete("index"),G.filter(H=>H).forEach(H=>q.append("index",H));let Z=q.toString();R.search=Z?`?${Z}`:""}}return p!=="/"&&(R.pathname=R.pathname==="/"?p:_c([p,R.pathname])),ud(R)}function s0(o,l,p){if(!p||!YC(p))return{path:l};if(p.formMethod&&!uS(p.formMethod))return{path:l,error:Bs(405,{method:p.formMethod})};let g=()=>({path:l,error:Bs(400,{type:"invalid-body"})}),D=(p.formMethod||"get").toUpperCase(),w=M_(l);if(p.body!==void 0){if(p.formEncType==="text/plain"){if(!ls(D))return g();let G=typeof p.body=="string"?p.body:p.body instanceof FormData||p.body instanceof URLSearchParams?Array.from(p.body.entries()).reduce((Z,[H,ae])=>`${Z}${H}=${ae}
`,""):String(p.body);return{path:l,submission:{formMethod:D,formAction:w,formEncType:p.formEncType,formData:void 0,json:void 0,text:G}}}else if(p.formEncType==="application/json"){if(!ls(D))return g();try{let G=typeof p.body=="string"?JSON.parse(p.body):p.body;return{path:l,submission:{formMethod:D,formAction:w,formEncType:p.formEncType,formData:void 0,json:G,text:void 0}}}catch{return g()}}}qa(typeof FormData=="function","FormData is not available in this environment");let c,R;if(p.formData)c=Qy(p.formData),R=p.formData;else if(p.body instanceof FormData)c=Qy(p.body),R=p.body;else if(p.body instanceof URLSearchParams)c=p.body,R=f0(c);else if(p.body==null)c=new URLSearchParams,R=new FormData;else try{c=new URLSearchParams(p.body),R=f0(c)}catch{return g()}let k={formMethod:D,formAction:w,formEncType:p&&p.formEncType||"application/x-www-form-urlencoded",formData:R,json:void 0,text:void 0};if(ls(k.formMethod))return{path:l,submission:k};let q=pd(l);return o&&q.search&&wv(q.search)&&c.append("index",""),q.search=`?${c}`,{path:ud(q),submission:k}}function l0(o,l,p,g,C,D,w,c,R,k,q,G,Z,H,ae,Ie,Ve,we,Le,Oe){let ot=Oe?ss(Oe[1])?Oe[1].error:Oe[1].data:void 0,He=C.createURL(D.location),Se=C.createURL(R),_t;if(q&&D.errors){let $t=Object.keys(D.errors)[0];_t=w.findIndex(ea=>ea.route.id===$t)}else if(Oe&&ss(Oe[1])){let $t=Oe[0];_t=w.findIndex(ea=>ea.route.id===$t)-1}let Dt=Oe?Oe[1].statusCode:void 0,zt=Dt&&Dt>=400,Ht={currentUrl:He,currentParams:D.matches[0]?.params||{},nextUrl:Se,nextParams:w[0].params,...c,actionResult:ot,actionStatus:Dt},ga=w.map(($t,ea)=>{let{route:ca}=$t,Ke=null;if(_t!=null&&ea>_t?Ke=!1:ca.lazy?Ke=!0:ca.loader==null?Ke=!1:q?Ke=Wy(ca,D.loaderData,D.errors):QC(D.loaderData,D.matches[ea],$t)&&(Ke=!0),Ke!==null)return Yy(p,g,o,$t,k,l,Ke);let $e=zt?!1:G||He.pathname+He.search===Se.pathname+Se.search||He.search!==Se.search||eS(D.matches[ea],$t),xt={...Ht,defaultShouldRevalidate:$e},kt=Ug($t,xt);return Yy(p,g,o,$t,k,l,kt,xt)}),sa=[];return ae.forEach(($t,ea)=>{if(q||!w.some(ht=>ht.route.id===$t.routeId)||H.has(ea))return;let ca=D.fetchers.get(ea),Ke=ca&&ca.state!=="idle"&&ca.data===void 0,$e=sd(Ve,$t.path,we);if(!$e){if(Le&&Ke)return;sa.push({key:ea,routeId:$t.routeId,path:$t.path,matches:null,match:null,request:null,controller:null});return}if(Ie.has(ea))return;let xt=mm($e,$t.path),kt=new AbortController,_e=Ip(C,$t.path,kt.signal),rt=null;if(Z.has(ea))Z.delete(ea),rt=Np(p,g,_e,$e,xt,k,l);else if(Ke)G&&(rt=Np(p,g,_e,$e,xt,k,l));else{let ht={...Ht,defaultShouldRevalidate:zt?!1:G};Ug(xt,ht)&&(rt=Np(p,g,_e,$e,xt,k,l,ht))}rt&&sa.push({key:ea,routeId:$t.routeId,path:$t.path,matches:rt,match:xt,request:_e,controller:kt})}),{dsMatches:ga,revalidatingFetchers:sa}}function Wy(o,l,p){if(o.lazy)return!0;if(!o.loader)return!1;let g=l!=null&&o.id in l,C=p!=null&&p[o.id]!==void 0;return!g&&C?!1:typeof o.loader=="function"&&o.loader.hydrate===!0?!0:!g&&!C}function QC(o,l,p){let g=!l||p.route.id!==l.route.id,C=!o.hasOwnProperty(p.route.id);return g||C}function eS(o,l){let p=o.route.path;return o.pathname!==l.pathname||p!=null&&p.endsWith("*")&&o.params["*"]!==l.params["*"]}function Ug(o,l){if(o.route.shouldRevalidate){let p=o.route.shouldRevalidate(l);if(typeof p=="boolean")return p}return l.defaultShouldRevalidate}function c0(o,l,p,g,C){let D;if(o){let R=g[o];qa(R,`No route found to patch children into: routeId = ${o}`),R.children||(R.children=[]),D=R.children}else D=p;let w=l.filter(R=>!D.some(k=>C_(R,k))),c=Bg(w,C,[o||"_","patch",String(D?.length||"0")],g);D.push(...c)}function C_(o,l){return"id"in o&&"id"in l&&o.id===l.id?!0:o.index===l.index&&o.path===l.path&&o.caseSensitive===l.caseSensitive?(!o.children||o.children.length===0)&&(!l.children||l.children.length===0)?!0:o.children.every((p,g)=>l.children?.some(C=>C_(p,C))):!1}var u0=new WeakMap,S_=({key:o,route:l,manifest:p,mapRouteProperties:g})=>{let C=p[l.id];if(qa(C,"No route found in manifest"),!C.lazy||typeof C.lazy!="object")return;let D=C.lazy[o];if(!D)return;let w=u0.get(C);w||(w={},u0.set(C,w));let c=w[o];if(c)return c;let R=(async()=>{let k=wC(o),G=C[o]!==void 0&&o!=="hasErrorBoundary";if(k)Rn(!k,"Route property "+o+" is not a supported lazy route property. This property will be ignored."),w[o]=Promise.resolve();else if(G)Rn(!1,`Route "${C.id}" has a static property "${o}" defined. The lazy property will be ignored.`);else{let Z=await D();Z!=null&&(Object.assign(C,{[o]:Z}),Object.assign(C,g(C)))}typeof C.lazy=="object"&&(C.lazy[o]=void 0,Object.values(C.lazy).every(Z=>Z===void 0)&&(C.lazy=void 0))})();return w[o]=R,R},d0=new WeakMap;function tS(o,l,p,g,C){let D=p[o.id];if(qa(D,"No route found in manifest"),!o.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof o.lazy=="function"){let q=d0.get(D);if(q)return{lazyRoutePromise:q,lazyHandlerPromise:q};let G=(async()=>{qa(typeof o.lazy=="function","No lazy route function found");let Z=await o.lazy(),H={};for(let ae in Z){let Ie=Z[ae];if(Ie===void 0)continue;let Ve=SC(ae),Le=D[ae]!==void 0&&ae!=="hasErrorBoundary";Ve?Rn(!Ve,"Route property "+ae+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Le?Rn(!Le,`Route "${D.id}" has a static property "${ae}" defined but its lazy function is also returning a value for this property. The lazy route property "${ae}" will be ignored.`):H[ae]=Ie}Object.assign(D,H),Object.assign(D,{...g(D),lazy:void 0})})();return d0.set(D,G),G.catch(()=>{}),{lazyRoutePromise:G,lazyHandlerPromise:G}}let w=Object.keys(o.lazy),c=[],R;for(let q of w){if(C&&C.includes(q))continue;let G=S_({key:q,route:o,manifest:p,mapRouteProperties:g});G&&(c.push(G),q===l&&(R=G))}let k=c.length>0?Promise.all(c).then(()=>{}):void 0;return k?.catch(()=>{}),R?.catch(()=>{}),{lazyRoutePromise:k,lazyHandlerPromise:R}}async function h0(o){let l=o.matches.filter(C=>C.shouldLoad),p={};return(await Promise.all(l.map(C=>C.resolve()))).forEach((C,D)=>{p[l[D].route.id]=C}),p}async function aS(o){return o.matches.some(l=>l.route.unstable_middleware)?T_(o,!1,()=>h0(o),(l,p)=>({[p]:{type:"error",result:l}})):h0(o)}async function T_(o,l,p,g){let{matches:C,request:D,params:w,context:c}=o,R={handlerResult:void 0};try{let k=C.flatMap(G=>G.route.unstable_middleware?G.route.unstable_middleware.map(Z=>[G.route.id,Z]):[]),q=await P_({request:D,params:w,context:c},k,l,R,p);return l?q:R.handlerResult}catch(k){if(!R.middlewareError)throw k;let q=await g(R.middlewareError.error,R.middlewareError.routeId);return R.handlerResult?Object.assign(R.handlerResult,q):q}}async function P_(o,l,p,g,C,D=0){let{request:w}=o;if(w.signal.aborted)throw w.signal.reason?w.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${w.method} ${w.url}`);let c=l[D];if(!c)return g.handlerResult=await C(),g.handlerResult;let[R,k]=c,q=!1,G,Z=async()=>{if(q)throw new Error("You may only call `next()` once per middleware");q=!0,await P_(o,l,p,g,C,D+1)};try{let H=await k({request:o.request,params:o.params,context:o.context},Z);return q?H===void 0?G:H:Z()}catch(H){throw g.middlewareError?g.middlewareError.error!==H&&(g.middlewareError={routeId:R,error:H}):g.middlewareError={routeId:R,error:H},H}}function D_(o,l,p,g,C){let D=S_({key:"unstable_middleware",route:g.route,manifest:l,mapRouteProperties:o}),w=tS(g.route,ls(p.method)?"action":"loader",l,o,C);return{middleware:D,route:w.lazyRoutePromise,handler:w.lazyHandlerPromise}}function Yy(o,l,p,g,C,D,w,c=null){let R=!1,k=D_(o,l,p,g,C);return{...g,_lazyPromises:k,shouldLoad:w,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(q){return R=!0,c?typeof q=="boolean"?Ug(g,{...c,defaultShouldRevalidate:q}):Ug(g,c):w},resolve(q){return R||w||q&&p.method==="GET"&&(g.route.lazy||g.route.loader)?nS({request:p,match:g,lazyHandlerPromise:k?.handler,lazyRoutePromise:k?.route,handlerOverride:q,scopedContext:D}):Promise.resolve({type:"data",result:void 0})}}}function Np(o,l,p,g,C,D,w,c=null){return g.map(R=>R.route.id!==C.route.id?{...R,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:D_(o,l,p,R,D),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Yy(o,l,p,R,D,w,!0,c))}async function iS(o,l,p,g,C,D){p.some(k=>k._lazyPromises?.middleware)&&await Promise.all(p.map(k=>k._lazyPromises?.middleware));let w={request:l,params:p[0].params,context:C,matches:p},R=await o({...w,fetcherKey:g,unstable_runClientMiddleware:k=>{let q=w;return T_(q,!1,()=>k({...q,fetcherKey:g,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(G,Z)=>({[Z]:{type:"error",result:G}}))}});try{await Promise.all(p.flatMap(k=>[k._lazyPromises?.handler,k._lazyPromises?.route]))}catch{}return R}async function nS({request:o,match:l,lazyHandlerPromise:p,lazyRoutePromise:g,handlerOverride:C,scopedContext:D}){let w,c,R=ls(o.method),k=R?"action":"loader",q=G=>{let Z,H=new Promise((Ve,we)=>Z=we);c=()=>Z(),o.signal.addEventListener("abort",c);let ae=Ve=>typeof G!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${k}" [routeId: ${l.route.id}]`)):G({request:o,params:l.params,context:D},...Ve!==void 0?[Ve]:[]),Ie=(async()=>{try{return{type:"data",result:await(C?C(we=>ae(we)):ae())}}catch(Ve){return{type:"error",result:Ve}}})();return Promise.race([Ie,H])};try{let G=R?l.route.action:l.route.loader;if(p||g)if(G){let Z,[H]=await Promise.all([q(G).catch(ae=>{Z=ae}),p,g]);if(Z!==void 0)throw Z;w=H}else{await p;let Z=R?l.route.action:l.route.loader;if(Z)[w]=await Promise.all([q(Z),g]);else if(k==="action"){let H=new URL(o.url),ae=H.pathname+H.search;throw Bs(405,{method:o.method,pathname:ae,routeId:l.route.id})}else return{type:"data",result:void 0}}else if(G)w=await q(G);else{let Z=new URL(o.url),H=Z.pathname+Z.search;throw Bs(404,{pathname:H})}}catch(G){return{type:"error",result:G}}finally{c&&o.signal.removeEventListener("abort",c)}return w}async function rS(o){let{result:l,type:p}=o;if(A_(l)){let g;try{let C=l.headers.get("Content-Type");C&&/\bapplication\/json\b/.test(C)?l.body==null?g=null:g=await l.json():g=await l.text()}catch(C){return{type:"error",error:C}}return p==="error"?{type:"error",error:new Vg(l.status,l.statusText,g),statusCode:l.status,headers:l.headers}:{type:"data",data:g,statusCode:l.status,headers:l.headers}}return p==="error"?b0(l)?l.data instanceof Error?{type:"error",error:l.data,statusCode:l.init?.status,headers:l.init?.headers?new Headers(l.init.headers):void 0}:{type:"error",error:new Vg(l.init?.status||500,void 0,l.data),statusCode:Dm(l)?l.status:void 0,headers:l.init?.headers?new Headers(l.init.headers):void 0}:{type:"error",error:l,statusCode:Dm(l)?l.status:void 0}:b0(l)?{type:"data",data:l.data,statusCode:l.init?.status,headers:l.init?.headers?new Headers(l.init.headers):void 0}:{type:"data",data:l}}function oS(o,l,p,g,C){let D=o.headers.get("Location");if(qa(D,"Redirects returned/thrown from loaders/actions must have a Location header"),!_v.test(D)){let w=g.slice(0,g.findIndex(c=>c.route.id===p)+1);D=Jy(new URL(l.url),w,C,D),o.headers.set("Location",D)}return o}function p0(o,l,p){if(_v.test(o)){let g=o,C=g.startsWith("//")?new URL(l.protocol+g):new URL(g),D=Us(C.pathname,p)!=null;if(C.origin===l.origin&&D)return C.pathname+C.search+C.hash}return o}function Ip(o,l,p,g){let C=o.createURL(M_(l)).toString(),D={signal:p};if(g&&ls(g.formMethod)){let{formMethod:w,formEncType:c}=g;D.method=w.toUpperCase(),c==="application/json"?(D.headers=new Headers({"Content-Type":c}),D.body=JSON.stringify(g.json)):c==="text/plain"?D.body=g.text:c==="application/x-www-form-urlencoded"&&g.formData?D.body=Qy(g.formData):D.body=g.formData}return new Request(C,D)}function Qy(o){let l=new URLSearchParams;for(let[p,g]of o.entries())l.append(p,typeof g=="string"?g:g.name);return l}function f0(o){let l=new FormData;for(let[p,g]of o.entries())l.append(p,g);return l}function sS(o,l,p,g=!1,C=!1){let D={},w=null,c,R=!1,k={},q=p&&ss(p[1])?p[1].error:void 0;return o.forEach(G=>{if(!(G.route.id in l))return;let Z=G.route.id,H=l[Z];if(qa(!Ph(H),"Cannot handle redirect results in processLoaderData"),ss(H)){let ae=H.error;if(q!==void 0&&(ae=q,q=void 0),w=w||{},C)w[Z]=ae;else{let Ie=Th(o,Z);w[Ie.route.id]==null&&(w[Ie.route.id]=ae)}g||(D[Z]=w_),R||(R=!0,c=Dm(H.error)?H.error.status:500),H.headers&&(k[Z]=H.headers)}else D[Z]=H.data,H.statusCode&&H.statusCode!==200&&!R&&(c=H.statusCode),H.headers&&(k[Z]=H.headers)}),q!==void 0&&p&&(w={[p[0]]:q},p[2]&&(D[p[2]]=void 0)),{loaderData:D,errors:w,statusCode:c||200,loaderHeaders:k}}function m0(o,l,p,g,C,D){let{loaderData:w,errors:c}=sS(l,p,g);return C.filter(R=>!R.matches||R.matches.some(k=>k.shouldLoad)).forEach(R=>{let{key:k,match:q,controller:G}=R,Z=D[k];if(qa(Z,"Did not find corresponding fetcher result"),!(G&&G.signal.aborted))if(ss(Z)){let H=Th(o.matches,q?.route.id);c&&c[H.route.id]||(c={...c,[H.route.id]:Z.error}),o.fetchers.delete(k)}else if(Ph(Z))qa(!1,"Unhandled fetcher revalidation redirect");else{let H=rd(Z.data);o.fetchers.set(k,H)}}),{loaderData:w,errors:c}}function g0(o,l,p,g){let C=Object.entries(l).filter(([,D])=>D!==w_).reduce((D,[w,c])=>(D[w]=c,D),{});for(let D of p){let w=D.route.id;if(!l.hasOwnProperty(w)&&o.hasOwnProperty(w)&&D.route.loader&&(C[w]=o[w]),g&&g.hasOwnProperty(w))break}return C}function y0(o){return o?ss(o[1])?{actionData:{}}:{actionData:{[o[0]]:o[1].data}}:{}}function Th(o,l){return(l?o.slice(0,o.findIndex(g=>g.route.id===l)+1):[...o]).reverse().find(g=>g.route.hasErrorBoundary===!0)||o[0]}function v0(o){let l=o.length===1?o[0]:o.find(p=>p.index||!p.path||p.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:l}],route:l}}function Bs(o,{pathname:l,routeId:p,method:g,type:C,message:D}={}){let w="Unknown Server Error",c="Unknown @remix-run/router error";return o===400?(w="Bad Request",g&&l&&p?c=`You made a ${g} request to "${l}" but did not provide a \`loader\` for route "${p}", so there is no way to handle the request.`:C==="invalid-body"&&(c="Unable to encode submission body")):o===403?(w="Forbidden",c=`Route "${p}" does not match URL "${l}"`):o===404?(w="Not Found",c=`No route matches URL "${l}"`):o===405&&(w="Method Not Allowed",g&&l&&p?c=`You made a ${g.toUpperCase()} request to "${l}" but did not provide an \`action\` for route "${p}", so there is no way to handle the request.`:g&&(c=`Invalid request method "${g.toUpperCase()}"`)),new Vg(o||500,w,new Error(c),!0)}function wg(o){let l=Object.entries(o);for(let p=l.length-1;p>=0;p--){let[g,C]=l[p];if(Ph(C))return{key:g,result:C}}}function M_(o){let l=typeof o=="string"?pd(o):o;return ud({...l,hash:""})}function lS(o,l){return o.pathname!==l.pathname||o.search!==l.search?!1:o.hash===""?l.hash!=="":o.hash===l.hash?!0:l.hash!==""}function cS(o){return A_(o.result)&&XC.has(o.result.status)}function ss(o){return o.type==="error"}function Ph(o){return(o&&o.type)==="redirect"}function b0(o){return typeof o=="object"&&o!=null&&"type"in o&&"data"in o&&"init"in o&&o.type==="DataWithResponseInit"}function A_(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.headers=="object"&&typeof o.body<"u"}function uS(o){return HC.has(o.toUpperCase())}function ls(o){return UC.has(o.toUpperCase())}function wv(o){return new URLSearchParams(o).getAll("index").some(l=>l==="")}function mm(o,l){let p=typeof l=="string"?pd(l).search:l.search;if(o[o.length-1].route.index&&wv(p||""))return o[o.length-1];let g=b_(o);return g[g.length-1]}function x0(o){let{formMethod:l,formAction:p,formEncType:g,text:C,formData:D,json:w}=o;if(!(!l||!p||!g)){if(C!=null)return{formMethod:l,formAction:p,formEncType:g,formData:void 0,json:void 0,text:C};if(D!=null)return{formMethod:l,formAction:p,formEncType:g,formData:D,json:void 0,text:void 0};if(w!==void 0)return{formMethod:l,formAction:p,formEncType:g,formData:void 0,json:w,text:void 0}}}function Ay(o,l){return l?{state:"loading",location:o,formMethod:l.formMethod,formAction:l.formAction,formEncType:l.formEncType,formData:l.formData,json:l.json,text:l.text}:{state:"loading",location:o,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dS(o,l){return{state:"submitting",location:o,formMethod:l.formMethod,formAction:l.formAction,formEncType:l.formEncType,formData:l.formData,json:l.json,text:l.text}}function um(o,l){return o?{state:"loading",formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text,data:l}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:l}}function hS(o,l){return{state:"submitting",formMethod:o.formMethod,formAction:o.formAction,formEncType:o.formEncType,formData:o.formData,json:o.json,text:o.text,data:l?l.data:void 0}}function rd(o){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:o}}function pS(o,l){try{let p=o.sessionStorage.getItem(__);if(p){let g=JSON.parse(p);for(let[C,D]of Object.entries(g||{}))D&&Array.isArray(D)&&l.set(C,new Set(D||[]))}}catch{}}function fS(o,l){if(l.size>0){let p={};for(let[g,C]of l)p[g]=[...C];try{o.sessionStorage.setItem(__,JSON.stringify(p))}catch(g){Rn(!1,`Failed to save applied view transitions in sessionStorage (${g}).`)}}}function mS(){let o,l,p=new Promise((g,C)=>{o=async D=>{g(D);try{await p}catch{}},l=async D=>{C(D);try{await p}catch{}}});return{promise:p,resolve:o,reject:l}}var zh=fe.createContext(null);zh.displayName="DataRouter";var km=fe.createContext(null);km.displayName="DataRouterState";var Cv=fe.createContext({isTransitioning:!1});Cv.displayName="ViewTransition";var I_=fe.createContext(new Map);I_.displayName="Fetchers";var gS=fe.createContext(null);gS.displayName="Await";var El=fe.createContext(null);El.displayName="Navigation";var ey=fe.createContext(null);ey.displayName="Location";var Gs=fe.createContext({outlet:null,matches:[],isDataRoute:!1});Gs.displayName="Route";var Sv=fe.createContext(null);Sv.displayName="RouteError";function yS(o,{relative:l}={}){qa(Bp(),"useHref() may be used only in the context of a <Router> component.");let{basename:p,navigator:g}=fe.useContext(El),{hash:C,pathname:D,search:w}=Nm(o,{relative:l}),c=D;return p!=="/"&&(c=D==="/"?p:_c([p,D])),g.createHref({pathname:c,search:w,hash:C})}function Bp(){return fe.useContext(ey)!=null}function zl(){return qa(Bp(),"useLocation() may be used only in the context of a <Router> component."),fe.useContext(ey).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(o){fe.useContext(El).static||fe.useLayoutEffect(o)}function Tv(){let{isDataRoute:o}=fe.useContext(Gs);return o?ES():vS()}function vS(){qa(Bp(),"useNavigate() may be used only in the context of a <Router> component.");let o=fe.useContext(zh),{basename:l,navigator:p}=fe.useContext(El),{matches:g}=fe.useContext(Gs),{pathname:C}=zl(),D=JSON.stringify(Yg(g)),w=fe.useRef(!1);return E_(()=>{w.current=!0}),fe.useCallback((R,k={})=>{if(Rn(w.current,L_),!w.current)return;if(typeof R=="number"){p.go(R);return}let q=Qg(R,JSON.parse(D),C,k.relative==="path");o==null&&l!=="/"&&(q.pathname=q.pathname==="/"?l:_c([l,q.pathname])),(k.replace?p.replace:p.push)(q,k.state,k)},[l,p,D,C,o])}var bS=fe.createContext(null);function xS(o){let l=fe.useContext(Gs).outlet;return l&&fe.createElement(bS.Provider,{value:o},l)}function Pv(){let{matches:o}=fe.useContext(Gs),l=o[o.length-1];return l?l.params:{}}function Nm(o,{relative:l}={}){let{matches:p}=fe.useContext(Gs),{pathname:g}=zl(),C=JSON.stringify(Yg(p));return fe.useMemo(()=>Qg(o,JSON.parse(C),g,l==="path"),[o,C,g,l])}function _S(o,l,p,g){qa(Bp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:C}=fe.useContext(El),{matches:D}=fe.useContext(Gs),w=D[D.length-1],c=w?w.params:{},R=w?w.pathname:"/",k=w?w.pathnameBase:"/",q=w&&w.route;{let we=q&&q.path||"";z_(R,!q||we.endsWith("*")||we.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${R}" (under <Route path="${we}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${we}"> to <Route path="${we==="/"?"*":`${we}/*`}">.`)}let G=zl(),Z;Z=G;let H=Z.pathname||"/",ae=H;if(k!=="/"){let we=k.replace(/^\//,"").split("/");ae="/"+H.replace(/^\//,"").split("/").slice(we.length).join("/")}let Ie=sd(o,{pathname:ae});return Rn(q||Ie!=null,`No routes matched location "${Z.pathname}${Z.search}${Z.hash}" `),Rn(Ie==null||Ie[Ie.length-1].route.element!==void 0||Ie[Ie.length-1].route.Component!==void 0||Ie[Ie.length-1].route.lazy!==void 0,`Matched leaf route at location "${Z.pathname}${Z.search}${Z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PS(Ie&&Ie.map(we=>Object.assign({},we,{params:Object.assign({},c,we.params),pathname:_c([k,C.encodeLocation?C.encodeLocation(we.pathname).pathname:we.pathname]),pathnameBase:we.pathnameBase==="/"?k:_c([k,C.encodeLocation?C.encodeLocation(we.pathnameBase).pathname:we.pathnameBase])})),D,p,g)}function wS(){let o=LS(),l=Dm(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),p=o instanceof Error?o.stack:null,g="rgba(200,200,200, 0.5)",C={padding:"0.5rem",backgroundColor:g},D={padding:"2px 4px",backgroundColor:g},w=null;return console.error("Error handled by React Router default ErrorBoundary:",o),w=fe.createElement(fe.Fragment,null,fe.createElement("p",null,"💿 Hey developer 👋"),fe.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",fe.createElement("code",{style:D},"ErrorBoundary")," or"," ",fe.createElement("code",{style:D},"errorElement")," prop on your route.")),fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},l),p?fe.createElement("pre",{style:C},p):null,w)}var CS=fe.createElement(wS,null),SS=class extends fe.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,l){return l.location!==o.location||l.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:l.error,location:l.location,revalidation:o.revalidation||l.revalidation}}componentDidCatch(o,l){console.error("React Router caught the following error during render",o,l)}render(){return this.state.error!==void 0?fe.createElement(Gs.Provider,{value:this.props.routeContext},fe.createElement(Sv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TS({routeContext:o,match:l,children:p}){let g=fe.useContext(zh);return g&&g.static&&g.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=l.route.id),fe.createElement(Gs.Provider,{value:o},p)}function PS(o,l=[],p=null,g=null){if(o==null){if(!p)return null;if(p.errors)o=p.matches;else if(l.length===0&&!p.initialized&&p.matches.length>0)o=p.matches;else return null}let C=o,D=p?.errors;if(D!=null){let R=C.findIndex(k=>k.route.id&&D?.[k.route.id]!==void 0);qa(R>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(D).join(",")}`),C=C.slice(0,Math.min(C.length,R+1))}let w=!1,c=-1;if(p)for(let R=0;R<C.length;R++){let k=C[R];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(c=R),k.route.id){let{loaderData:q,errors:G}=p,Z=k.route.loader&&!q.hasOwnProperty(k.route.id)&&(!G||G[k.route.id]===void 0);if(k.route.lazy||Z){w=!0,c>=0?C=C.slice(0,c+1):C=[C[0]];break}}}return C.reduceRight((R,k,q)=>{let G,Z=!1,H=null,ae=null;p&&(G=D&&k.route.id?D[k.route.id]:void 0,H=k.route.errorElement||CS,w&&(c<0&&q===0?(z_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Z=!0,ae=null):c===q&&(Z=!0,ae=k.route.hydrateFallbackElement||null)));let Ie=l.concat(C.slice(0,q+1)),Ve=()=>{let we;return G?we=H:Z?we=ae:k.route.Component?we=fe.createElement(k.route.Component,null):k.route.element?we=k.route.element:we=R,fe.createElement(TS,{match:k,routeContext:{outlet:R,matches:Ie,isDataRoute:p!=null},children:we})};return p&&(k.route.ErrorBoundary||k.route.errorElement||q===0)?fe.createElement(SS,{location:p.location,revalidation:p.revalidation,component:H,error:G,children:Ve(),routeContext:{outlet:null,matches:Ie,isDataRoute:!0}}):Ve()},null)}function Dv(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(o){let l=fe.useContext(zh);return qa(l,Dv(o)),l}function MS(o){let l=fe.useContext(km);return qa(l,Dv(o)),l}function AS(o){let l=fe.useContext(Gs);return qa(l,Dv(o)),l}function Mv(o){let l=AS(o),p=l.matches[l.matches.length-1];return qa(p.route.id,`${o} can only be used on routes that contain a unique "id"`),p.route.id}function IS(){return Mv("useRouteId")}function LS(){let o=fe.useContext(Sv),l=MS("useRouteError"),p=Mv("useRouteError");return o!==void 0?o:l.errors?.[p]}function ES(){let{router:o}=DS("useNavigate"),l=Mv("useNavigate"),p=fe.useRef(!1);return E_(()=>{p.current=!0}),fe.useCallback(async(C,D={})=>{Rn(p.current,L_),p.current&&(typeof C=="number"?o.navigate(C):await o.navigate(C,{fromRouteId:l,...D}))},[o,l])}var _0={};function z_(o,l,p){!l&&!_0[o]&&(_0[o]=!0,Rn(!1,p))}var w0={};function C0(o,l){!o&&!w0[l]&&(w0[l]=!0,console.warn(l))}function zS(o){let l={hasErrorBoundary:o.hasErrorBoundary||o.ErrorBoundary!=null||o.errorElement!=null};return o.Component&&(o.element&&Rn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(l,{element:fe.createElement(o.Component),Component:void 0})),o.HydrateFallback&&(o.hydrateFallbackElement&&Rn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(l,{hydrateFallbackElement:fe.createElement(o.HydrateFallback),HydrateFallback:void 0})),o.ErrorBoundary&&(o.errorElement&&Rn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(l,{errorElement:fe.createElement(o.ErrorBoundary),ErrorBoundary:void 0})),l}var RS=["HydrateFallback","hydrateFallbackElement"],kS=class{constructor(){this.status="pending",this.promise=new Promise((o,l)=>{this.resolve=p=>{this.status==="pending"&&(this.status="resolved",o(p))},this.reject=p=>{this.status==="pending"&&(this.status="rejected",l(p))}})}};function NS({router:o,flushSync:l}){let[p,g]=fe.useState(o.state),[C,D]=fe.useState(),[w,c]=fe.useState({isTransitioning:!1}),[R,k]=fe.useState(),[q,G]=fe.useState(),[Z,H]=fe.useState(),ae=fe.useRef(new Map),Ie=fe.useCallback((Oe,{deletedFetchers:ot,flushSync:He,viewTransitionOpts:Se})=>{Oe.fetchers.forEach((Dt,zt)=>{Dt.data!==void 0&&ae.current.set(zt,Dt.data)}),ot.forEach(Dt=>ae.current.delete(Dt)),C0(He===!1||l!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _t=o.window!=null&&o.window.document!=null&&typeof o.window.document.startViewTransition=="function";if(C0(Se==null||_t,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!Se||!_t){l&&He?l(()=>g(Oe)):fe.startTransition(()=>g(Oe));return}if(l&&He){l(()=>{q&&(R&&R.resolve(),q.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:Se.currentLocation,nextLocation:Se.nextLocation})});let Dt=o.window.document.startViewTransition(()=>{l(()=>g(Oe))});Dt.finished.finally(()=>{l(()=>{k(void 0),G(void 0),D(void 0),c({isTransitioning:!1})})}),l(()=>G(Dt));return}q?(R&&R.resolve(),q.skipTransition(),H({state:Oe,currentLocation:Se.currentLocation,nextLocation:Se.nextLocation})):(D(Oe),c({isTransitioning:!0,flushSync:!1,currentLocation:Se.currentLocation,nextLocation:Se.nextLocation}))},[o.window,l,q,R]);fe.useLayoutEffect(()=>o.subscribe(Ie),[o,Ie]),fe.useEffect(()=>{w.isTransitioning&&!w.flushSync&&k(new kS)},[w]),fe.useEffect(()=>{if(R&&C&&o.window){let Oe=C,ot=R.promise,He=o.window.document.startViewTransition(async()=>{fe.startTransition(()=>g(Oe)),await ot});He.finished.finally(()=>{k(void 0),G(void 0),D(void 0),c({isTransitioning:!1})}),G(He)}},[C,R,o.window]),fe.useEffect(()=>{R&&C&&p.location.key===C.location.key&&R.resolve()},[R,q,p.location,C]),fe.useEffect(()=>{!w.isTransitioning&&Z&&(D(Z.state),c({isTransitioning:!0,flushSync:!1,currentLocation:Z.currentLocation,nextLocation:Z.nextLocation}),H(void 0))},[w.isTransitioning,Z]);let Ve=fe.useMemo(()=>({createHref:o.createHref,encodeLocation:o.encodeLocation,go:Oe=>o.navigate(Oe),push:(Oe,ot,He)=>o.navigate(Oe,{state:ot,preventScrollReset:He?.preventScrollReset}),replace:(Oe,ot,He)=>o.navigate(Oe,{replace:!0,state:ot,preventScrollReset:He?.preventScrollReset})}),[o]),we=o.basename||"/",Le=fe.useMemo(()=>({router:o,navigator:Ve,static:!1,basename:we}),[o,Ve,we]);return fe.createElement(fe.Fragment,null,fe.createElement(zh.Provider,{value:Le},fe.createElement(km.Provider,{value:p},fe.createElement(I_.Provider,{value:ae.current},fe.createElement(Cv.Provider,{value:w},fe.createElement(qS,{basename:we,location:p.location,navigationType:p.historyAction,navigator:Ve},fe.createElement(jS,{routes:o.routes,future:o.future,state:p})))))),null)}var jS=fe.memo(KS);function KS({routes:o,future:l,state:p}){return _S(o,void 0,p,l)}function Av({to:o,replace:l,state:p,relative:g}){qa(Bp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:C}=fe.useContext(El);Rn(!C,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:D}=fe.useContext(Gs),{pathname:w}=zl(),c=Tv(),R=Qg(o,Yg(D),w,g==="path"),k=JSON.stringify(R);return fe.useEffect(()=>{c(JSON.parse(k),{replace:l,state:p,relative:g})},[c,k,g,l,p]),null}function OS(o){return xS(o.context)}function qS({basename:o="/",children:l=null,location:p,navigationType:g="POP",navigator:C,static:D=!1}){qa(!Bp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let w=o.replace(/^\/*/,"/"),c=fe.useMemo(()=>({basename:w,navigator:C,static:D,future:{}}),[w,C,D]);typeof p=="string"&&(p=pd(p));let{pathname:R="/",search:k="",hash:q="",state:G=null,key:Z="default"}=p,H=fe.useMemo(()=>{let ae=Us(R,w);return ae==null?null:{location:{pathname:ae,search:k,hash:q,state:G,key:Z},navigationType:g}},[w,R,k,q,G,Z,g]);return Rn(H!=null,`<Router basename="${w}"> is not able to match the URL "${R}${k}${q}" because it does not start with the basename, so the <Router> won't render anything.`),H==null?null:fe.createElement(El.Provider,{value:c},fe.createElement(ey.Provider,{children:l,value:H}))}var Lg="get",Eg="application/x-www-form-urlencoded";function ty(o){return o!=null&&typeof o.tagName=="string"}function BS(o){return ty(o)&&o.tagName.toLowerCase()==="button"}function FS(o){return ty(o)&&o.tagName.toLowerCase()==="form"}function VS(o){return ty(o)&&o.tagName.toLowerCase()==="input"}function US(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function GS(o,l){return o.button===0&&(!l||l==="_self")&&!US(o)}var Cg=null;function HS(){if(Cg===null)try{new FormData(document.createElement("form"),0),Cg=!1}catch{Cg=!0}return Cg}var XS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Iy(o){return o!=null&&!XS.has(o)?(Rn(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eg}"`),null):o}function ZS(o,l){let p,g,C,D,w;if(FS(o)){let c=o.getAttribute("action");g=c?Us(c,l):null,p=o.getAttribute("method")||Lg,C=Iy(o.getAttribute("enctype"))||Eg,D=new FormData(o)}else if(BS(o)||VS(o)&&(o.type==="submit"||o.type==="image")){let c=o.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let R=o.getAttribute("formaction")||c.getAttribute("action");if(g=R?Us(R,l):null,p=o.getAttribute("formmethod")||c.getAttribute("method")||Lg,C=Iy(o.getAttribute("formenctype"))||Iy(c.getAttribute("enctype"))||Eg,D=new FormData(c,o),!HS()){let{name:k,type:q,value:G}=o;if(q==="image"){let Z=k?`${k}.`:"";D.append(`${Z}x`,"0"),D.append(`${Z}y`,"0")}else k&&D.append(k,G)}}else{if(ty(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');p=Lg,g=null,C=Eg,w=o}return D&&C==="text/plain"&&(w=D,D=void 0),{action:g,method:p.toLowerCase(),encType:C,formData:D,body:w}}function Iv(o,l){if(o===!1||o===null||typeof o>"u")throw new Error(l)}async function $S(o,l){if(o.id in l)return l[o.id];try{let p=await import(o.module);return l[o.id]=p,p}catch(p){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(p),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JS(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function WS(o,l,p){let g=await Promise.all(o.map(async C=>{let D=l.routes[C.route.id];if(D){let w=await $S(D,p);return w.links?w.links():[]}return[]}));return tT(g.flat(1).filter(JS).filter(C=>C.rel==="stylesheet"||C.rel==="preload").map(C=>C.rel==="stylesheet"?{...C,rel:"prefetch",as:"style"}:{...C,rel:"prefetch"}))}function S0(o,l,p,g,C,D){let w=(R,k)=>p[k]?R.route.id!==p[k].route.id:!0,c=(R,k)=>p[k].pathname!==R.pathname||p[k].route.path?.endsWith("*")&&p[k].params["*"]!==R.params["*"];return D==="assets"?l.filter((R,k)=>w(R,k)||c(R,k)):D==="data"?l.filter((R,k)=>{let q=g.routes[R.route.id];if(!q||!q.hasLoader)return!1;if(w(R,k)||c(R,k))return!0;if(R.route.shouldRevalidate){let G=R.route.shouldRevalidate({currentUrl:new URL(C.pathname+C.search+C.hash,window.origin),currentParams:p[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:R.params,defaultShouldRevalidate:!0});if(typeof G=="boolean")return G}return!0}):[]}function YS(o,l,{includeHydrateFallback:p}={}){return QS(o.map(g=>{let C=l.routes[g.route.id];if(!C)return[];let D=[C.module];return C.clientActionModule&&(D=D.concat(C.clientActionModule)),C.clientLoaderModule&&(D=D.concat(C.clientLoaderModule)),p&&C.hydrateFallbackModule&&(D=D.concat(C.hydrateFallbackModule)),C.imports&&(D=D.concat(C.imports)),D}).flat(1))}function QS(o){return[...new Set(o)]}function eT(o){let l={},p=Object.keys(o).sort();for(let g of p)l[g]=o[g];return l}function tT(o,l){let p=new Set;return new Set(l),o.reduce((g,C)=>{let D=JSON.stringify(eT(C));return p.has(D)||(p.add(D),g.push({key:D,link:C})),g},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aT=new Set([100,101,204,205]);function iT(o,l){let p=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return p.pathname==="/"?p.pathname="_root.data":l&&Us(p.pathname,l)==="/"?p.pathname=`${l.replace(/\/$/,"")}/_root.data`:p.pathname=`${p.pathname.replace(/\/$/,"")}.data`,p}function R_(){let o=fe.useContext(zh);return Iv(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function nT(){let o=fe.useContext(km);return Iv(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Lv=fe.createContext(void 0);Lv.displayName="FrameworkContext";function k_(){let o=fe.useContext(Lv);return Iv(o,"You must render this element inside a <HydratedRouter> element"),o}function rT(o,l){let p=fe.useContext(Lv),[g,C]=fe.useState(!1),[D,w]=fe.useState(!1),{onFocus:c,onBlur:R,onMouseEnter:k,onMouseLeave:q,onTouchStart:G}=l,Z=fe.useRef(null);fe.useEffect(()=>{if(o==="render"&&w(!0),o==="viewport"){let Ie=we=>{we.forEach(Le=>{w(Le.isIntersecting)})},Ve=new IntersectionObserver(Ie,{threshold:.5});return Z.current&&Ve.observe(Z.current),()=>{Ve.disconnect()}}},[o]),fe.useEffect(()=>{if(g){let Ie=setTimeout(()=>{w(!0)},100);return()=>{clearTimeout(Ie)}}},[g]);let H=()=>{C(!0)},ae=()=>{C(!1),w(!1)};return p?o!=="intent"?[D,Z,{}]:[D,Z,{onFocus:dm(c,H),onBlur:dm(R,ae),onMouseEnter:dm(k,H),onMouseLeave:dm(q,ae),onTouchStart:dm(G,H)}]:[!1,Z,{}]}function dm(o,l){return p=>{o&&o(p),p.defaultPrevented||l(p)}}function oT({page:o,...l}){let{router:p}=R_(),g=fe.useMemo(()=>sd(p.routes,o,p.basename),[p.routes,o,p.basename]);return g?fe.createElement(lT,{page:o,matches:g,...l}):null}function sT(o){let{manifest:l,routeModules:p}=k_(),[g,C]=fe.useState([]);return fe.useEffect(()=>{let D=!1;return WS(o,l,p).then(w=>{D||C(w)}),()=>{D=!0}},[o,l,p]),g}function lT({page:o,matches:l,...p}){let g=zl(),{manifest:C,routeModules:D}=k_(),{basename:w}=R_(),{loaderData:c,matches:R}=nT(),k=fe.useMemo(()=>S0(o,l,R,C,g,"data"),[o,l,R,C,g]),q=fe.useMemo(()=>S0(o,l,R,C,g,"assets"),[o,l,R,C,g]),G=fe.useMemo(()=>{if(o===g.pathname+g.search+g.hash)return[];let ae=new Set,Ie=!1;if(l.forEach(we=>{let Le=C.routes[we.route.id];!Le||!Le.hasLoader||(!k.some(Oe=>Oe.route.id===we.route.id)&&we.route.id in c&&D[we.route.id]?.shouldRevalidate||Le.hasClientLoader?Ie=!0:ae.add(we.route.id))}),ae.size===0)return[];let Ve=iT(o,w);return Ie&&ae.size>0&&Ve.searchParams.set("_routes",l.filter(we=>ae.has(we.route.id)).map(we=>we.route.id).join(",")),[Ve.pathname+Ve.search]},[w,c,g,C,k,l,o,D]),Z=fe.useMemo(()=>YS(q,C),[q,C]),H=sT(q);return fe.createElement(fe.Fragment,null,G.map(ae=>fe.createElement("link",{key:ae,rel:"prefetch",as:"fetch",href:ae,...p})),Z.map(ae=>fe.createElement("link",{key:ae,rel:"modulepreload",href:ae,...p})),H.map(({key:ae,link:Ie})=>fe.createElement("link",{key:ae,...Ie})))}function cT(...o){return l=>{o.forEach(p=>{typeof p=="function"?p(l):p!=null&&(p.current=l)})}}var N_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N_&&(window.__reactRouterVersion="7.6.3")}catch{}function uT(o,l){return WC({basename:l?.basename,unstable_getContext:l?.unstable_getContext,future:l?.future,history:vC({window:l?.window}),hydrationData:dT(),routes:o,mapRouteProperties:zS,hydrationRouteProperties:RS,dataStrategy:l?.dataStrategy,patchRoutesOnNavigation:l?.patchRoutesOnNavigation,window:l?.window}).initialize()}function dT(){let o=window?.__staticRouterHydrationData;return o&&o.errors&&(o={...o,errors:hT(o.errors)}),o}function hT(o){if(!o)return null;let l=Object.entries(o),p={};for(let[g,C]of l)if(C&&C.__type==="RouteErrorResponse")p[g]=new Vg(C.status,C.statusText,C.data,C.internal===!0);else if(C&&C.__type==="Error"){if(C.__subType){let D=window[C.__subType];if(typeof D=="function")try{let w=new D(C.message);w.stack="",p[g]=w}catch{}}if(p[g]==null){let D=new Error(C.message);D.stack="",p[g]=D}}else p[g]=C;return p}var j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jo=fe.forwardRef(function({onClick:l,discover:p="render",prefetch:g="none",relative:C,reloadDocument:D,replace:w,state:c,target:R,to:k,preventScrollReset:q,viewTransition:G,...Z},H){let{basename:ae}=fe.useContext(El),Ie=typeof k=="string"&&j_.test(k),Ve,we=!1;if(typeof k=="string"&&Ie&&(Ve=k,N_))try{let zt=new URL(window.location.href),Ht=k.startsWith("//")?new URL(zt.protocol+k):new URL(k),ga=Us(Ht.pathname,ae);Ht.origin===zt.origin&&ga!=null?k=ga+Ht.search+Ht.hash:we=!0}catch{Rn(!1,`<Link to="${k}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Le=yS(k,{relative:C}),[Oe,ot,He]=rT(g,Z),Se=mT(k,{replace:w,state:c,target:R,preventScrollReset:q,relative:C,viewTransition:G});function _t(zt){l&&l(zt),zt.defaultPrevented||Se(zt)}let Dt=fe.createElement("a",{...Z,...He,href:Ve||Le,onClick:we||D?l:_t,ref:cT(H,ot),target:R,"data-discover":!Ie&&p==="render"?"true":void 0});return Oe&&!Ie?fe.createElement(fe.Fragment,null,Dt,fe.createElement(oT,{page:Le})):Dt});jo.displayName="Link";var gm=fe.forwardRef(function({"aria-current":l="page",caseSensitive:p=!1,className:g="",end:C=!1,style:D,to:w,viewTransition:c,children:R,...k},q){let G=Nm(w,{relative:k.relative}),Z=zl(),H=fe.useContext(km),{navigator:ae,basename:Ie}=fe.useContext(El),Ve=H!=null&&xT(G)&&c===!0,we=ae.encodeLocation?ae.encodeLocation(G).pathname:G.pathname,Le=Z.pathname,Oe=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;p||(Le=Le.toLowerCase(),Oe=Oe?Oe.toLowerCase():null,we=we.toLowerCase()),Oe&&Ie&&(Oe=Us(Oe,Ie)||Oe);const ot=we!=="/"&&we.endsWith("/")?we.length-1:we.length;let He=Le===we||!C&&Le.startsWith(we)&&Le.charAt(ot)==="/",Se=Oe!=null&&(Oe===we||!C&&Oe.startsWith(we)&&Oe.charAt(we.length)==="/"),_t={isActive:He,isPending:Se,isTransitioning:Ve},Dt=He?l:void 0,zt;typeof g=="function"?zt=g(_t):zt=[g,He?"active":null,Se?"pending":null,Ve?"transitioning":null].filter(Boolean).join(" ");let Ht=typeof D=="function"?D(_t):D;return fe.createElement(jo,{...k,"aria-current":Dt,className:zt,ref:q,style:Ht,to:w,viewTransition:c},typeof R=="function"?R(_t):R)});gm.displayName="NavLink";var pT=fe.forwardRef(({discover:o="render",fetcherKey:l,navigate:p,reloadDocument:g,replace:C,state:D,method:w=Lg,action:c,onSubmit:R,relative:k,preventScrollReset:q,viewTransition:G,...Z},H)=>{let ae=vT(),Ie=bT(c,{relative:k}),Ve=w.toLowerCase()==="get"?"get":"post",we=typeof c=="string"&&j_.test(c),Le=Oe=>{if(R&&R(Oe),Oe.defaultPrevented)return;Oe.preventDefault();let ot=Oe.nativeEvent.submitter,He=ot?.getAttribute("formmethod")||w;ae(ot||Oe.currentTarget,{fetcherKey:l,method:He,navigate:p,replace:C,state:D,relative:k,preventScrollReset:q,viewTransition:G})};return fe.createElement("form",{ref:H,method:Ve,action:Ie,onSubmit:g?R:Le,...Z,"data-discover":!we&&o==="render"?"true":void 0})});pT.displayName="Form";function fT(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(o){let l=fe.useContext(zh);return qa(l,fT(o)),l}function mT(o,{target:l,replace:p,state:g,preventScrollReset:C,relative:D,viewTransition:w}={}){let c=Tv(),R=zl(),k=Nm(o,{relative:D});return fe.useCallback(q=>{if(GS(q,l)){q.preventDefault();let G=p!==void 0?p:ud(R)===ud(k);c(o,{replace:G,state:g,preventScrollReset:C,relative:D,viewTransition:w})}},[R,c,k,p,g,l,o,C,D,w])}var gT=0,yT=()=>`__${String(++gT)}__`;function vT(){let{router:o}=K_("useSubmit"),{basename:l}=fe.useContext(El),p=IS();return fe.useCallback(async(g,C={})=>{let{action:D,method:w,encType:c,formData:R,body:k}=ZS(g,l);if(C.navigate===!1){let q=C.fetcherKey||yT();await o.fetch(q,p,C.action||D,{preventScrollReset:C.preventScrollReset,formData:R,body:k,formMethod:C.method||w,formEncType:C.encType||c,flushSync:C.flushSync})}else await o.navigate(C.action||D,{preventScrollReset:C.preventScrollReset,formData:R,body:k,formMethod:C.method||w,formEncType:C.encType||c,replace:C.replace,state:C.state,fromRouteId:p,flushSync:C.flushSync,viewTransition:C.viewTransition})},[o,l,p])}function bT(o,{relative:l}={}){let{basename:p}=fe.useContext(El),g=fe.useContext(Gs);qa(g,"useFormAction must be used inside a RouteContext");let[C]=g.matches.slice(-1),D={...Nm(o||".",{relative:l})},w=zl();if(o==null){D.search=w.search;let c=new URLSearchParams(D.search),R=c.getAll("index");if(R.some(q=>q==="")){c.delete("index"),R.filter(G=>G).forEach(G=>c.append("index",G));let q=c.toString();D.search=q?`?${q}`:""}}return(!o||o===".")&&C.route.index&&(D.search=D.search?D.search.replace(/^\?/,"?index&"):"?index"),p!=="/"&&(D.pathname=D.pathname==="/"?p:_c([p,D.pathname])),ud(D)}function xT(o,l={}){let p=fe.useContext(Cv);qa(p!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:g}=K_("useViewTransitionState"),C=Nm(o,{relative:l.relative});if(!p.isTransitioning)return!1;let D=Us(p.currentLocation.pathname,g)||p.currentLocation.pathname,w=Us(p.nextLocation.pathname,g)||p.nextLocation.pathname;return Fg(C.pathname,w)!=null||Fg(C.pathname,D)!=null}[...aT];var O_=l_();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _T(o){return fe.createElement(NS,{flushSync:O_.flushSync,...o})}const q_=fe.createContext(),wT=({children:o})=>{const[l,p]=fe.useState("es");fe.useEffect(()=>{Dr.changeLanguage(l)},[l]);const g=fe.useMemo(()=>({language:l,setLanguage:p}),[l]);return L.jsx(q_.Provider,{value:g,children:o})},Ev=fe.createContext({});function zv(o){const l=fe.useRef(null);return l.current===null&&(l.current=o()),l.current}const Rv=typeof window<"u",B_=Rv?fe.useLayoutEffect:fe.useEffect,ay=fe.createContext(null);function kv(o,l){o.indexOf(l)===-1&&o.push(l)}function Nv(o,l){const p=o.indexOf(l);p>-1&&o.splice(p,1)}const hu=(o,l,p)=>p>l?l:p<o?o:p;let jv=()=>{};const pu={},F_=o=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(o);function V_(o){return typeof o=="object"&&o!==null}const U_=o=>/^0[^.\s]+$/u.test(o);function Kv(o){let l;return()=>(l===void 0&&(l=o()),l)}const Vs=o=>o,CT=(o,l)=>p=>l(o(p)),jm=(...o)=>o.reduce(CT),Mm=(o,l,p)=>{const g=l-o;return g===0?1:(p-o)/g};class Ov{constructor(){this.subscriptions=[]}add(l){return kv(this.subscriptions,l),()=>Nv(this.subscriptions,l)}notify(l,p,g){const C=this.subscriptions.length;if(C)if(C===1)this.subscriptions[0](l,p,g);else for(let D=0;D<C;D++){const w=this.subscriptions[D];w&&w(l,p,g)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wc=o=>o*1e3,Cc=o=>o/1e3;function G_(o,l){return l?o*(1e3/l):0}const H_=(o,l,p)=>(((1-3*p+3*l)*o+(3*p-6*l))*o+3*l)*o,ST=1e-7,TT=12;function PT(o,l,p,g,C){let D,w,c=0;do w=l+(p-l)/2,D=H_(w,g,C)-o,D>0?p=w:l=w;while(Math.abs(D)>ST&&++c<TT);return w}function Km(o,l,p,g){if(o===l&&p===g)return Vs;const C=D=>PT(D,0,1,o,p);return D=>D===0||D===1?D:H_(C(D),l,g)}const X_=o=>l=>l<=.5?o(2*l)/2:(2-o(2*(1-l)))/2,Z_=o=>l=>1-o(1-l),$_=Km(.33,1.53,.69,.99),qv=Z_($_),J_=X_(qv),W_=o=>(o*=2)<1?.5*qv(o):.5*(2-Math.pow(2,-10*(o-1))),Bv=o=>1-Math.sin(Math.acos(o)),Y_=Z_(Bv),Q_=X_(Bv),DT=Km(.42,0,1,1),MT=Km(0,0,.58,1),e1=Km(.42,0,.58,1),AT=o=>Array.isArray(o)&&typeof o[0]!="number",t1=o=>Array.isArray(o)&&typeof o[0]=="number",IT={linear:Vs,easeIn:DT,easeInOut:e1,easeOut:MT,circIn:Bv,circInOut:Q_,circOut:Y_,backIn:qv,backInOut:J_,backOut:$_,anticipate:W_},LT=o=>typeof o=="string",T0=o=>{if(t1(o)){jv(o.length===4);const[l,p,g,C]=o;return Km(l,p,g,C)}else if(LT(o))return IT[o];return o},Sg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],P0={value:null};function ET(o,l){let p=new Set,g=new Set,C=!1,D=!1;const w=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},R=0;function k(G){w.has(G)&&(q.schedule(G),o()),R++,G(c)}const q={schedule:(G,Z=!1,H=!1)=>{const Ie=H&&C?p:g;return Z&&w.add(G),Ie.has(G)||Ie.add(G),G},cancel:G=>{g.delete(G),w.delete(G)},process:G=>{if(c=G,C){D=!0;return}C=!0,[p,g]=[g,p],p.forEach(k),l&&P0.value&&P0.value.frameloop[l].push(R),R=0,p.clear(),C=!1,D&&(D=!1,q.process(G))}};return q}const zT=40;function a1(o,l){let p=!1,g=!0;const C={delta:0,timestamp:0,isProcessing:!1},D=()=>p=!0,w=Sg.reduce((Oe,ot)=>(Oe[ot]=ET(D,l?ot:void 0),Oe),{}),{setup:c,read:R,resolveKeyframes:k,preUpdate:q,update:G,preRender:Z,render:H,postRender:ae}=w,Ie=()=>{const Oe=pu.useManualTiming?C.timestamp:performance.now();p=!1,pu.useManualTiming||(C.delta=g?1e3/60:Math.max(Math.min(Oe-C.timestamp,zT),1)),C.timestamp=Oe,C.isProcessing=!0,c.process(C),R.process(C),k.process(C),q.process(C),G.process(C),Z.process(C),H.process(C),ae.process(C),C.isProcessing=!1,p&&l&&(g=!1,o(Ie))},Ve=()=>{p=!0,g=!0,C.isProcessing||o(Ie)};return{schedule:Sg.reduce((Oe,ot)=>{const He=w[ot];return Oe[ot]=(Se,_t=!1,Dt=!1)=>(p||Ve(),He.schedule(Se,_t,Dt)),Oe},{}),cancel:Oe=>{for(let ot=0;ot<Sg.length;ot++)w[Sg[ot]].cancel(Oe)},state:C,steps:w}}const{schedule:dn,cancel:dd,state:Pr,steps:Ly}=a1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vs,!0);let zg;function RT(){zg=void 0}const No={now:()=>(zg===void 0&&No.set(Pr.isProcessing||pu.useManualTiming?Pr.timestamp:performance.now()),zg),set:o=>{zg=o,queueMicrotask(RT)}},i1=o=>l=>typeof l=="string"&&l.startsWith(o),Fv=i1("--"),kT=i1("var(--"),Vv=o=>kT(o)?NT.test(o.split("/*")[0].trim()):!1,NT=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fp={test:o=>typeof o=="number",parse:parseFloat,transform:o=>o},Am={...Fp,transform:o=>hu(0,1,o)},Tg={...Fp,default:1},bm=o=>Math.round(o*1e5)/1e5,Uv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jT(o){return o==null}const KT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gv=(o,l)=>p=>!!(typeof p=="string"&&KT.test(p)&&p.startsWith(o)||l&&!jT(p)&&Object.prototype.hasOwnProperty.call(p,l)),n1=(o,l,p)=>g=>{if(typeof g!="string")return g;const[C,D,w,c]=g.match(Uv);return{[o]:parseFloat(C),[l]:parseFloat(D),[p]:parseFloat(w),alpha:c!==void 0?parseFloat(c):1}},OT=o=>hu(0,255,o),Ey={...Fp,transform:o=>Math.round(OT(o))},Dh={test:Gv("rgb","red"),parse:n1("red","green","blue"),transform:({red:o,green:l,blue:p,alpha:g=1})=>"rgba("+Ey.transform(o)+", "+Ey.transform(l)+", "+Ey.transform(p)+", "+bm(Am.transform(g))+")"};function qT(o){let l="",p="",g="",C="";return o.length>5?(l=o.substring(1,3),p=o.substring(3,5),g=o.substring(5,7),C=o.substring(7,9)):(l=o.substring(1,2),p=o.substring(2,3),g=o.substring(3,4),C=o.substring(4,5),l+=l,p+=p,g+=g,C+=C),{red:parseInt(l,16),green:parseInt(p,16),blue:parseInt(g,16),alpha:C?parseInt(C,16)/255:1}}const ev={test:Gv("#"),parse:qT,transform:Dh.transform},Om=o=>({test:l=>typeof l=="string"&&l.endsWith(o)&&l.split(" ").length===1,parse:parseFloat,transform:l=>`${l}${o}`}),od=Om("deg"),Sc=Om("%"),xa=Om("px"),BT=Om("vh"),FT=Om("vw"),D0={...Sc,parse:o=>Sc.parse(o)/100,transform:o=>Sc.transform(o*100)},Lp={test:Gv("hsl","hue"),parse:n1("hue","saturation","lightness"),transform:({hue:o,saturation:l,lightness:p,alpha:g=1})=>"hsla("+Math.round(o)+", "+Sc.transform(bm(l))+", "+Sc.transform(bm(p))+", "+bm(Am.transform(g))+")"},Vn={test:o=>Dh.test(o)||ev.test(o)||Lp.test(o),parse:o=>Dh.test(o)?Dh.parse(o):Lp.test(o)?Lp.parse(o):ev.parse(o),transform:o=>typeof o=="string"?o:o.hasOwnProperty("red")?Dh.transform(o):Lp.transform(o),getAnimatableNone:o=>{const l=Vn.parse(o);return l.alpha=0,Vn.transform(l)}},VT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UT(o){return isNaN(o)&&typeof o=="string"&&(o.match(Uv)?.length||0)+(o.match(VT)?.length||0)>0}const r1="number",o1="color",GT="var",HT="var(",M0="${}",XT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Im(o){const l=o.toString(),p=[],g={color:[],number:[],var:[]},C=[];let D=0;const c=l.replace(XT,R=>(Vn.test(R)?(g.color.push(D),C.push(o1),p.push(Vn.parse(R))):R.startsWith(HT)?(g.var.push(D),C.push(GT),p.push(R)):(g.number.push(D),C.push(r1),p.push(parseFloat(R))),++D,M0)).split(M0);return{values:p,split:c,indexes:g,types:C}}function s1(o){return Im(o).values}function l1(o){const{split:l,types:p}=Im(o),g=l.length;return C=>{let D="";for(let w=0;w<g;w++)if(D+=l[w],C[w]!==void 0){const c=p[w];c===r1?D+=bm(C[w]):c===o1?D+=Vn.transform(C[w]):D+=C[w]}return D}}const ZT=o=>typeof o=="number"?0:Vn.test(o)?Vn.getAnimatableNone(o):o;function $T(o){const l=s1(o);return l1(o)(l.map(ZT))}const hd={test:UT,parse:s1,createTransformer:l1,getAnimatableNone:$T};function zy(o,l,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?o+(l-o)*6*p:p<1/2?l:p<2/3?o+(l-o)*(2/3-p)*6:o}function JT({hue:o,saturation:l,lightness:p,alpha:g}){o/=360,l/=100,p/=100;let C=0,D=0,w=0;if(!l)C=D=w=p;else{const c=p<.5?p*(1+l):p+l-p*l,R=2*p-c;C=zy(R,c,o+1/3),D=zy(R,c,o),w=zy(R,c,o-1/3)}return{red:Math.round(C*255),green:Math.round(D*255),blue:Math.round(w*255),alpha:g}}function Gg(o,l){return p=>p>0?l:o}const yn=(o,l,p)=>o+(l-o)*p,Ry=(o,l,p)=>{const g=o*o,C=p*(l*l-g)+g;return C<0?0:Math.sqrt(C)},WT=[ev,Dh,Lp],YT=o=>WT.find(l=>l.test(o));function A0(o){const l=YT(o);if(!l)return!1;let p=l.parse(o);return l===Lp&&(p=JT(p)),p}const I0=(o,l)=>{const p=A0(o),g=A0(l);if(!p||!g)return Gg(o,l);const C={...p};return D=>(C.red=Ry(p.red,g.red,D),C.green=Ry(p.green,g.green,D),C.blue=Ry(p.blue,g.blue,D),C.alpha=yn(p.alpha,g.alpha,D),Dh.transform(C))},tv=new Set(["none","hidden"]);function QT(o,l){return tv.has(o)?p=>p<=0?o:l:p=>p>=1?l:o}function eP(o,l){return p=>yn(o,l,p)}function Hv(o){return typeof o=="number"?eP:typeof o=="string"?Vv(o)?Gg:Vn.test(o)?I0:iP:Array.isArray(o)?c1:typeof o=="object"?Vn.test(o)?I0:tP:Gg}function c1(o,l){const p=[...o],g=p.length,C=o.map((D,w)=>Hv(D)(D,l[w]));return D=>{for(let w=0;w<g;w++)p[w]=C[w](D);return p}}function tP(o,l){const p={...o,...l},g={};for(const C in p)o[C]!==void 0&&l[C]!==void 0&&(g[C]=Hv(o[C])(o[C],l[C]));return C=>{for(const D in g)p[D]=g[D](C);return p}}function aP(o,l){const p=[],g={color:0,var:0,number:0};for(let C=0;C<l.values.length;C++){const D=l.types[C],w=o.indexes[D][g[D]],c=o.values[w]??0;p[C]=c,g[D]++}return p}const iP=(o,l)=>{const p=hd.createTransformer(l),g=Im(o),C=Im(l);return g.indexes.var.length===C.indexes.var.length&&g.indexes.color.length===C.indexes.color.length&&g.indexes.number.length>=C.indexes.number.length?tv.has(o)&&!C.values.length||tv.has(l)&&!g.values.length?QT(o,l):jm(c1(aP(g,C),C.values),p):Gg(o,l)};function u1(o,l,p){return typeof o=="number"&&typeof l=="number"&&typeof p=="number"?yn(o,l,p):Hv(o)(o,l)}const nP=o=>{const l=({timestamp:p})=>o(p);return{start:(p=!0)=>dn.update(l,p),stop:()=>dd(l),now:()=>Pr.isProcessing?Pr.timestamp:No.now()}},d1=(o,l,p=10)=>{let g="";const C=Math.max(Math.round(l/p),2);for(let D=0;D<C;D++)g+=Math.round(o(D/(C-1))*1e4)/1e4+", ";return`linear(${g.substring(0,g.length-2)})`},Hg=2e4;function Xv(o){let l=0;const p=50;let g=o.next(l);for(;!g.done&&l<Hg;)l+=p,g=o.next(l);return l>=Hg?1/0:l}function rP(o,l=100,p){const g=p({...o,keyframes:[0,l]}),C=Math.min(Xv(g),Hg);return{type:"keyframes",ease:D=>g.next(C*D).value/l,duration:Cc(C)}}const oP=5;function h1(o,l,p){const g=Math.max(l-oP,0);return G_(p-o(g),l-g)}const Sn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ky=.001;function sP({duration:o=Sn.duration,bounce:l=Sn.bounce,velocity:p=Sn.velocity,mass:g=Sn.mass}){let C,D,w=1-l;w=hu(Sn.minDamping,Sn.maxDamping,w),o=hu(Sn.minDuration,Sn.maxDuration,Cc(o)),w<1?(C=k=>{const q=k*w,G=q*o,Z=q-p,H=av(k,w),ae=Math.exp(-G);return ky-Z/H*ae},D=k=>{const G=k*w*o,Z=G*p+p,H=Math.pow(w,2)*Math.pow(k,2)*o,ae=Math.exp(-G),Ie=av(Math.pow(k,2),w);return(-C(k)+ky>0?-1:1)*((Z-H)*ae)/Ie}):(C=k=>{const q=Math.exp(-k*o),G=(k-p)*o+1;return-ky+q*G},D=k=>{const q=Math.exp(-k*o),G=(p-k)*(o*o);return q*G});const c=5/o,R=cP(C,D,c);if(o=wc(o),isNaN(R))return{stiffness:Sn.stiffness,damping:Sn.damping,duration:o};{const k=Math.pow(R,2)*g;return{stiffness:k,damping:w*2*Math.sqrt(g*k),duration:o}}}const lP=12;function cP(o,l,p){let g=p;for(let C=1;C<lP;C++)g=g-o(g)/l(g);return g}function av(o,l){return o*Math.sqrt(1-l*l)}const uP=["duration","bounce"],dP=["stiffness","damping","mass"];function L0(o,l){return l.some(p=>o[p]!==void 0)}function hP(o){let l={velocity:Sn.velocity,stiffness:Sn.stiffness,damping:Sn.damping,mass:Sn.mass,isResolvedFromDuration:!1,...o};if(!L0(o,dP)&&L0(o,uP))if(o.visualDuration){const p=o.visualDuration,g=2*Math.PI/(p*1.2),C=g*g,D=2*hu(.05,1,1-(o.bounce||0))*Math.sqrt(C);l={...l,mass:Sn.mass,stiffness:C,damping:D}}else{const p=sP(o);l={...l,...p,mass:Sn.mass},l.isResolvedFromDuration=!0}return l}function Xg(o=Sn.visualDuration,l=Sn.bounce){const p=typeof o!="object"?{visualDuration:o,keyframes:[0,1],bounce:l}:o;let{restSpeed:g,restDelta:C}=p;const D=p.keyframes[0],w=p.keyframes[p.keyframes.length-1],c={done:!1,value:D},{stiffness:R,damping:k,mass:q,duration:G,velocity:Z,isResolvedFromDuration:H}=hP({...p,velocity:-Cc(p.velocity||0)}),ae=Z||0,Ie=k/(2*Math.sqrt(R*q)),Ve=w-D,we=Cc(Math.sqrt(R/q)),Le=Math.abs(Ve)<5;g||(g=Le?Sn.restSpeed.granular:Sn.restSpeed.default),C||(C=Le?Sn.restDelta.granular:Sn.restDelta.default);let Oe;if(Ie<1){const He=av(we,Ie);Oe=Se=>{const _t=Math.exp(-Ie*we*Se);return w-_t*((ae+Ie*we*Ve)/He*Math.sin(He*Se)+Ve*Math.cos(He*Se))}}else if(Ie===1)Oe=He=>w-Math.exp(-we*He)*(Ve+(ae+we*Ve)*He);else{const He=we*Math.sqrt(Ie*Ie-1);Oe=Se=>{const _t=Math.exp(-Ie*we*Se),Dt=Math.min(He*Se,300);return w-_t*((ae+Ie*we*Ve)*Math.sinh(Dt)+He*Ve*Math.cosh(Dt))/He}}const ot={calculatedDuration:H&&G||null,next:He=>{const Se=Oe(He);if(H)c.done=He>=G;else{let _t=He===0?ae:0;Ie<1&&(_t=He===0?wc(ae):h1(Oe,He,Se));const Dt=Math.abs(_t)<=g,zt=Math.abs(w-Se)<=C;c.done=Dt&&zt}return c.value=c.done?w:Se,c},toString:()=>{const He=Math.min(Xv(ot),Hg),Se=d1(_t=>ot.next(He*_t).value,He,30);return He+"ms "+Se},toTransition:()=>{}};return ot}Xg.applyToOptions=o=>{const l=rP(o,100,Xg);return o.ease=l.ease,o.duration=wc(l.duration),o.type="keyframes",o};function iv({keyframes:o,velocity:l=0,power:p=.8,timeConstant:g=325,bounceDamping:C=10,bounceStiffness:D=500,modifyTarget:w,min:c,max:R,restDelta:k=.5,restSpeed:q}){const G=o[0],Z={done:!1,value:G},H=Dt=>c!==void 0&&Dt<c||R!==void 0&&Dt>R,ae=Dt=>c===void 0?R:R===void 0||Math.abs(c-Dt)<Math.abs(R-Dt)?c:R;let Ie=p*l;const Ve=G+Ie,we=w===void 0?Ve:w(Ve);we!==Ve&&(Ie=we-G);const Le=Dt=>-Ie*Math.exp(-Dt/g),Oe=Dt=>we+Le(Dt),ot=Dt=>{const zt=Le(Dt),Ht=Oe(Dt);Z.done=Math.abs(zt)<=k,Z.value=Z.done?we:Ht};let He,Se;const _t=Dt=>{H(Z.value)&&(He=Dt,Se=Xg({keyframes:[Z.value,ae(Z.value)],velocity:h1(Oe,Dt,Z.value),damping:C,stiffness:D,restDelta:k,restSpeed:q}))};return _t(0),{calculatedDuration:null,next:Dt=>{let zt=!1;return!Se&&He===void 0&&(zt=!0,ot(Dt),_t(Dt)),He!==void 0&&Dt>=He?Se.next(Dt-He):(!zt&&ot(Dt),Z)}}}function pP(o,l,p){const g=[],C=p||pu.mix||u1,D=o.length-1;for(let w=0;w<D;w++){let c=C(o[w],o[w+1]);if(l){const R=Array.isArray(l)?l[w]||Vs:l;c=jm(R,c)}g.push(c)}return g}function fP(o,l,{clamp:p=!0,ease:g,mixer:C}={}){const D=o.length;if(jv(D===l.length),D===1)return()=>l[0];if(D===2&&l[0]===l[1])return()=>l[1];const w=o[0]===o[1];o[0]>o[D-1]&&(o=[...o].reverse(),l=[...l].reverse());const c=pP(l,g,C),R=c.length,k=q=>{if(w&&q<o[0])return l[0];let G=0;if(R>1)for(;G<o.length-2&&!(q<o[G+1]);G++);const Z=Mm(o[G],o[G+1],q);return c[G](Z)};return p?q=>k(hu(o[0],o[D-1],q)):k}function mP(o,l){const p=o[o.length-1];for(let g=1;g<=l;g++){const C=Mm(0,l,g);o.push(yn(p,1,C))}}function gP(o){const l=[0];return mP(l,o.length-1),l}function yP(o,l){return o.map(p=>p*l)}function vP(o,l){return o.map(()=>l||e1).splice(0,o.length-1)}function xm({duration:o=300,keyframes:l,times:p,ease:g="easeInOut"}){const C=AT(g)?g.map(T0):T0(g),D={done:!1,value:l[0]},w=yP(p&&p.length===l.length?p:gP(l),o),c=fP(w,l,{ease:Array.isArray(C)?C:vP(l,C)});return{calculatedDuration:o,next:R=>(D.value=c(R),D.done=R>=o,D)}}const bP=o=>o!==null;function Zv(o,{repeat:l,repeatType:p="loop"},g,C=1){const D=o.filter(bP),c=C<0||l&&p!=="loop"&&l%2===1?0:D.length-1;return!c||g===void 0?D[c]:g}const xP={decay:iv,inertia:iv,tween:xm,keyframes:xm,spring:Xg};function p1(o){typeof o.type=="string"&&(o.type=xP[o.type])}class $v{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(l=>{this.resolve=l})}notifyFinished(){this.resolve()}then(l,p){return this.finished.then(l,p)}}const _P=o=>o/100;class Jv extends $v{constructor(l){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:p}=this.options;p&&p.updatedAt!==No.now()&&this.tick(No.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=l,this.initAnimation(),this.play(),l.autoplay===!1&&this.pause()}initAnimation(){const{options:l}=this;p1(l);const{type:p=xm,repeat:g=0,repeatDelay:C=0,repeatType:D,velocity:w=0}=l;let{keyframes:c}=l;const R=p||xm;R!==xm&&typeof c[0]!="number"&&(this.mixKeyframes=jm(_P,u1(c[0],c[1])),c=[0,100]);const k=R({...l,keyframes:c});D==="mirror"&&(this.mirroredGenerator=R({...l,keyframes:[...c].reverse(),velocity:-w})),k.calculatedDuration===null&&(k.calculatedDuration=Xv(k));const{calculatedDuration:q}=k;this.calculatedDuration=q,this.resolvedDuration=q+C,this.totalDuration=this.resolvedDuration*(g+1)-C,this.generator=k}updateTime(l){const p=Math.round(l-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=p}tick(l,p=!1){const{generator:g,totalDuration:C,mixKeyframes:D,mirroredGenerator:w,resolvedDuration:c,calculatedDuration:R}=this;if(this.startTime===null)return g.next(0);const{delay:k=0,keyframes:q,repeat:G,repeatType:Z,repeatDelay:H,type:ae,onUpdate:Ie,finalKeyframe:Ve}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,l):this.speed<0&&(this.startTime=Math.min(l-C/this.speed,this.startTime)),p?this.currentTime=l:this.updateTime(l);const we=this.currentTime-k*(this.playbackSpeed>=0?1:-1),Le=this.playbackSpeed>=0?we<0:we>C;this.currentTime=Math.max(we,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=C);let Oe=this.currentTime,ot=g;if(G){const Dt=Math.min(this.currentTime,C)/c;let zt=Math.floor(Dt),Ht=Dt%1;!Ht&&Dt>=1&&(Ht=1),Ht===1&&zt--,zt=Math.min(zt,G+1),!!(zt%2)&&(Z==="reverse"?(Ht=1-Ht,H&&(Ht-=H/c)):Z==="mirror"&&(ot=w)),Oe=hu(0,1,Ht)*c}const He=Le?{done:!1,value:q[0]}:ot.next(Oe);D&&(He.value=D(He.value));let{done:Se}=He;!Le&&R!==null&&(Se=this.playbackSpeed>=0?this.currentTime>=C:this.currentTime<=0);const _t=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Se);return _t&&ae!==iv&&(He.value=Zv(q,this.options,Ve,this.speed)),Ie&&Ie(He.value),_t&&this.finish(),He}then(l,p){return this.finished.then(l,p)}get duration(){return Cc(this.calculatedDuration)}get time(){return Cc(this.currentTime)}set time(l){l=wc(l),this.currentTime=l,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=l:this.driver&&(this.startTime=this.driver.now()-l/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(l){this.updateTime(No.now());const p=this.playbackSpeed!==l;this.playbackSpeed=l,p&&(this.time=Cc(this.currentTime))}play(){if(this.isStopped)return;const{driver:l=nP,startTime:p}=this.options;this.driver||(this.driver=l(C=>this.tick(C))),this.options.onPlay?.();const g=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=g):this.holdTime!==null?this.startTime=g-this.holdTime:this.startTime||(this.startTime=p??g),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(No.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(l){return this.startTime=0,this.tick(l,!0)}attachTimeline(l){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),l.observe(this)}}function wP(o){for(let l=1;l<o.length;l++)o[l]??(o[l]=o[l-1])}const Mh=o=>o*180/Math.PI,nv=o=>{const l=Mh(Math.atan2(o[1],o[0]));return rv(l)},CP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:o=>(Math.abs(o[0])+Math.abs(o[3]))/2,rotate:nv,rotateZ:nv,skewX:o=>Mh(Math.atan(o[1])),skewY:o=>Mh(Math.atan(o[2])),skew:o=>(Math.abs(o[1])+Math.abs(o[2]))/2},rv=o=>(o=o%360,o<0&&(o+=360),o),E0=nv,z0=o=>Math.sqrt(o[0]*o[0]+o[1]*o[1]),R0=o=>Math.sqrt(o[4]*o[4]+o[5]*o[5]),SP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z0,scaleY:R0,scale:o=>(z0(o)+R0(o))/2,rotateX:o=>rv(Mh(Math.atan2(o[6],o[5]))),rotateY:o=>rv(Mh(Math.atan2(-o[2],o[0]))),rotateZ:E0,rotate:E0,skewX:o=>Mh(Math.atan(o[4])),skewY:o=>Mh(Math.atan(o[1])),skew:o=>(Math.abs(o[1])+Math.abs(o[4]))/2};function ov(o){return o.includes("scale")?1:0}function sv(o,l){if(!o||o==="none")return ov(l);const p=o.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let g,C;if(p)g=SP,C=p;else{const c=o.match(/^matrix\(([-\d.e\s,]+)\)$/u);g=CP,C=c}if(!C)return ov(l);const D=g[l],w=C[1].split(",").map(PP);return typeof D=="function"?D(w):w[D]}const TP=(o,l)=>{const{transform:p="none"}=getComputedStyle(o);return sv(p,l)};function PP(o){return parseFloat(o.trim())}const Vp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Up=new Set(Vp),k0=o=>o===Fp||o===xa,DP=new Set(["x","y","z"]),MP=Vp.filter(o=>!DP.has(o));function AP(o){const l=[];return MP.forEach(p=>{const g=o.getValue(p);g!==void 0&&(l.push([p,g.get()]),g.set(p.startsWith("scale")?1:0))}),l}const Ih={width:({x:o},{paddingLeft:l="0",paddingRight:p="0"})=>o.max-o.min-parseFloat(l)-parseFloat(p),height:({y:o},{paddingTop:l="0",paddingBottom:p="0"})=>o.max-o.min-parseFloat(l)-parseFloat(p),top:(o,{top:l})=>parseFloat(l),left:(o,{left:l})=>parseFloat(l),bottom:({y:o},{top:l})=>parseFloat(l)+(o.max-o.min),right:({x:o},{left:l})=>parseFloat(l)+(o.max-o.min),x:(o,{transform:l})=>sv(l,"x"),y:(o,{transform:l})=>sv(l,"y")};Ih.translateX=Ih.x;Ih.translateY=Ih.y;const Lh=new Set;let lv=!1,cv=!1,uv=!1;function f1(){if(cv){const o=Array.from(Lh).filter(g=>g.needsMeasurement),l=new Set(o.map(g=>g.element)),p=new Map;l.forEach(g=>{const C=AP(g);C.length&&(p.set(g,C),g.render())}),o.forEach(g=>g.measureInitialState()),l.forEach(g=>{g.render();const C=p.get(g);C&&C.forEach(([D,w])=>{g.getValue(D)?.set(w)})}),o.forEach(g=>g.measureEndState()),o.forEach(g=>{g.suspendedScrollY!==void 0&&window.scrollTo(0,g.suspendedScrollY)})}cv=!1,lv=!1,Lh.forEach(o=>o.complete(uv)),Lh.clear()}function m1(){Lh.forEach(o=>{o.readKeyframes(),o.needsMeasurement&&(cv=!0)})}function IP(){uv=!0,m1(),f1(),uv=!1}class Wv{constructor(l,p,g,C,D,w=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...l],this.onComplete=p,this.name=g,this.motionValue=C,this.element=D,this.isAsync=w}scheduleResolve(){this.state="scheduled",this.isAsync?(Lh.add(this),lv||(lv=!0,dn.read(m1),dn.resolveKeyframes(f1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:l,name:p,element:g,motionValue:C}=this;if(l[0]===null){const D=C?.get(),w=l[l.length-1];if(D!==void 0)l[0]=D;else if(g&&p){const c=g.readValue(p,w);c!=null&&(l[0]=c)}l[0]===void 0&&(l[0]=w),C&&D===void 0&&C.set(l[0])}wP(l)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(l=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,l),Lh.delete(this)}cancel(){this.state==="scheduled"&&(Lh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const LP=o=>o.startsWith("--");function EP(o,l,p){LP(l)?o.style.setProperty(l,p):o.style[l]=p}const zP=Kv(()=>window.ScrollTimeline!==void 0),RP={};function kP(o,l){const p=Kv(o);return()=>RP[l]??p()}const g1=kP(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ym=([o,l,p,g])=>`cubic-bezier(${o}, ${l}, ${p}, ${g})`,N0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ym([0,.65,.55,1]),circOut:ym([.55,0,1,.45]),backIn:ym([.31,.01,.66,-.59]),backOut:ym([.33,1.53,.69,.99])};function y1(o,l){if(o)return typeof o=="function"?g1()?d1(o,l):"ease-out":t1(o)?ym(o):Array.isArray(o)?o.map(p=>y1(p,l)||N0.easeOut):N0[o]}function NP(o,l,p,{delay:g=0,duration:C=300,repeat:D=0,repeatType:w="loop",ease:c="easeOut",times:R}={},k=void 0){const q={[l]:p};R&&(q.offset=R);const G=y1(c,C);Array.isArray(G)&&(q.easing=G);const Z={delay:g,duration:C,easing:Array.isArray(G)?"linear":G,fill:"both",iterations:D+1,direction:w==="reverse"?"alternate":"normal"};return k&&(Z.pseudoElement=k),o.animate(q,Z)}function v1(o){return typeof o=="function"&&"applyToOptions"in o}function jP({type:o,...l}){return v1(o)&&g1()?o.applyToOptions(l):(l.duration??(l.duration=300),l.ease??(l.ease="easeOut"),l)}class KP extends $v{constructor(l){if(super(),this.finishedTime=null,this.isStopped=!1,!l)return;const{element:p,name:g,keyframes:C,pseudoElement:D,allowFlatten:w=!1,finalKeyframe:c,onComplete:R}=l;this.isPseudoElement=!!D,this.allowFlatten=w,this.options=l,jv(typeof l.type!="string");const k=jP(l);this.animation=NP(p,g,C,k,D),k.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!D){const q=Zv(C,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(q):EP(p,g,q),this.animation.cancel()}R?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:l}=this;l==="idle"||l==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const l=this.animation.effect?.getComputedTiming?.().duration||0;return Cc(Number(l))}get time(){return Cc(Number(this.animation.currentTime)||0)}set time(l){this.finishedTime=null,this.animation.currentTime=wc(l)}get speed(){return this.animation.playbackRate}set speed(l){l<0&&(this.finishedTime=null),this.animation.playbackRate=l}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(l){this.animation.startTime=l}attachTimeline({timeline:l,observe:p}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,l&&zP()?(this.animation.timeline=l,Vs):p(this)}}const b1={anticipate:W_,backInOut:J_,circInOut:Q_};function OP(o){return o in b1}function qP(o){typeof o.ease=="string"&&OP(o.ease)&&(o.ease=b1[o.ease])}const j0=10;class BP extends KP{constructor(l){qP(l),p1(l),super(l),l.startTime&&(this.startTime=l.startTime),this.options=l}updateMotionValue(l){const{motionValue:p,onUpdate:g,onComplete:C,element:D,...w}=this.options;if(!p)return;if(l!==void 0){p.set(l);return}const c=new Jv({...w,autoplay:!1}),R=wc(this.finishedTime??this.time);p.setWithVelocity(c.sample(R-j0).value,c.sample(R).value,j0),c.stop()}}const K0=(o,l)=>l==="zIndex"?!1:!!(typeof o=="number"||Array.isArray(o)||typeof o=="string"&&(hd.test(o)||o==="0")&&!o.startsWith("url("));function FP(o){const l=o[0];if(o.length===1)return!0;for(let p=0;p<o.length;p++)if(o[p]!==l)return!0}function VP(o,l,p,g){const C=o[0];if(C===null)return!1;if(l==="display"||l==="visibility")return!0;const D=o[o.length-1],w=K0(C,l),c=K0(D,l);return!w||!c?!1:FP(o)||(p==="spring"||v1(p))&&g}function Yv(o){return V_(o)&&"offsetHeight"in o}const UP=new Set(["opacity","clipPath","filter","transform"]),GP=Kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function HP(o){const{motionValue:l,name:p,repeatDelay:g,repeatType:C,damping:D,type:w}=o;if(!Yv(l?.owner?.current))return!1;const{onUpdate:c,transformTemplate:R}=l.owner.getProps();return GP()&&p&&UP.has(p)&&(p!=="transform"||!R)&&!c&&!g&&C!=="mirror"&&D!==0&&w!=="inertia"}const XP=40;class ZP extends $v{constructor({autoplay:l=!0,delay:p=0,type:g="keyframes",repeat:C=0,repeatDelay:D=0,repeatType:w="loop",keyframes:c,name:R,motionValue:k,element:q,...G}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=No.now();const Z={autoplay:l,delay:p,type:g,repeat:C,repeatDelay:D,repeatType:w,name:R,motionValue:k,element:q,...G},H=q?.KeyframeResolver||Wv;this.keyframeResolver=new H(c,(ae,Ie,Ve)=>this.onKeyframesResolved(ae,Ie,Z,!Ve),R,k,q),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(l,p,g,C){this.keyframeResolver=void 0;const{name:D,type:w,velocity:c,delay:R,isHandoff:k,onUpdate:q}=g;this.resolvedAt=No.now(),VP(l,D,w,c)||((pu.instantAnimations||!R)&&q?.(Zv(l,g,p)),l[0]=l[l.length-1],g.duration=0,g.repeat=0);const Z={startTime:C?this.resolvedAt?this.resolvedAt-this.createdAt>XP?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:p,...g,keyframes:l},H=!k&&HP(Z)?new BP({...Z,element:Z.motionValue.owner.current}):new Jv(Z);H.finished.then(()=>this.notifyFinished()).catch(Vs),this.pendingTimeline&&(this.stopTimeline=H.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=H}get finished(){return this._animation?this.animation.finished:this._finished}then(l,p){return this.finished.finally(l).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),IP()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(l){this.animation.time=l}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(l){this.animation.speed=l}get startTime(){return this.animation.startTime}attachTimeline(l){return this._animation?this.stopTimeline=this.animation.attachTimeline(l):this.pendingTimeline=l,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $P=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JP(o){const l=$P.exec(o);if(!l)return[,];const[,p,g,C]=l;return[`--${p??g}`,C]}function x1(o,l,p=1){const[g,C]=JP(o);if(!g)return;const D=window.getComputedStyle(l).getPropertyValue(g);if(D){const w=D.trim();return F_(w)?parseFloat(w):w}return Vv(C)?x1(C,l,p+1):C}function Qv(o,l){return o?.[l]??o?.default??o}const _1=new Set(["width","height","top","left","right","bottom",...Vp]),WP={test:o=>o==="auto",parse:o=>o},w1=o=>l=>l.test(o),C1=[Fp,xa,Sc,od,FT,BT,WP],O0=o=>C1.find(w1(o));function YP(o){return typeof o=="number"?o===0:o!==null?o==="none"||o==="0"||U_(o):!0}const QP=new Set(["brightness","contrast","saturate","opacity"]);function eD(o){const[l,p]=o.slice(0,-1).split("(");if(l==="drop-shadow")return o;const[g]=p.match(Uv)||[];if(!g)return o;const C=p.replace(g,"");let D=QP.has(l)?1:0;return g!==p&&(D*=100),l+"("+D+C+")"}const tD=/\b([a-z-]*)\(.*?\)/gu,dv={...hd,getAnimatableNone:o=>{const l=o.match(tD);return l?l.map(eD).join(" "):o}},q0={...Fp,transform:Math.round},aD={rotate:od,rotateX:od,rotateY:od,rotateZ:od,scale:Tg,scaleX:Tg,scaleY:Tg,scaleZ:Tg,skew:od,skewX:od,skewY:od,distance:xa,translateX:xa,translateY:xa,translateZ:xa,x:xa,y:xa,z:xa,perspective:xa,transformPerspective:xa,opacity:Am,originX:D0,originY:D0,originZ:xa},eb={borderWidth:xa,borderTopWidth:xa,borderRightWidth:xa,borderBottomWidth:xa,borderLeftWidth:xa,borderRadius:xa,radius:xa,borderTopLeftRadius:xa,borderTopRightRadius:xa,borderBottomRightRadius:xa,borderBottomLeftRadius:xa,width:xa,maxWidth:xa,height:xa,maxHeight:xa,top:xa,right:xa,bottom:xa,left:xa,padding:xa,paddingTop:xa,paddingRight:xa,paddingBottom:xa,paddingLeft:xa,margin:xa,marginTop:xa,marginRight:xa,marginBottom:xa,marginLeft:xa,backgroundPositionX:xa,backgroundPositionY:xa,...aD,zIndex:q0,fillOpacity:Am,strokeOpacity:Am,numOctaves:q0},iD={...eb,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:dv,WebkitFilter:dv},S1=o=>iD[o];function T1(o,l){let p=S1(o);return p!==dv&&(p=hd),p.getAnimatableNone?p.getAnimatableNone(l):void 0}const nD=new Set(["auto","none","0"]);function rD(o,l,p){let g=0,C;for(;g<o.length&&!C;){const D=o[g];typeof D=="string"&&!nD.has(D)&&Im(D).values.length&&(C=o[g]),g++}if(C&&p)for(const D of l)o[D]=T1(p,C)}class oD extends Wv{constructor(l,p,g,C,D){super(l,p,g,C,D,!0)}readKeyframes(){const{unresolvedKeyframes:l,element:p,name:g}=this;if(!p||!p.current)return;super.readKeyframes();for(let R=0;R<l.length;R++){let k=l[R];if(typeof k=="string"&&(k=k.trim(),Vv(k))){const q=x1(k,p.current);q!==void 0&&(l[R]=q),R===l.length-1&&(this.finalKeyframe=k)}}if(this.resolveNoneKeyframes(),!_1.has(g)||l.length!==2)return;const[C,D]=l,w=O0(C),c=O0(D);if(w!==c)if(k0(w)&&k0(c))for(let R=0;R<l.length;R++){const k=l[R];typeof k=="string"&&(l[R]=parseFloat(k))}else Ih[g]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:l,name:p}=this,g=[];for(let C=0;C<l.length;C++)(l[C]===null||YP(l[C]))&&g.push(C);g.length&&rD(l,g,p)}measureInitialState(){const{element:l,unresolvedKeyframes:p,name:g}=this;if(!l||!l.current)return;g==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ih[g](l.measureViewportBox(),window.getComputedStyle(l.current)),p[0]=this.measuredOrigin;const C=p[p.length-1];C!==void 0&&l.getValue(g,C).jump(C,!1)}measureEndState(){const{element:l,name:p,unresolvedKeyframes:g}=this;if(!l||!l.current)return;const C=l.getValue(p);C&&C.jump(this.measuredOrigin,!1);const D=g.length-1,w=g[D];g[D]=Ih[p](l.measureViewportBox(),window.getComputedStyle(l.current)),w!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=w),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,R])=>{l.getValue(c).set(R)}),this.resolveNoneKeyframes()}}function sD(o,l,p){if(o instanceof EventTarget)return[o];if(typeof o=="string"){let g=document;const C=p?.[o]??g.querySelectorAll(o);return C?Array.from(C):[]}return Array.from(o)}const P1=(o,l)=>l&&typeof o=="number"?l.transform(o):o,B0=30,lD=o=>!isNaN(parseFloat(o));class cD{constructor(l,p={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(g,C=!0)=>{const D=No.now();if(this.updatedAt!==D&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(g),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const w of this.dependents)w.dirty();C&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(l),this.owner=p.owner}setCurrent(l){this.current=l,this.updatedAt=No.now(),this.canTrackVelocity===null&&l!==void 0&&(this.canTrackVelocity=lD(this.current))}setPrevFrameValue(l=this.current){this.prevFrameValue=l,this.prevUpdatedAt=this.updatedAt}onChange(l){return this.on("change",l)}on(l,p){this.events[l]||(this.events[l]=new Ov);const g=this.events[l].add(p);return l==="change"?()=>{g(),dn.read(()=>{this.events.change.getSize()||this.stop()})}:g}clearListeners(){for(const l in this.events)this.events[l].clear()}attach(l,p){this.passiveEffect=l,this.stopPassiveEffect=p}set(l,p=!0){!p||!this.passiveEffect?this.updateAndNotify(l,p):this.passiveEffect(l,this.updateAndNotify)}setWithVelocity(l,p,g){this.set(p),this.prev=void 0,this.prevFrameValue=l,this.prevUpdatedAt=this.updatedAt-g}jump(l,p=!0){this.updateAndNotify(l),this.prev=l,this.prevUpdatedAt=this.prevFrameValue=void 0,p&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(l){this.dependents||(this.dependents=new Set),this.dependents.add(l)}removeDependent(l){this.dependents&&this.dependents.delete(l)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const l=No.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||l-this.updatedAt>B0)return 0;const p=Math.min(this.updatedAt-this.prevUpdatedAt,B0);return G_(parseFloat(this.current)-parseFloat(this.prevFrameValue),p)}start(l){return this.stop(),new Promise(p=>{this.hasAnimated=!0,this.animation=l(p),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kp(o,l){return new cD(o,l)}const{schedule:tb}=a1(queueMicrotask,!1),Ll={x:!1,y:!1};function D1(){return Ll.x||Ll.y}function uD(o){return o==="x"||o==="y"?Ll[o]?null:(Ll[o]=!0,()=>{Ll[o]=!1}):Ll.x||Ll.y?null:(Ll.x=Ll.y=!0,()=>{Ll.x=Ll.y=!1})}function M1(o,l){const p=sD(o),g=new AbortController,C={passive:!0,...l,signal:g.signal};return[p,C,()=>g.abort()]}function F0(o){return!(o.pointerType==="touch"||D1())}function dD(o,l,p={}){const[g,C,D]=M1(o,p),w=c=>{if(!F0(c))return;const{target:R}=c,k=l(R,c);if(typeof k!="function"||!R)return;const q=G=>{F0(G)&&(k(G),R.removeEventListener("pointerleave",q))};R.addEventListener("pointerleave",q,C)};return g.forEach(c=>{c.addEventListener("pointerenter",w,C)}),D}const A1=(o,l)=>l?o===l?!0:A1(o,l.parentElement):!1,ab=o=>o.pointerType==="mouse"?typeof o.button!="number"||o.button<=0:o.isPrimary!==!1,hD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pD(o){return hD.has(o.tagName)||o.tabIndex!==-1}const Rg=new WeakSet;function V0(o){return l=>{l.key==="Enter"&&o(l)}}function Ny(o,l){o.dispatchEvent(new PointerEvent("pointer"+l,{isPrimary:!0,bubbles:!0}))}const fD=(o,l)=>{const p=o.currentTarget;if(!p)return;const g=V0(()=>{if(Rg.has(p))return;Ny(p,"down");const C=V0(()=>{Ny(p,"up")}),D=()=>Ny(p,"cancel");p.addEventListener("keyup",C,l),p.addEventListener("blur",D,l)});p.addEventListener("keydown",g,l),p.addEventListener("blur",()=>p.removeEventListener("keydown",g),l)};function U0(o){return ab(o)&&!D1()}function mD(o,l,p={}){const[g,C,D]=M1(o,p),w=c=>{const R=c.currentTarget;if(!U0(c))return;Rg.add(R);const k=l(R,c),q=(H,ae)=>{window.removeEventListener("pointerup",G),window.removeEventListener("pointercancel",Z),Rg.has(R)&&Rg.delete(R),U0(H)&&typeof k=="function"&&k(H,{success:ae})},G=H=>{q(H,R===window||R===document||p.useGlobalTarget||A1(R,H.target))},Z=H=>{q(H,!1)};window.addEventListener("pointerup",G,C),window.addEventListener("pointercancel",Z,C)};return g.forEach(c=>{(p.useGlobalTarget?window:c).addEventListener("pointerdown",w,C),Yv(c)&&(c.addEventListener("focus",k=>fD(k,C)),!pD(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),D}function I1(o){return V_(o)&&"ownerSVGElement"in o}function gD(o){return I1(o)&&o.tagName==="svg"}const Gr=o=>!!(o&&o.getVelocity),yD=[...C1,Vn,hd],vD=o=>yD.find(w1(o)),ib=fe.createContext({transformPagePoint:o=>o,isStatic:!1,reducedMotion:"never"});class bD extends fe.Component{getSnapshotBeforeUpdate(l){const p=this.props.childRef.current;if(p&&l.isPresent&&!this.props.isPresent){const g=p.offsetParent,C=Yv(g)&&g.offsetWidth||0,D=this.props.sizeRef.current;D.height=p.offsetHeight||0,D.width=p.offsetWidth||0,D.top=p.offsetTop,D.left=p.offsetLeft,D.right=C-D.width-D.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xD({children:o,isPresent:l,anchorX:p,root:g}){const C=fe.useId(),D=fe.useRef(null),w=fe.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=fe.useContext(ib);return fe.useInsertionEffect(()=>{const{width:R,height:k,top:q,left:G,right:Z}=w.current;if(l||!D.current||!R||!k)return;const H=p==="left"?`left: ${G}`:`right: ${Z}`;D.current.dataset.motionPopId=C;const ae=document.createElement("style");c&&(ae.nonce=c);const Ie=g??document.head;return Ie.appendChild(ae),ae.sheet&&ae.sheet.insertRule(`
          [data-motion-pop-id="${C}"] {
            position: absolute !important;
            width: ${R}px !important;
            height: ${k}px !important;
            ${H}px !important;
            top: ${q}px !important;
          }
        `),()=>{Ie.removeChild(ae),Ie.contains(ae)&&Ie.removeChild(ae)}},[l]),L.jsx(bD,{isPresent:l,childRef:D,sizeRef:w,children:fe.cloneElement(o,{ref:D})})}const _D=({children:o,initial:l,isPresent:p,onExitComplete:g,custom:C,presenceAffectsLayout:D,mode:w,anchorX:c,root:R})=>{const k=zv(wD),q=fe.useId();let G=!0,Z=fe.useMemo(()=>(G=!1,{id:q,initial:l,isPresent:p,custom:C,onExitComplete:H=>{k.set(H,!0);for(const ae of k.values())if(!ae)return;g&&g()},register:H=>(k.set(H,!1),()=>k.delete(H))}),[p,k,g]);return D&&G&&(Z={...Z}),fe.useMemo(()=>{k.forEach((H,ae)=>k.set(ae,!1))},[p]),fe.useEffect(()=>{!p&&!k.size&&g&&g()},[p]),w==="popLayout"&&(o=L.jsx(xD,{isPresent:p,anchorX:c,root:R,children:o})),L.jsx(ay.Provider,{value:Z,children:o})};function wD(){return new Map}function L1(o=!0){const l=fe.useContext(ay);if(l===null)return[!0,null];const{isPresent:p,onExitComplete:g,register:C}=l,D=fe.useId();fe.useEffect(()=>{if(o)return C(D)},[o]);const w=fe.useCallback(()=>o&&g&&g(D),[D,g,o]);return!p&&g?[!1,w]:[!0]}const Pg=o=>o.key||"";function G0(o){const l=[];return fe.Children.forEach(o,p=>{fe.isValidElement(p)&&l.push(p)}),l}const Eh=({children:o,custom:l,initial:p=!0,onExitComplete:g,presenceAffectsLayout:C=!0,mode:D="sync",propagate:w=!1,anchorX:c="left",root:R})=>{const[k,q]=L1(w),G=fe.useMemo(()=>G0(o),[o]),Z=w&&!k?[]:G.map(Pg),H=fe.useRef(!0),ae=fe.useRef(G),Ie=zv(()=>new Map),[Ve,we]=fe.useState(G),[Le,Oe]=fe.useState(G);B_(()=>{H.current=!1,ae.current=G;for(let Se=0;Se<Le.length;Se++){const _t=Pg(Le[Se]);Z.includes(_t)?Ie.delete(_t):Ie.get(_t)!==!0&&Ie.set(_t,!1)}},[Le,Z.length,Z.join("-")]);const ot=[];if(G!==Ve){let Se=[...G];for(let _t=0;_t<Le.length;_t++){const Dt=Le[_t],zt=Pg(Dt);Z.includes(zt)||(Se.splice(_t,0,Dt),ot.push(Dt))}return D==="wait"&&ot.length&&(Se=ot),Oe(G0(Se)),we(G),null}const{forceRender:He}=fe.useContext(Ev);return L.jsx(L.Fragment,{children:Le.map(Se=>{const _t=Pg(Se),Dt=w&&!k?!1:G===Le||Z.includes(_t),zt=()=>{if(Ie.has(_t))Ie.set(_t,!0);else return;let Ht=!0;Ie.forEach(ga=>{ga||(Ht=!1)}),Ht&&(He?.(),Oe(ae.current),w&&q?.(),g&&g())};return L.jsx(_D,{isPresent:Dt,initial:!H.current||p?void 0:!1,custom:l,presenceAffectsLayout:C,mode:D,root:R,onExitComplete:Dt?void 0:zt,anchorX:c,children:Se},_t)})})},E1=fe.createContext({strict:!1}),H0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Op={};for(const o in H0)Op[o]={isEnabled:l=>H0[o].some(p=>!!l[p])};function CD(o){for(const l in o)Op[l]={...Op[l],...o[l]}}const SD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zg(o){return o.startsWith("while")||o.startsWith("drag")&&o!=="draggable"||o.startsWith("layout")||o.startsWith("onTap")||o.startsWith("onPan")||o.startsWith("onLayout")||SD.has(o)}let z1=o=>!Zg(o);function TD(o){typeof o=="function"&&(z1=l=>l.startsWith("on")?!Zg(l):o(l))}try{TD(require("@emotion/is-prop-valid").default)}catch{}function PD(o,l,p){const g={};for(const C in o)C==="values"&&typeof o.values=="object"||(z1(C)||p===!0&&Zg(C)||!l&&!Zg(C)||o.draggable&&C.startsWith("onDrag"))&&(g[C]=o[C]);return g}function DD(o){if(typeof Proxy>"u")return o;const l=new Map,p=(...g)=>o(...g);return new Proxy(p,{get:(g,C)=>C==="create"?o:(l.has(C)||l.set(C,o(C)),l.get(C))})}const iy=fe.createContext({});function ny(o){return o!==null&&typeof o=="object"&&typeof o.start=="function"}function Lm(o){return typeof o=="string"||Array.isArray(o)}const nb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rb=["initial",...nb];function ry(o){return ny(o.animate)||rb.some(l=>Lm(o[l]))}function R1(o){return!!(ry(o)||o.variants)}function MD(o,l){if(ry(o)){const{initial:p,animate:g}=o;return{initial:p===!1||Lm(p)?p:void 0,animate:Lm(g)?g:void 0}}return o.inherit!==!1?l:{}}function AD(o){const{initial:l,animate:p}=MD(o,fe.useContext(iy));return fe.useMemo(()=>({initial:l,animate:p}),[X0(l),X0(p)])}function X0(o){return Array.isArray(o)?o.join(" "):o}const ID=Symbol.for("motionComponentSymbol");function Ep(o){return o&&typeof o=="object"&&Object.prototype.hasOwnProperty.call(o,"current")}function LD(o,l,p){return fe.useCallback(g=>{g&&o.onMount&&o.onMount(g),l&&(g?l.mount(g):l.unmount()),p&&(typeof p=="function"?p(g):Ep(p)&&(p.current=g))},[l])}const ob=o=>o.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ED="framerAppearId",k1="data-"+ob(ED),N1=fe.createContext({});function zD(o,l,p,g,C){const{visualElement:D}=fe.useContext(iy),w=fe.useContext(E1),c=fe.useContext(ay),R=fe.useContext(ib).reducedMotion,k=fe.useRef(null);g=g||w.renderer,!k.current&&g&&(k.current=g(o,{visualState:l,parent:D,props:p,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:R}));const q=k.current,G=fe.useContext(N1);q&&!q.projection&&C&&(q.type==="html"||q.type==="svg")&&RD(k.current,p,C,G);const Z=fe.useRef(!1);fe.useInsertionEffect(()=>{q&&Z.current&&q.update(p,c)});const H=p[k1],ae=fe.useRef(!!H&&!window.MotionHandoffIsComplete?.(H)&&window.MotionHasOptimisedAnimation?.(H));return B_(()=>{q&&(Z.current=!0,window.MotionIsMounted=!0,q.updateFeatures(),tb.render(q.render),ae.current&&q.animationState&&q.animationState.animateChanges())}),fe.useEffect(()=>{q&&(!ae.current&&q.animationState&&q.animationState.animateChanges(),ae.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(H)}),ae.current=!1))}),q}function RD(o,l,p,g){const{layoutId:C,layout:D,drag:w,dragConstraints:c,layoutScroll:R,layoutRoot:k,layoutCrossfade:q}=l;o.projection=new p(o.latestValues,l["data-framer-portal-id"]?void 0:j1(o.parent)),o.projection.setOptions({layoutId:C,layout:D,alwaysMeasureLayout:!!w||c&&Ep(c),visualElement:o,animationType:typeof D=="string"?D:"both",initialPromotionConfig:g,crossfade:q,layoutScroll:R,layoutRoot:k})}function j1(o){if(o)return o.options.allowProjection!==!1?o.projection:j1(o.parent)}function kD({preloadedFeatures:o,createVisualElement:l,useRender:p,useVisualState:g,Component:C}){o&&CD(o);function D(c,R){let k;const q={...fe.useContext(ib),...c,layoutId:ND(c)},{isStatic:G}=q,Z=AD(c),H=g(c,G);if(!G&&Rv){jD();const ae=KD(q);k=ae.MeasureLayout,Z.visualElement=zD(C,H,q,l,ae.ProjectionNode)}return L.jsxs(iy.Provider,{value:Z,children:[k&&Z.visualElement?L.jsx(k,{visualElement:Z.visualElement,...q}):null,p(C,c,LD(H,Z.visualElement,R),H,G,Z.visualElement)]})}D.displayName=`motion.${typeof C=="string"?C:`create(${C.displayName??C.name??""})`}`;const w=fe.forwardRef(D);return w[ID]=C,w}function ND({layoutId:o}){const l=fe.useContext(Ev).id;return l&&o!==void 0?l+"-"+o:o}function jD(o,l){fe.useContext(E1).strict}function KD(o){const{drag:l,layout:p}=Op;if(!l&&!p)return{};const g={...l,...p};return{MeasureLayout:l?.isEnabled(o)||p?.isEnabled(o)?g.MeasureLayout:void 0,ProjectionNode:g.ProjectionNode}}const Em={};function OD(o){for(const l in o)Em[l]=o[l],Fv(l)&&(Em[l].isCSSVariable=!0)}function K1(o,{layout:l,layoutId:p}){return Up.has(o)||o.startsWith("origin")||(l||p!==void 0)&&(!!Em[o]||o==="opacity")}const qD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BD=Vp.length;function FD(o,l,p){let g="",C=!0;for(let D=0;D<BD;D++){const w=Vp[D],c=o[w];if(c===void 0)continue;let R=!0;if(typeof c=="number"?R=c===(w.startsWith("scale")?1:0):R=parseFloat(c)===0,!R||p){const k=P1(c,eb[w]);if(!R){C=!1;const q=qD[w]||w;g+=`${q}(${k}) `}p&&(l[w]=k)}}return g=g.trim(),p?g=p(l,C?"":g):C&&(g="none"),g}function sb(o,l,p){const{style:g,vars:C,transformOrigin:D}=o;let w=!1,c=!1;for(const R in l){const k=l[R];if(Up.has(R)){w=!0;continue}else if(Fv(R)){C[R]=k;continue}else{const q=P1(k,eb[R]);R.startsWith("origin")?(c=!0,D[R]=q):g[R]=q}}if(l.transform||(w||p?g.transform=FD(l,o.transform,p):g.transform&&(g.transform="none")),c){const{originX:R="50%",originY:k="50%",originZ:q=0}=D;g.transformOrigin=`${R} ${k} ${q}`}}const lb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function O1(o,l,p){for(const g in l)!Gr(l[g])&&!K1(g,p)&&(o[g]=l[g])}function VD({transformTemplate:o},l){return fe.useMemo(()=>{const p=lb();return sb(p,l,o),Object.assign({},p.vars,p.style)},[l])}function UD(o,l){const p=o.style||{},g={};return O1(g,p,o),Object.assign(g,VD(o,l)),g}function GD(o,l){const p={},g=UD(o,l);return o.drag&&o.dragListener!==!1&&(p.draggable=!1,g.userSelect=g.WebkitUserSelect=g.WebkitTouchCallout="none",g.touchAction=o.drag===!0?"none":`pan-${o.drag==="x"?"y":"x"}`),o.tabIndex===void 0&&(o.onTap||o.onTapStart||o.whileTap)&&(p.tabIndex=0),p.style=g,p}const HD={offset:"stroke-dashoffset",array:"stroke-dasharray"},XD={offset:"strokeDashoffset",array:"strokeDasharray"};function ZD(o,l,p=1,g=0,C=!0){o.pathLength=1;const D=C?HD:XD;o[D.offset]=xa.transform(-g);const w=xa.transform(l),c=xa.transform(p);o[D.array]=`${w} ${c}`}function q1(o,{attrX:l,attrY:p,attrScale:g,pathLength:C,pathSpacing:D=1,pathOffset:w=0,...c},R,k,q){if(sb(o,c,k),R){o.style.viewBox&&(o.attrs.viewBox=o.style.viewBox);return}o.attrs=o.style,o.style={};const{attrs:G,style:Z}=o;G.transform&&(Z.transform=G.transform,delete G.transform),(Z.transform||G.transformOrigin)&&(Z.transformOrigin=G.transformOrigin??"50% 50%",delete G.transformOrigin),Z.transform&&(Z.transformBox=q?.transformBox??"fill-box",delete G.transformBox),l!==void 0&&(G.x=l),p!==void 0&&(G.y=p),g!==void 0&&(G.scale=g),C!==void 0&&ZD(G,C,D,w,!1)}const B1=()=>({...lb(),attrs:{}}),F1=o=>typeof o=="string"&&o.toLowerCase()==="svg";function $D(o,l,p,g){const C=fe.useMemo(()=>{const D=B1();return q1(D,l,F1(g),o.transformTemplate,o.style),{...D.attrs,style:{...D.style}}},[l]);if(o.style){const D={};O1(D,o.style,o),C.style={...D,...C.style}}return C}const JD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cb(o){return typeof o!="string"||o.includes("-")?!1:!!(JD.indexOf(o)>-1||/[A-Z]/u.test(o))}function WD(o=!1){return(p,g,C,{latestValues:D},w)=>{const R=(cb(p)?$D:GD)(g,D,w,p),k=PD(g,typeof p=="string",o),q=p!==fe.Fragment?{...k,...R,ref:C}:{},{children:G}=g,Z=fe.useMemo(()=>Gr(G)?G.get():G,[G]);return fe.createElement(p,{...q,children:Z})}}function Z0(o){const l=[{},{}];return o?.values.forEach((p,g)=>{l[0][g]=p.get(),l[1][g]=p.getVelocity()}),l}function ub(o,l,p,g){if(typeof l=="function"){const[C,D]=Z0(g);l=l(p!==void 0?p:o.custom,C,D)}if(typeof l=="string"&&(l=o.variants&&o.variants[l]),typeof l=="function"){const[C,D]=Z0(g);l=l(p!==void 0?p:o.custom,C,D)}return l}function kg(o){return Gr(o)?o.get():o}function YD({scrapeMotionValuesFromProps:o,createRenderState:l},p,g,C){return{latestValues:QD(p,g,C,o),renderState:l()}}const V1=o=>(l,p)=>{const g=fe.useContext(iy),C=fe.useContext(ay),D=()=>YD(o,l,g,C);return p?D():zv(D)};function QD(o,l,p,g){const C={},D=g(o,{});for(const Z in D)C[Z]=kg(D[Z]);let{initial:w,animate:c}=o;const R=ry(o),k=R1(o);l&&k&&!R&&o.inherit!==!1&&(w===void 0&&(w=l.initial),c===void 0&&(c=l.animate));let q=p?p.initial===!1:!1;q=q||w===!1;const G=q?c:w;if(G&&typeof G!="boolean"&&!ny(G)){const Z=Array.isArray(G)?G:[G];for(let H=0;H<Z.length;H++){const ae=ub(o,Z[H]);if(ae){const{transitionEnd:Ie,transition:Ve,...we}=ae;for(const Le in we){let Oe=we[Le];if(Array.isArray(Oe)){const ot=q?Oe.length-1:0;Oe=Oe[ot]}Oe!==null&&(C[Le]=Oe)}for(const Le in Ie)C[Le]=Ie[Le]}}}return C}function db(o,l,p){const{style:g}=o,C={};for(const D in g)(Gr(g[D])||l.style&&Gr(l.style[D])||K1(D,o)||p?.getValue(D)?.liveStyle!==void 0)&&(C[D]=g[D]);return C}const eM={useVisualState:V1({scrapeMotionValuesFromProps:db,createRenderState:lb})};function U1(o,l,p){const g=db(o,l,p);for(const C in o)if(Gr(o[C])||Gr(l[C])){const D=Vp.indexOf(C)!==-1?"attr"+C.charAt(0).toUpperCase()+C.substring(1):C;g[D]=o[C]}return g}const tM={useVisualState:V1({scrapeMotionValuesFromProps:U1,createRenderState:B1})};function aM(o,l){return function(g,{forwardMotionProps:C}={forwardMotionProps:!1}){const w={...cb(g)?tM:eM,preloadedFeatures:o,useRender:WD(C),createVisualElement:l,Component:g};return kD(w)}}function zm(o,l,p){const g=o.getProps();return ub(g,l,p!==void 0?p:g.custom,o)}const hv=o=>Array.isArray(o);function iM(o,l,p){o.hasValue(l)?o.getValue(l).set(p):o.addValue(l,Kp(p))}function nM(o){return hv(o)?o[o.length-1]||0:o}function rM(o,l){const p=zm(o,l);let{transitionEnd:g={},transition:C={},...D}=p||{};D={...D,...g};for(const w in D){const c=nM(D[w]);iM(o,w,c)}}function oM(o){return!!(Gr(o)&&o.add)}function pv(o,l){const p=o.getValue("willChange");if(oM(p))return p.add(l);if(!p&&pu.WillChange){const g=new pu.WillChange("auto");o.addValue("willChange",g),g.add(l)}}function G1(o){return o.props[k1]}const sM=o=>o!==null;function lM(o,{repeat:l,repeatType:p="loop"},g){const C=o.filter(sM),D=l&&p!=="loop"&&l%2===1?0:C.length-1;return C[D]}const cM={type:"spring",stiffness:500,damping:25,restSpeed:10},uM=o=>({type:"spring",stiffness:550,damping:o===0?2*Math.sqrt(550):30,restSpeed:10}),dM={type:"keyframes",duration:.8},hM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pM=(o,{keyframes:l})=>l.length>2?dM:Up.has(o)?o.startsWith("scale")?uM(l[1]):cM:hM;function fM({when:o,delay:l,delayChildren:p,staggerChildren:g,staggerDirection:C,repeat:D,repeatType:w,repeatDelay:c,from:R,elapsed:k,...q}){return!!Object.keys(q).length}const hb=(o,l,p,g={},C,D)=>w=>{const c=Qv(g,o)||{},R=c.delay||g.delay||0;let{elapsed:k=0}=g;k=k-wc(R);const q={keyframes:Array.isArray(p)?p:[null,p],ease:"easeOut",velocity:l.getVelocity(),...c,delay:-k,onUpdate:Z=>{l.set(Z),c.onUpdate&&c.onUpdate(Z)},onComplete:()=>{w(),c.onComplete&&c.onComplete()},name:o,motionValue:l,element:D?void 0:C};fM(c)||Object.assign(q,pM(o,q)),q.duration&&(q.duration=wc(q.duration)),q.repeatDelay&&(q.repeatDelay=wc(q.repeatDelay)),q.from!==void 0&&(q.keyframes[0]=q.from);let G=!1;if((q.type===!1||q.duration===0&&!q.repeatDelay)&&(q.duration=0,q.delay===0&&(G=!0)),(pu.instantAnimations||pu.skipAnimations)&&(G=!0,q.duration=0,q.delay=0),q.allowFlatten=!c.type&&!c.ease,G&&!D&&l.get()!==void 0){const Z=lM(q.keyframes,c);if(Z!==void 0){dn.update(()=>{q.onUpdate(Z),q.onComplete()});return}}return c.isSync?new Jv(q):new ZP(q)};function mM({protectedKeys:o,needsAnimating:l},p){const g=o.hasOwnProperty(p)&&l[p]!==!0;return l[p]=!1,g}function H1(o,l,{delay:p=0,transitionOverride:g,type:C}={}){let{transition:D=o.getDefaultTransition(),transitionEnd:w,...c}=l;g&&(D=g);const R=[],k=C&&o.animationState&&o.animationState.getState()[C];for(const q in c){const G=o.getValue(q,o.latestValues[q]??null),Z=c[q];if(Z===void 0||k&&mM(k,q))continue;const H={delay:p,...Qv(D||{},q)},ae=G.get();if(ae!==void 0&&!G.isAnimating&&!Array.isArray(Z)&&Z===ae&&!H.velocity)continue;let Ie=!1;if(window.MotionHandoffAnimation){const we=G1(o);if(we){const Le=window.MotionHandoffAnimation(we,q,dn);Le!==null&&(H.startTime=Le,Ie=!0)}}pv(o,q),G.start(hb(q,G,Z,o.shouldReduceMotion&&_1.has(q)?{type:!1}:H,o,Ie));const Ve=G.animation;Ve&&R.push(Ve)}return w&&Promise.all(R).then(()=>{dn.update(()=>{w&&rM(o,w)})}),R}function fv(o,l,p={}){const g=zm(o,l,p.type==="exit"?o.presenceContext?.custom:void 0);let{transition:C=o.getDefaultTransition()||{}}=g||{};p.transitionOverride&&(C=p.transitionOverride);const D=g?()=>Promise.all(H1(o,g,p)):()=>Promise.resolve(),w=o.variantChildren&&o.variantChildren.size?(R=0)=>{const{delayChildren:k=0,staggerChildren:q,staggerDirection:G}=C;return gM(o,l,R,k,q,G,p)}:()=>Promise.resolve(),{when:c}=C;if(c){const[R,k]=c==="beforeChildren"?[D,w]:[w,D];return R().then(()=>k())}else return Promise.all([D(),w(p.delay)])}function gM(o,l,p=0,g=0,C=0,D=1,w){const c=[],R=o.variantChildren.size,k=(R-1)*C,q=typeof g=="function",G=q?Z=>g(Z,R):D===1?(Z=0)=>Z*C:(Z=0)=>k-Z*C;return Array.from(o.variantChildren).sort(yM).forEach((Z,H)=>{Z.notify("AnimationStart",l),c.push(fv(Z,l,{...w,delay:p+(q?0:g)+G(H)}).then(()=>Z.notify("AnimationComplete",l)))}),Promise.all(c)}function yM(o,l){return o.sortNodePosition(l)}function vM(o,l,p={}){o.notify("AnimationStart",l);let g;if(Array.isArray(l)){const C=l.map(D=>fv(o,D,p));g=Promise.all(C)}else if(typeof l=="string")g=fv(o,l,p);else{const C=typeof l=="function"?zm(o,l,p.custom):l;g=Promise.all(H1(o,C,p))}return g.then(()=>{o.notify("AnimationComplete",l)})}function X1(o,l){if(!Array.isArray(l))return!1;const p=l.length;if(p!==o.length)return!1;for(let g=0;g<p;g++)if(l[g]!==o[g])return!1;return!0}const bM=rb.length;function Z1(o){if(!o)return;if(!o.isControllingVariants){const p=o.parent?Z1(o.parent)||{}:{};return o.props.initial!==void 0&&(p.initial=o.props.initial),p}const l={};for(let p=0;p<bM;p++){const g=rb[p],C=o.props[g];(Lm(C)||C===!1)&&(l[g]=C)}return l}const xM=[...nb].reverse(),_M=nb.length;function wM(o){return l=>Promise.all(l.map(({animation:p,options:g})=>vM(o,p,g)))}function CM(o){let l=wM(o),p=$0(),g=!0;const C=R=>(k,q)=>{const G=zm(o,q,R==="exit"?o.presenceContext?.custom:void 0);if(G){const{transition:Z,transitionEnd:H,...ae}=G;k={...k,...ae,...H}}return k};function D(R){l=R(o)}function w(R){const{props:k}=o,q=Z1(o.parent)||{},G=[],Z=new Set;let H={},ae=1/0;for(let Ve=0;Ve<_M;Ve++){const we=xM[Ve],Le=p[we],Oe=k[we]!==void 0?k[we]:q[we],ot=Lm(Oe),He=we===R?Le.isActive:null;He===!1&&(ae=Ve);let Se=Oe===q[we]&&Oe!==k[we]&&ot;if(Se&&g&&o.manuallyAnimateOnMount&&(Se=!1),Le.protectedKeys={...H},!Le.isActive&&He===null||!Oe&&!Le.prevProp||ny(Oe)||typeof Oe=="boolean")continue;const _t=SM(Le.prevProp,Oe);let Dt=_t||we===R&&Le.isActive&&!Se&&ot||Ve>ae&&ot,zt=!1;const Ht=Array.isArray(Oe)?Oe:[Oe];let ga=Ht.reduce(C(we),{});He===!1&&(ga={});const{prevResolvedValues:sa={}}=Le,$t={...sa,...ga},ea=$e=>{Dt=!0,Z.has($e)&&(zt=!0,Z.delete($e)),Le.needsAnimating[$e]=!0;const xt=o.getValue($e);xt&&(xt.liveStyle=!1)};for(const $e in $t){const xt=ga[$e],kt=sa[$e];if(H.hasOwnProperty($e))continue;let _e=!1;hv(xt)&&hv(kt)?_e=!X1(xt,kt):_e=xt!==kt,_e?xt!=null?ea($e):Z.add($e):xt!==void 0&&Z.has($e)?ea($e):Le.protectedKeys[$e]=!0}Le.prevProp=Oe,Le.prevResolvedValues=ga,Le.isActive&&(H={...H,...ga}),g&&o.blockInitialAnimation&&(Dt=!1),Dt&&(!(Se&&_t)||zt)&&G.push(...Ht.map($e=>({animation:$e,options:{type:we}})))}if(Z.size){const Ve={};if(typeof k.initial!="boolean"){const we=zm(o,Array.isArray(k.initial)?k.initial[0]:k.initial);we&&we.transition&&(Ve.transition=we.transition)}Z.forEach(we=>{const Le=o.getBaseTarget(we),Oe=o.getValue(we);Oe&&(Oe.liveStyle=!0),Ve[we]=Le??null}),G.push({animation:Ve})}let Ie=!!G.length;return g&&(k.initial===!1||k.initial===k.animate)&&!o.manuallyAnimateOnMount&&(Ie=!1),g=!1,Ie?l(G):Promise.resolve()}function c(R,k){if(p[R].isActive===k)return Promise.resolve();o.variantChildren?.forEach(G=>G.animationState?.setActive(R,k)),p[R].isActive=k;const q=w(R);for(const G in p)p[G].protectedKeys={};return q}return{animateChanges:w,setActive:c,setAnimateFunction:D,getState:()=>p,reset:()=>{p=$0(),g=!0}}}function SM(o,l){return typeof l=="string"?l!==o:Array.isArray(l)?!X1(l,o):!1}function vh(o=!1){return{isActive:o,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $0(){return{animate:vh(!0),whileInView:vh(),whileHover:vh(),whileTap:vh(),whileDrag:vh(),whileFocus:vh(),exit:vh()}}class fd{constructor(l){this.isMounted=!1,this.node=l}update(){}}class TM extends fd{constructor(l){super(l),l.animationState||(l.animationState=CM(l))}updateAnimationControlsSubscription(){const{animate:l}=this.node.getProps();ny(l)&&(this.unmountControls=l.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:l}=this.node.getProps(),{animate:p}=this.node.prevProps||{};l!==p&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PM=0;class DM extends fd{constructor(){super(...arguments),this.id=PM++}update(){if(!this.node.presenceContext)return;const{isPresent:l,onExitComplete:p}=this.node.presenceContext,{isPresent:g}=this.node.prevPresenceContext||{};if(!this.node.animationState||l===g)return;const C=this.node.animationState.setActive("exit",!l);p&&!l&&C.then(()=>{p(this.id)})}mount(){const{register:l,onExitComplete:p}=this.node.presenceContext||{};p&&p(this.id),l&&(this.unmount=l(this.id))}unmount(){}}const MM={animation:{Feature:TM},exit:{Feature:DM}};function Rm(o,l,p,g={passive:!0}){return o.addEventListener(l,p,g),()=>o.removeEventListener(l,p)}function qm(o){return{point:{x:o.pageX,y:o.pageY}}}const AM=o=>l=>ab(l)&&o(l,qm(l));function _m(o,l,p,g){return Rm(o,l,AM(p),g)}function $1({top:o,left:l,right:p,bottom:g}){return{x:{min:l,max:p},y:{min:o,max:g}}}function IM({x:o,y:l}){return{top:l.min,right:o.max,bottom:l.max,left:o.min}}function LM(o,l){if(!l)return o;const p=l({x:o.left,y:o.top}),g=l({x:o.right,y:o.bottom});return{top:p.y,left:p.x,bottom:g.y,right:g.x}}const J1=1e-4,EM=1-J1,zM=1+J1,W1=.01,RM=0-W1,kM=0+W1;function fo(o){return o.max-o.min}function NM(o,l,p){return Math.abs(o-l)<=p}function J0(o,l,p,g=.5){o.origin=g,o.originPoint=yn(l.min,l.max,o.origin),o.scale=fo(p)/fo(l),o.translate=yn(p.min,p.max,o.origin)-o.originPoint,(o.scale>=EM&&o.scale<=zM||isNaN(o.scale))&&(o.scale=1),(o.translate>=RM&&o.translate<=kM||isNaN(o.translate))&&(o.translate=0)}function wm(o,l,p,g){J0(o.x,l.x,p.x,g?g.originX:void 0),J0(o.y,l.y,p.y,g?g.originY:void 0)}function W0(o,l,p){o.min=p.min+l.min,o.max=o.min+fo(l)}function jM(o,l,p){W0(o.x,l.x,p.x),W0(o.y,l.y,p.y)}function Y0(o,l,p){o.min=l.min-p.min,o.max=o.min+fo(l)}function Cm(o,l,p){Y0(o.x,l.x,p.x),Y0(o.y,l.y,p.y)}const Q0=()=>({translate:0,scale:1,origin:0,originPoint:0}),zp=()=>({x:Q0(),y:Q0()}),ex=()=>({min:0,max:0}),zn=()=>({x:ex(),y:ex()});function qs(o){return[o("x"),o("y")]}function jy(o){return o===void 0||o===1}function mv({scale:o,scaleX:l,scaleY:p}){return!jy(o)||!jy(l)||!jy(p)}function Sh(o){return mv(o)||Y1(o)||o.z||o.rotate||o.rotateX||o.rotateY||o.skewX||o.skewY}function Y1(o){return tx(o.x)||tx(o.y)}function tx(o){return o&&o!=="0%"}function $g(o,l,p){const g=o-p,C=l*g;return p+C}function ax(o,l,p,g,C){return C!==void 0&&(o=$g(o,C,g)),$g(o,p,g)+l}function gv(o,l=0,p=1,g,C){o.min=ax(o.min,l,p,g,C),o.max=ax(o.max,l,p,g,C)}function Q1(o,{x:l,y:p}){gv(o.x,l.translate,l.scale,l.originPoint),gv(o.y,p.translate,p.scale,p.originPoint)}const ix=.999999999999,nx=1.0000000000001;function KM(o,l,p,g=!1){const C=p.length;if(!C)return;l.x=l.y=1;let D,w;for(let c=0;c<C;c++){D=p[c],w=D.projectionDelta;const{visualElement:R}=D.options;R&&R.props.style&&R.props.style.display==="contents"||(g&&D.options.layoutScroll&&D.scroll&&D!==D.root&&kp(o,{x:-D.scroll.offset.x,y:-D.scroll.offset.y}),w&&(l.x*=w.x.scale,l.y*=w.y.scale,Q1(o,w)),g&&Sh(D.latestValues)&&kp(o,D.latestValues))}l.x<nx&&l.x>ix&&(l.x=1),l.y<nx&&l.y>ix&&(l.y=1)}function Rp(o,l){o.min=o.min+l,o.max=o.max+l}function rx(o,l,p,g,C=.5){const D=yn(o.min,o.max,C);gv(o,l,p,D,g)}function kp(o,l){rx(o.x,l.x,l.scaleX,l.scale,l.originX),rx(o.y,l.y,l.scaleY,l.scale,l.originY)}function ew(o,l){return $1(LM(o.getBoundingClientRect(),l))}function OM(o,l,p){const g=ew(o,p),{scroll:C}=l;return C&&(Rp(g.x,C.offset.x),Rp(g.y,C.offset.y)),g}const tw=({current:o})=>o?o.ownerDocument.defaultView:null,ox=(o,l)=>Math.abs(o-l);function qM(o,l){const p=ox(o.x,l.x),g=ox(o.y,l.y);return Math.sqrt(p**2+g**2)}class aw{constructor(l,p,{transformPagePoint:g,contextWindow:C=window,dragSnapToOrigin:D=!1,distanceThreshold:w=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Oy(this.lastMoveEventInfo,this.history),H=this.startEvent!==null,ae=qM(Z.offset,{x:0,y:0})>=this.distanceThreshold;if(!H&&!ae)return;const{point:Ie}=Z,{timestamp:Ve}=Pr;this.history.push({...Ie,timestamp:Ve});const{onStart:we,onMove:Le}=this.handlers;H||(we&&we(this.lastMoveEvent,Z),this.startEvent=this.lastMoveEvent),Le&&Le(this.lastMoveEvent,Z)},this.handlePointerMove=(Z,H)=>{this.lastMoveEvent=Z,this.lastMoveEventInfo=Ky(H,this.transformPagePoint),dn.update(this.updatePoint,!0)},this.handlePointerUp=(Z,H)=>{this.end();const{onEnd:ae,onSessionEnd:Ie,resumeAnimation:Ve}=this.handlers;if(this.dragSnapToOrigin&&Ve&&Ve(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const we=Oy(Z.type==="pointercancel"?this.lastMoveEventInfo:Ky(H,this.transformPagePoint),this.history);this.startEvent&&ae&&ae(Z,we),Ie&&Ie(Z,we)},!ab(l))return;this.dragSnapToOrigin=D,this.handlers=p,this.transformPagePoint=g,this.distanceThreshold=w,this.contextWindow=C||window;const c=qm(l),R=Ky(c,this.transformPagePoint),{point:k}=R,{timestamp:q}=Pr;this.history=[{...k,timestamp:q}];const{onSessionStart:G}=p;G&&G(l,Oy(R,this.history)),this.removeListeners=jm(_m(this.contextWindow,"pointermove",this.handlePointerMove),_m(this.contextWindow,"pointerup",this.handlePointerUp),_m(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(l){this.handlers=l}end(){this.removeListeners&&this.removeListeners(),dd(this.updatePoint)}}function Ky(o,l){return l?{point:l(o.point)}:o}function sx(o,l){return{x:o.x-l.x,y:o.y-l.y}}function Oy({point:o},l){return{point:o,delta:sx(o,iw(l)),offset:sx(o,BM(l)),velocity:FM(l,.1)}}function BM(o){return o[0]}function iw(o){return o[o.length-1]}function FM(o,l){if(o.length<2)return{x:0,y:0};let p=o.length-1,g=null;const C=iw(o);for(;p>=0&&(g=o[p],!(C.timestamp-g.timestamp>wc(l)));)p--;if(!g)return{x:0,y:0};const D=Cc(C.timestamp-g.timestamp);if(D===0)return{x:0,y:0};const w={x:(C.x-g.x)/D,y:(C.y-g.y)/D};return w.x===1/0&&(w.x=0),w.y===1/0&&(w.y=0),w}function VM(o,{min:l,max:p},g){return l!==void 0&&o<l?o=g?yn(l,o,g.min):Math.max(o,l):p!==void 0&&o>p&&(o=g?yn(p,o,g.max):Math.min(o,p)),o}function lx(o,l,p){return{min:l!==void 0?o.min+l:void 0,max:p!==void 0?o.max+p-(o.max-o.min):void 0}}function UM(o,{top:l,left:p,bottom:g,right:C}){return{x:lx(o.x,p,C),y:lx(o.y,l,g)}}function cx(o,l){let p=l.min-o.min,g=l.max-o.max;return l.max-l.min<o.max-o.min&&([p,g]=[g,p]),{min:p,max:g}}function GM(o,l){return{x:cx(o.x,l.x),y:cx(o.y,l.y)}}function HM(o,l){let p=.5;const g=fo(o),C=fo(l);return C>g?p=Mm(l.min,l.max-g,o.min):g>C&&(p=Mm(o.min,o.max-C,l.min)),hu(0,1,p)}function XM(o,l){const p={};return l.min!==void 0&&(p.min=l.min-o.min),l.max!==void 0&&(p.max=l.max-o.min),p}const yv=.35;function ZM(o=yv){return o===!1?o=0:o===!0&&(o=yv),{x:ux(o,"left","right"),y:ux(o,"top","bottom")}}function ux(o,l,p){return{min:dx(o,l),max:dx(o,p)}}function dx(o,l){return typeof o=="number"?o:o[l]||0}const $M=new WeakMap;class JM{constructor(l){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=l}start(l,{snapToCursor:p=!1,distanceThreshold:g}={}){const{presenceContext:C}=this.visualElement;if(C&&C.isPresent===!1)return;const D=G=>{const{dragSnapToOrigin:Z}=this.getProps();Z?this.pauseAnimation():this.stopAnimation(),p&&this.snapToCursor(qm(G).point)},w=(G,Z)=>{const{drag:H,dragPropagation:ae,onDragStart:Ie}=this.getProps();if(H&&!ae&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uD(H),!this.openDragLock))return;this.latestPointerEvent=G,this.latestPanInfo=Z,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qs(we=>{let Le=this.getAxisMotionValue(we).get()||0;if(Sc.test(Le)){const{projection:Oe}=this.visualElement;if(Oe&&Oe.layout){const ot=Oe.layout.layoutBox[we];ot&&(Le=fo(ot)*(parseFloat(Le)/100))}}this.originPoint[we]=Le}),Ie&&dn.postRender(()=>Ie(G,Z)),pv(this.visualElement,"transform");const{animationState:Ve}=this.visualElement;Ve&&Ve.setActive("whileDrag",!0)},c=(G,Z)=>{this.latestPointerEvent=G,this.latestPanInfo=Z;const{dragPropagation:H,dragDirectionLock:ae,onDirectionLock:Ie,onDrag:Ve}=this.getProps();if(!H&&!this.openDragLock)return;const{offset:we}=Z;if(ae&&this.currentDirection===null){this.currentDirection=WM(we),this.currentDirection!==null&&Ie&&Ie(this.currentDirection);return}this.updateAxis("x",Z.point,we),this.updateAxis("y",Z.point,we),this.visualElement.render(),Ve&&Ve(G,Z)},R=(G,Z)=>{this.latestPointerEvent=G,this.latestPanInfo=Z,this.stop(G,Z),this.latestPointerEvent=null,this.latestPanInfo=null},k=()=>qs(G=>this.getAnimationState(G)==="paused"&&this.getAxisMotionValue(G).animation?.play()),{dragSnapToOrigin:q}=this.getProps();this.panSession=new aw(l,{onSessionStart:D,onStart:w,onMove:c,onSessionEnd:R,resumeAnimation:k},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:q,distanceThreshold:g,contextWindow:tw(this.visualElement)})}stop(l,p){const g=l||this.latestPointerEvent,C=p||this.latestPanInfo,D=this.isDragging;if(this.cancel(),!D||!C||!g)return;const{velocity:w}=C;this.startAnimation(w);const{onDragEnd:c}=this.getProps();c&&dn.postRender(()=>c(g,C))}cancel(){this.isDragging=!1;const{projection:l,animationState:p}=this.visualElement;l&&(l.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:g}=this.getProps();!g&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),p&&p.setActive("whileDrag",!1)}updateAxis(l,p,g){const{drag:C}=this.getProps();if(!g||!Dg(l,C,this.currentDirection))return;const D=this.getAxisMotionValue(l);let w=this.originPoint[l]+g[l];this.constraints&&this.constraints[l]&&(w=VM(w,this.constraints[l],this.elastic[l])),D.set(w)}resolveConstraints(){const{dragConstraints:l,dragElastic:p}=this.getProps(),g=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,C=this.constraints;l&&Ep(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&g?this.constraints=UM(g.layoutBox,l):this.constraints=!1,this.elastic=ZM(p),C!==this.constraints&&g&&this.constraints&&!this.hasMutatedConstraints&&qs(D=>{this.constraints!==!1&&this.getAxisMotionValue(D)&&(this.constraints[D]=XM(g.layoutBox[D],this.constraints[D]))})}resolveRefConstraints(){const{dragConstraints:l,onMeasureDragConstraints:p}=this.getProps();if(!l||!Ep(l))return!1;const g=l.current,{projection:C}=this.visualElement;if(!C||!C.layout)return!1;const D=OM(g,C.root,this.visualElement.getTransformPagePoint());let w=GM(C.layout.layoutBox,D);if(p){const c=p(IM(w));this.hasMutatedConstraints=!!c,c&&(w=$1(c))}return w}startAnimation(l){const{drag:p,dragMomentum:g,dragElastic:C,dragTransition:D,dragSnapToOrigin:w,onDragTransitionEnd:c}=this.getProps(),R=this.constraints||{},k=qs(q=>{if(!Dg(q,p,this.currentDirection))return;let G=R&&R[q]||{};w&&(G={min:0,max:0});const Z=C?200:1e6,H=C?40:1e7,ae={type:"inertia",velocity:g?l[q]:0,bounceStiffness:Z,bounceDamping:H,timeConstant:750,restDelta:1,restSpeed:10,...D,...G};return this.startAxisValueAnimation(q,ae)});return Promise.all(k).then(c)}startAxisValueAnimation(l,p){const g=this.getAxisMotionValue(l);return pv(this.visualElement,l),g.start(hb(l,g,0,p,this.visualElement,!1))}stopAnimation(){qs(l=>this.getAxisMotionValue(l).stop())}pauseAnimation(){qs(l=>this.getAxisMotionValue(l).animation?.pause())}getAnimationState(l){return this.getAxisMotionValue(l).animation?.state}getAxisMotionValue(l){const p=`_drag${l.toUpperCase()}`,g=this.visualElement.getProps(),C=g[p];return C||this.visualElement.getValue(l,(g.initial?g.initial[l]:void 0)||0)}snapToCursor(l){qs(p=>{const{drag:g}=this.getProps();if(!Dg(p,g,this.currentDirection))return;const{projection:C}=this.visualElement,D=this.getAxisMotionValue(p);if(C&&C.layout){const{min:w,max:c}=C.layout.layoutBox[p];D.set(l[p]-yn(w,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:l,dragConstraints:p}=this.getProps(),{projection:g}=this.visualElement;if(!Ep(p)||!g||!this.constraints)return;this.stopAnimation();const C={x:0,y:0};qs(w=>{const c=this.getAxisMotionValue(w);if(c&&this.constraints!==!1){const R=c.get();C[w]=HM({min:R,max:R},this.constraints[w])}});const{transformTemplate:D}=this.visualElement.getProps();this.visualElement.current.style.transform=D?D({},""):"none",g.root&&g.root.updateScroll(),g.updateLayout(),this.resolveConstraints(),qs(w=>{if(!Dg(w,l,null))return;const c=this.getAxisMotionValue(w),{min:R,max:k}=this.constraints[w];c.set(yn(R,k,C[w]))})}addListeners(){if(!this.visualElement.current)return;$M.set(this.visualElement,this);const l=this.visualElement.current,p=_m(l,"pointerdown",R=>{const{drag:k,dragListener:q=!0}=this.getProps();k&&q&&this.start(R)}),g=()=>{const{dragConstraints:R}=this.getProps();Ep(R)&&R.current&&(this.constraints=this.resolveRefConstraints())},{projection:C}=this.visualElement,D=C.addEventListener("measure",g);C&&!C.layout&&(C.root&&C.root.updateScroll(),C.updateLayout()),dn.read(g);const w=Rm(window,"resize",()=>this.scalePositionWithinConstraints()),c=C.addEventListener("didUpdate",({delta:R,hasLayoutChanged:k})=>{this.isDragging&&k&&(qs(q=>{const G=this.getAxisMotionValue(q);G&&(this.originPoint[q]+=R[q].translate,G.set(G.get()+R[q].translate))}),this.visualElement.render())});return()=>{w(),p(),D(),c&&c()}}getProps(){const l=this.visualElement.getProps(),{drag:p=!1,dragDirectionLock:g=!1,dragPropagation:C=!1,dragConstraints:D=!1,dragElastic:w=yv,dragMomentum:c=!0}=l;return{...l,drag:p,dragDirectionLock:g,dragPropagation:C,dragConstraints:D,dragElastic:w,dragMomentum:c}}}function Dg(o,l,p){return(l===!0||l===o)&&(p===null||p===o)}function WM(o,l=10){let p=null;return Math.abs(o.y)>l?p="y":Math.abs(o.x)>l&&(p="x"),p}class YM extends fd{constructor(l){super(l),this.removeGroupControls=Vs,this.removeListeners=Vs,this.controls=new JM(l)}mount(){const{dragControls:l}=this.node.getProps();l&&(this.removeGroupControls=l.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vs}unmount(){this.removeGroupControls(),this.removeListeners()}}const hx=o=>(l,p)=>{o&&dn.postRender(()=>o(l,p))};class QM extends fd{constructor(){super(...arguments),this.removePointerDownListener=Vs}onPointerDown(l){this.session=new aw(l,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tw(this.node)})}createPanHandlers(){const{onPanSessionStart:l,onPanStart:p,onPan:g,onPanEnd:C}=this.node.getProps();return{onSessionStart:hx(l),onStart:hx(p),onMove:g,onEnd:(D,w)=>{delete this.session,C&&dn.postRender(()=>C(D,w))}}}mount(){this.removePointerDownListener=_m(this.node.current,"pointerdown",l=>this.onPointerDown(l))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function px(o,l){return l.max===l.min?0:o/(l.max-l.min)*100}const hm={correct:(o,l)=>{if(!l.target)return o;if(typeof o=="string")if(xa.test(o))o=parseFloat(o);else return o;const p=px(o,l.target.x),g=px(o,l.target.y);return`${p}% ${g}%`}},eA={correct:(o,{treeScale:l,projectionDelta:p})=>{const g=o,C=hd.parse(o);if(C.length>5)return g;const D=hd.createTransformer(o),w=typeof C[0]!="number"?1:0,c=p.x.scale*l.x,R=p.y.scale*l.y;C[0+w]/=c,C[1+w]/=R;const k=yn(c,R,.5);return typeof C[2+w]=="number"&&(C[2+w]/=k),typeof C[3+w]=="number"&&(C[3+w]/=k),D(C)}};let fx=!1;class tA extends fe.Component{componentDidMount(){const{visualElement:l,layoutGroup:p,switchLayoutGroup:g,layoutId:C}=this.props,{projection:D}=l;OD(aA),D&&(p.group&&p.group.add(D),g&&g.register&&C&&g.register(D),fx&&D.root.didUpdate(),D.addEventListener("animationComplete",()=>{this.safeToRemove()}),D.setOptions({...D.options,onExitComplete:()=>this.safeToRemove()})),Ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(l){const{layoutDependency:p,visualElement:g,drag:C,isPresent:D}=this.props,{projection:w}=g;return w&&(w.isPresent=D,fx=!0,C||l.layoutDependency!==p||p===void 0||l.isPresent!==D?w.willUpdate():this.safeToRemove(),l.isPresent!==D&&(D?w.promote():w.relegate()||dn.postRender(()=>{const c=w.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:l}=this.props.visualElement;l&&(l.root.didUpdate(),tb.postRender(()=>{!l.currentAnimation&&l.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:l,layoutGroup:p,switchLayoutGroup:g}=this.props,{projection:C}=l;C&&(C.scheduleCheckAfterUnmount(),p&&p.group&&p.group.remove(C),g&&g.deregister&&g.deregister(C))}safeToRemove(){const{safeToRemove:l}=this.props;l&&l()}render(){return null}}function nw(o){const[l,p]=L1(),g=fe.useContext(Ev);return L.jsx(tA,{...o,layoutGroup:g,switchLayoutGroup:fe.useContext(N1),isPresent:l,safeToRemove:p})}const aA={borderRadius:{...hm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hm,borderTopRightRadius:hm,borderBottomLeftRadius:hm,borderBottomRightRadius:hm,boxShadow:eA};function iA(o,l,p){const g=Gr(o)?o:Kp(o);return g.start(hb("",g,l,p)),g.animation}const nA=(o,l)=>o.depth-l.depth;class rA{constructor(){this.children=[],this.isDirty=!1}add(l){kv(this.children,l),this.isDirty=!0}remove(l){Nv(this.children,l),this.isDirty=!0}forEach(l){this.isDirty&&this.children.sort(nA),this.isDirty=!1,this.children.forEach(l)}}function oA(o,l){const p=No.now(),g=({timestamp:C})=>{const D=C-p;D>=l&&(dd(g),o(D-l))};return dn.setup(g,!0),()=>dd(g)}const rw=["TopLeft","TopRight","BottomLeft","BottomRight"],sA=rw.length,mx=o=>typeof o=="string"?parseFloat(o):o,gx=o=>typeof o=="number"||xa.test(o);function lA(o,l,p,g,C,D){C?(o.opacity=yn(0,p.opacity??1,cA(g)),o.opacityExit=yn(l.opacity??1,0,uA(g))):D&&(o.opacity=yn(l.opacity??1,p.opacity??1,g));for(let w=0;w<sA;w++){const c=`border${rw[w]}Radius`;let R=yx(l,c),k=yx(p,c);if(R===void 0&&k===void 0)continue;R||(R=0),k||(k=0),R===0||k===0||gx(R)===gx(k)?(o[c]=Math.max(yn(mx(R),mx(k),g),0),(Sc.test(k)||Sc.test(R))&&(o[c]+="%")):o[c]=k}(l.rotate||p.rotate)&&(o.rotate=yn(l.rotate||0,p.rotate||0,g))}function yx(o,l){return o[l]!==void 0?o[l]:o.borderRadius}const cA=ow(0,.5,Y_),uA=ow(.5,.95,Vs);function ow(o,l,p){return g=>g<o?0:g>l?1:p(Mm(o,l,g))}function vx(o,l){o.min=l.min,o.max=l.max}function Os(o,l){vx(o.x,l.x),vx(o.y,l.y)}function bx(o,l){o.translate=l.translate,o.scale=l.scale,o.originPoint=l.originPoint,o.origin=l.origin}function xx(o,l,p,g,C){return o-=l,o=$g(o,1/p,g),C!==void 0&&(o=$g(o,1/C,g)),o}function dA(o,l=0,p=1,g=.5,C,D=o,w=o){if(Sc.test(l)&&(l=parseFloat(l),l=yn(w.min,w.max,l/100)-w.min),typeof l!="number")return;let c=yn(D.min,D.max,g);o===D&&(c-=l),o.min=xx(o.min,l,p,c,C),o.max=xx(o.max,l,p,c,C)}function _x(o,l,[p,g,C],D,w){dA(o,l[p],l[g],l[C],l.scale,D,w)}const hA=["x","scaleX","originX"],pA=["y","scaleY","originY"];function wx(o,l,p,g){_x(o.x,l,hA,p?p.x:void 0,g?g.x:void 0),_x(o.y,l,pA,p?p.y:void 0,g?g.y:void 0)}function Cx(o){return o.translate===0&&o.scale===1}function sw(o){return Cx(o.x)&&Cx(o.y)}function Sx(o,l){return o.min===l.min&&o.max===l.max}function fA(o,l){return Sx(o.x,l.x)&&Sx(o.y,l.y)}function Tx(o,l){return Math.round(o.min)===Math.round(l.min)&&Math.round(o.max)===Math.round(l.max)}function lw(o,l){return Tx(o.x,l.x)&&Tx(o.y,l.y)}function Px(o){return fo(o.x)/fo(o.y)}function Dx(o,l){return o.translate===l.translate&&o.scale===l.scale&&o.originPoint===l.originPoint}class mA{constructor(){this.members=[]}add(l){kv(this.members,l),l.scheduleRender()}remove(l){if(Nv(this.members,l),l===this.prevLead&&(this.prevLead=void 0),l===this.lead){const p=this.members[this.members.length-1];p&&this.promote(p)}}relegate(l){const p=this.members.findIndex(C=>l===C);if(p===0)return!1;let g;for(let C=p;C>=0;C--){const D=this.members[C];if(D.isPresent!==!1){g=D;break}}return g?(this.promote(g),!0):!1}promote(l,p){const g=this.lead;if(l!==g&&(this.prevLead=g,this.lead=l,l.show(),g)){g.instance&&g.scheduleRender(),l.scheduleRender(),l.resumeFrom=g,p&&(l.resumeFrom.preserveOpacity=!0),g.snapshot&&(l.snapshot=g.snapshot,l.snapshot.latestValues=g.animationValues||g.latestValues),l.root&&l.root.isUpdating&&(l.isLayoutDirty=!0);const{crossfade:C}=l.options;C===!1&&g.hide()}}exitAnimationComplete(){this.members.forEach(l=>{const{options:p,resumingFrom:g}=l;p.onExitComplete&&p.onExitComplete(),g&&g.options.onExitComplete&&g.options.onExitComplete()})}scheduleRender(){this.members.forEach(l=>{l.instance&&l.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gA(o,l,p){let g="";const C=o.x.translate/l.x,D=o.y.translate/l.y,w=p?.z||0;if((C||D||w)&&(g=`translate3d(${C}px, ${D}px, ${w}px) `),(l.x!==1||l.y!==1)&&(g+=`scale(${1/l.x}, ${1/l.y}) `),p){const{transformPerspective:k,rotate:q,rotateX:G,rotateY:Z,skewX:H,skewY:ae}=p;k&&(g=`perspective(${k}px) ${g}`),q&&(g+=`rotate(${q}deg) `),G&&(g+=`rotateX(${G}deg) `),Z&&(g+=`rotateY(${Z}deg) `),H&&(g+=`skewX(${H}deg) `),ae&&(g+=`skewY(${ae}deg) `)}const c=o.x.scale*l.x,R=o.y.scale*l.y;return(c!==1||R!==1)&&(g+=`scale(${c}, ${R})`),g||"none"}const qy=["","X","Y","Z"],yA=1e3;let vA=0;function By(o,l,p,g){const{latestValues:C}=l;C[o]&&(p[o]=C[o],l.setStaticValue(o,0),g&&(g[o]=0))}function cw(o){if(o.hasCheckedOptimisedAppear=!0,o.root===o)return;const{visualElement:l}=o.options;if(!l)return;const p=G1(l);if(window.MotionHasOptimisedAnimation(p,"transform")){const{layout:C,layoutId:D}=o.options;window.MotionCancelOptimisedAnimation(p,"transform",dn,!(C||D))}const{parent:g}=o;g&&!g.hasCheckedOptimisedAppear&&cw(g)}function uw({attachResizeListener:o,defaultParent:l,measureScroll:p,checkIsScrollRoot:g,resetTransform:C}){return class{constructor(w={},c=l?.()){this.id=vA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_A),this.nodes.forEach(TA),this.nodes.forEach(PA),this.nodes.forEach(wA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=w,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let R=0;R<this.path.length;R++)this.path[R].shouldResetTransform=!0;this.root===this&&(this.nodes=new rA)}addEventListener(w,c){return this.eventHandlers.has(w)||this.eventHandlers.set(w,new Ov),this.eventHandlers.get(w).add(c)}notifyListeners(w,...c){const R=this.eventHandlers.get(w);R&&R.notify(...c)}hasListeners(w){return this.eventHandlers.has(w)}mount(w){if(this.instance)return;this.isSVG=I1(w)&&!gD(w),this.instance=w;const{layoutId:c,layout:R,visualElement:k}=this.options;if(k&&!k.current&&k.mount(w),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(R||c)&&(this.isLayoutDirty=!0),o){let q,G=0;const Z=()=>this.root.updateBlockedByResize=!1;dn.read(()=>{G=window.innerWidth}),o(w,()=>{const H=window.innerWidth;H!==G&&(G=H,this.root.updateBlockedByResize=!0,q&&q(),q=oA(Z,250),Ng.hasAnimatedSinceResize&&(Ng.hasAnimatedSinceResize=!1,this.nodes.forEach(Ix)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&k&&(c||R)&&this.addEventListener("didUpdate",({delta:q,hasLayoutChanged:G,hasRelativeLayoutChanged:Z,layout:H})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const ae=this.options.transition||k.getDefaultTransition()||LA,{onLayoutAnimationStart:Ie,onLayoutAnimationComplete:Ve}=k.getProps(),we=!this.targetLayout||!lw(this.targetLayout,H),Le=!G&&Z;if(this.options.layoutRoot||this.resumeFrom||Le||G&&(we||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Oe={...Qv(ae,"layout"),onPlay:Ie,onComplete:Ve};(k.shouldReduceMotion||this.options.layoutRoot)&&(Oe.delay=0,Oe.type=!1),this.startAnimation(Oe),this.setAnimationOrigin(q,Le)}else G||Ix(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=H})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const w=this.getStack();w&&w.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DA),this.animationId++)}getTransformTemplate(){const{visualElement:w}=this.options;return w&&w.getProps().transformTemplate}willUpdate(w=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let q=0;q<this.path.length;q++){const G=this.path[q];G.shouldResetTransform=!0,G.updateScroll("snapshot"),G.options.layoutRoot&&G.willUpdate(!1)}const{layoutId:c,layout:R}=this.options;if(c===void 0&&!R)return;const k=this.getTransformTemplate();this.prevTransformTemplateValue=k?k(this.latestValues,""):void 0,this.updateSnapshot(),w&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Mx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ax);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(SA),this.nodes.forEach(bA),this.nodes.forEach(xA)):this.nodes.forEach(Ax),this.clearAllSnapshots();const c=No.now();Pr.delta=hu(0,1e3/60,c-Pr.timestamp),Pr.timestamp=c,Pr.isProcessing=!0,Ly.update.process(Pr),Ly.preRender.process(Pr),Ly.render.process(Pr),Pr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tb.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CA),this.sharedNodes.forEach(MA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,dn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){dn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fo(this.snapshot.measuredBox.x)&&!fo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let R=0;R<this.path.length;R++)this.path[R].updateScroll();const w=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,w?w.layoutBox:void 0)}updateScroll(w="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===w&&(c=!1),c&&this.instance){const R=g(this.instance);this.scroll={animationId:this.root.animationId,phase:w,isRoot:R,offset:p(this.instance),wasRoot:this.scroll?this.scroll.isRoot:R}}}resetTransform(){if(!C)return;const w=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!sw(this.projectionDelta),R=this.getTransformTemplate(),k=R?R(this.latestValues,""):void 0,q=k!==this.prevTransformTemplateValue;w&&this.instance&&(c||Sh(this.latestValues)||q)&&(C(this.instance,k),this.shouldResetTransform=!1,this.scheduleRender())}measure(w=!0){const c=this.measurePageBox();let R=this.removeElementScroll(c);return w&&(R=this.removeTransform(R)),EA(R),{animationId:this.root.animationId,measuredBox:c,layoutBox:R,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:w}=this.options;if(!w)return zn();const c=w.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(zA))){const{scroll:k}=this.root;k&&(Rp(c.x,k.offset.x),Rp(c.y,k.offset.y))}return c}removeElementScroll(w){const c=zn();if(Os(c,w),this.scroll?.wasRoot)return c;for(let R=0;R<this.path.length;R++){const k=this.path[R],{scroll:q,options:G}=k;k!==this.root&&q&&G.layoutScroll&&(q.wasRoot&&Os(c,w),Rp(c.x,q.offset.x),Rp(c.y,q.offset.y))}return c}applyTransform(w,c=!1){const R=zn();Os(R,w);for(let k=0;k<this.path.length;k++){const q=this.path[k];!c&&q.options.layoutScroll&&q.scroll&&q!==q.root&&kp(R,{x:-q.scroll.offset.x,y:-q.scroll.offset.y}),Sh(q.latestValues)&&kp(R,q.latestValues)}return Sh(this.latestValues)&&kp(R,this.latestValues),R}removeTransform(w){const c=zn();Os(c,w);for(let R=0;R<this.path.length;R++){const k=this.path[R];if(!k.instance||!Sh(k.latestValues))continue;mv(k.latestValues)&&k.updateSnapshot();const q=zn(),G=k.measurePageBox();Os(q,G),wx(c,k.latestValues,k.snapshot?k.snapshot.layoutBox:void 0,q)}return Sh(this.latestValues)&&wx(c,this.latestValues),c}setTargetDelta(w){this.targetDelta=w,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(w){this.options={...this.options,...w,crossfade:w.crossfade!==void 0?w.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(w=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const R=!!this.resumingFrom||this!==c;if(!(w||R&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:q,layoutId:G}=this.options;if(!(!this.layout||!(q||G))){if(this.resolvedRelativeTargetAt=Pr.timestamp,!this.targetDelta&&!this.relativeTarget){const Z=this.getClosestProjectingParent();Z&&Z.layout&&this.animationProgress!==1?(this.relativeParent=Z,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zn(),this.relativeTargetOrigin=zn(),Cm(this.relativeTargetOrigin,this.layout.layoutBox,Z.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zn(),this.targetWithTransforms=zn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),Q1(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const Z=this.getClosestProjectingParent();Z&&!!Z.resumingFrom==!!this.resumingFrom&&!Z.options.layoutScroll&&Z.target&&this.animationProgress!==1?(this.relativeParent=Z,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zn(),this.relativeTargetOrigin=zn(),Cm(this.relativeTargetOrigin,this.target,Z.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mv(this.parent.latestValues)||Y1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const w=this.getLead(),c=!!this.resumingFrom||this!==w;let R=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(R=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(R=!1),this.resolvedRelativeTargetAt===Pr.timestamp&&(R=!1),R)return;const{layout:k,layoutId:q}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(k||q))return;Os(this.layoutCorrected,this.layout.layoutBox);const G=this.treeScale.x,Z=this.treeScale.y;KM(this.layoutCorrected,this.treeScale,this.path,c),w.layout&&!w.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(w.target=w.layout.layoutBox,w.targetWithTransforms=zn());const{target:H}=w;if(!H){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bx(this.prevProjectionDelta.x,this.projectionDelta.x),bx(this.prevProjectionDelta.y,this.projectionDelta.y)),wm(this.projectionDelta,this.layoutCorrected,H,this.latestValues),(this.treeScale.x!==G||this.treeScale.y!==Z||!Dx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Dx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",H))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(w=!0){if(this.options.visualElement?.scheduleRender(),w){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zp(),this.projectionDelta=zp(),this.projectionDeltaWithTransform=zp()}setAnimationOrigin(w,c=!1){const R=this.snapshot,k=R?R.latestValues:{},q={...this.latestValues},G=zp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const Z=zn(),H=R?R.source:void 0,ae=this.layout?this.layout.source:void 0,Ie=H!==ae,Ve=this.getStack(),we=!Ve||Ve.members.length<=1,Le=!!(Ie&&!we&&this.options.crossfade===!0&&!this.path.some(IA));this.animationProgress=0;let Oe;this.mixTargetDelta=ot=>{const He=ot/1e3;Lx(G.x,w.x,He),Lx(G.y,w.y,He),this.setTargetDelta(G),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cm(Z,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AA(this.relativeTarget,this.relativeTargetOrigin,Z,He),Oe&&fA(this.relativeTarget,Oe)&&(this.isProjectionDirty=!1),Oe||(Oe=zn()),Os(Oe,this.relativeTarget)),Ie&&(this.animationValues=q,lA(q,k,this.latestValues,He,Le,we)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=He},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(w){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(dd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dn.update(()=>{Ng.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kp(0)),this.currentAnimation=iA(this.motionValue,[0,1e3],{...w,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),w.onUpdate&&w.onUpdate(c)},onStop:()=>{},onComplete:()=>{w.onComplete&&w.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const w=this.getStack();w&&w.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const w=this.getLead();let{targetWithTransforms:c,target:R,layout:k,latestValues:q}=w;if(!(!c||!R||!k)){if(this!==w&&this.layout&&k&&dw(this.options.animationType,this.layout.layoutBox,k.layoutBox)){R=this.target||zn();const G=fo(this.layout.layoutBox.x);R.x.min=w.target.x.min,R.x.max=R.x.min+G;const Z=fo(this.layout.layoutBox.y);R.y.min=w.target.y.min,R.y.max=R.y.min+Z}Os(c,R),kp(c,q),wm(this.projectionDeltaWithTransform,this.layoutCorrected,c,q)}}registerSharedNode(w,c){this.sharedNodes.has(w)||this.sharedNodes.set(w,new mA),this.sharedNodes.get(w).add(c);const k=c.options.initialPromotionConfig;c.promote({transition:k?k.transition:void 0,preserveFollowOpacity:k&&k.shouldPreserveFollowOpacity?k.shouldPreserveFollowOpacity(c):void 0})}isLead(){const w=this.getStack();return w?w.lead===this:!0}getLead(){const{layoutId:w}=this.options;return w?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:w}=this.options;return w?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:w}=this.options;if(w)return this.root.sharedNodes.get(w)}promote({needsReset:w,transition:c,preserveFollowOpacity:R}={}){const k=this.getStack();k&&k.promote(this,R),w&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const w=this.getStack();return w?w.relegate(this):!1}resetSkewAndRotation(){const{visualElement:w}=this.options;if(!w)return;let c=!1;const{latestValues:R}=w;if((R.z||R.rotate||R.rotateX||R.rotateY||R.rotateZ||R.skewX||R.skewY)&&(c=!0),!c)return;const k={};R.z&&By("z",w,k,this.animationValues);for(let q=0;q<qy.length;q++)By(`rotate${qy[q]}`,w,k,this.animationValues),By(`skew${qy[q]}`,w,k,this.animationValues);w.render();for(const q in k)w.setStaticValue(q,k[q]),this.animationValues&&(this.animationValues[q]=k[q]);w.scheduleRender()}applyProjectionStyles(w,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){w.visibility="hidden";return}const R=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,w.visibility="",w.opacity="",w.pointerEvents=kg(c?.pointerEvents)||"",w.transform=R?R(this.latestValues,""):"none";return}const k=this.getLead();if(!this.projectionDelta||!this.layout||!k.target){this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=kg(c?.pointerEvents)||""),this.hasProjected&&!Sh(this.latestValues)&&(w.transform=R?R({},""):"none",this.hasProjected=!1);return}w.visibility="";const q=k.animationValues||k.latestValues;this.applyTransformsToTarget();let G=gA(this.projectionDeltaWithTransform,this.treeScale,q);R&&(G=R(q,G)),w.transform=G;const{x:Z,y:H}=this.projectionDelta;w.transformOrigin=`${Z.origin*100}% ${H.origin*100}% 0`,k.animationValues?w.opacity=k===this?q.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:q.opacityExit:w.opacity=k===this?q.opacity!==void 0?q.opacity:"":q.opacityExit!==void 0?q.opacityExit:0;for(const ae in Em){if(q[ae]===void 0)continue;const{correct:Ie,applyTo:Ve,isCSSVariable:we}=Em[ae],Le=G==="none"?q[ae]:Ie(q[ae],k);if(Ve){const Oe=Ve.length;for(let ot=0;ot<Oe;ot++)w[Ve[ot]]=Le}else we?this.options.visualElement.renderState.vars[ae]=Le:w[ae]=Le}this.options.layoutId&&(w.pointerEvents=k===this?kg(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(w=>w.currentAnimation?.stop()),this.root.nodes.forEach(Mx),this.root.sharedNodes.clear()}}}function bA(o){o.updateLayout()}function xA(o){const l=o.resumeFrom?.snapshot||o.snapshot;if(o.isLead()&&o.layout&&l&&o.hasListeners("didUpdate")){const{layoutBox:p,measuredBox:g}=o.layout,{animationType:C}=o.options,D=l.source!==o.layout.source;C==="size"?qs(q=>{const G=D?l.measuredBox[q]:l.layoutBox[q],Z=fo(G);G.min=p[q].min,G.max=G.min+Z}):dw(C,l.layoutBox,p)&&qs(q=>{const G=D?l.measuredBox[q]:l.layoutBox[q],Z=fo(p[q]);G.max=G.min+Z,o.relativeTarget&&!o.currentAnimation&&(o.isProjectionDirty=!0,o.relativeTarget[q].max=o.relativeTarget[q].min+Z)});const w=zp();wm(w,p,l.layoutBox);const c=zp();D?wm(c,o.applyTransform(g,!0),l.measuredBox):wm(c,p,l.layoutBox);const R=!sw(w);let k=!1;if(!o.resumeFrom){const q=o.getClosestProjectingParent();if(q&&!q.resumeFrom){const{snapshot:G,layout:Z}=q;if(G&&Z){const H=zn();Cm(H,l.layoutBox,G.layoutBox);const ae=zn();Cm(ae,p,Z.layoutBox),lw(H,ae)||(k=!0),q.options.layoutRoot&&(o.relativeTarget=ae,o.relativeTargetOrigin=H,o.relativeParent=q)}}}o.notifyListeners("didUpdate",{layout:p,snapshot:l,delta:c,layoutDelta:w,hasLayoutChanged:R,hasRelativeLayoutChanged:k})}else if(o.isLead()){const{onExitComplete:p}=o.options;p&&p()}o.options.transition=void 0}function _A(o){o.parent&&(o.isProjecting()||(o.isProjectionDirty=o.parent.isProjectionDirty),o.isSharedProjectionDirty||(o.isSharedProjectionDirty=!!(o.isProjectionDirty||o.parent.isProjectionDirty||o.parent.isSharedProjectionDirty)),o.isTransformDirty||(o.isTransformDirty=o.parent.isTransformDirty))}function wA(o){o.isProjectionDirty=o.isSharedProjectionDirty=o.isTransformDirty=!1}function CA(o){o.clearSnapshot()}function Mx(o){o.clearMeasurements()}function Ax(o){o.isLayoutDirty=!1}function SA(o){const{visualElement:l}=o.options;l&&l.getProps().onBeforeLayoutMeasure&&l.notify("BeforeLayoutMeasure"),o.resetTransform()}function Ix(o){o.finishAnimation(),o.targetDelta=o.relativeTarget=o.target=void 0,o.isProjectionDirty=!0}function TA(o){o.resolveTargetDelta()}function PA(o){o.calcProjection()}function DA(o){o.resetSkewAndRotation()}function MA(o){o.removeLeadSnapshot()}function Lx(o,l,p){o.translate=yn(l.translate,0,p),o.scale=yn(l.scale,1,p),o.origin=l.origin,o.originPoint=l.originPoint}function Ex(o,l,p,g){o.min=yn(l.min,p.min,g),o.max=yn(l.max,p.max,g)}function AA(o,l,p,g){Ex(o.x,l.x,p.x,g),Ex(o.y,l.y,p.y,g)}function IA(o){return o.animationValues&&o.animationValues.opacityExit!==void 0}const LA={duration:.45,ease:[.4,0,.1,1]},zx=o=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(o),Rx=zx("applewebkit/")&&!zx("chrome/")?Math.round:Vs;function kx(o){o.min=Rx(o.min),o.max=Rx(o.max)}function EA(o){kx(o.x),kx(o.y)}function dw(o,l,p){return o==="position"||o==="preserve-aspect"&&!NM(Px(l),Px(p),.2)}function zA(o){return o!==o.root&&o.scroll?.wasRoot}const RA=uw({attachResizeListener:(o,l)=>Rm(o,"resize",l),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fy={current:void 0},hw=uw({measureScroll:o=>({x:o.scrollLeft,y:o.scrollTop}),defaultParent:()=>{if(!Fy.current){const o=new RA({});o.mount(window),o.setOptions({layoutScroll:!0}),Fy.current=o}return Fy.current},resetTransform:(o,l)=>{o.style.transform=l!==void 0?l:"none"},checkIsScrollRoot:o=>window.getComputedStyle(o).position==="fixed"}),kA={pan:{Feature:QM},drag:{Feature:YM,ProjectionNode:hw,MeasureLayout:nw}};function Nx(o,l,p){const{props:g}=o;o.animationState&&g.whileHover&&o.animationState.setActive("whileHover",p==="Start");const C="onHover"+p,D=g[C];D&&dn.postRender(()=>D(l,qm(l)))}class NA extends fd{mount(){const{current:l}=this.node;l&&(this.unmount=dD(l,(p,g)=>(Nx(this.node,g,"Start"),C=>Nx(this.node,C,"End"))))}unmount(){}}class jA extends fd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let l=!1;try{l=this.node.current.matches(":focus-visible")}catch{l=!0}!l||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jm(Rm(this.node.current,"focus",()=>this.onFocus()),Rm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jx(o,l,p){const{props:g}=o;if(o.current instanceof HTMLButtonElement&&o.current.disabled)return;o.animationState&&g.whileTap&&o.animationState.setActive("whileTap",p==="Start");const C="onTap"+(p==="End"?"":p),D=g[C];D&&dn.postRender(()=>D(l,qm(l)))}class KA extends fd{mount(){const{current:l}=this.node;l&&(this.unmount=mD(l,(p,g)=>(jx(this.node,g,"Start"),(C,{success:D})=>jx(this.node,C,D?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vv=new WeakMap,Vy=new WeakMap,OA=o=>{const l=vv.get(o.target);l&&l(o)},qA=o=>{o.forEach(OA)};function BA({root:o,...l}){const p=o||document;Vy.has(p)||Vy.set(p,{});const g=Vy.get(p),C=JSON.stringify(l);return g[C]||(g[C]=new IntersectionObserver(qA,{root:o,...l})),g[C]}function FA(o,l,p){const g=BA(l);return vv.set(o,p),g.observe(o),()=>{vv.delete(o),g.unobserve(o)}}const VA={some:0,all:1};class UA extends fd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:l={}}=this.node.getProps(),{root:p,margin:g,amount:C="some",once:D}=l,w={root:p?p.current:void 0,rootMargin:g,threshold:typeof C=="number"?C:VA[C]},c=R=>{const{isIntersecting:k}=R;if(this.isInView===k||(this.isInView=k,D&&!k&&this.hasEnteredView))return;k&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",k);const{onViewportEnter:q,onViewportLeave:G}=this.node.getProps(),Z=k?q:G;Z&&Z(R)};return FA(this.node.current,w,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:l,prevProps:p}=this.node;["amount","margin","root"].some(GA(l,p))&&this.startObserver()}unmount(){}}function GA({viewport:o={}},{viewport:l={}}={}){return p=>o[p]!==l[p]}const HA={inView:{Feature:UA},tap:{Feature:KA},focus:{Feature:jA},hover:{Feature:NA}},XA={layout:{ProjectionNode:hw,MeasureLayout:nw}},Jg={current:null},pb={current:!1};function pw(){if(pb.current=!0,!!Rv)if(window.matchMedia){const o=window.matchMedia("(prefers-reduced-motion)"),l=()=>Jg.current=o.matches;o.addEventListener("change",l),l()}else Jg.current=!1}const ZA=new WeakMap;function $A(o,l,p){for(const g in l){const C=l[g],D=p[g];if(Gr(C))o.addValue(g,C);else if(Gr(D))o.addValue(g,Kp(C,{owner:o}));else if(D!==C)if(o.hasValue(g)){const w=o.getValue(g);w.liveStyle===!0?w.jump(C):w.hasAnimated||w.set(C)}else{const w=o.getStaticValue(g);o.addValue(g,Kp(w!==void 0?w:C,{owner:o}))}}for(const g in p)l[g]===void 0&&o.removeValue(g);return l}const Kx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JA{scrapeMotionValuesFromProps(l,p,g){return{}}constructor({parent:l,props:p,presenceContext:g,reducedMotionConfig:C,blockInitialAnimation:D,visualState:w},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Z=No.now();this.renderScheduledAt<Z&&(this.renderScheduledAt=Z,dn.render(this.render,!1,!0))};const{latestValues:R,renderState:k}=w;this.latestValues=R,this.baseTarget={...R},this.initialValues=p.initial?{...R}:{},this.renderState=k,this.parent=l,this.props=p,this.presenceContext=g,this.depth=l?l.depth+1:0,this.reducedMotionConfig=C,this.options=c,this.blockInitialAnimation=!!D,this.isControllingVariants=ry(p),this.isVariantNode=R1(p),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(l&&l.current);const{willChange:q,...G}=this.scrapeMotionValuesFromProps(p,{},this);for(const Z in G){const H=G[Z];R[Z]!==void 0&&Gr(H)&&H.set(R[Z],!1)}}mount(l){this.current=l,ZA.set(l,this),this.projection&&!this.projection.instance&&this.projection.mount(l),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((p,g)=>this.bindToMotionValue(g,p)),pb.current||pw(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dd(this.notifyUpdate),dd(this.render),this.valueSubscriptions.forEach(l=>l()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const l in this.events)this.events[l].clear();for(const l in this.features){const p=this.features[l];p&&(p.unmount(),p.isMounted=!1)}this.current=null}bindToMotionValue(l,p){this.valueSubscriptions.has(l)&&this.valueSubscriptions.get(l)();const g=Up.has(l);g&&this.onBindTransform&&this.onBindTransform();const C=p.on("change",c=>{this.latestValues[l]=c,this.props.onUpdate&&dn.preRender(this.notifyUpdate),g&&this.projection&&(this.projection.isTransformDirty=!0)}),D=p.on("renderRequest",this.scheduleRender);let w;window.MotionCheckAppearSync&&(w=window.MotionCheckAppearSync(this,l,p)),this.valueSubscriptions.set(l,()=>{C(),D(),w&&w(),p.owner&&p.stop()})}sortNodePosition(l){return!this.current||!this.sortInstanceNodePosition||this.type!==l.type?0:this.sortInstanceNodePosition(this.current,l.current)}updateFeatures(){let l="animation";for(l in Op){const p=Op[l];if(!p)continue;const{isEnabled:g,Feature:C}=p;if(!this.features[l]&&C&&g(this.props)&&(this.features[l]=new C(this)),this.features[l]){const D=this.features[l];D.isMounted?D.update():(D.mount(),D.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zn()}getStaticValue(l){return this.latestValues[l]}setStaticValue(l,p){this.latestValues[l]=p}update(l,p){(l.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=l,this.prevPresenceContext=this.presenceContext,this.presenceContext=p;for(let g=0;g<Kx.length;g++){const C=Kx[g];this.propEventSubscriptions[C]&&(this.propEventSubscriptions[C](),delete this.propEventSubscriptions[C]);const D="on"+C,w=l[D];w&&(this.propEventSubscriptions[C]=this.on(C,w))}this.prevMotionValues=$A(this,this.scrapeMotionValuesFromProps(l,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(l){return this.props.variants?this.props.variants[l]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(l){const p=this.getClosestVariantNode();if(p)return p.variantChildren&&p.variantChildren.add(l),()=>p.variantChildren.delete(l)}addValue(l,p){const g=this.values.get(l);p!==g&&(g&&this.removeValue(l),this.bindToMotionValue(l,p),this.values.set(l,p),this.latestValues[l]=p.get())}removeValue(l){this.values.delete(l);const p=this.valueSubscriptions.get(l);p&&(p(),this.valueSubscriptions.delete(l)),delete this.latestValues[l],this.removeValueFromRenderState(l,this.renderState)}hasValue(l){return this.values.has(l)}getValue(l,p){if(this.props.values&&this.props.values[l])return this.props.values[l];let g=this.values.get(l);return g===void 0&&p!==void 0&&(g=Kp(p===null?void 0:p,{owner:this}),this.addValue(l,g)),g}readValue(l,p){let g=this.latestValues[l]!==void 0||!this.current?this.latestValues[l]:this.getBaseTargetFromProps(this.props,l)??this.readValueFromInstance(this.current,l,this.options);return g!=null&&(typeof g=="string"&&(F_(g)||U_(g))?g=parseFloat(g):!vD(g)&&hd.test(p)&&(g=T1(l,p)),this.setBaseTarget(l,Gr(g)?g.get():g)),Gr(g)?g.get():g}setBaseTarget(l,p){this.baseTarget[l]=p}getBaseTarget(l){const{initial:p}=this.props;let g;if(typeof p=="string"||typeof p=="object"){const D=ub(this.props,p,this.presenceContext?.custom);D&&(g=D[l])}if(p&&g!==void 0)return g;const C=this.getBaseTargetFromProps(this.props,l);return C!==void 0&&!Gr(C)?C:this.initialValues[l]!==void 0&&g===void 0?void 0:this.baseTarget[l]}on(l,p){return this.events[l]||(this.events[l]=new Ov),this.events[l].add(p)}notify(l,...p){this.events[l]&&this.events[l].notify(...p)}}class fw extends JA{constructor(){super(...arguments),this.KeyframeResolver=oD}sortInstanceNodePosition(l,p){return l.compareDocumentPosition(p)&2?1:-1}getBaseTargetFromProps(l,p){return l.style?l.style[p]:void 0}removeValueFromRenderState(l,{vars:p,style:g}){delete p[l],delete g[l]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:l}=this.props;Gr(l)&&(this.childSubscription=l.on("change",p=>{this.current&&(this.current.textContent=`${p}`)}))}}function mw(o,{style:l,vars:p},g,C){const D=o.style;let w;for(w in l)D[w]=l[w];C?.applyProjectionStyles(D,g);for(w in p)D.setProperty(w,p[w])}function WA(o){return window.getComputedStyle(o)}class YA extends fw{constructor(){super(...arguments),this.type="html",this.renderInstance=mw}readValueFromInstance(l,p){if(Up.has(p))return this.projection?.isProjecting?ov(p):TP(l,p);{const g=WA(l),C=(Fv(p)?g.getPropertyValue(p):g[p])||0;return typeof C=="string"?C.trim():C}}measureInstanceViewportBox(l,{transformPagePoint:p}){return ew(l,p)}build(l,p,g){sb(l,p,g.transformTemplate)}scrapeMotionValuesFromProps(l,p,g){return db(l,p,g)}}const gw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function QA(o,l,p,g){mw(o,l,void 0,g);for(const C in l.attrs)o.setAttribute(gw.has(C)?C:ob(C),l.attrs[C])}class eI extends fw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zn}getBaseTargetFromProps(l,p){return l[p]}readValueFromInstance(l,p){if(Up.has(p)){const g=S1(p);return g&&g.default||0}return p=gw.has(p)?p:ob(p),l.getAttribute(p)}scrapeMotionValuesFromProps(l,p,g){return U1(l,p,g)}build(l,p,g){q1(l,p,this.isSVGTag,g.transformTemplate,g.style)}renderInstance(l,p,g,C){QA(l,p,g,C)}mount(l){this.isSVGTag=F1(l.tagName),super.mount(l)}}const tI=(o,l)=>cb(o)?new eI(l):new YA(l,{allowProjection:o!==fe.Fragment}),aI=aM({...MM,...HA,...kA,...XA},tI),Rt=DD(aI);function iI(){!pb.current&&pw();const[o]=fe.useState(Jg.current);return o}const Mg=[{nameKey:"home",path:"/"},{nameKey:"experiences",path:"/experiencias"},{nameKey:"divesites",path:"/mapa"},{nameKey:"about",path:"/nosotros"},{nameKey:"security",path:"/seguridad"},{nameKey:"contact",path:"/contacto"}],Ox=()=>{const{language:o,setLanguage:l}=fe.useContext(q_);return L.jsxs("div",{className:"flex items-center space-x-3 text-sm font-bold uppercase",children:[L.jsx("button",{onClick:()=>l("es"),className:o==="es"?"text-brand-cta-orange":"hover:text-brand-cta-orange transition-colors",children:"ES"}),L.jsx("span",{className:"text-brand-white/50",children:"|"}),L.jsx("button",{onClick:()=>l("en"),className:o==="en"?"text-brand-cta-orange":"hover:text-brand-cta-orange transition-colors",children:"EN"})]})},qe="/assets/logo-CCGz-JCf.png",yw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m6 9l6 6l6-6"})}),nI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024",...o,children:L.jsx("path",{fill:"currentColor",d:"M27 193.6c-8.2-8.2-12.2-18.6-12.2-31.2s4-23 12.2-31.2S45.6 119 58.2 119h912.4c12.6 0 23 4 31.2 12.2s12.2 18.6 12.2 31.2s-4 23-12.2 31.2s-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2zm974.8 285.2c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2s-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 522.6 14.8 510s4-23 12.2-31.2s18.6-12.2 31.2-12.2h912.4c12.6 0 23 4 31.2 12.2zm0 347.4c8.2 8.2 12.2 18.6 12.2 31.2s-4 23-12.2 31.2s-18.6 12.2-31.2 12.2H58.2c-12.6 0-23-4-31.2-12.2S14.8 870 14.8 857.4s4-23 12.2-31.2S45.6 814 58.2 814h912.4c12.6 0 23 4.2 31.2 12.2z"})}),vw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",...o,children:L.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.293 4.293a1 1 0 0 1 1.414 0L10 8.586l4.293-4.293a1 1 0 1 1 1.414 1.414L11.414 10l4.293 4.293a1 1 0 0 1-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L8.586 10L4.293 5.707a1 1 0 0 1 0-1.414Z",clipRule:"evenodd"})}),rI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M20.985 7.378L10.38 17.985l-6.364-6.364l1.414-1.414l4.95 4.95l9.192-9.193l1.414 1.414Z"})}),oy=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",...o,children:L.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),oI=o=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32",...o,children:[L.jsx("path",{fill:"currentColor",d:"M21.57 27.75A12.885 12.885 0 0 1 16 29C8.832 29 3 23.168 3 16c0-3.075 1.057-5.979 3-8.308V10h2V4H2v2h2.842A14.861 14.861 0 0 0 1 16c0 8.271 6.729 15 15 15a14.87 14.87 0 0 0 6.43-1.444l-.86-1.806Z"}),L.jsx("path",{fill:"currentColor",d:"M21 9c-3.16 0-5.752 2.457-5.978 5.56A5.971 5.971 0 0 0 11 13H7v4c0 3.309 2.692 6 6 6h2v4h2v-8h2c3.308 0 6-2.691 6-6V9h-4Zm-8 12c-2.206 0-4-1.794-4-4v-2h2c2.206 0 4 1.794 4 4v.586l-2.293-2.293l-1.414 1.414L13.586 21H13Zm10-8c0 2.206-1.794 4-4 4h-.586l2.293-2.293l-1.414-1.414L17 15.586V15c0-2.206 1.794-4 4-4h2v2Z"}),L.jsx("path",{fill:"currentColor",d:"M31 16c0-8.271-6.729-15-15-15a14.87 14.87 0 0 0-6.43 1.444l.86 1.806A12.885 12.885 0 0 1 16 3c7.168 0 13 5.832 13 13c0 3.075-1.057 5.979-3 8.308V22h-2v6h6v-2h-2.842A14.861 14.861 0 0 0 31 16Z"})]}),sI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M12 22q-3.475-.875-5.738-3.988T4 11.1V5l8-3l8 3v6.1q0 3.8-2.263 6.913T12 22Zm0-2.1q2.425-.75 4.05-2.963T17.95 12H12V4.125l-6 2.25v5.175q0 .175.05.45H12v7.9Z"})}),lI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",...o,children:L.jsx("path",{fill:"currentColor",d:"M13 3a5.393 5.393 0 0 1-1.902 1.178c-.748.132-2.818-.828-3.838.152c-.17.17-.38.34-.6.51c-.48-.21-1.22-.53-1.76-.84S3 3 3 3L0 6.5s.74 1 1.2 1.66c.3.44.67 1.11.91 1.56l-.34.4a.876.876 0 0 0 .15 1a.833.833 0 0 0 1.002-.002a.62.62 0 0 0 .077.881a.994.994 0 0 0 1.006-.002a.806.806 0 0 0-.003 1.005a1.012 1.012 0 0 0 .892-.114a.822.822 0 0 0 .187.912a1.093 1.093 0 0 0 1.054-.092l.516-.467c.472.47 1.123.761 1.842.761l.061-.001a1.311 1.311 0 0 0 1.094-.791c.146.056.312.094.488.094c.236 0 .455-.068.64-.185c.585-.387.445-.687.445-.687a1.07 1.07 0 0 0 1.229-.279a.996.996 0 0 0 .138-1.215a.036.036 0 0 0 .021.005c.421 0 .787-.232.978-.574a1.564 1.564 0 0 0-.191-1.48l.003.005c.82-.16.79-.57 1.19-1.17a4.725 4.725 0 0 1 1.387-1.208zm-.05 7.06c-.44.44-.78.25-1.53-.32S9.18 8.1 9.18 8.1c.061.305.202.57.401.781c.319.359 1.269 1.179 1.719 1.599c.28.26 1 .78.58 1.18s-.75 0-1.44-.56s-2.23-1.94-2.23-1.94a.937.937 0 0 0 .27.72c.17.2 1.12 1.12 1.52 1.54s.75.67.41 1s-1.03-.19-1.41-.58c-.59-.57-1.76-1.63-1.76-1.63l-.001.053c0 .284.098.544.263.75c.288.378.848.868 1.188 1.248s.54.7 0 1s-1.34-.44-1.69-.8v-.002a.411.411 0 0 0-.1-.269a.896.896 0 0 0-.906-.188A.609.609 0 0 0 6 11.1a.754.754 0 0 0-.912.001a.61.61 0 0 0-.085-.95a1 1 0 0 0-1.174.08a.66.66 0 0 0-.068-.911a.996.996 0 0 0-1.186-.128L1.91 8.069c-.46-.73-1-1.49-1-1.49l2.28-2.77s.81.5 1.48.88c.33.19.9.44 1.33.64c-.68.51-1.25 1-1.08 1.34a1.834 1.834 0 0 0 2.087.036a2.41 2.41 0 0 1 1.343-.403c.347 0 .677.072.976.203c.554.374 1.574 1.294 2.504 1.874c1.17.85 1.4 1.4 1.12 1.68z"})}),cI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 11H6a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v6c0 2.667-1.333 4.333-4 5m13-7h-4a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v6c0 2.667-1.333 4.333-4 5"})}),uI=({rating:o})=>L.jsx("div",{className:"flex items-center",children:[...Array(5)].map((l,p)=>L.jsx("svg",{className:`h-5 w-5 ${p<o?"text-brand-cta-yellow":"text-gray-500"}`,fill:"currentColor",viewBox:"0 0 20 20",children:L.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.966a1 1 0 00.95.69h4.162c.969 0 1.371 1.24.588 1.81l-3.368 2.448a1 1 0 00-.364 1.118l1.287 3.966c.3.921-.755 1.688-1.539 1.118l-3.368-2.448a1 1 0 00-1.175 0l-3.368 2.448c-.784.57-1.838-.197-1.539-1.118l1.287-3.966a1 1 0 00-.364-1.118L2.35 9.393c-.783-.57-.38-1.81.588-1.81h4.162a1 1 0 00.95-.69L9.049 2.927z"})},p))}),dI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1000 1000",...o,children:L.jsx("path",{fill:"currentColor",d:"m746 641l254 255l-105 105l-254-254q-106 72-232 72q-169 0-289-120T0 410t120-289T409 1t289 120t120 289q0 127-72 231zm-65-231q0-113-79.5-193T409 137t-193 80t-80 193t80 192.5T409 682t192.5-79.5T681 410z"})}),hI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 26 26",...o,children:L.jsx("path",{fill:"currentColor",d:"M25.326 10.137a1.001 1.001 0 0 0-.807-.68l-7.34-1.066l-3.283-6.651c-.337-.683-1.456-.683-1.793 0L8.82 8.391L1.48 9.457a1 1 0 0 0-.554 1.705l5.312 5.178l-1.254 7.31a1.001 1.001 0 0 0 1.451 1.054L13 21.252l6.564 3.451a1 1 0 0 0 1.451-1.054l-1.254-7.31l5.312-5.178a.998.998 0 0 0 .253-1.024z"})}),pI=()=>{const{t:o}=Jt("navbar"),[l,p]=fe.useState(!1),[g,C]=fe.useState(!1),D=zl(),[w,c]=fe.useState(Mg),[R,k]=fe.useState([]),[q,G]=fe.useState(!1),Z=fe.useRef(null),H=fe.useRef(null),ae=fe.useRef(null),Ie=fe.useRef(null),Ve=fe.useRef({});fe.useEffect(()=>{const Le=()=>{if(!Z.current||window.innerWidth<768){c(Mg),k([]);return}const He=Z.current.offsetWidth,Se=H.current?.offsetWidth||0,_t=ae.current?.offsetWidth||0,Dt=80,zt=24,Ht=He-Se-_t-zt*2;let ga=0;const sa=[],$t=[];if(Mg.forEach(ea=>{const ca=Ve.current[ea.nameKey]?.offsetWidth||0;ga+ca+zt<Ht?(sa.push(ea),ga+=ca+zt):$t.push(ea)}),$t.length>0){let ea=Ht-Dt,ca=0;const Ke=[];sa.forEach($e=>{const xt=Ve.current[$e.nameKey]?.offsetWidth||0;ca+xt+zt<ea?(Ke.push($e),ca+=xt+zt):$t.unshift($e)}),c(Ke)}else c(sa);k($t)},Oe=new ResizeObserver(Le);Z.current&&Oe.observe(Z.current);const ot=setTimeout(Le,100);return()=>{Oe.disconnect(),clearTimeout(ot)}},[]),fe.useEffect(()=>{const Le=()=>C(window.scrollY>10);return window.addEventListener("scroll",Le),()=>window.removeEventListener("scroll",Le)},[]),fe.useEffect(()=>{p(!1),G(!1)},[D]);const we=Le=>Le==="/"?D.pathname==="/":Le==="/gear/home"?D.pathname.startsWith("/gear"):D.pathname.startsWith(Le);return L.jsxs(Rt.nav,{initial:{y:-100},animate:{y:0},transition:{duration:.5},className:"bg-brand-primary-dark/80 backdrop-blur-md text-brand-white p-4 fixed w-full top-0 z-50",children:[L.jsxs("div",{onContextMenu:Le=>Le.preventDefault(),className:"select-none container mx-auto flex justify-between items-center",children:[L.jsx(gm,{ref:H,to:"/",className:"transition-transform duration-300 hover:scale-105 flex-shrink-0",children:L.jsx("img",{src:qe,alt:"JustDiveCol Logo",className:"h-12 w-auto"})}),L.jsxs("div",{ref:Z,className:"hidden md:flex flex-grow justify-end space-x-6 items-center",children:[w.map(Le=>{const Oe=we(Le.path);return L.jsxs(gm,{ref:ot=>Ve.current[Le.nameKey]=ot,to:Le.path,className:`relative group text-sm font-semibold uppercase tracking-wider whitespace-nowrap ${Oe?"text-brand-cta-orange":"text-white hover:text-brand-cta-orange/80 transition-colors"}`,children:[o(Le.nameKey),L.jsx("span",{className:`absolute bottom-[-2px] left-0 w-full h-0.5 bg-brand-cta-orange transition-transform duration-300 origin-center ${Oe?"scale-x-100":"scale-x-0 group-hover:scale-x-100"}`})]},Le.nameKey)}),R.length>0&&L.jsxs("div",{className:"relative",ref:Ie,children:[L.jsxs("button",{onClick:()=>G(!q),className:"flex items-center text-sm font-semibold uppercase tracking-wider hover:text-brand-cta-orange/80 transition-colors",children:[o("moreLabel","Más"),L.jsx(yw,{className:`w-5 h-5 ml-1 transition-transform duration-200 ${q?"rotate-180":""}`})]}),L.jsx(Eh,{children:q&&L.jsx(Rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full right-0 mt-2 w-48 bg-brand-primary-dark/95 backdrop-blur-sm rounded-md shadow-lg ring-1 ring-white/10",children:L.jsx("div",{className:"py-1",children:R.map(Le=>{const Oe=we(Le.path);return L.jsx(gm,{to:Le.path,className:`block px-4 py-2 text-sm font-semibold uppercase ${Oe?"text-brand-cta-orange":"text-white hover:bg-brand-primary-light"}`,children:o(Le.nameKey)},Le.nameKey)})})})})]}),L.jsx("div",{ref:ae,children:L.jsx(Ox,{})})]}),L.jsxs("div",{className:"md:hidden flex items-center",children:[L.jsx(Ox,{}),L.jsx("button",{onClick:()=>p(!l),"aria-label":"Toggle menu",className:"ml-4",children:l?L.jsx(vw,{}):L.jsx(nI,{})})]})]}),L.jsx(Eh,{children:l&&L.jsx(Rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"md:hidden mt-4",children:L.jsx("div",{className:"flex flex-col space-y-4 items-center",children:Mg.map(Le=>{const Oe=we(Le.path);return L.jsx(gm,{to:Le.path,onClick:()=>p(!1),className:`text-center py-2 text-white hover:bg-brand-primary-medium rounded-md text-sm font-semibold uppercase tracking-wider w-full ${Oe?"text-brand-cta-orange":""}`,children:o(Le.nameKey)},Le.nameKey)})})})})]})},Mp={sloganKey:"footerSlogan",closingMessageKey:"footerClosingMessage",copyrightKey:"footerCopyright",creditsKey:"footerCredits",importantLinksTitle:"footerLinksTitle",navLinks:[{nameKey:"policies",path:"/politicas"},{nameKey:"termsAndConditions",path:"/terminos-y-condiciones"},{nameKey:"privacy",path:"/privacidad"},{nameKey:"faqs",path:"/faqs"},{nameKey:"divesites",path:"/mapa"}]},Uy="/assets/contact-header-background-C0sLWMIO.webp",cd={seo:{titleKey:"contactSeoTitle",descriptionKey:"contactSeoDesc",keywords:"contactSeoKeywords",imageUrl:Uy,url:"/contacto"},header:{backgroundImage:Uy,titleKey:"contactHeaderTitle",subtitleKey:"contactHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"contactHeaderMainLogoAlt",photoCreditKey:"contactHeaderPhotoCredit"},contactInfo:{titleKey:"contactInfoTitle",email:"info@justdivecol.com",phone:"+57 311 522 0316",socials:[{name:"Instagram",link:"https://www.instagram.com/justdivecol/",icon:"instagram"},{name:"TikTok",link:"https://www.tiktok.com/@just.dive.col",icon:"tiktok"},{name:"YouTube",link:"https://www.youtube.com/@JustDiveCol",icon:"youtube"}]},whatsAppAction:{titleKey:"contactWhatsAppTitle",descriptionKey:"contactWhatsAppDesc",ctaTextKey:"contactWhatsAppButton",ctaAction:{type:"whatsapp",whatsAppMessageKey:"contactWhatsAppMessage",whatsAppMessageNS:"contact"}},cta:{backgroundImage:Uy,titleKey:"contactCtaTitle",subtitleKey:"contactCtaSubtitle",ctaTextKey:"contactCtaText",ctaAction:{type:"internal",path:"/experiencias"},mainLogo:qe,mainLogoAltKey:"contactCtaMainLogoAlt",photoCreditKey:"contactCtaPhotoCredit"}},fb=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M19.05 4.91A9.816 9.816 0 0 0 12.04 2c-5.46 0-9.91 4.45-9.91 9.91c0 1.75.46 3.45 1.32 4.95L2.05 22l5.25-1.38c1.45.79 3.08 1.21 4.74 1.21c5.46 0 9.91-4.45 9.91-9.91c0-2.65-1.03-5.14-2.9-7.01zm-7.01 15.24c-1.48 0-2.93-.4-4.2-1.15l-.3-.18l-3.12.82l.83-3.04l-.2-.31a8.264 8.264 0 0 1-1.26-4.38c0-4.54 3.7-8.24 8.24-8.24c2.2 0 4.27.86 5.82 2.42a8.183 8.183 0 0 1 2.41 5.83c.02 4.54-3.68 8.23-8.22 8.23zm4.52-6.16c-.25-.12-1.47-.72-1.69-.81c-.23-.08-.39-.12-.56.12c-.17.25-.64.81-.78.97c-.14.17-.29.19-.54.06c-.25-.12-1.05-.39-1.99-1.23c-.74-.66-1.23-1.47-1.38-1.72c-.14-.25-.02-.38.11-.51c.11-.11.25-.29.37-.43s.17-.25.25-.41c.08-.17.04-.31-.02-.43s-.56-1.34-.76-1.84c-.2-.48-.41-.42-.56-.43h-.48c-.17 0-.43.06-.66.31c-.22.25-.86.85-.86 2.07c0 1.22.89 2.4 1.01 2.56c.12.17 1.75 2.67 4.23 3.74c.59.26 1.05.41 1.41.52c.59.19 1.13.16 1.56.1c.48-.07 1.47-.6 1.67-1.18c.21-.58.21-1.07.14-1.18s-.22-.16-.47-.28z"})}),bw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5l8-5v10zm-8-7L4 6h16l-8 5z"})}),xw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M17.34 5.46a1.2 1.2 0 1 0 1.2 1.2a1.2 1.2 0 0 0-1.2-1.2Zm4.6 2.42a7.59 7.59 0 0 0-.46-2.43a4.94 4.94 0 0 0-1.16-1.77a4.7 4.7 0 0 0-1.77-1.15a7.3 7.3 0 0 0-2.43-.47C15.06 2 14.72 2 12 2s-3.06 0-4.12.06a7.3 7.3 0 0 0-2.43.47a4.78 4.78 0 0 0-1.77 1.15a4.7 4.7 0 0 0-1.15 1.77a7.3 7.3 0 0 0-.47 2.43C2 8.94 2 9.28 2 12s0 3.06.06 4.12a7.3 7.3 0 0 0 .47 2.43a4.7 4.7 0 0 0 1.15 1.77a4.78 4.78 0 0 0 1.77 1.15a7.3 7.3 0 0 0 2.43.47C8.94 22 9.28 22 12 22s3.06 0 4.12-.06a7.3 7.3 0 0 0 2.43-.47a4.7 4.7 0 0 0 1.77-1.15a4.85 4.85 0 0 0 1.16-1.77a7.59 7.59 0 0 0 .46-2.43c0-1.06.06-1.4.06-4.12s0-3.06-.06-4.12ZM20.14 16a5.61 5.61 0 0 1-.34 1.86a3.06 3.06 0 0 1-.75 1.15a3.19 3.19 0 0 1-1.15.75a5.61 5.61 0 0 1-1.86.34c-1 .05-1.37.06-4 .06s-3 0-4-.06a5.73 5.73 0 0 1-1.94-.3a3.27 3.27 0 0 1-1.1-.75a3 3 0 0 1-.74-1.15a5.54 5.54 0 0 1-.4-1.9c0-1-.06-1.37-.06-4s0-3 .06-4a5.54 5.54 0 0 1 .35-1.9A3 3 0 0 1 5 5a3.14 3.14 0 0 1 1.1-.8A5.73 5.73 0 0 1 8 3.86c1 0 1.37-.06 4-.06s3 0 4 .06a5.61 5.61 0 0 1 1.86.34a3.06 3.06 0 0 1 1.19.8a3.06 3.06 0 0 1 .75 1.1a5.61 5.61 0 0 1 .34 1.9c.05 1 .06 1.37.06 4s-.01 3-.06 4ZM12 6.87A5.13 5.13 0 1 0 17.14 12A5.12 5.12 0 0 0 12 6.87Zm0 8.46A3.33 3.33 0 1 1 15.33 12A3.33 3.33 0 0 1 12 15.33Z"})}),_w=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M16.6 5.82s.51.5 0 0A4.278 4.278 0 0 1 15.54 3h-3.09v12.4a2.592 2.592 0 0 1-2.59 2.5c-1.42 0-2.6-1.16-2.6-2.6c0-1.72 1.66-3.01 3.37-2.48V9.66c-3.45-.46-6.47 2.22-6.47 5.64c0 3.33 2.76 5.7 5.69 5.7c3.14 0 5.69-2.55 5.69-5.7V9.01a7.35 7.35 0 0 0 4.3 1.38V7.3s-1.88.09-3.24-1.48z"})}),ww=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1536 1792",...o,children:L.jsx("path",{fill:"currentColor",d:"M971 1244v211q0 67-39 67q-23 0-45-22v-301q22-22 45-22q39 0 39 67zm338 1v46h-90v-46q0-68 45-68t45 68zm-966-218h107v-94H138v94h105v569h100v-569zm288 569h89v-494h-89v378q-30 42-57 42q-18 0-21-21q-1-3-1-35v-364h-89v391q0 49 8 73q12 37 58 37q48 0 102-61v54zm429-148v-197q0-73-9-99q-17-56-71-56q-50 0-93 54V933h-89v663h89v-48q45 55 93 55q54 0 71-55q9-27 9-100zm338-10v-13h-91q0 51-2 61q-7 36-40 36q-46 0-46-69v-87h179v-103q0-79-27-116q-39-51-106-51q-68 0-107 51q-28 37-28 116v173q0 79 29 116q39 51 108 51q72 0 108-53q18-27 21-54q2-9 2-58zM790 525V315q0-69-43-69t-43 69v210q0 70 43 70t43-70zm719 751q0 234-26 350q-14 59-58 99t-102 46q-184 21-555 21t-555-21q-58-6-102.5-46T53 1626q-26-112-26-350q0-234 26-350q14-59 58-99t103-47q183-20 554-20t555 20q58 7 102.5 47t57.5 99q26 112 26 350zM511 0h102L492 399v271H392V399q-14-74-61-212Q294 84 266 0h106l71 263zm370 333v175q0 81-28 118q-38 51-106 51q-67 0-105-51q-28-38-28-118V333q0-80 28-117q38-51 105-51q68 0 106 51q28 37 28 117zm335-162v499h-91v-55q-53 62-103 62q-46 0-59-37q-8-24-8-75V171h91v367q0 33 1 35q3 22 21 22q27 0 57-43V171h91z"})}),mb=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 26 26",...o,children:L.jsx("path",{fill:"currentColor",d:"M7 0c-.551 0-1 .449-1 1v3c0 .551.449 1 1 1c.551 0 1-.449 1-1V1c0-.551-.449-1-1-1zm12 0c-.551 0-1 .449-1 1v3c0 .551.449 1 1 1c.551 0 1-.449 1-1V1c0-.551-.449-1-1-1zM3 2C1.344 2 0 3.344 0 5v18c0 1.656 1.344 3 3 3h20c1.656 0 3-1.344 3-3V5c0-1.656-1.344-3-3-3h-2v2a2 2 0 0 1-4 0V2H9v2a2 2 0 0 1-4 0V2H3zM2 9h22v14c0 .551-.449 1-1 1H3c-.551 0-1-.449-1-1V9zm7 3v2.313h4.813l-3.782 7.656H13.5l3.469-8.438V12H9z"})}),Cw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"m15.914 17.5l-5.5-5.5l5.5-5.5L14.5 5.086L7.586 12l6.914 6.914l1.414-1.414Z"})}),Sw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"m8.086 17.5l5.5-5.5l-5.5-5.5L9.5 5.086L16.414 12L9.5 18.914L8.086 17.5Z"})}),fI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"m17.5 15.914l-5.5-5.5l-5.5 5.5L5.086 14.5L12 7.586l6.914 6.914l-1.414 1.414Z"})}),Tw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"m17.5 8.086l-5.5 5.5l-5.5-5.5L5.086 9.5L12 16.414L18.914 9.5L17.5 8.086Z"})}),mI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",children:[L.jsx("path",{d:"M4 7h12a1 1 0 0 1 1 1v4.5a2.5 2.5 0 0 1-2.5 2.5H14a2 2 0 0 1-2-2a2 2 0 1 0-4 0a2 2 0 0 1-2 2h-.5A2.5 2.5 0 0 1 3 12.5V8a1 1 0 0 1 1-1z"}),L.jsx("path",{d:"M10 17a2 2 0 0 0 2 2h3.5a5.5 5.5 0 0 0 5.5-5.5V4"})]})}),Pw=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 50 50",...o,children:L.jsx("path",{fill:"currentColor",d:"m1 5l7.617 7.893l2.927-2.664l-2.65-5.205zm34.336 22.108c1.439.402 2.988-.424 3.396-1.909c.395-1.458-.445-2.991-1.898-3.405l-1.127-.315l-1.463 5.302l1.092.327zm-.887-5.97l-9.115-2.603c-.6-.158-1.205.208-1.374.815l-.852 3.089c-.167.608.156 1.228.768 1.411l9.122 2.579l1.451-5.291zm1.438 8.781a6.037 6.037 0 0 0-2.564-1.484L22.27 25.298l-6.79-12.21c-.36-.632-.936-1.131-1.68-1.338c-1.488-.425-3.036.462-3.443 1.97a2.79 2.79 0 0 0 .216 2.067l8.494 15.104s.696 1.131 2.447 1.716l15.442 4.391l7.162 7.369c.24.255.553.449.924.56c1.08.304 2.207-.354 2.52-1.437c.205-.765-.035-1.568-.576-2.067L35.887 29.919zm8.244 3.053l1.605 2.128L49 31.487l-2.758-1.558c.262-1.958-.938-3.854-2.857-4.401c-2.111-.597-4.307.644-4.893 2.785c-.602 2.153.635 4.365 2.746 4.962c1.008.291 2.028.133 2.893-.303z"})}),gI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...o,children:L.jsx("path",{fill:"currentColor",d:"M245 29v26h22V29h-22zM105 62.563v30.874l14-7V69.564l-14-7zm302 0l-14 7v16.874l14 7V62.564zM137 69v18h90V69h-90zm148 0v18h90V69h-90zm-40 4v14h22V73h-22zm114 26.416v20.176c14.247 8.412 24.376 19.263 32.05 31.947c13.556 22.404 19.038 51.316 21.991 82.326c2.953 31.01 3.422 63.895 8.324 94.211c2.322 14.36 5.68 28.27 10.928 41.06c4.237-4.39 9.665-7.622 15.746-9.15c-4.048-10.489-6.864-22.163-8.904-34.783c-4.598-28.43-5.13-61.05-8.176-93.045c-3.047-31.994-8.565-63.586-24.51-89.937c-10.598-17.516-26-32.356-47.449-42.805zM128.922 105c-6.642 5.152-12.31 11.225-17.026 18c-15.783 22.68-21.907 51.968-25.406 80.758c-3.499 28.79-4.261 57.394-7.527 77.955c-1.633 10.28-4.005 18.474-6.746 23.185c-2.741 4.712-4.482 5.932-8.604 6.11c-5.089.219-8.12-.96-10.912-3.225c-2.792-2.266-5.358-6.06-7.369-11.437c-4.021-10.754-5.363-27.23-4.809-43.99c.772-23.314 4.797-46.823 7.2-59.143c3.026-.782 5.619-2.307 7.789-3.879c3.577-2.59 6.449-5.698 8.924-8.719c4.949-6.041 8.32-12.072 8.32-12.072l-15.674-8.85s-2.819 4.933-6.572 9.514c-1.877 2.29-3.984 4.411-5.555 5.549c-.605.438-.917.555-1.203.681c-.235-.193-.486-.373-.938-.937c-1.192-1.491-2.645-4.064-3.832-6.742c-2.373-5.356-3.763-10.803-3.763-10.803l-17.463 4.361s1.632 6.654 4.77 13.735c1.568 3.54 3.493 7.268 6.234 10.693a32.14 32.14 0 0 0 1.69 1.934c-2.456 12.196-7.052 37.955-7.917 64.082c-.594 17.958.391 36.053 5.94 50.89c2.774 7.419 6.803 14.173 12.886 19.11c6.084 4.936 14.21 7.612 23.028 7.232c10.16-.437 18.631-6.864 23.388-15.04c4.757-8.178 7.17-18.114 8.965-29.415c3.59-22.601 4.258-50.96 7.617-78.607c3.36-27.648 9.525-54.272 22.315-72.649c6.733-9.674 15.051-17.384 26.328-22.318V105h-24.078zM171 105v30.818a104.29 104.29 0 0 1 13-.818c4.354 0 8.708.278 13 .818V105h-26zm144 0v30.818a104.29 104.29 0 0 1 13-.818c4.354 0 8.708.278 13 .818V105h-26zm-131 48c-27.5 0-55 13-55 39v23h110v-23c0-26-27.5-39-55-39zm144 0c-27.5 0-55 13-55 39v23h110v-23c0-26-27.5-39-55-39zm-199 80v30h254v-30H129zm0 48v62h110v-62H129zm144 0v62h110v-62H273zm-144 80v30h254v-30H129zm327 16c-8.39 0-15 6.61-15 15s6.61 15 15 15s15-6.61 15-15s-6.61-15-15-15zm-327 32v78h110v-78H129zm144 0v78h110v-78H273z"})}),yI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M9 14v-4h1.5v4H9Zm2.25 0v-3h1.5v3h-1.5Zm2.25 0v-2H15v2h-1.5ZM9 22l-1.35-4.55q-1.2-.95-1.925-2.375T5 12q0-1.65.725-3.075T7.65 6.55L9 2h6l1.35 4.55q1.2.95 1.925 2.375T19 12q0 1.65-.725 3.075T16.35 17.45L15 22H9Zm3-5q2.075 0 3.538-1.463T17 12q0-2.075-1.463-3.538T12 7Q9.925 7 8.462 8.463T7 12q0 2.075 1.463 3.538T12 17ZM10.1 5.25q.5-.125.963-.2T12 4.975q.475 0 .938.075t.962.2L13.5 4h-3l-.4 1.25ZM10.5 20h3l.4-1.25q-.5.125-.963.188T12 19q-.475 0-.938-.063t-.962-.187l.4 1.25Zm-.4-16h3.8h-3.8Zm.4 16h-.4h3.8h-3.4Z"})}),vI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsxs("g",{fill:"none",children:[L.jsx("path",{fill:"currentColor",d:"m15 22l-.416.624A.75.75 0 0 0 15.75 22H15Zm-3-2l.416-.624a.75.75 0 0 0-.832 0L12 20Zm-3 2h-.75a.75.75 0 0 0 1.166.624L9 22ZM8.75 3.537l-.06.748l.06-.748Zm1.685-.697l-.572-.486l.572.486ZM6.532 5.686l-.748.06l.748-.06Zm2.154-2.154l.06-.748l-.06.748ZM5.84 7.435l.486.57l-.486-.57Zm.697-1.684l.748-.06l-.748.06Zm-.747 4.772l-.486.571l.486-.57Zm0-3.046l-.486-.571l.486.57Zm.747 4.772l-.747-.06l.747.06Zm-.697-1.684l.486-.57l-.486.57Zm2.846 3.903l.06.748l-.06-.748Zm-2.154-2.154l.747.06l-.747-.06Zm3.903 2.846l.57-.486l-.57.486Zm-1.684-.697l-.06-.748l.06.748Zm4.772.747l.571.486l-.57-.486Zm-3.046 0l-.571.486l.57-.486Zm4.772-.747l.06-.748l-.06.748Zm-1.684.697l-.57-.486l.57.486Zm3.903-2.846l.748-.06l-.748.06Zm-2.154 2.154l-.06.748l.06-.748Zm2.846-3.903l.486.572l-.486-.572Zm-.697 1.684l-.748.06l.748-.06Zm.747-4.772l.486-.571l-.486.57Zm0 3.046l-.486-.571l.486.571Zm-.747-4.772l-.748-.06l.748.06Zm.697 1.684l-.486.57l.486-.57Zm-2.846-3.903l-.06-.748l.06.748Zm2.154 2.154l.748.06l-.748-.06ZM13.565 2.84l.572-.486l-.572.486Zm1.684.697l.06.748l-.06-.748Zm-1.726-.747l-.571.486l.571-.486Zm-3.046 0l.571.486l-.571-.486ZM9 14.458l.033-.749l-.033.75Zm6.416 6.918l-3-2l-.832 1.248l3 2l.832-1.248Zm-3.832-2l-3 2l.832 1.248l3-2l-.832-1.248Zm1.368-16.1l.042.05l1.143-.972l-.043-.05l-1.142.972Zm2.357 1.009l.065-.006l-.12-1.495l-.065.006l.12 1.495Zm1.412 1.34l-.006.066l1.495.12l.006-.065l-1.495-.12Zm.953 2.38l.05.043l.972-1.142l-.05-.043l-.972 1.143Zm.05 1.947l-.05.042l.972 1.143l.05-.043l-.972-1.142Zm-1.009 2.357l.006.065l1.495-.12l-.006-.065l-1.495.12Zm-1.34 1.412l-.066-.006l-.12 1.495l.065.006l.12-1.495Zm-2.38.953l-.043.05l1.142.972l.043-.05l-1.143-.972Zm-1.947.05l-.042-.05l-1.143.972l.043.05l1.142-.972Zm-2.357-1.009l-.065.005l.12 1.496l.065-.005l-.12-1.496Zm-1.412-1.34l.006-.066l-1.495-.12l-.006.065l1.495.12Zm-.953-2.38l-.05-.043l-.972 1.142l.05.043l.972-1.143Zm-.05-1.947l.05-.042l-.972-1.143l-.05.043l.972 1.142Zm1.009-2.357l-.006-.065l-1.495.12l.006.065l1.495-.12Zm1.34-1.412l.066.006l.12-1.495l-.065-.006l-.12 1.495Zm2.38-.953l.043-.05l-1.142-.972l-.043.05l1.143.972Zm-2.314.959a2.75 2.75 0 0 0 2.315-.96l-1.143-.971a1.25 1.25 0 0 1-1.052.436l-.12 1.495Zm-1.412 1.34A1.25 1.25 0 0 1 8.626 4.28l.12-1.495a2.75 2.75 0 0 0-2.962 2.962l1.495-.12Zm-.953 2.38a2.75 2.75 0 0 0 .959-2.314l-1.495.12c.032.4-.13.792-.436 1.052l.972 1.143Zm-.05 1.947a1.25 1.25 0 0 1 0-1.904l-.972-1.142a2.75 2.75 0 0 0 0 4.188l.972-1.142Zm1.009 2.357a2.75 2.75 0 0 0-.96-2.315l-.971 1.143c.306.26.468.652.436 1.052l1.495.12Zm1.34 1.412a1.25 1.25 0 0 1-1.346-1.347l-1.495-.12a2.75 2.75 0 0 0 2.962 2.962l-.12-1.495Zm4.327 1.003a1.25 1.25 0 0 1-1.904 0l-1.142.972a2.75 2.75 0 0 0 4.188 0l-1.142-.972Zm3.769-2.35a1.25 1.25 0 0 1-1.347 1.346l-.12 1.496a2.75 2.75 0 0 0 2.962-2.962l-1.495.12Zm.953-2.38a2.75 2.75 0 0 0-.959 2.315l1.495-.12c-.032-.4.13-.792.436-1.052l-.972-1.143Zm.05-1.946a1.25 1.25 0 0 1 0 1.904l.972 1.142a2.75 2.75 0 0 0 0-4.188l-.972 1.142Zm-1.009-2.357a2.75 2.75 0 0 0 .96 2.315l.971-1.143a1.25 1.25 0 0 1-.436-1.052l-1.495-.12Zm-1.34-1.412a1.25 1.25 0 0 1 1.346 1.347l1.495.12a2.75 2.75 0 0 0-2.962-2.962l.12 1.495Zm-2.38-.953a2.75 2.75 0 0 0 2.314.959l-.12-1.495a1.25 1.25 0 0 1-1.052-.436l-1.143.972Zm1.1-1.022a2.75 2.75 0 0 0-4.19 0l1.143.972a1.25 1.25 0 0 1 1.904 0l1.142-.972Zm-3.09 12.37a2.75 2.75 0 0 0-1.972-.965l-.066 1.499c.344.015.67.172.896.438l1.143-.972Zm-1.972-.965a2.762 2.762 0 0 0-.342.006l.12 1.495a1.16 1.16 0 0 1 .156-.002l.066-1.499ZM9.75 22v-7.542h-1.5V22h1.5Zm5.56-8.285a2.762 2.762 0 0 0-.343-.006l.066 1.499a1.16 1.16 0 0 1 .156.002l.12-1.495Zm-.343-.006a2.75 2.75 0 0 0-1.973.965l1.143.972a1.25 1.25 0 0 1 .896-.438l-.066-1.499Zm-.717.75V22h1.5v-7.542h-1.5Z"}),L.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m14 8l-3 3l-1-1"})]})}),bI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",children:[L.jsx("path",{d:"M16 17.9c1.5-.9 2.7-2.2 3.4-3.9h.8c.4 0 .8-.4.8-1V9c0-.6-.4-1-.8-1h-.8A7.92 7.92 0 0 0 15 3.6v-.8c0-.4-.4-.8-1-.8h-4c-.6 0-1 .4-1 .8v.8A7.92 7.92 0 0 0 4.6 8h-.8c-.4 0-.8.4-.8 1v4c0 .6.4 1 .8 1h.8c.7 1.7 1.9 3 3.4 3.9"}),L.jsx("circle",{cx:"12",cy:"11",r:"4"}),L.jsx("path",{d:"M8 11h8m-4-4v8m-5.3 2c-1 .6-1.7 1.2-1.7 2c0 1.7 3.1 3 7 3s7-1.3 7-3c0-.8-.7-1.4-1.7-2"})]})}),xI=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m3 6l1 1l2-2m-3 7l1 1l2-2m-3 7l1 1l2-2M9 6h12M9 12h12M9 18h12"})}),_I=()=>{const{t:o}=Jt(["footer","contact","navbar"]),[l,p]=fe.useState(!1);fe.useEffect(()=>{const c=()=>{window.pageYOffset>300?p(!0):p(!1)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const g=()=>{window.scrollTo({top:0,behavior:"smooth"})},C={instagram:L.jsx(xw,{className:"w-6 h-6"}),tiktok:L.jsx(_w,{className:"w-6 h-6"}),youtube:L.jsx(ww,{className:"w-6 h-6"})},D=o(cd.whatsAppAction.prefilledMessageKey,{ns:"contact"}),w=`https://wa.me/${cd.contactInfo.phone.replace(/\s/g,"")}?text=${encodeURIComponent(D)}`;return L.jsxs("footer",{className:"bg-gradient-to-t from-brand-primary-dark to-brand-primary-medium text-brand-neutral/80  relative",children:[L.jsxs("div",{className:"container mx-auto px-8 py-16 text-center",children:[L.jsxs("div",{className:"flex flex-col items-center",children:[L.jsx(jo,{to:"/",children:L.jsx("img",{onContextMenu:c=>c.preventDefault(),src:qe,alt:"JustDiveCol Logo",className:"h-10 w-auto"})}),L.jsx("p",{className:"mt-4 text-lg max-w-xl",children:o(Mp.sloganKey)}),L.jsx("p",{className:"mt-2 text-sm max-w-xl font-semibold text-brand-white",children:o(Mp.closingMessageKey)}),L.jsxs("div",{className:"flex justify-center items-center space-x-6 mt-8",children:[L.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",title:"WhatsApp",className:"text-brand-neutral/70 hover:text-brand-cta-orange transition-all duration-300 hover:scale-110 inline-block",children:L.jsx(fb,{className:"w-6 h-6"})}),L.jsx("a",{href:`mailto:${cd.contactInfo.email}`,title:"Email",className:"text-brand-neutral/70 hover:text-brand-cta-orange transition-all duration-300 hover:scale-110 inline-block",children:L.jsx(bw,{className:"w-6 h-6"})}),cd.contactInfo.socials.map(c=>L.jsx("a",{href:c.link,target:"_blank",rel:"noopener noreferrer",title:c.name,className:"text-brand-neutral/70 hover:text-brand-cta-orange transition-all duration-300 hover:scale-110 inline-block",children:C[c.icon]},c.name))]})]}),L.jsxs("div",{className:"flex items-center justify-center my-10",children:[L.jsx("div",{className:"flex-grow border-t border-brand-primary-light/20"}),L.jsx("div",{className:"px-4",children:L.jsx(mI,{className:"h-8 w-8 text-brand-cta-orange"})}),L.jsx("div",{className:"flex-grow border-t border-brand-primary-light/20"})]}),L.jsxs("div",{className:"text-center mb-8",children:[" ",L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-4",children:o(Mp.importantLinksTitle,{ns:"navbar"})})," ",Mp.navLinks.map(c=>L.jsx(jo,{to:c.path,className:"text-brand-neutral/80 hover:text-brand-cta-orange transition-colors text-sm p-2",children:o(c.nameKey,{ns:"navbar"})},c.nameKey))]}),L.jsxs("div",{className:"text-sm",children:[L.jsxs("p",{children:["© ",new Date().getFullYear()," ",o(Mp.copyrightKey)]}),L.jsx("p",{className:"text-xs text-brand-neutral/60 mt-1",children:o(Mp.creditsKey)})]})]}),l&&L.jsx("button",{onClick:g,className:"fixed bottom-8 right-8 bg-brand-cta-orange text-white p-3 rounded-full shadow-lg hover:bg-opacity-90 transition-opacity cursor-pointer","aria-label":"Scroll to top",children:L.jsx(fI,{})})]})},wI=()=>{const{pathname:o,hash:l}=zl();return fe.useEffect(()=>{l?setTimeout(()=>{const p=l.replace("#",""),g=document.getElementById(p);g&&g.scrollIntoView({behavior:"smooth",block:"start"})},100):window.scrollTo(0,0)},[o,l]),null},qx=({text:o,icon:l,onClick:p,isLink:g=!1,href:C="#"})=>{const[D,w]=fe.useState(!1),c=g?"a":"button",R=k=>{p&&p(k),w(!1)};return L.jsx(Rt.div,{onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),className:"flex justify-end",children:L.jsxs(c,{onClick:R,href:C,target:g?"_blank":void 0,rel:g?"noopener noreferrer":void 0,className:"bg-brand-cta-orange text-white p-3 rounded-l-full shadow-lg flex items-center cursor-pointer",children:[L.jsx("div",{className:"flex-shrink-0",children:l}),L.jsx(Rt.div,{animate:{width:D?"auto":0,opacity:D?1:0,marginLeft:D?"0.75rem":0},transition:{duration:.3,ease:"easeInOut"},children:L.jsx("span",{className:"font-bold text-sm whitespace-nowrap",children:o})})]})})},CI=()=>{const{t:o}=Jt(["common","contact"]),l=Tv(),p=o("contactWhatsAppMessage",{ns:"contact"}),g=`https://wa.me/${cd.contactInfo.phone.replace(/\s/g,"")}?text=${encodeURIComponent(p)}`,C=()=>{l("/experiencias"),setTimeout(()=>{const D=document.getElementById("upcoming-trips-section");D&&D.scrollIntoView({behavior:"smooth",block:"center"})},100)};return L.jsxs(Rt.div,{initial:{x:"100%"},animate:{x:0},transition:{duration:.5,delay:1.2,ease:"easeOut"},className:"fixed top-1/2 -translate-y-1/2 right-0 flex flex-col space-y-2 z-50",children:[L.jsx(qx,{text:o("viewCalendar",{ns:"common"}),icon:L.jsx(mb,{className:"w-6 h-6"}),onClick:C}),L.jsx(qx,{text:o("chatOnWhatsApp",{ns:"common"}),icon:L.jsx(fb,{className:"w-6 h-6"}),isLink:!0,href:g})]})},SI=()=>{const o=zl();return L.jsxs("div",{className:"flex flex-col min-h-screen bg-brand-primary-dark",children:[L.jsx(pI,{}),L.jsx(wI,{}),L.jsx(Eh,{mode:"wait",children:L.jsx("main",{className:"pt-20 flex-grow",children:L.jsx(OS,{})},o.pathname)}),L.jsx(_I,{}),L.jsx(CI,{})]})},TI="/assets/experience-category-courses-CsM12HiD.webp",PI="/assets/experience-category-experiences-CKrzNEeK.webp",DI="/assets/experience-category-private-B5iFkXwZ.webp",Tc="/assets/padi-CTJNLPMV.png",Dw=[{id:"certificacion",backgroundImage:TI,titleKey:"expCardCertificacionTitle",categoryKey:"expCardCertificacionCategory",mainLogo:qe,mainLogoAltKey:"expCardCertificacionMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"expCardCertificacionComplementaryLogoAlt",photoCreditKey:"expCardCertificacionPhotoCredit"},{id:"exploracion",backgroundImage:PI,titleKey:"expCardExploracionTitle",categoryKey:"expCardExploracionCategory",mainLogo:qe,mainLogoAltKey:"expCardExploracionMainLogoAlt",photoCreditKey:"expCardExploracionPhotoCredit"},{id:"privados",backgroundImage:DI,titleKey:"expCardPrivadosTitle",categoryKey:"expCardPrivadosCategory",mainLogo:qe,mainLogoAltKey:"expCardPrivadosMainLogoAlt",photoCreditKey:"expCardPrivadosPhotoCredit"}],Bx="/assets/home-hero-background-C_6PtZlz.webp",MI="/assets/home-cta-background-BddP92oS.webp",Fs={seo:{titleKey:"homeSeoTitle",descriptionKey:"homeSeoDesc",keywords:"homeSeoKeywords",imageUrl:Bx,url:"/"},hero:{imageUrl:Bx,titleKey:"homeHeroTitle",subtitleKey:"homeHeroSubtitle",ctaTextKey:"homeHeroCtaText",ctaAction:{type:"internal",path:"/experiencias"},mainLogo:qe,mainLogoAlt:"homeHeroMainLogoAlt",photoCreditKey:"homeHeroPhotoCreditKey"},featuredExperiences:{titleKey:"homeExpTitle",subtitleKey:"homeExpSubtitle",categories:Dw.map(o=>({...o,link:o.id==="privados"?"/contacto":`/experiencias#${o.id}`}))},safety:{titleKey:"homeSafetyTitle",subtitleKey:"homeSafetySubtitle",points:[{id:"guias",titleKey:"homeSafetyPoint1Title",descriptionKey:"homeSafetyPoint1Desc"},{id:"equipos",titleKey:"homeSafetyPoint2Title",descriptionKey:"homeSafetyPoint2Desc"},{id:"protocolos",titleKey:"homeSafetyPoint3Title",descriptionKey:"homeSafetyPoint3Desc"}],ctaTextKey:"homeSafetyCtaText",ctaAction:{type:"internal",path:"/seguridad"}},testimonials:{},finalCta:{backgroundImage:MI,titleKey:"homeFinalCtaTitle",subtitleKey:"homeFinalCtaSubtitle",ctaTextKey:"homeFinalCtaText",ctaAction:{type:"whatsapp",path:"",whatsAppMessageKey:"homeFinalCtaWhatsAppMessage"},ctaLink:"/contacto",mainLogo:qe,mainLogoAltKey:"homeFinalCtaMainLogoAlt",photoCreditKey:"homeFinalCtaPhotoCredit"}},Ba={initial:{},animate:{transition:{staggerChildren:.2,delayChildren:.1}}},oi={initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},AI={hidden:{},show:{transition:{staggerChildren:.1,delayChildren:.2}}},II={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.4,ease:"easeOut"}}},LI={closed:{rotate:0,transition:{duration:.2,ease:"easeInOut"}},open:{rotate:180,transition:{duration:.2,ease:"easeInOut"}}},EI={hidden:{opacity:0,y:30},show:{opacity:1,y:0,transition:{duration:.7}}},Ko=({title:o,description:l,keywords:p,imageUrl:g,url:C})=>(fe.useEffect(()=>{const D=`${o} | JustDiveCol`;document.title=D;const w=(c,R)=>{let k=document.querySelector(`meta[name="${c}"], meta[property="${c}"]`);k||(k=document.createElement("meta"),c.startsWith("og:")||c.startsWith("twitter:")?k.setAttribute("property",c):k.setAttribute("name",c),document.head.appendChild(k)),k.setAttribute("content",R)};l&&w("description",l),p&&w("keywords",p),C&&w("og:url",`https://www.justdivecol.com${C}`),w("og:type","website"),w("og:title",D),l&&w("og:description",l),g&&w("og:image",g),w("twitter:card","summary_large_image"),C&&w("twitter:url",`https://www.justdivecol.com${C}`),w("twitter:title",D),l&&w("twitter:description",l),g&&w("twitter:image",g)},[o,l,p,g,C]),null),zI={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.5}}},Rh=({action:o,textKey:l,translationNS:p="common",className:g="",containerClassName:C="",motionVariants:D=zI,motionInitial:w,motionAnimate:c,motionTransition:R,animateOnView:k=!1,viewportOptions:q})=>{const{t:G}=Jt([p,"common"]),Z=fe.useMemo(()=>{if(!o)return"/";switch(o.type){case"whatsapp":{const ot=G(o.whatsAppMessageKey,{...o.whatsAppMessageValues,ns:o.whatsAppMessageNS||p});return`https://wa.me/${cd.contactInfo.phone.replace(/\s/g,"")}?text=${encodeURIComponent(ot)}`}case"external":return o.path;case"internal":default:return o.path||"/"}},[o,G,p]),H=`inline-block bg-brand-cta-orange text-brand-white font-bold uppercase text-lg px-8 py-4 rounded-md shadow-lg transition-transform duration-300 hover:scale-105 hover:bg-opacity-90 focus:outline-none focus:ring-2 focus:focus:ring-brand-cta-yellow ${g}`,ae=G(l,{ns:p}),Ve=o?.type==="internal"?L.jsx(jo,{to:Z,className:H,children:ae}):L.jsx("a",{href:Z,target:"_blank",rel:"noopener noreferrer",className:H,children:ae}),we=w||(k?"hidden":void 0),Le=c||(k?"show":void 0),Oe=R||(k?{duration:.5}:void 0);return L.jsx(Rt.div,{variants:D,initial:we,animate:Le,transition:Oe,viewport:k?q||{once:!0,amount:.25}:void 0,className:C,children:Ve})},RI=()=>{const{t:o}=Jt("home"),{imageUrl:l,titleKey:p,subtitleKey:g,ctaTextKey:C,ctaAction:D,mainLogo:w,mainLogoAlt:c,complementaryLogo:R,complementaryLogoAlt:k,textOverlay:q,photoCreditKey:G}=Fs.hero;return L.jsxs("section",{role:"img","aria-label":`${o(p)} — ${o(g)}`,onContextMenu:Z=>Z.preventDefault(),className:"group relative min-h-screen flex items-center justify-center text-center text-brand-white bg-cover bg-center bg-no-repeat select-none",style:{backgroundImage:`url(${l})`,minHeight:"calc(100vh - 5rem)"},children:[L.jsx("div",{className:"absolute inset-0 bg-brand-primary-dark/70 pointer-events-none"}),q&&L.jsx("div",{className:"absolute top-4 left-4 text-white text-lg font-semibold drop-shadow-md opacity-80 uppercase z-20",children:q}),R&&L.jsx("div",{className:"absolute top-4 right-4 drop-shadow-md opacity-70 z-20",children:L.jsx("img",{src:R,alt:o(k),className:"w-12 h-auto"})}),L.jsx("div",{className:"absolute bottom-4 right-4 drop-shadow-md opacity-70 z-20",children:L.jsx("img",{src:w,alt:o(c),className:"w-24 h-auto"})}),L.jsxs("div",{className:"relative z-10 p-4",children:[L.jsx(Rt.h1,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl md:text-6xl lg:text-7xl  font-extrabold uppercase tracking-tight drop-shadow-xl opacity-90",children:o(p)}),L.jsx(Rt.p,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"mt-4 max-w-2xl mx-auto text-lg md:text-xl  text-brand-neutral drop-shadow-md opacity-80",children:o(g)}),L.jsx(Rh,{action:D,textKey:C,translationNS:"home",motionInitial:{opacity:0,y:50},motionAnimate:{opacity:1,y:0},motionTransition:{duration:.8,delay:.6},containerClassName:"mt-8"})]}),L.jsxs(Rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{repeat:1/0,repeatType:"reverse",duration:1.5,delay:1},className:"absolute bottom-8 z-10 left-1/2 -translate-x-1/2",children:[" ",L.jsx(yw,{className:"w-10 h-10 text-brand-cta-orange animate-bounce"})]}),L.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-brand-primary-dark/50 text-brand-white text-xs px-4 py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none select-none z-20",children:o(G)})]})},Mw=({cardData:o,translationNS:l})=>{const{t:p}=Jt(l),{backgroundImage:g,titleKey:C,categoryKey:D,link:w,mainLogo:c,mainLogoAltKey:R,complementaryLogo:k,complementaryLogoAltKey:q,photoCreditKey:G}=o,Z=w.startsWith("#"),H=Ie=>{Ie.preventDefault();const Ve=w.substring(1),we=document.getElementById(Ve);we&&we.scrollIntoView({behavior:"smooth",block:"start"})},ae=s_.useMemo(()=>L.jsxs("div",{className:"group relative h-full w-full",children:[L.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-500 group-hover:scale-110",style:{backgroundImage:`url(${g})`}}),L.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent z-10"}),k&&L.jsx("div",{className:"absolute top-4 left-4 z-20 drop-shadow-md opacity-80",children:L.jsx("img",{src:k,alt:p(q),className:"w-10 h-auto"})}),c&&L.jsx("div",{className:"absolute top-4 right-4 z-20 drop-shadow-md opacity-80",children:L.jsx("img",{src:c,alt:p(R),className:"w-16 h-auto"})}),G&&L.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-brand-primary-dark/50 text-brand-white text-xs px-4 py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none select-none z-20",children:p(G)}),L.jsxs("div",{className:"relative z-20 h-full flex flex-col justify-end p-6 text-white",children:[L.jsx("h3",{className:"text-xl uppercase tracking-widest text-brand-cta-orange font-bold",children:p(C)}),L.jsx("p",{className:"mt-2 text-lg md:text-lg",children:p(D)})]})]}),[g,D,C,c,R,k,q,G,p]);return L.jsx(Rt.div,{variants:oi,className:"relative h-96 rounded-lg overflow-hidden shadow-2xl w-full",children:Z?L.jsx("button",{onClick:H,className:"block h-full w-full text-left",children:ae}):L.jsx(jo,{to:w,className:"block h-full w-full",children:ae})})},kI=()=>{const{t:o}=Jt("home"),{titleKey:l,subtitleKey:p,categories:g}=Fs.featuredExperiences;return L.jsx("section",{className:"bg-brand-primary-dark py-20 px-4",children:L.jsxs(Rt.div,{variants:Ba,className:"container mx-auto text-center",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl font-bold text-brand-white uppercase",children:o(l)}),L.jsx(Rt.p,{variants:oi,className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:o(p)}),L.jsx(Rt.div,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.1},className:"mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center",children:g.map(C=>L.jsx(Mw,{cardData:C,translationNS:"home"},C.id))})]})})},NI={guias:L.jsx(vI,{className:"h-16 w-16"}),equipos:L.jsx(bI,{className:"h-16 w-16"}),protocolos:L.jsx(xI,{className:"h-16 w-16"})},jI=({item:o,translationNS:l})=>{const{t:p}=Jt(l);return L.jsxs(Rt.div,{variants:oi,className:"flex flex-col items-center",children:[L.jsx("div",{className:"text-brand-cta-green",children:NI[o.id]}),L.jsx("h3",{className:"mt-4 text-2xl font-semibold",children:p(o.titleKey)}),L.jsx("p",{className:"mt-2 text-brand-neutral",children:p(o.descriptionKey)})]})},KI=()=>{const{t:o}=Jt("home"),{safety:l}=Fs;return L.jsx("section",{className:"bg-brand-primary-medium py-20 px-4",children:L.jsxs(Rt.div,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.2},className:"container mx-auto text-center text-brand-white",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl  font-bold uppercase",children:o(l.titleKey)}),L.jsx(Rt.p,{variants:oi,className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:o(l.subtitleKey)}),L.jsx(Rt.div,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.2},className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-12",children:l.points.map(p=>L.jsx(jI,{item:p,translationNS:"home"},p.id))}),L.jsx(Rh,{action:l.ctaAction,textKey:l.ctaTextKey,translationNS:"home",className:"text-lg px-8 py-4",containerClassName:"mt-16",motionVariants:oi})]})})},OI=({cardData:o})=>{const{t:l}=Jt("home"),{quoteKey:p,nameKey:g,originKey:C,rating:D,avatarUrl:w}=o;return L.jsxs(Rt.div,{variants:oi,className:"bg-gradient-to-br from-brand-primary-medium/50 to-brand-primary-dark p-8 rounded-lg shadow-2xl flex flex-col border border-brand-primary-light/10",children:[L.jsx("div",{className:"flex-shrink-0",children:L.jsx(cI,{className:"h-10 w-10 text-brand-cta-green/50"})}),L.jsxs("p",{className:"mt-6 text-left  text-brand-neutral/90 flex-grow text-lg",children:['"',l(p),'"']}),L.jsxs("div",{className:"mt-6 border-t border-brand-primary-light/20 pt-6 flex items-center space-x-4",children:[L.jsx("img",{src:w,alt:l(g),className:"h-14 w-14 rounded-full object-cover border-2 border-brand-cta-green",loading:"lazy"}),L.jsxs("div",{className:"text-left",children:[L.jsx(uI,{rating:D}),L.jsx("h4",{className:"mt-1 font-bold text-brand-white",children:l(g)}),L.jsx("p",{className:" text-sm text-brand-neutral/80",children:l(C)})]})]})]})},qI=()=>{const{t:o}=Jt("home"),{titleKey:l,items:p}=Fs.testimonials;return L.jsx("section",{className:"bg-gradient-to-b from-brand-primary-dark to-[#061a3a] py-20 px-4",children:L.jsxs(Rt.div,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.2},className:"container mx-auto text-center",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl  font-bold text-brand-white uppercase",children:o(l)}),L.jsx(Rt.div,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.2},className:"mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:p.map(g=>L.jsx(OI,{cardData:g},g.id))})]})})},gb=({sectionData:o,translationNS:l})=>{const{t:p}=Jt(l),{backgroundImage:g,titleKey:C,subtitleKey:D,ctaTextKey:w,ctaAction:c,mainLogo:R,mainLogoAltKey:k,complementaryLogo:q,complementaryLogoAltKey:G,textOverlayKey:Z,photoCreditKey:H}=o;return L.jsxs("section",{role:"img","aria-label":`${p(C)} — ${p(D)}`,onContextMenu:ae=>ae.preventDefault(),className:"group relative bg-cover bg-center py-24 px-4 text-brand-white select-none",style:{backgroundImage:`url(${g})`},children:[L.jsx("div",{className:"absolute inset-0 bg-brand-primary-dark/80 pointer-events-none"}),Z&&L.jsx("div",{className:"absolute top-4 left-4 text-white text-lg font-semibold drop-shadow-md opacity-80 uppercase z-20",children:p(Z)}),q&&L.jsx("div",{className:"absolute top-4 right-4 drop-shadow-md opacity-70 z-20",children:L.jsx("img",{src:q,alt:p(G),className:"w-12 h-auto"})}),R&&L.jsx("div",{className:"absolute bottom-4 right-4 drop-shadow-md opacity-70 z-20",children:L.jsx("img",{src:R,alt:p(k),className:"w-24 h-auto"})}),H&&L.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-brand-primary-dark/50 text-brand-white text-xs px-4 py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none select-none z-20",children:p(H)}),L.jsxs(Rt.div,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.3},className:"relative container mx-auto text-center z-10",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl font-extrabold uppercase",children:p(C)}),L.jsx(Rt.p,{variants:oi,className:"mt-4 max-w-2xl mx-auto text-lg text-brand-neutral",children:p(D)}),L.jsx(Rh,{action:c,textKey:w,translationNS:l,className:"mt-8"})]})]})},BI=()=>{const{t:o}=Jt("home");return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(Fs.seo.titleKey),description:o(Fs.seo.descriptionKey),keywords:o(Fs.seo.keywords),imageUrl:Fs.seo.imageUrl,url:Fs.seo.url}),L.jsxs(Rt.div,{variants:Ba,initial:"initial",animate:"animate",children:[L.jsx(RI,{}),L.jsx(kI,{}),L.jsx(KI,{}),Fs.testimonials?.items?.length>0&&L.jsx(qI,{}),L.jsx(gb,{sectionData:Fs.finalCta,translationNS:"home"})]})]})},Aw="/assets/experiences-header-background-B6OR95aa.webp",FI="/assets/experiences-cta-background-BO-RO-cF.webp",ld={seo:{titleKey:"expSeoTitle",descriptionKey:"expSeoDesc",keywords:"expSeoKeywords",imageUrl:Aw,url:"/experiencias"},categories:Dw.map(o=>({...o,link:`#${o.id}`})),upcomingTrips:{titleKey:"expAvailableTitle",subtitleKey:"expAvailableSubtitle",pastTitleKey:"expPastTripsTitle"},noUpcomingTrips:{titleKey:"expNoUpcomingTripsTitle",subtitleKey:"expNoUpcomingTripsSubtitle",ctaTextKey:"expNoUpcomingTripsCtaText",ctaAction:{type:"whatsapp",whatsAppMessageKey:"expNoUpcomingTripsCtaMessage"}},fullCatalog:{courses:{sectionId:"certificacion",titleKey:"expCatalogCoursesTitle"},destinations:{sectionId:"exploracion",titleKey:"expCatalogDestsTitle"}},customTripCta:{backgroundImage:FI,titleKey:"expCtaTitle",subtitleKey:"expCtaSubtitle",ctaTextKey:"expCtaButton",ctaAction:{type:"whatsapp",path:"",whatsAppMessageKey:"expCtaWhatsAppMessage"},mainLogo:qe,mainLogoAltKey:"expCtaMainLogoAlt",photoCreditKey:"expCtaPhotoCredit"}},Rl=({sectionData:o,translationNS:l,heightClass:p="h-80"})=>{const{t:g}=Jt(l),{backgroundImage:C,titleKey:D,subtitleKey:w,mainLogo:c,mainLogoAltKey:R,complementaryLogo:k,complementaryLogoAltKey:q,textOverlayKey:G,photoCreditKey:Z}=o,H=g(D),ae=g(w);return L.jsx(Rt.div,{variants:oi,children:L.jsxs("div",{className:`group relative ${p}`,children:[" ",L.jsxs("div",{role:"img","aria-label":`${H} — ${ae}`,onContextMenu:Ie=>Ie.preventDefault(),className:"relative w-full h-full bg-cover bg-center select-none flex items-center justify-center text-center text-brand-white",style:{backgroundImage:`url(${C})`},children:[L.jsx("div",{className:"absolute inset-0 bg-brand-primary-dark/70 z-0"}),L.jsxs("div",{className:"relative z-10 p-4",children:[L.jsx("h1",{className:"text-4xl md:text-6xl font-extrabold uppercase drop-shadow-xl opacity-90",children:H}),L.jsx("p",{className:"mt-2 max-w-2xl mx-auto  text-lg text-brand-neutral drop-shadow-md opacity-80",children:ae})]}),G&&L.jsx("div",{className:"absolute top-4 left-4 text-white text-lg font-semibold drop-shadow-md opacity-80 uppercase z-20",children:g(G)}),k&&L.jsx("div",{className:"absolute top-4 right-4 drop-shadow-md opacity-70 z-20",children:L.jsx("img",{src:k,alt:g(q),className:"w-12 h-auto"})}),c&&L.jsx("div",{className:"absolute bottom-4 right-4 drop-shadow-md opacity-70 z-20",children:L.jsx("img",{src:c,alt:g(R),className:"w-24 h-auto"})})]}),Z&&L.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-brand-primary-dark/50 text-brand-white text-xs px-4 py-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none select-none z-20",children:g(Z)})]})})},VI=()=>{const{categories:o}=Fs.featuredExperiences;return L.jsx("section",{className:"bg-brand-primary-dark py-20 px-4",children:L.jsx(Rt.div,{variants:Ba,className:"container mx-auto text-center",children:L.jsx(Rt.div,{variants:Ba,className:"mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center",children:o.map(l=>L.jsx(Mw,{cardData:l,translationNS:"home"},l.id))})})})},Fx="/assets/owd-header-background-DNn66RCx.webp",UI="/assets/owd-card-image-eo3Lrwx-.webp",GI="/assets/owd-gallery-01-BABJjlFR.webp",HI="/assets/owd-gallery-02-C5U0AY8U.webp",XI="/assets/owd-gallery-03-CYAbyiIs.webp",ZI="/assets/owd-gallery-04-BzdNHeAm.webp",$I={id:"padi-open-water-diver",status:"published",type:"certification",seo:{titleKey:"owdSeoTitle",descriptionKey:"owdSeoDesc",keywords:"owdSeoKeywords",imageUrl:Fx,url:"/cursos/"},header:{backgroundImage:Fx,titleKey:"owdHeaderTitle",subtitleKey:"owdHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"owdHeaderMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"owdHeaderComplementaryLogoAlt",photoCreditKey:"owdHeaderPhotoCredit"},description:{titleKey:"owdDescTitle",paragraphs:["owdDescP1","owdDescP2"]},card:{backgroundImage:UI,mainLogo:qe,mainLogoAltKey:"owdCardMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"owdCardComplementaryLogoAlt",textOverlayKey:"owdCardTextOverlay",photoCreditKey:"owdCardPhotoCredit",variant:"horizontal"},details:{titleKey:"owdDetailsTitle",durationKey:"owdDetailDurationValue",items:[{labelKey:"owdDetailLabel1",valueKey:"owdDetailValue1"},{labelKey:"owdDetailLabel2",valueKey:"owdDetailValue2"}]},curriculum:{titleKey:"owdCurriculumTitle",modules:[{id:"teoria",nameKey:"owdModule1Name",descriptionKey:"owdModule1Desc"},{id:"asesoria",nameKey:"owdModule2Name",descriptionKey:"owdModule2Desc"},{id:"piscina",nameKey:"owdModule3Name",descriptionKey:"owdModule3Desc"},{id:"mar",nameKey:"owdModule4Name",descriptionKey:"owdModule4Desc"}],notes:["owdCurriculumNote1"]},requirements:{titleKey:"owdReqsTitle",items:["owdReqItem1","owdReqItem2","owdReqItem3","owdReqItem4"]},whatIsIncluded:{titleKey:"owdIncludedTitle",items:["owdIncludeItem1","owdIncludeItem2","owdIncludeItem3","owdIncludeItem4","owdIncludeItem5","owdIncludeItem6","owdIncludeItem7","owdIncludeItem8"]},gallery:{titleKey:"owdGalleryTitle",images:[{backgroundImage:GI,mainLogo:qe,mainLogoAltKey:"owdGaleryImg1MainLogoAlt",photoCreditKey:"owdGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:HI,mainLogo:qe,mainLogoAltKey:"owdGaleryImg2MainLogoAlt",photoCreditKey:"owdGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:XI,mainLogo:qe,mainLogoAltKey:"owdGaleryImg3MainLogoAlt",photoCreditKey:"owdGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:ZI,mainLogo:qe,mainLogoAltKey:"owdGaleryImg4MainLogoAlt",photoCreditKey:"owdGaleryImg4PhotoCredit",variant:"horizontal"}]},cta:{titleKey:"owdCtaTitle",buttonTextKey:"owdCtaButtonText",link:"/contacto"}},Vx="/assets/aowd-header-background-C6e4TnYs.webp",JI="/assets/aowd-card-image-CV9Z7hv5.webp",WI="/assets/aowd-gallery-01-C1BXzIO2.webp",YI="/assets/aowd-gallery-02-tN-PAllK.webp",QI="/assets/aowd-gallery-03-CqetuC3L.webp",e3="/assets/aowd-gallery-04-DBTw1o1d.webp",t3={id:"padi-advanced-open-water-diver",status:"published",type:"certification",seo:{titleKey:"aowdSeoTitle",descriptionKey:"aowdSeoDesc",keywords:"aowdSeoKeywords",imageUrl:Vx,url:"/cursos/"},header:{backgroundImage:Vx,titleKey:"aowdHeaderTitle",subtitleKey:"aowdHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"aowdHeaderMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"aowdHeaderComplementaryLogoAlt",photoCreditKey:"aowdHeaderPhotoCredit"},description:{titleKey:"aowdDescTitle",paragraphs:["aowdDescP1","aowdDescP2"]},card:{backgroundImage:JI,mainLogo:qe,mainLogoAltKey:"aowdCardMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"aowdCardComplementaryLogoAlt",textOverlayKey:"aowdCardTextOverlay",photoCreditKey:"aowdCardPhotoCredit",variant:"horizontal"},details:{titleKey:"aowdDetailsTitle",durationKey:"aowdDetailDurationValue",items:[{labelKey:"aowdDetailLabel1",valueKey:"aowdDetailValue1"},{labelKey:"aowdDetailLabel2",valueKey:"aowdDetailValue2"}]},curriculum:{titleKey:"aowdCurriculumTitle",modules:[{id:"inmersion-profunda",nameKey:"aowdModule1Name",descriptionKey:"aowdModule1Desc"},{id:"navegacion",nameKey:"aowdModule2Name",descriptionKey:"aowdModule2Desc"},{id:"aventuras",nameKey:"aowdModule3Name",descriptionKey:"aowdModule3Desc"}],notes:["aowdCurriculumNote1"]},requirements:{titleKey:"aowdReqsTitle",items:["aowdReqItem1","aowdReqItem2","aowdReqItem3","aowdReqItem4"]},whatIsIncluded:{titleKey:"aowdIncludedTitle",items:["aowdIncludeItem1","aowdIncludeItem2","aowdIncludeItem3","aowdIncludeItem4","aowdIncludeItem5","aowdIncludeItem6","aowdIncludeItem7"]},gallery:{titleKey:"aowdGalleryTitle",images:[{backgroundImage:WI,mainLogo:qe,mainLogoAltKey:"aowdGaleryImg1MainLogoAlt",photoCreditKey:"aowdGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:YI,mainLogo:qe,mainLogoAltKey:"aowdGaleryImg2MainLogoAlt",photoCreditKey:"aowdGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:QI,mainLogo:qe,mainLogoAltKey:"aowdGaleryImg3MainLogoAlt",photoCreditKey:"aowdGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:e3,mainLogo:qe,mainLogoAltKey:"aowdGaleryImg4MainLogoAlt",photoCreditKey:"aowdGaleryImg4PhotoCredit",variant:"horizontal"}]},cta:{titleKey:"aowdCtaTitle",buttonTextKey:"aowdCtaButtonText",link:"/contacto"}},Ux="/assets/rd-header-background-YDN7Zjry.webp",a3="/assets/rd-card-image-CdohgmuC.webp",i3="/assets/rd-gallery-01-BE4r_Oz4.webp",n3="/assets/rd-gallery-02-B8sD9jER.webp",r3="/assets/rd-gallery-03-ncUeAn0V.webp",o3="/assets/rd-gallery-04-CdP1QimR.webp",s3={id:"padi-rescue-diver",status:"published",type:"certification",seo:{titleKey:"rdSeoTitle",descriptionKey:"rdSeoDesc",keywords:"rdSeoKeywords",imageUrl:Ux,url:"/cursos/"},header:{backgroundImage:Ux,titleKey:"rdHeaderTitle",subtitleKey:"rdHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"rdHeaderMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"rdHeaderComplementaryLogoAlt",photoCreditKey:"rdHeaderPhotoCredit"},description:{titleKey:"rdDescTitle",paragraphs:["rdDescP1","rdDescP2"]},card:{backgroundImage:a3,mainLogo:qe,mainLogoAltKey:"rdCardMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"rdCardComplementaryLogoAlt",textOverlayKey:"rdCardTextOverlay",photoCreditKey:"rdCardPhotoCredit",variant:"horizontal"},details:{titleKey:"rdDetailsTitle",durationKey:"rdDetailDurationValue",items:[{labelKey:"rdDetailLabel1",valueKey:"rdDetailValue1"},{labelKey:"rdDetailLabel2",valueKey:"rdDetailValue2"}]},curriculum:{titleKey:"rdCurriculumTitle",modules:[{id:"conocimientos",nameKey:"rdModule1Name",descriptionKey:"rdModule1Desc"},{id:"autorrescate",nameKey:"rdModule2Name",descriptionKey:"rdModule2Desc"},{id:"respuesta",nameKey:"rdModule3Name",descriptionKey:"rdModule3Desc"},{id:"gestion-emergencias",nameKey:"rdModule4Name",descriptionKey:"rdModule4Desc"},{id:"rescate",nameKey:"rdModule5Name",descriptionKey:"rdModule5Desc"}],notes:["rdCurriculumNote1"]},requirements:{titleKey:"rdReqsTitle",items:["rdReqItem1","rdReqItem2","rdReqItem3","rdReqItem4","rdReqItem5"]},whatIsIncluded:{titleKey:"rdIncludedTitle",items:["rdIncludeItem1","rdIncludeItem2","rdIncludeItem3","rdIncludeItem4","rdIncludeItem5","rdIncludeItem6","rdIncludeItem7","rdIncludeItem8"]},gallery:{titleKey:"rdGalleryTitle",images:[{backgroundImage:i3,mainLogo:qe,mainLogoAltKey:"rdGaleryImg1MainLogoAlt",photoCreditKey:"rdGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:n3,mainLogo:qe,mainLogoAltKey:"rdGaleryImg2MainLogoAlt",photoCreditKey:"rdGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:r3,mainLogo:qe,mainLogoAltKey:"rdGaleryImg3MainLogoAlt",photoCreditKey:"rdGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:o3,mainLogo:qe,mainLogoAltKey:"rdGaleryImg4MainLogoAlt",photoCreditKey:"rdGaleryImg4PhotoCredit",variant:"horizontal"}]},cta:{titleKey:"rdCtaTitle",buttonTextKey:"rdCtaButtonText",link:"/contacto"}},yb={"padi-open-water-diver":$I,"padi-advanced-open-water-diver":t3,"padi-rescue-diver":s3},l3=Object.values(yb),c3=l3.filter(o=>o.status==="published"),u3=()=>{const o=new Date;o.setHours(0,0,0,0);const l=Gp.filter(p=>new Date(p.details.endDate)>=o);return c3.map(p=>{const g=l.some(C=>C.offeredCourses?.ids.includes(p.id));return{...p,availability:g?"statusAvailable":"statusUpcoming"}})},d3=o=>{const l=yb[o];if(!l)return null;const p=new Date;p.setHours(0,0,0,0);const g=Gp.filter(C=>C.offeredCourses?.ids.includes(o)&&new Date(C.details.endDate)>=p).sort((C,D)=>new Date(C.details.startDate)-new Date(D.details.startDate));return{courseData:l,availableTrips:g}},qp="/assets/sm-sept-2025-header-background-B1DaYO4G.webp",vb="/assets/santa-marta-gallery-06-Bzg8gS7O.webp",bb="/assets/sm-sept-2025-gallery-02-OGJ_ovtT.webp",xb="/assets/sm-sept-2025-gallery-03-fCoqAHvX.webp",_b="/assets/sm-sept-2025-gallery-04-q8mpe6O4.webp",h3={id:"experiencia-santa-marta-sept-2025",status:"published",destinationId:"santa-marta",type:"trip",nameKey:"expsmsept25Name",seo:{titleKey:"expsmsept25SeoTitle",descriptionKey:"expsmsept25SeoDesc",keywords:"expsmsept25SeoKeywords",imageUrl:qp,url:"/experiencias/"},availability:"available",header:{backgroundImage:qp,titleKey:"expsmsept25HeaderTitle",subtitleKey:"expsmsept25HeaderSubtitle",mainLogo:qe,mainLogoAltKey:"expsmsept25HeaderMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"expsmsept25HeaderComplementaryLogoAlt",photoCreditKey:"expsmsept25HeaderPhotoCredit"},description:{titleKey:"expsmsept25DescTitle",paragraphs:["expsmsept25DescP1","expsmsept25DescP2"]},details:{titleKey:"expsmsept25DetailsTitle",startDate:"2025-09-26",endDate:"2025-09-29",items:[{labelKey:"expsmsept25DetailLabel1",valueKey:"expsmsept25DetailValue1"},{labelKey:"expsmsept25DetailLabel2",valueKey:"expsmsept25DetailValue2"},{labelKey:"expsmsept25DetailLabel3",valueKey:"expsmsept25DetailValue3"},{labelKey:"expsmsept25DetailLabel4",valueKey:"expsmsept25DetailValue4"}]},paymentPlan:{titleKey:"paymentPlanTitle",modules:[{id:"payment1",nameKey:"paymentPlanStep1Name",descriptionKey:"paymentPlanStep1Desc"},{id:"payment2",nameKey:"paymentPlanStep2Name",descriptionKey:"paymentPlanStep2Desc"},{id:"payment3",nameKey:"paymentPlanStep3Name",descriptionKey:"paymentPlanStep3Desc"}],notes:["paymentPlanNote1"]},itinerary:{titleKey:"expsmsept25ItineraryTitle",days:[{day:1,titleKey:"expsmsept25ItineraryDay1Title",descriptionKey:"expsmsept25ItineraryDay1Desc"},{day:2,titleKey:"expsmsept25ItineraryDay2Title",descriptionKey:"expsmsept25ItineraryDay2Desc"},{day:3,titleKey:"expsmsept25ItineraryDay3Title",descriptionKey:"expsmsept25ItineraryDay3Desc"},{day:4,titleKey:"expsmsept25ItineraryDay4Title",descriptionKey:"expsmsept25ItineraryDay4Desc"}],notes:["expsmsept25ItineraryNote1","expsmsept25ItineraryNote2"]},whatIsIncluded:{titleKey:"expsmsept25IncludedTitle",items:["expsmsept25IncludeItem1","expsmsept25IncludeItem2","expsmsept25IncludeItem3","expsmsept25IncludeItem4"]},whatIsNotIncluded:{titleKey:"expsmsept25NotIncludedTitle",items:["expsmsept25NotIncludeItem1","expsmsept25NotIncludeItem2","expsmsept25NotIncludeItem3","expsmsept25NotIncludeItem4"]},offeredCourses:{titleKey:"expsmsept25OfferedCoursesTitle",ids:["padi-open-water-diver"]},gallery:{titleKey:"expsmsept25GalleryTitle",images:[{backgroundImage:vb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg1MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:bb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg2MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:xb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg3MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:_b,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg4MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg4PhotoCredit",variant:"horizontal"}]},cta:{titleKey:"expsmsept25CtaTitle",buttonTextKey:"expsmsept25CtaButtonText",ctaAction:{type:"whatsapp",whatsAppMessageKey:"expsmsept25CtaWhatsAppMessage"}}},p3={id:"experiencia-santa-marta-oct-2025",status:"published",destinationId:"santa-marta",type:"trip",nameKey:"expsmoct25Name",seo:{titleKey:"expsmsept25SeoTitle",descriptionKey:"expsmsept25SeoDesc",keywords:"expsmsept25SeoKeywords",imageUrl:qp,url:"/experiencias/"},availability:"available",header:{backgroundImage:qp,titleKey:"expsmsept25HeaderTitle",subtitleKey:"expsmsept25HeaderSubtitle",mainLogo:qe,mainLogoAltKey:"expsmsept25HeaderMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"expsmsept25HeaderComplementaryLogoAlt",photoCreditKey:"expsmsept25HeaderPhotoCredit"},description:{titleKey:"expsmsept25DescTitle",paragraphs:["expsmsept25DescP1","expsmsept25DescP2"]},details:{titleKey:"expsmsept25DetailsTitle",startDate:"2025-10-24",endDate:"2025-10-27",items:[{labelKey:"expsmsept25DetailLabel1",valueKey:"expsmoct25DetailValue1"},{labelKey:"expsmsept25DetailLabel2",valueKey:"expsmsept25DetailValue2"},{labelKey:"expsmsept25DetailLabel3",valueKey:"expsmsept25DetailValue3"},{labelKey:"expsmsept25DetailLabel4",valueKey:"expsmsept25DetailValue4"}]},paymentPlan:{titleKey:"paymentPlanTitle",modules:[{id:"payment1",nameKey:"paymentPlanStep1Name",descriptionKey:"paymentPlanStep1Desc"},{id:"payment2",nameKey:"paymentPlanStep2Name",descriptionKey:"paymentPlanStep2Desc"},{id:"payment3",nameKey:"paymentPlanStep3Name",descriptionKey:"paymentPlanStep3Desc"}],notes:["paymentPlanNote1"]},itinerary:{titleKey:"expsmsept25ItineraryTitle",days:[{day:1,titleKey:"expsmsept25ItineraryDay1Title",descriptionKey:"expsmsept25ItineraryDay1Desc"},{day:2,titleKey:"expsmsept25ItineraryDay2Title",descriptionKey:"expsmsept25ItineraryDay2Desc"},{day:3,titleKey:"expsmsept25ItineraryDay3Title",descriptionKey:"expsmsept25ItineraryDay3Desc"},{day:4,titleKey:"expsmsept25ItineraryDay4Title",descriptionKey:"expsmsept25ItineraryDay4Desc"}],notes:["expsmsept25ItineraryNote1","expsmsept25ItineraryNote2"]},whatIsIncluded:{titleKey:"expsmsept25IncludedTitle",items:["expsmsept25IncludeItem1","expsmsept25IncludeItem2","expsmsept25IncludeItem3","expsmsept25IncludeItem4"]},whatIsNotIncluded:{titleKey:"expsmsept25NotIncludedTitle",items:["expsmsept25NotIncludeItem1","expsmsept25NotIncludeItem2","expsmsept25NotIncludeItem3","expsmsept25NotIncludeItem4"]},offeredCourses:{titleKey:"expsmsept25OfferedCoursesTitle",ids:["padi-open-water-diver"]},gallery:{titleKey:"expsmsept25GalleryTitle",images:[{backgroundImage:vb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg1MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:bb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg2MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:xb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg3MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:_b,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg4MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg4PhotoCredit",variant:"horizontal"}]},cta:{titleKey:"expsmsept25CtaTitle",buttonTextKey:"expsmsept25CtaButtonText",ctaAction:{type:"whatsapp",whatsAppMessageKey:"expsmsept25CtaWhatsAppMessage"}}},f3={id:"experiencia-santa-marta-nov-2025",status:"published",destinationId:"santa-marta",type:"trip",nameKey:"expsmnov25Name",seo:{titleKey:"expsmsept25SeoTitle",descriptionKey:"expsmsept25SeoDesc",keywords:"expsmsept25SeoKeywords",imageUrl:qp,url:"/experiencias/"},availability:"available",header:{backgroundImage:qp,titleKey:"expsmsept25HeaderTitle",subtitleKey:"expsmsept25HeaderSubtitle",mainLogo:qe,mainLogoAltKey:"expsmsept25HeaderMainLogoAlt",complementaryLogo:Tc,complementaryLogoAltKey:"expsmsept25HeaderComplementaryLogoAlt",photoCreditKey:"expsmsept25HeaderPhotoCredit"},description:{titleKey:"expsmsept25DescTitle",paragraphs:["expsmsept25DescP1","expsmsept25DescP2"]},details:{titleKey:"expsmsept25DetailsTitle",startDate:"2025-11-21",endDate:"2025-11-24",items:[{labelKey:"expsmsept25DetailLabel1",valueKey:"expsmnov25DetailValue1"},{labelKey:"expsmsept25DetailLabel2",valueKey:"expsmsept25DetailValue2"},{labelKey:"expsmsept25DetailLabel3",valueKey:"expsmsept25DetailValue3"},{labelKey:"expsmsept25DetailLabel4",valueKey:"expsmsept25DetailValue4"}]},paymentPlan:{titleKey:"paymentPlanTitle",modules:[{id:"payment1",nameKey:"paymentPlanStep1Name",descriptionKey:"paymentPlanStep1Desc"},{id:"payment2",nameKey:"paymentPlanStep2Name",descriptionKey:"paymentPlanStep2Desc"},{id:"payment3",nameKey:"paymentPlanStep3Name",descriptionKey:"paymentPlanStep3Desc"}],notes:["paymentPlanNote1"]},itinerary:{titleKey:"expsmsept25ItineraryTitle",days:[{day:1,titleKey:"expsmsept25ItineraryDay1Title",descriptionKey:"expsmsept25ItineraryDay1Desc"},{day:2,titleKey:"expsmsept25ItineraryDay2Title",descriptionKey:"expsmsept25ItineraryDay2Desc"},{day:3,titleKey:"expsmsept25ItineraryDay3Title",descriptionKey:"expsmsept25ItineraryDay3Desc"},{day:4,titleKey:"expsmsept25ItineraryDay4Title",descriptionKey:"expsmsept25ItineraryDay4Desc"}],notes:["expsmsept25ItineraryNote1","expsmsept25ItineraryNote2"]},whatIsIncluded:{titleKey:"expsmsept25IncludedTitle",items:["expsmsept25IncludeItem1","expsmsept25IncludeItem2","expsmsept25IncludeItem3","expsmsept25IncludeItem4"]},whatIsNotIncluded:{titleKey:"expsmsept25NotIncludedTitle",items:["expsmsept25NotIncludeItem1","expsmsept25NotIncludeItem2","expsmsept25NotIncludeItem3","expsmsept25NotIncludeItem4"]},offeredCourses:{titleKey:"expsmsept25OfferedCoursesTitle",ids:["padi-open-water-diver"]},gallery:{titleKey:"expsmsept25GalleryTitle",images:[{backgroundImage:vb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg1MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:bb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg2MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:xb,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg3MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:_b,mainLogo:qe,mainLogoAltKey:"expsmsept25GaleryImg4MainLogoAlt",photoCreditKey:"expsmsept25GaleryImg4PhotoCredit",variant:"horizontal"}]},cta:{titleKey:"expsmsept25CtaTitle",buttonTextKey:"expsmsept25CtaButtonText",ctaAction:{type:"whatsapp",whatsAppMessageKey:"expsmsept25CtaWhatsAppMessage"}}},Iw={"experiencia-santa-marta-sept-2025":h3,"experiencia-santa-marta-oct-2025":p3,"experiencia-santa-marta-nov-2025":f3},m3=Object.values(Iw),Gp=m3.filter(o=>o.status==="published"),g3=o=>{const l=Iw[o];if(!l)return null;const p=(l.offeredCourses?.ids||[]).map(g=>yb[g]).filter(Boolean);return{tripData:l,offeredCoursesData:p}},sy=(o,l,p,g)=>{if(!o||!l)return g("common:datesNotAvailable");const C=p==="es"?"es-CO":"en-US",D=new Date(`${o}T00:00:00`),w=new Date(`${l}T00:00:00`);if(p==="es"){const c=D.getDate(),R=w.getDate(),k=D.toLocaleDateString(C,{month:"long"}),q=D.getFullYear();return D.getMonth()===w.getMonth()?`${c} - ${R} de ${k} de ${q}`:`${D.toLocaleDateString(C,{dateStyle:"long"})} - ${w.toLocaleDateString(C,{dateStyle:"long"})}`}if(p==="en"){const c=D.getDate(),R=w.getDate(),k=D.toLocaleDateString(C,{month:"long"}),q=D.getFullYear();return D.getMonth()===w.getMonth()?`${k} ${c} - ${R}, ${q}`:`${D.toLocaleDateString(C,{dateStyle:"long"})} - ${w.toLocaleDateString(C,{dateStyle:"long"})}`}return o},y3=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsxs("g",{fill:"none",fillRule:"evenodd",children:[L.jsx("path",{d:"m12.594 23.258l-.012.002l-.071.035l-.02.004l-.014-.004l-.071-.036q-.016-.004-.024.006l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427q-.004-.016-.016-.018m.264-.113l-.014.002l-.184.093l-.01.01l-.003.011l.018.43l.005.012l.008.008l.201.092q.019.005.029-.008l.004-.014l-.034-.614q-.005-.019-.02-.022m-.715.002a.02.02 0 0 0-.027.006l-.006.014l-.034.614q.001.018.017.024l.015-.002l.201-.093l.01-.008l.003-.011l.018-.43l-.003-.012l-.01-.01z"}),L.jsx("path",{fill:"currentColor",d:"M10.975 3.002a1 1 0 0 1-.754 1.196a8 8 0 0 0-.583.156a1 1 0 0 1-.59-1.911q.36-.112.73-.195a1 1 0 0 1 1.197.754m2.05 0a1 1 0 0 1 1.196-.754c4.454 1.01 7.78 4.992 7.78 9.752c0 5.523-4.478 10-10 10c-4.761 0-8.743-3.325-9.753-7.779a1 1 0 0 1 1.95-.442a8 8 0 1 0 9.58-9.58a1 1 0 0 1-.753-1.197M6.614 4.72a1 1 0 0 1-.053 1.414q-.222.205-.427.426A1 1 0 0 1 4.668 5.2q.255-.276.532-.533a1 1 0 0 1 1.414.053M12 6a1 1 0 0 1 1 1v4.586l2.707 2.707a1 1 0 0 1-1.414 1.414l-3-3A1 1 0 0 1 11 12V7a1 1 0 0 1 1-1M3.693 8.388a1 1 0 0 1 .661 1.25a8 8 0 0 0-.156.583a1 1 0 0 1-1.95-.442q.084-.37.195-.73a1 1 0 0 1 1.25-.661"})]})}),Gx=({status:o,className:l=""})=>{const{t:p}=Jt("common"),C={available:{text:p("statusAvailable","Disponible"),className:"bg-brand-cta-green text-brand-primary-dark",animationType:"pulse-infinite"},last:{text:p("statusLastSeats","Últimos Cupos"),className:"bg-brand-cta-yellow text-brand-primary-dark",animationType:"pulse-infinite"},soldOut:{text:p("statusSoldOut","Agotado"),className:"bg-red-500 text-brand-primary-dark",animationType:"pulse-finite"},completed:{text:p("statusCompleted","Finalizado"),className:"bg-gray-500 text-white",animationType:"none"}}[o];if(!C)return null;let D={initial:{scale:1},animate:{scale:1},transition:{}};C.animationType==="pulse-infinite"?(D.animate={scale:[1,1.1,1],opacity:[1,.9,1]},D.transition={duration:1.5,repeat:1/0,ease:"easeInOut"}):C.animationType==="pulse-finite"&&(D.animate={scale:[1,1.2,1,1.1,1]},D.transition={duration:.8,repeat:2,ease:"easeInOut",delay:.2});const w=o==="soldOut"?"px-4 py-2 text-sm":"px-3 py-1 text-xs";return L.jsx(Rt.span,{...D,className:`inline-block rounded-full font-semibold ${C.className} ${w} ${l}`,children:C.text})},Hx=({tripData:o,status:l,duration:p})=>{const{t:g,i18n:C}=Jt(["common","experiences"]),{id:D,nameKey:w,details:c}=o,R=l==="soldOut"||l==="completed",k=`group bg-brand-neutral/60 p-4 rounded-lg flex flex-col sm:flex-row items-center justify-between shadow-lg transition-all duration-300 w-full ${R?"opacity-70 cursor-not-allowed":"hover:bg-brand-neutral"}`,q=L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex items-center mb-4 sm:mb-0 text-left w-full sm:w-auto text-brand-white",children:[L.jsx(mb,{className:"h-6 w-6 text-brand-primary-dark"}),L.jsxs("div",{className:"ml-4",children:[L.jsx("h3",{className:"text-xl font-semibold text-brand-primary-dark",children:g(w,{ns:"experiences"})}),L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4",children:[L.jsx("p",{className:"text-md text-brand-primary-dark/90",children:sy(c.startDate,c.endDate,C.language,g)}),p&&L.jsxs("div",{className:"flex items-center text-md text-brand-primary-dark/90 mt-1 sm:mt-0",children:[L.jsx(y3,{className:"h-4 w-4 mr-1.5"}),L.jsx("span",{children:g("durationFormat",{ns:"common",days:p.days,nights:p.nights})})]})]}),!R&&L.jsx(Gx,{className:"mt-2",status:l})]})]}),L.jsx("div",{className:"mt-4 sm:mt-0",children:R?L.jsx(Gx,{status:l}):L.jsx("div",{className:"bg-brand-cta-orange text-white font-bold text-sm uppercase py-2 px-5 rounded-md transition-transform duration-300 group-hover:scale-105",children:g("viewDetails",{ns:"common"})})})]});return L.jsx(Rt.li,{variants:oi,children:R?L.jsx("div",{className:k,children:q}):L.jsx(jo,{to:`/experiencias/${D}`,className:k,children:q})})},v3=()=>{const{t:o}=Jt(["experiencesPage","common","contact"]),[l,p]=fe.useState(0),{upcomingTrips:g,pastTrips:C}=fe.useMemo(()=>{const H=new Date;H.setHours(0,0,0,0);const ae=Gp.map(we=>{const Le=new Date(we.details.startDate),Oe=new Date(we.details.endDate);let ot=we.availability;Oe<H&&(ot="completed");const He=Oe.getTime()-Le.getTime(),_t=Math.round(He/(1e3*3600*24))+1,Dt=_t-1;return{...we,finalStatus:ot,duration:{days:_t,nights:Dt}}}),Ie=ae.filter(we=>we.finalStatus!=="completed").sort((we,Le)=>new Date(we.details.startDate)-new Date(Le.details.startDate)),Ve=ae.filter(we=>we.finalStatus==="completed").sort((we,Le)=>new Date(Le.details.startDate)-new Date(we.details.startDate));return{upcomingTrips:Ie,pastTrips:Ve}},[]),D=3,w=Math.ceil(g.length/D),c=()=>p(H=>(H+1)%w),R=()=>p(H=>(H-1+w)%w),k=g.slice(l*D,l*D+D),{titleKey:q,subtitleKey:G,pastTitleKey:Z}=ld.upcomingTrips;return L.jsxs("section",{id:"upcoming-trips-section",className:"relative py-20 px-4 bg-cover bg-center scroll-mt-20",style:{backgroundImage:`url(${Aw})`},children:[L.jsx("div",{className:"absolute inset-0 bg-brand-primary-dark/80"}),L.jsxs("div",{className:"relative container mx-auto text-center z-10",children:[L.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-brand-white uppercase",children:o(q)}),L.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-brand-neutral",children:o(G)}),L.jsx("div",{className:"mt-12 max-w-4xl mx-auto relative",children:g.length>0?L.jsxs(L.Fragment,{children:[L.jsx(Eh,{mode:"wait",children:L.jsx(Rt.ul,{variants:Ba,className:"space-y-4",children:k.map(H=>L.jsx(Hx,{tripData:H,status:H.finalStatus,duration:H.duration},H.id))},l)}),w>1&&L.jsxs("div",{className:"flex items-center justify-center mt-8 space-x-4",children:[L.jsx("button",{onClick:R,className:"p-2 rounded-full bg-brand-primary-dark hover:bg-brand-cta-orange transition-colors text-white cursor-pointer","aria-label":"Previous trips",children:L.jsx(Cw,{})}),L.jsx("div",{className:"flex space-x-2",children:[...Array(w)].map((H,ae)=>L.jsx("button",{onClick:()=>p(ae),className:`w-3 h-3 rounded-full transition-colors ${l===ae?"bg-brand-cta-orange":"bg-brand-primary-light hover:bg-brand-neutral/50"}`,"aria-label":`Go to page ${ae+1}`},ae))}),L.jsx("button",{onClick:c,className:"p-2 rounded-full bg-brand-primary-dark hover:bg-brand-cta-orange transition-colors text-white cursor-pointer","aria-label":"Next trips",children:L.jsx(Sw,{})})]})]}):L.jsxs("div",{className:"mt-16 text-center bg-brand-neutral/60 p-8 rounded-lg",children:[L.jsx("div",{className:"flex justify-center mb-4",children:L.jsx(mb,{className:"h-12 w-12 text-brand-cta-orange"})}),L.jsx("h3",{className:"text-2xl font-bold text-brand-primary-dark",children:o(ld.noUpcomingTrips.titleKey)}),L.jsx("p",{className:"mt-2 text-brand-primary-dark max-w-md mx-auto",children:o(ld.noUpcomingTrips.subtitleKey)}),L.jsx("div",{className:"mt-8",children:L.jsx(Rh,{action:ld.noUpcomingTrips.ctaAction,textKey:ld.noUpcomingTrips.ctaTextKey,translationNS:"experiencesPage"})})]})}),C.length>0&&L.jsxs("div",{className:"mt-20",children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white uppercase",children:o(Z)}),L.jsx("div",{className:"mt-8 max-w-4xl mx-auto relative",children:L.jsx(Rt.ul,{className:"space-y-4",children:C.map(H=>L.jsx(Hx,{tripData:H,status:H.finalStatus,duration:H.duration},H.id))})})]})]})]})},b3={fullscreen:"h-full",header:"h-[600px]",horizontal:"aspect-[4/3]",vertical:"aspect-[3/4]",square:"aspect-square"},kh=({className:o="",imageData:l,translationNS:p})=>{const{t:g}=Jt(p);if(!l)return null;const{backgroundImage:C,mainLogo:D,mainLogoAltKey:w,complementaryLogo:c,complementaryLogoAltKey:R,textOverlayKey:k,photoCreditKey:q,variant:G}=l,H=`group relative w-full bg-cover bg-center select-none ${b3[G]||"h-full"} ${o}`;return L.jsxs("div",{onContextMenu:ae=>ae.preventDefault(),className:H,style:{backgroundImage:`url(${C})`},children:[k&&L.jsx("div",{onContextMenu:ae=>ae.preventDefault(),className:"select-none absolute top-2 left-2 text-brand-neutral text-sm sm:text-base md:text-lg lg:text-2xl font-bold drop-shadow-md opacity-80 uppercase z-20",children:g(k)}),c&&L.jsx("div",{onContextMenu:ae=>ae.preventDefault(),className:"select-none absolute top-2 right-2 drop-shadow-md opacity-70 z-20 w-8 h-auto sm:w-10 md:w-12",children:L.jsx("img",{src:c,alt:g(R),className:"w-full h-auto"})}),D&&L.jsx("div",{onContextMenu:ae=>ae.preventDefault(),className:"select-none absolute bottom-2 right-2 drop-shadow-md opacity-70 z-20 w-16 h-auto sm:w-20 md:w-24",children:L.jsx("img",{src:D,alt:g(w),className:"w-full h-auto"})}),q&&L.jsx("div",{className:"absolute bottom-0 left-0 w-full bg-brand-primary-dark/50 text-brand-white text-xs px-2 py-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none select-none z-20",children:g(q)})]})},x3=({courseData:o})=>{const{t:l}=Jt(["courses","common"]),{id:p,header:g,description:C,card:D,details:w,availability:c}=o,R=k=>k==="statusAvailable"?"bg-brand-cta-green text-brand-primary-dark":"bg-brand-cta-yellow text-brand-primary-dark";return L.jsxs(Rt.div,{variants:oi,className:"bg-brand-primary-medium rounded-lg overflow-hidden shadow-lg flex flex-col hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 w-full max-w-sm",children:[L.jsx(kh,{imageData:D,translationNS:"courses"}),L.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[L.jsx("h3",{className:"text-2xl font-bold text-brand-white",children:l(g.titleKey)}),L.jsxs("p",{className:"mt-2  text-brand-neutral flex-grow text-justify",children:[l(C.paragraphs[0]).substring(0,100),"..."]}),L.jsxs("div",{className:"mt-6 pt-4 border-t border-brand-primary-light/20 flex justify-between items-center",children:[L.jsx("span",{className:`font-bold text-center text-sm px-3 py-1 rounded-full ${R(c)}`,children:l(`common:${c}`)}),w?.durationKey&&L.jsx("span",{className:"text-sm text-center text-brand-neutral bg-brand-primary-light px-3 py-1 rounded-full",children:l(w.durationKey,{ns:"courses"})})]})]}),L.jsx(jo,{to:`/cursos/${p}`,className:"block bg-brand-cta-orange text-center text-brand-white font-bold uppercase p-3 hover:bg-opacity-90 transition-colors mt-auto",children:l("common:viewDetails")})]})},_3=()=>{const{t:o}=Jt("experiencesPage"),l=u3(),{sectionId:p,titleKey:g}=ld.fullCatalog.courses;return L.jsx("section",{id:p,className:"py-20 px-4 scroll-mt-20",children:L.jsxs("div",{className:"container mx-auto",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-brand-white text-center mb-12 uppercase",children:o(g)}),L.jsx(Rt.div,{variants:Ba,className:"flex flex-wrap justify-center gap-8",children:l.map(C=>L.jsx(x3,{courseData:C},C.id))})]})})},Xx="/assets/santa-marta-header-background-CfW4JpOr.webp",w3="/assets/santa-marta-card-B1DZNsaE.webp",C3="/assets/santa-marta-gallery-01-mcgZ0Z3K.webp",S3="/assets/santa-marta-gallery-02-hGIQFjwD.webp",T3="/assets/santa-marta-gallery-03-3tyRjMU0.webp",P3="/assets/santa-marta-gallery-04-b6n6pW6a.webp",D3="/assets/santa-marta-gallery-05-D7_yqbsH.webp",M3="/assets/santa-marta-gallery-06-Bzg8gS7O.webp",A3={id:"santa-marta",status:"published",nameKey:"smName",seo:{titleKey:"smSeoTitle",descriptionKey:"smSeoDesc",keywords:"smSeoKeywords",imageUrl:Xx,url:"/destinos/"},header:{backgroundImage:Xx,titleKey:"smHeaderTitle",subtitleKey:"smHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"smHeaderMainLogoAlt",photoCreditKey:"smHeaderPhotoCredit"},description:{titleKey:"smDescTitle",paragraphs:["smDescP1","smDescP2"]},card:{backgroundImage:w3,mainLogo:qe,mainLogoAltKey:"smCardMainLogoAlt",textOverlayKey:"smCardTextOverlay",photoCreditKey:"smCardPhotoCredit",variant:"horizontal",descriptionKey:"smCardDescription",link:"/destinos/santa-marta"},details:{titleKey:"smDetailsTitle",items:[{labelKey:"smDetailLabel1",valueKey:"smDetailValue1"},{labelKey:"smDetailLabel2",valueKey:"smDetailValue2"},{labelKey:"smDetailLabel3",valueKey:"smDetailValue3"},{labelKey:"smDetailLabel4",valueKey:"smDetailValue4"},{labelKey:"smDetailLabel5",valueKey:"smDetailValue5"}]},diveSites:{titleKey:"smDiveSitesTitle",sites:[{id:"barco-hundido",nameKey:"smDiveSite1Name",descriptionKey:"smDiveSite1Desc"},{id:"natalia",nameKey:"smDiveSite2Name",descriptionKey:"smDiveSite2Desc"},{id:"piedra-medio",nameKey:"smDiveSite3Name",descriptionKey:"smDiveSite3Desc"},{id:"isla-aguja",nameKey:"smDiveSite4Name",descriptionKey:"smDiveSite4Desc"}]},uniqueFinds:{titleKey:"smUniqueFindsTitle",items:["smUniqueFind1","smUniqueFind2","smUniqueFind3","smUniqueFind4"]},gallery:{titleKey:"smGalleryTitle",images:[{backgroundImage:C3,mainLogo:qe,mainLogoAltKey:"smGaleryImg1MainLogoAlt",photoCreditKey:"smGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:S3,mainLogo:qe,mainLogoAltKey:"smGaleryImg2MainLogoAlt",photoCreditKey:"smGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:T3,mainLogo:qe,mainLogoAltKey:"smGaleryImg3MainLogoAlt",photoCreditKey:"smGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:P3,mainLogo:qe,mainLogoAltKey:"smGaleryImg4MainLogoAlt",photoCreditKey:"smGaleryImg4PhotoCredit",variant:"horizontal"},{backgroundImage:D3,mainLogo:qe,mainLogoAltKey:"smGaleryImg5MainLogoAlt",photoCreditKey:"smGaleryImg5PhotoCredit",variant:"horizontal"},{backgroundImage:M3,mainLogo:qe,mainLogoAltKey:"smGaleryImg6MainLogoAlt",photoCreditKey:"smGaleryImg6PhotoCredit",variant:"horizontal"}]}},Zx="/assets/providencia-header-background-BgQzwjXl.webp",I3="/assets/providencia-card-BhOEd_kJ.webp",L3="/assets/providencia-gallery-01-Coo2bERx.webp",E3="/assets/providencia-gallery-02-D03bLCGR.webp",z3="/assets/providencia-gallery-03-RJoIg8-d.webp",R3="/assets/providencia-gallery-04-CfSaK5Jp.webp",k3="/assets/providencia-gallery-05-CtdJu5qz.webp",N3="/assets/providencia-gallery-06-BYATENzk.webp",j3={id:"providencia",status:"published",nameKey:"provName",seo:{titleKey:"provSeoTitle",descriptionKey:"provSeoDesc",keywords:"provSeoKeywords",imageUrl:Zx,url:"/destinos/"},header:{backgroundImage:Zx,titleKey:"provHeaderTitle",subtitleKey:"provHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"provHeaderMainLogoAlt",photoCreditKey:"provHeaderPhotoCredit"},description:{titleKey:"provDescTitle",paragraphs:["provDescP1","provDescP2"]},card:{backgroundImage:I3,mainLogo:qe,mainLogoAltKey:"provCardMainLogoAlt",textOverlayKey:"provCardTextOverlay",photoCreditKey:"provCardPhotoCredit",variant:"horizontal",descriptionKey:"provCardDescription",link:"/destinos/santa-marta"},details:{titleKey:"provDetailsTitle",items:[{labelKey:"provDetailLabel1",valueKey:"provDetailValue1"},{labelKey:"provDetailLabel2",valueKey:"provDetailValue2"},{labelKey:"provDetailLabel3",valueKey:"provDetailValue3"},{labelKey:"provDetailLabel4",valueKey:"provDetailValue4"},{labelKey:"provDetailLabel5",valueKey:"provDetailValue5"}]},diveSites:{titleKey:"provDiveSitesTitle",sites:[{id:"barco-hundido",nameKey:"provDiveSite1Name",descriptionKey:"provDiveSite1Desc"},{id:"natalia",nameKey:"provDiveSite2Name",descriptionKey:"provDiveSite2Desc"},{id:"piedra-medio",nameKey:"provDiveSite3Name",descriptionKey:"provDiveSite3Desc"},{id:"isla-aguja",nameKey:"provDiveSite4Name",descriptionKey:"provDiveSite4Desc"}]},uniqueFinds:{titleKey:"provUniqueFindsTitle",items:["provUniqueFind1","provUniqueFind2","provUniqueFind3","provUniqueFind4"]},gallery:{titleKey:"provGalleryTitle",images:[{backgroundImage:L3,mainLogo:qe,mainLogoAltKey:"provGaleryImg1MainLogoAlt",photoCreditKey:"provGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:E3,mainLogo:qe,mainLogoAltKey:"provGaleryImg2MainLogoAlt",photoCreditKey:"provGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:z3,mainLogo:qe,mainLogoAltKey:"provGaleryImg3MainLogoAlt",photoCreditKey:"provGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:R3,mainLogo:qe,mainLogoAltKey:"provGaleryImg4MainLogoAlt",photoCreditKey:"provGaleryImg4PhotoCredit",variant:"horizontal"},{backgroundImage:k3,mainLogo:qe,mainLogoAltKey:"provGaleryImg5MainLogoAlt",photoCreditKey:"provGaleryImg5PhotoCredit",variant:"horizontal"},{backgroundImage:N3,mainLogo:qe,mainLogoAltKey:"provGaleryImg6MainLogoAlt",photoCreditKey:"provGaleryImg6PhotoCredit",variant:"horizontal"}]}},$x="/assets/isla-fuerte-header-background-DTwLxB9D.webp",K3="/assets/isla-fuerte-card-Cgi2THlZ.webp",O3="/assets/isla-fuerte-gallery-01-CRNejV9z.webp",q3="/assets/isla-fuerte-gallery-02-DUXyvb-D.webp",B3="/assets/isla-fuerte-gallery-03-DxFvY4hV.webp",F3="/assets/isla-fuerte-gallery-04-CjFvxkhx.webp",V3="/assets/isla-fuerte-gallery-05-QH3Pd6up.webp",U3="/assets/isla-fuerte-gallery-06-DEedSOWH.webp",G3={id:"isla-fuerte",status:"published",nameKey:"ifName",seo:{titleKey:"ifSeoTitle",descriptionKey:"ifSeoDesc",keywords:"ifSeoKeywords",imageUrl:$x,url:"/destinos/"},header:{backgroundImage:$x,titleKey:"ifHeaderTitle",subtitleKey:"ifHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"ifHeaderMainLogoAlt",photoCreditKey:"ifHeaderPhotoCredit"},description:{titleKey:"ifDescTitle",paragraphs:["ifDescP1","ifDescP2"]},card:{backgroundImage:K3,mainLogo:qe,mainLogoAltKey:"ifCardMainLogoAlt",textOverlayKey:"ifCardTextOverlay",photoCreditKey:"ifCardPhotoCredit",variant:"horizontal",descriptionKey:"ifCardDescription",link:"/destinos/santa-marta"},details:{titleKey:"ifDetailsTitle",items:[{labelKey:"ifDetailLabel1",valueKey:"ifDetailValue1"},{labelKey:"ifDetailLabel2",valueKey:"ifDetailValue2"},{labelKey:"ifDetailLabel3",valueKey:"ifDetailValue3"},{labelKey:"ifDetailLabel4",valueKey:"ifDetailValue4"},{labelKey:"ifDetailLabel5",valueKey:"ifDetailValue5"}]},diveSites:{titleKey:"ifDiveSitesTitle",sites:[{id:"barco-hundido",nameKey:"ifDiveSite1Name",descriptionKey:"ifDiveSite1Desc"},{id:"natalia",nameKey:"ifDiveSite2Name",descriptionKey:"ifDiveSite2Desc"},{id:"piedra-medio",nameKey:"ifDiveSite3Name",descriptionKey:"ifDiveSite3Desc"},{id:"isla-aguja",nameKey:"ifDiveSite4Name",descriptionKey:"ifDiveSite4Desc"}]},uniqueFinds:{titleKey:"ifUniqueFindsTitle",items:["ifUniqueFind1","ifUniqueFind2","ifUniqueFind3","ifUniqueFind4"]},gallery:{titleKey:"ifGalleryTitle",images:[{backgroundImage:O3,mainLogo:qe,mainLogoAltKey:"ifGaleryImg1MainLogoAlt",photoCreditKey:"ifGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:q3,mainLogo:qe,mainLogoAltKey:"ifGaleryImg2MainLogoAlt",photoCreditKey:"ifGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:B3,mainLogo:qe,mainLogoAltKey:"ifGaleryImg3MainLogoAlt",photoCreditKey:"ifGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:F3,mainLogo:qe,mainLogoAltKey:"ifGaleryImg4MainLogoAlt",photoCreditKey:"ifGaleryImg4PhotoCredit",variant:"horizontal"},{backgroundImage:V3,mainLogo:qe,mainLogoAltKey:"ifGaleryImg5MainLogoAlt",photoCreditKey:"ifGaleryImg5PhotoCredit",variant:"horizontal"},{backgroundImage:U3,mainLogo:qe,mainLogoAltKey:"ifGaleryImg6MainLogoAlt",photoCreditKey:"ifGaleryImg6PhotoCredit",variant:"horizontal"}]}},Jx="/assets/malpelo-header-background-9HhLgexL.webp",H3="/assets/malpelo-card-Cj1pniuu.webp",X3="/assets/malpelo-gallery-01-_vna-_Ti.webp",Z3="/assets/malpelo-gallery-02-BwaiCva7.webp",$3="/assets/malpelo-gallery-03-CaMOPzd8.webp",J3="/assets/malpelo-gallery-04-C-b72VIZ.webp",W3="/assets/malpelo-gallery-05-6wip2k_1.webp",Y3="/assets/malpelo-gallery-06-DtO3vxDq.webp",Q3={id:"malpelo",status:"published",nameKey:"malpName",seo:{titleKey:"malpSeoTitle",descriptionKey:"malpSeoDesc",keywords:"malpSeoKeywords",imageUrl:Jx,url:"/destinos/"},header:{backgroundImage:Jx,titleKey:"malpHeaderTitle",subtitleKey:"malpHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"malpHeaderMainLogoAlt",photoCreditKey:"malpHeaderPhotoCredit"},description:{titleKey:"malpDescTitle",paragraphs:["malpDescP1","malpDescP2"]},card:{backgroundImage:H3,mainLogo:qe,mainLogoAltKey:"malpCardMainLogoAlt",textOverlayKey:"malpCardTextOverlay",photoCreditKey:"malpCardPhotoCredit",variant:"horizontal",descriptionKey:"malpCardDescription",link:"/destinos/santa-marta"},details:{titleKey:"malpDetailsTitle",items:[{labelKey:"malpDetailLabel1",valueKey:"malpDetailValue1"},{labelKey:"malpDetailLabel2",valueKey:"malpDetailValue2"},{labelKey:"malpDetailLabel3",valueKey:"malpDetailValue3"},{labelKey:"malpDetailLabel4",valueKey:"malpDetailValue4"},{labelKey:"malpDetailLabel5",valueKey:"malpDetailValue5"}]},diveSites:{titleKey:"malpDiveSitesTitle",sites:[{id:"barco-hundido",nameKey:"malpDiveSite1Name",descriptionKey:"malpDiveSite1Desc"},{id:"natalia",nameKey:"malpDiveSite2Name",descriptionKey:"malpDiveSite2Desc"},{id:"piedra-medio",nameKey:"malpDiveSite3Name",descriptionKey:"malpDiveSite3Desc"},{id:"isla-aguja",nameKey:"malpDiveSite4Name",descriptionKey:"malpDiveSite4Desc"}]},uniqueFinds:{titleKey:"malpUniqueFindsTitle",items:["malpUniqueFind1","malpUniqueFind2","malpUniqueFind3","malpUniqueFind4"]},gallery:{titleKey:"malpGalleryTitle",images:[{backgroundImage:X3,mainLogo:qe,mainLogoAltKey:"malpGaleryImg1MainLogoAlt",photoCreditKey:"malpGaleryImg1PhotoCredit",variant:"horizontal"},{backgroundImage:Z3,mainLogo:qe,mainLogoAltKey:"malpGaleryImg2MainLogoAlt",photoCreditKey:"malpGaleryImg2PhotoCredit",variant:"horizontal"},{backgroundImage:$3,mainLogo:qe,mainLogoAltKey:"malpGaleryImg3MainLogoAlt",photoCreditKey:"malpGaleryImg3PhotoCredit",variant:"horizontal"},{backgroundImage:J3,mainLogo:qe,mainLogoAltKey:"malpGaleryImg4MainLogoAlt",photoCreditKey:"malpGaleryImg4PhotoCredit",variant:"horizontal"},{backgroundImage:W3,mainLogo:qe,mainLogoAltKey:"malpGaleryImg5MainLogoAlt",photoCreditKey:"malpGaleryImg5PhotoCredit",variant:"horizontal"},{backgroundImage:Y3,mainLogo:qe,mainLogoAltKey:"malpGaleryImg6MainLogoAlt",photoCreditKey:"malpGaleryImg6PhotoCredit",variant:"horizontal"}]}},wb={"santa-marta":A3,providencia:j3,"isla-fuerte":G3,malpelo:Q3},e4=Object.values(wb),t4=e4.filter(o=>o.status==="published"),a4=()=>{const o=new Date;return o.setHours(0,0,0,0),t4.map(l=>{const p=Gp.filter(g=>g.destinationId===l.id&&new Date(g.details.endDate)>=o).sort((g,C)=>new Date(g.details.startDate)-new Date(C.details.startDate));return{...l,upcomingTrips:p}})},i4=({destinationData:o})=>{const{t:l,i18n:p}=Jt(["destinations","common"]),{id:g,nameKey:C,card:D,upcomingTrips:w}=o;return L.jsxs(Rt.div,{variants:oi,className:"bg-brand-primary-medium rounded-lg overflow-hidden shadow-lg flex flex-col hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 w-full max-w-sm",children:[L.jsx(kh,{imageData:o.card,translationNS:"destinations"}),L.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[L.jsx("h3",{className:"text-2xl font-bold text-brand-white",children:l(C)}),L.jsx("p",{className:"mt-2  text-brand-neutral flex-grow text-justify",children:l(D.descriptionKey)}),L.jsxs("div",{className:"mt-4 pt-4 border-t border-brand-primary-light/20",children:[L.jsx("h4",{className:"font-semibold text-brand-white mb-2",children:l("common:upcomingDates")}),w.length>0?L.jsx("ul",{className:"space-y-2",children:w.map(c=>L.jsx("li",{children:L.jsxs(jo,{to:`/experiencias/${c.id}`,className:"block bg-brand-primary-dark p-3 rounded-md hover:bg-brand-primary-light transition-colors text-left",children:[L.jsx("span",{className:" text-brand-neutral",children:sy(c.details.startDate,c.details.endDate,p.language,l)}),L.jsx("span",{className:"text-xs text-brand-cta-orange ml-2",children:"→"})]})},c.id))}):L.jsx("p",{className:" text-sm text-brand-neutral/70",children:l("common:noScheduledDates")})]})]}),L.jsx(jo,{to:`/destinos/${g}`,className:"block bg-brand-cta-orange text-center text-brand-white font-bold uppercase p-3 hover:bg-opacity-90 transition-colors mt-auto",children:l("exploreDestination")})]})},n4=()=>{const{t:o}=Jt("experiencesPage"),l=a4(),{sectionId:p,titleKey:g}=ld.fullCatalog.destinations;return L.jsx("section",{id:p,className:"py-20 px-4 border-t-2 border-brand-primary-light/20 scroll-mt-20",children:L.jsxs("div",{className:"container mx-auto",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-brand-white text-center mb-12 uppercase",children:o(g)}),L.jsx(Rt.div,{variants:Ba,className:"flex flex-wrap justify-center gap-8",children:l.map(C=>L.jsx(i4,{destinationData:C},C.id))})]})})},r4=()=>{const{t:o}=Jt("experiencesPage"),{seo:l,customTripCta:p}=ld;return L.jsxs("div",{children:[L.jsx(Ko,{title:o(l.titleKey),description:o(l.descriptionKey),keywords:o(l.keywords),imageUrl:l.imageUrl,url:l.url}),L.jsxs(Rt.div,{variants:Ba,initial:"initial",animate:"animate",exit:"exit",children:[L.jsx(v3,{}),L.jsx(VI,{}),L.jsx(_3,{}),L.jsx(n4,{}),L.jsx(gb,{sectionData:p,translationNS:"experiencesPage"})]})]})},Wx="/assets/about-us-header-background-D97KpZpO.webp",o4="/assets/about-us-history-image-C6JzHkFY.webp",s4="/assets/team-avatar-camilo-beltran-CjBntOjl.webp",l4="/assets/team-avatar-alejandra-vargas-B-4YlE_i.webp",c4="/assets/team-avatar-pablo-orjuela-DrlmqLjQ.webp",u4={seo:{titleKey:"aboutSeoTitle",descriptionKey:"aboutSeoDesc",keywords:"aboutSeoKeywords",imageUrl:Wx,url:"/nosotros"},header:{backgroundImage:Wx,titleKey:"aboutHeaderTitle",subtitleKey:"aboutHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"aboutHeaderMainLogoAlt",photoCreditKey:"aboutHeaderPhotoCredit"},history:{titleKey:"aboutHistoryTitle",paragraphs:["aboutHistoryP1","aboutHistoryP2","aboutHistoryP3"],image:{backgroundImage:o4,mainLogo:qe,mainLogoAltKey:"aboutHistoryImageMainLogoAlt",photoCreditKey:"aboutHistoryImagePhotoCredit",variant:"vertical"}},team:{titleKey:"aboutTeamTitle",subtitleKey:"aboutTeamSubtitle",members:[{id:"camilo",nameKey:"aboutTeamMember1Name",roleKey:"aboutTeamMember1Role",bioKey:"aboutTeamMember1Bio",imageUrl:s4,funFacts:["aboutTeamMember1Fact1","aboutTeamMember1Fact2","aboutTeamMember1Fact3"]},{id:"alejandra",nameKey:"aboutTeamMember2Name",roleKey:"aboutTeamMember2Role",bioKey:"aboutTeamMember2Bio",imageUrl:l4,funFacts:["aboutTeamMember2Fact1","aboutTeamMember2Fact2","aboutTeamMember2Fact3"]},{id:"pablo",nameKey:"aboutTeamMember3Name",roleKey:"aboutTeamMember3Role",bioKey:"aboutTeamMember3Bio",imageUrl:c4,funFacts:["aboutTeamMember3Fact1","aboutTeamMember3Fact2","aboutTeamMember3Fact3"]}]},commitment:{titleKey:"aboutCommitmentTitle",subtitleKey:"aboutCommitmentSubtitle",points:[{id:"sostenibilidad",icon:"leaf",titleKey:"aboutCommitmentPoint1Title",descriptionKey:"aboutCommitmentPoint1Desc"},{id:"seguridad",icon:"shield",titleKey:"aboutCommitmentPoint2Title",descriptionKey:"aboutCommitmentPoint2Desc"},{id:"comunidad",icon:"heart",titleKey:"aboutCommitmentPoint3Title",descriptionKey:"aboutCommitmentPoint3Desc"}]}},d4=({historyData:o})=>{const{t:l}=Jt("aboutUs");return L.jsx(Rt.section,{variants:Ba,className:"py-20 px-4 bg-brand-primary-dark",children:(()=>{const p=o.image&&o.image.backgroundImage;return L.jsxs(Rt.div,{variants:oi,className:`container mx-auto grid ${p?"md:grid-cols-2":"md:grid-cols-1"} gap-12 items-center`,children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-brand-white mb-6",children:l(o.titleKey)}),L.jsx("div",{className:"space-y-4 text-lg text-brand-neutral/90 text-justify",children:o.paragraphs.map(g=>L.jsx("p",{children:l(g)},g))})]}),p&&L.jsx("div",{children:L.jsx(kh,{className:"rounded-2xl",imageData:o.image,translationNS:"aboutUs"})})]})})()})},h4=({memberData:o})=>{const{t:l}=Jt("aboutUs");return L.jsxs(Rt.div,{variants:oi,className:"bg-brand-primary-dark p-6 rounded-lg shadow-xl text-center flex flex-col h-full",children:[L.jsx("img",{src:o.imageUrl,alt:l(o.nameKey),className:"w-32 h-32 rounded-full mx-auto object-cover border-4 border-brand-cta-green",loading:"lazy"}),L.jsx("h3",{className:"mt-4 text-2xl font-bold text-brand-white",children:l(o.nameKey)}),L.jsx("p",{className:"text-md font-semibold text-brand-cta-orange uppercase tracking-wider",children:l(o.roleKey)}),L.jsx("p",{className:"mt-4  text-brand-neutral/80 flex-grow text-justify",children:l(o.bioKey)}),o.funFacts&&L.jsx("div",{className:"mt-6 border-t border-brand-primary-light/20 pt-4 text-left",children:L.jsx("ul",{className:"space-y-2",children:o.funFacts.map(p=>L.jsxs("li",{className:"flex items-start text-sm",children:[L.jsx(hI,{className:"h-4 w-4 mr-2 flex-shrink-0 text-brand-cta-yellow"}),L.jsx("span",{className:"text-brand-neutral/90 ml-2",children:l(p)})]},p))})})]})},p4=({teamData:o})=>{const{t:l}=Jt("aboutUs");return L.jsx(Rt.section,{onContextMenu:p=>p.preventDefault(),variants:Ba,className:"select-none py-20 px-4 bg-brand-primary-medium",children:L.jsxs("div",{className:"container mx-auto text-center",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl font-bold text-brand-white uppercase",children:l(o.titleKey)}),L.jsx(Rt.p,{variants:oi,className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:l(o.subtitleKey)}),L.jsx(Rt.div,{variants:Ba,className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:o.members.map(p=>L.jsx(h4,{memberData:p},p.id))})]})})},f4=({pointData:o,icon:l})=>{const{t:p}=Jt("aboutUs");return L.jsxs(Rt.div,{variants:oi,className:"flex flex-col items-center",children:[L.jsx("div",{className:"text-brand-cta-green mb-4",children:l}),L.jsx("h3",{className:"text-2xl font-semibold text-brand-white",children:p(o.titleKey)}),L.jsx("p",{className:"mt-2  text-brand-neutral/80",children:p(o.descriptionKey)})]},o.id)},m4=({commitmentData:o})=>{const{t:l}=Jt("aboutUs"),p={leaf:L.jsx(oI,{className:"h-16 w-16"}),shield:L.jsx(sI,{className:"h-16 w-16"}),heart:L.jsx(lI,{className:"h-16 w-16"})};return L.jsx(Rt.section,{variants:Ba,initial:"initial",whileInView:"animate",viewport:{once:!0,amount:.3},className:"py-20 px-4 bg-brand-primary-dark",children:L.jsxs("div",{className:"container mx-auto text-center",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl font-bold text-brand-white uppercase",children:l(o.titleKey)}),L.jsx(Rt.p,{variants:oi,className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:l(o.subtitleKey)}),L.jsx(Rt.div,{variants:Ba,className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-10",children:o.points.map(g=>L.jsx(f4,{pointData:g,icon:p[g.icon]},g.id))})]})})},g4=()=>{const{t:o}=Jt("aboutUs"),{seo:l,header:p,history:g,team:C,commitment:D}=u4;return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(l.titleKey),description:o(l.descriptionKey),keywords:o(l.keywords),imageUrl:l.imageUrl,url:l.url}),L.jsxs(Rt.div,{variants:Ba,initial:"initial",animate:"animate",exit:"exit",children:[L.jsx(Rl,{sectionData:p,translationNS:"aboutUs"}),L.jsx(d4,{historyData:g}),L.jsx(p4,{teamData:C}),L.jsx(m4,{commitmentData:D}),L.jsx(gb,{sectionData:cd.cta,translationNS:"contact"})]})]})},y4="/assets/safety-header-background-BJR2ChMl.webp",v4="/assets/safety-logo-partner-1-DuMThTFy.webp",b4="/assets/safety-logo-partner-2-DnqZCrAA.webp",x4={seo:{titleKey:"safetySeoTitle",descriptionKey:"safetySeoDesc"},header:{backgroundImage:y4,titleKey:"safetyHeaderTitle",subtitleKey:"safetyHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"safetyHeaderMainLogoAlt",photoCreditKey:"safetyHeaderPhotoCredit"},protocols:{titleKey:"safetyProtocolsTitle",subtitleKey:"safetyProtocolsSubtitle",steps:[{id:"step1",nameKey:"safetyStep1Name",descriptionKey:"safetyStep1Desc"},{id:"step2",nameKey:"safetyStep2Name",descriptionKey:"safetyStep2Desc"},{id:"step3",nameKey:"safetyStep3Name",descriptionKey:"safetyStep3Desc"},{id:"step4",nameKey:"safetyStep4Name",descriptionKey:"safetyStep4Desc"}]},equipment:{titleKey:"safetyEquipmentTitle",subtitleKey:"safetyEquipmentSubtitle",items:[{id:"reguladores",nameKey:"safetyEquip1Name",descriptionKey:"safetyEquip1Desc",icon:"regulator"},{id:"bcds",nameKey:"safetyEquip2Name",descriptionKey:"safetyEquip2Desc",icon:"bcd"},{id:"computadores",nameKey:"safetyEquip3Name",descriptionKey:"safetyEquip3Desc",icon:"computer"}]},certifications:{titleKey:"safetyCertsTitle",subtitleKey:"safetyCertsSubtitle",partners:[{id:"buenas-practicas",nameKey:"safetyPartner1Name",descriptionKey:"safetyPartner1Desc",logoUrl:v4},{id:"capacitacion",nameKey:"safetyPartner2Name",descriptionKey:"safetyPartner2Desc",logoUrl:b4}]}},_4=({stepData:o,index:l})=>{const{t:p}=Jt("safety"),{id:g,nameKey:C,descriptionKey:D}=o;return L.jsxs(Rt.div,{variants:oi,className:"flex items-start space-x-6 bg-brand-primary-medium p-6 rounded-lg",children:[L.jsxs("div",{className:"flex-shrink-0 text-3xl  font-bold text-brand-cta-green",children:[l+1,"."]}),L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl  font-semibold text-brand-white",children:p(C)}),L.jsx("p",{className:"mt-1  text-brand-neutral/90",children:p(D)})]})]},g)},w4=({protocolsData:o})=>{const{t:l}=Jt("safety");return L.jsx(Rt.section,{variants:Ba,className:"py-20 px-4 bg-brand-primary-dark",children:L.jsxs("div",{className:"container mx-auto",children:[L.jsxs(Rt.div,{variants:oi,className:"text-center mb-12",children:[L.jsx("h2",{className:"text-4xl md:text-5xl  font-bold text-brand-white uppercase",children:l(o.titleKey)}),L.jsx("p",{className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:l(o.subtitleKey)})]}),L.jsx(Rt.div,{variants:Ba,className:"max-w-4xl mx-auto space-y-8",children:o.steps.map((p,g)=>L.jsx(_4,{stepData:p,index:g},p.id))})]})})},C4=({itemData:o,icon:l})=>{const{t:p}=Jt("safety");return L.jsxs(Rt.div,{variants:oi,className:"bg-brand-primary-dark p-8 rounded-lg shadow-xl text-center",children:[L.jsx("div",{className:"text-brand-cta-green inline-block mb-4",children:l}),L.jsx("h3",{className:"text-2xl  font-bold text-brand-white",children:p(o.nameKey)}),L.jsx("p",{className:"mt-2  text-brand-neutral/80",children:p(o.descriptionKey)})]})},S4=({equipmentData:o})=>{const{t:l}=Jt("safety"),p={regulator:L.jsx(gI,{className:"h-16 w-16"}),bcd:L.jsx(Pw,{className:"h-16 w-16"}),computer:L.jsx(yI,{className:"h-16 w-16"})};return L.jsx(Rt.section,{variants:Ba,className:"py-20 px-4 bg-brand-primary-medium border-t-2 border-brand-primary-light/10",children:L.jsxs("div",{className:"container mx-auto text-center",children:[L.jsx(Rt.h2,{variants:oi,className:"text-4xl md:text-5xl  font-bold text-brand-white uppercase",children:l(o.titleKey)}),L.jsx(Rt.p,{variants:oi,className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:l(o.subtitleKey)}),L.jsx(Rt.div,{variants:Ba,className:"mt-16 grid grid-cols-1 md:grid-cols-3 gap-8",children:o.items.map(g=>L.jsx(C4,{itemData:g,icon:p[g.icon]},g.id))})]})})},T4=({partnerData:o})=>{const{t:l}=Jt("safety"),{nameKey:p,descriptionKey:g,logoUrl:C}=o;return L.jsxs(Rt.div,{variants:oi,className:"bg-brand-primary-medium p-8 rounded-lg shadow-xl flex flex-col text-center w-full max-w-sm",children:[L.jsx("div",{className:"flex-shrink-0 h-24 flex items-center justify-center",children:L.jsx("img",{src:C,alt:l(p),className:"max-h-20",loading:"lazy"})}),L.jsxs("div",{className:"mt-4 flex flex-col flex-grow",children:[L.jsx("h3",{className:"text-2xl  font-bold text-brand-white",children:l(p)}),L.jsx("p",{className:"mt-2  text-brand-neutral/80 flex-grow",children:l(g)})]})]})},P4=({certificationsData:o})=>{const{t:l}=Jt(["safety","common"]),[p,g]=fe.useState(0),C=3,D=Math.ceil(o.partners.length/C),w=()=>g(k=>(k+1)%D),c=()=>g(k=>(k-1+D)%D),R=o.partners.slice(p*C,p*C+C);return!o.partners||o.partners.length===0?null:L.jsx(Rt.section,{variants:Ba,className:"py-20 px-4 bg-brand-primary-dark",children:L.jsxs("div",{className:"container mx-auto",children:[L.jsxs(Rt.div,{variants:oi,className:"text-center mb-12",children:[L.jsx("h2",{className:"text-4xl md:text-5xl  font-bold text-brand-white uppercase",children:l(o.titleKey)}),L.jsx("p",{className:"mt-4 max-w-3xl mx-auto  text-lg text-brand-neutral",children:l(o.subtitleKey)})]}),L.jsx("div",{className:"relative max-w-7xl mx-auto",children:L.jsx(Eh,{mode:"wait",children:L.jsx(Rt.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.4,ease:"easeInOut"},className:"flex flex-wrap justify-center gap-10",children:R.map(k=>L.jsx(T4,{partnerData:k},k.id))},p)})}),D>1&&L.jsxs("div",{className:"flex items-center justify-center mt-8 space-x-4",children:[L.jsx("button",{onClick:c,className:"p-2 rounded-full bg-brand-primary-medium hover:bg-brand-cta-orange transition-colors text-white cursor-pointer","aria-label":l("common:ariaPrevious"),children:L.jsx(Cw,{})}),L.jsx("div",{className:"flex space-x-2",children:[...Array(D)].map((k,q)=>L.jsx("button",{onClick:()=>g(q),className:`w-3 h-3 rounded-full transition-colors ${p===q?"bg-brand-cta-orange":"bg-brand-primary-light hover:bg-brand-neutral/50"}`,"aria-label":`${l("common:ariaGoToPage")} ${q+1}`},q))}),L.jsx("button",{onClick:w,className:"p-2 rounded-full bg-brand-primary-medium hover:bg-brand-cta-orange transition-colors text-white cursor-pointer","aria-label":l("common:ariaNext"),children:L.jsx(Sw,{})})]})]})})},D4=()=>{const{t:o}=Jt("safety"),{seo:l,header:p,protocols:g,equipment:C,certifications:D}=x4;return L.jsxs(Rt.div,{variants:Ba,initial:"initial",animate:"animate",exit:"exit",children:[L.jsx(Ko,{title:o(l.titleKey),description:o(l.descriptionKey),imageUrl:p.imageUrl,url:"/seguridad"}),L.jsx(Rl,{sectionData:p,translationNS:"safety"}),L.jsx(w4,{protocolsData:g}),L.jsx(S4,{equipmentData:C}),L.jsx(P4,{certificationsData:D})]})},M4=({contactInfoData:o})=>{const{t:l}=Jt("contact"),p={instagram:L.jsx(xw,{className:"h-6 w-6 mr-3"}),tiktok:L.jsx(_w,{className:"h-6 w-6 mr-3"}),youtube:L.jsx(ww,{className:"h-6 w-6 mr-3"})};return L.jsxs("div",{className:"text-brand-white",children:[L.jsx("h2",{className:"text-3xl font-bold mb-6",children:l(o.titleKey)}),L.jsxs("div",{className:"space-y-4  text-lg",children:[L.jsxs("a",{href:`mailto:${o.email}`,className:"flex items-center text-brand-neutral/70n hover:text-brand-cta-orange transition-colors",children:[L.jsx(bw,{className:"h-6 w-6 mr-3 text-brand-cta-orange"}),L.jsx("span",{children:o.email})]}),L.jsxs("a",{href:`https://wa.me/${o.phone.replace(/\s/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center hover:text-brand-cta-orange transition-colors",children:[L.jsx(fb,{className:"h-6 w-6 mr-3 text-brand-cta-orange"}),L.jsxs("span",{children:[o.phone," (WhatsApp)"]})]})]}),L.jsxs("div",{className:"mt-10",children:[L.jsx("h3",{className:"text-xl font-semibold mb-4",children:l("contactFollowUs")}),L.jsx("div",{className:"flex items-center space-x-6",children:o.socials.map(g=>L.jsx("a",{href:g.link,target:"_blank",rel:"noopener noreferrer",title:g.name,className:"text-brand-neutral/70 hover:text-brand-cta-orange transition-all duration-300 hover:scale-110 inline-block",children:p[g.icon]},g.name))})]})]})},A4=({whatsAppActionData:o})=>{const{t:l}=Jt("contact");return L.jsxs("div",{className:"bg-brand-primary-medium p-8 rounded-lg text-center",children:[L.jsx("h2",{className:"text-3xl font-bold mb-4 text-brand-white",children:l(o.titleKey)}),L.jsx("p",{className:" text-brand-neutral mb-6",children:l(o.descriptionKey)}),L.jsx(Rh,{action:o.ctaAction,textKey:o.ctaTextKey,translationNS:"contact"})]})},I4=()=>{const{t:o}=Jt("contact"),{seo:l,header:p,contactInfo:g,whatsAppAction:C}=cd,D=o(C.prefilledMessageKey),w=`https://wa.me/${g.phone.replace(/\s/g,"")}?text=${encodeURIComponent(D)}`;return L.jsxs(Rt.div,{variants:Ba,initial:"initial",animate:"animate",exit:"exit",children:[L.jsx(Ko,{title:o(l.titleKey),description:o(l.descriptionKey),keywords:o(l.keywords),imageUrl:l.imageUrl,url:l.url}),L.jsx(Rl,{sectionData:p,translationNS:"contact"}),L.jsx(Rt.section,{variants:oi,className:"py-20 px-4",children:L.jsxs("div",{className:"container mx-auto grid md:grid-cols-2 gap-12 items-start",children:[L.jsx(M4,{contactInfoData:g}),L.jsx(A4,{whatsAppActionData:C,whatsappUrl:w})]})})]})},Cb=({descriptionData:o,translationNS:l})=>{const{t:p}=Jt(l);return o?L.jsxs("section",{children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white mb-4",children:p(o.titleKey)}),L.jsx("div",{className:"space-y-4 text-lg text-brand-neutral/90",children:o.paragraphs.map(g=>L.jsx("p",{className:"text-justify",children:p(g)},g))})]}):null},L4=({curriculumData:o,translationNS:l})=>{const{t:p}=Jt(l);return o?L.jsxs("section",{children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white mb-6",children:p(o.titleKey)}),L.jsx("div",{className:"space-y-6",children:o.modules.map(g=>L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-semibold text-brand-cta-green",children:p(g.nameKey)}),L.jsx("p",{className:"mt-1  text-brand-neutral/90 text-justify",children:p(g.descriptionKey)})]},g.id))}),o.notes&&o.notes.length>0&&L.jsx("div",{className:"mt-6 space-y-2",children:o.notes.map((g,C)=>L.jsxs("div",{className:"flex items-start p-4 bg-brand-primary-light/30 rounded-lg text-brand-neutral/80",children:[L.jsx(oy,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 text-brand-neutral/80"}),L.jsx("p",{className:"ml-2  text-sm text-justify",children:p(g)})]},C))})]}):null},Sb=({galleryData:o,translationNS:l})=>{const{t:p}=Jt(l);return!o||!o.images||o.images.length===0?null:L.jsxs("section",{children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white mb-6",children:p(o.titleKey)}),L.jsx("div",{className:"grid grid-cols-2 gap-4",children:o.images.map((g,C)=>L.jsx(kh,{imageData:g,translationNS:l,className:"rounded-2xl"},C))})]})},Tb=({detailsData:o,dateRange:l,duration:p,translationNS:g})=>{const{t:C}=Jt(g,"common");return o?L.jsxs("div",{className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg",children:[L.jsx("h3",{className:"text-2xl font-bold text-brand-white mb-4",children:C(o.titleKey)}),(l||p)&&L.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center text-brand-cta-green/80 mt-2 mb-4 pt-4 border-t border-brand-primary-light/40",children:[l&&L.jsx("div",{className:"flex text-center text-sm sm:mr-6 mb-2 sm:mb-0",children:L.jsx("span",{children:l})}),p&&L.jsx("div",{className:"flex text-center text-sm",children:L.jsx("span",{children:p})})]}),L.jsx("ul",{className:"space-y-3 pt-4 border-t border-brand-primary-light/40",children:o.items&&o.items.map((D,w)=>L.jsxs("li",{className:"grid grid-cols-3 gap-4 items-center",children:[L.jsxs("span",{className:"col-span-1 text-brand-neutral/80",children:[C(D.labelKey),":"]}),L.jsx("span",{className:"col-span-2 text-brand-white text-right font-semibold",children:C(D.valueKey)})]},D.labelKey||w))})]}):null},jp=({checklistData:o,translationNS:l,type:p})=>{const{t:g}=Jt(l);if(!o||!o.items||o.items.length===0)return null;const C=({type:D})=>{switch(D){case"excluded":return L.jsx(vw,{className:"h-6 w-6 text-red-400"});default:return L.jsx(rI,{className:"h-6 w-6 text-brand-cta-green"})}};return L.jsxs("div",{className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg",children:[L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-4",children:g(o.titleKey)}),L.jsx("ul",{className:"space-y-3 pt-4 border-t border-brand-primary-light/40",children:o.items.map((D,w)=>L.jsxs("li",{className:"flex items-start",children:[L.jsx("div",{className:"flex-shrink-0 w-6 mt-1",children:L.jsx(C,{type:p})}),L.jsx("span",{className:"ml-2  text-brand-neutral/90 text-justify",children:g(D)})]},D||w))})]})},E4=({tripData:o,translationNS:l,lang:p,t:g})=>!o||!o.id||!o.nameKey||!o.details?null:L.jsxs(jo,{to:`/experiencias/${o.id}`,className:"block bg-brand-primary-dark p-4 rounded-lg shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300",children:[L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-4",children:g(o.nameKey,{ns:l})}),L.jsx("p",{className:"mt-1  text-sm text-brand-neutral/80",children:sy(o.details.startDate,o.details.endDate,p,g)}),L.jsxs("span",{className:"mt-4 inline-block text-sm font-semibold text-brand-cta-orange ",children:[g("common:viewTripDetails")," →"]})]},o.id),Pb=({availableTrips:o,titleKey:l,fallbackContent:p,translationNS:g})=>{const{t:C,i18n:D}=Jt([g,"experiences","common"]);return!l||!o?null:L.jsxs("div",{id:"available-trips-section",className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg scroll-mt-24",children:[L.jsx("h3",{className:"text-2xl font-bold text-brand-white mb-4",children:C(l,{ns:g})}),o.length>0?L.jsx("div",{className:"flex flex-wrap gap-6 justify-center pt-4 border-t border-brand-primary-light/40",children:o.map(w=>L.jsx(E4,{tripData:w,translationNS:"experiences",lang:D.language,t:C},w.id))}):p&&L.jsxs("div",{className:"text-center pt-4 border-t border-brand-primary-light/40",children:[L.jsx("p",{className:"text-sm text-brand-neutral/80",children:C(p.messageKey,{...p.messageValues,ns:g})}),L.jsx(Rh,{action:p.buttonAction,textKey:p.buttonTextKey,translationNS:g,containerClassName:"mt-6",className:"text-sm"})]})]})},z4=({courseData:o,availableTrips:l})=>{const{t:p}=Jt("courses");return L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",children:[L.jsx(Rl,{sectionData:o.header,translationNS:"courses"}),L.jsxs("div",{className:"container mx-auto p-4 md:p-8 grid lg:grid-cols-3 gap-8",children:[L.jsxs("main",{className:"lg:col-span-2 space-y-16 lg:sticky top-24 h-fit",children:[L.jsx(Cb,{descriptionData:o.description,translationNS:"courses"}),L.jsx(L4,{curriculumData:o.curriculum,translationNS:"courses"}),L.jsx(Sb,{galleryData:o.gallery,translationNS:"courses"})]}),L.jsxs("aside",{className:"lg:col-span-1 space-y-8 lg:sticky top-24 h-fit",children:[L.jsx(Tb,{detailsData:o.details,translationNS:"courses"}),L.jsx(jp,{checklistData:o.whatIsIncluded,translationNS:"courses",type:"included"}),L.jsx(jp,{checklistData:o.requirements,translationNS:"courses",type:"requirements"}),L.jsx(Pb,{availableTrips:l,titleKey:"availableTripsTitle",translationNS:"courses",fallbackContent:{messageKey:"noUpcomingTripsMessage",messageValues:{courseName:p(o.header.titleKey)},buttonTextKey:"noUpcomingTripsCtaButton",buttonAction:{type:"whatsapp",whatsAppMessageKey:"noUpcomingTripsWhatsAppMessage",whatsAppMessageValues:{courseName:p(o.header.titleKey)}}}})]})]})]})},R4=()=>{const{courseId:o}=Pv(),{t:l}=Jt(["courses","common"]),[p,g]=fe.useState(null),[C,D]=fe.useState([]),[w,c]=fe.useState(!0),[R,k]=fe.useState(!1);return fe.useEffect(()=>{const q=d3(o);q&&q.courseData?(g(q.courseData),D(q.availableTrips)):k(!0),c(!1)},[o]),w?L.jsxs("div",{className:"flex items-center justify-center min-h-screen text-brand-white text-2xl",children:[l("common:loading"),"..."]}):R||!p?L.jsx(Av,{to:"/404",replace:!0}):L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:l(p.seo.titleKey,{ns:"courses"}),description:l(p.seo.descriptionKey,{ns:"courses"}),keywords:l(p.seo.keywords,{ns:"courses"}),imageUrl:p.seo.imageUrl,url:`${p.seo.url}${p.id}`}),L.jsx(Rt.div,{variants:Ba,initial:"hidden",animate:"animate",exit:"hidden",children:L.jsx(z4,{courseData:p,availableTrips:C})})]})},k4={titleKey:"paymentTitle",methods:[{id:"link",nameKey:"paymentMethod1Name",descriptionKey:"paymentMethod1Desc",icon:"link"},{id:"transfer",nameKey:"paymentMethod2Name",descriptionKey:"paymentMethod2Desc",icon:"bank"}]},N4=o=>L.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:[L.jsx("path",{fill:"currentColor",d:"M16.83 4.25H7.17c-.535 0-.98 0-1.345.03c-.38.03-.736.098-1.073.27A2.75 2.75 0 0 0 3.55 5.752c-.09.177-.126.396-.146.526a8 8 0 0 0-.06.58c-.032.43-.053.964-.067 1.51c-.027 1.092-.027 2.27-.027 2.83v.002a.75.75 0 0 0 1.5 0c0-.28 0-.708.003-1.2H19.25v4.8c0 .572 0 .957-.025 1.252c-.023.288-.065.425-.111.515a1.25 1.25 0 0 1-.547.547c-.09.046-.227.088-.515.111c-.295.024-.68.025-1.252.025H12a.75.75 0 0 0 0 1.5h4.83c.535 0 .98 0 1.345-.03c.38-.03.736-.098 1.073-.27a2.75 2.75 0 0 0 1.202-1.201c.172-.338.24-.694.27-1.074c.03-.365.03-.81.03-1.344V8.17c0-.535 0-.98-.03-1.345c-.03-.38-.098-.736-.27-1.073a2.75 2.75 0 0 0-1.2-1.202c-.338-.172-.694-.24-1.074-.27c-.365-.03-.81-.03-1.345-.03M19.25 8H4.789c.012-.384.03-.739.05-1.031q.024-.298.049-.47q.013-.081.018-.104a1.25 1.25 0 0 1 .527-.509c.09-.046.227-.088.514-.111c.296-.024.68-.025 1.253-.025h9.6c.572 0 .957 0 1.252.025c.288.023.425.065.515.111c.236.12.427.311.547.547c.046.09.088.227.111.514c.021.26.024.589.025 1.053"}),L.jsx("path",{fill:"currentColor",d:"m9.314 15.877l-.72.7c.452.853.31 1.925-.429 2.641l-1.148 1.114a2.41 2.41 0 0 1-3.33 0a2.22 2.22 0 0 1 0-3.21l.72-.698a2.22 2.22 0 0 1 .428-2.642l1.148-1.114a2.41 2.41 0 0 1 3.33 0a2.22 2.22 0 0 1 0 3.21m-.651-.61a1.377 1.377 0 0 0 0-1.988a1.465 1.465 0 0 0-2.029 0l-1.149 1.114a1.38 1.38 0 0 0-.368 1.382a2.42 2.42 0 0 1 2.909.11zM7.374 16.5a1.47 1.47 0 0 0-1.748 0a1.47 1.47 0 0 0 1.748 0m-3.037 1.233a1.377 1.377 0 0 0 0 1.988a1.465 1.465 0 0 0 2.029 0l1.149-1.114c.385-.373.508-.906.368-1.382a2.42 2.42 0 0 1-2.909-.11zM14 13a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2z"})]}),j4=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M15 14v-3h3V9l4 3.5l-4 3.5v-2h-3m-1-6.3V9H2V7.7L8 4l6 3.7M7 10h2v5H7v-5m-4 0h2v5H3v-5m10 0v2.5l-2 1.8V10h2m-3.9 6l-.6.5l1.7 1.5H2v-2h7.1m7.9-1v3h-3v2l-4-3.5l4-3.5v2h3Z"})}),K4={link:L.jsx(N4,{className:"h-6 w-6"}),bank:L.jsx(j4,{className:"h-6 w-6"})},O4=({paymentData:o,translationNS:l})=>{const{t:p}=Jt(l);return!o||!o.methods||!o.methods.length===0?null:L.jsxs("div",{className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg",children:[L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-4",children:p(o.titleKey)}),L.jsx("ul",{className:"space-y-4 pt-4 border-t border-brand-primary-light/40",children:o.methods.map(g=>L.jsxs("li",{className:"flex items-start",children:[L.jsx("div",{className:"flex-shrink-0 w-6 mt-1 text-brand-cta-green",children:K4[g.icon]}),L.jsxs("div",{className:"ml-3",children:[L.jsx("h4",{className:"font-semibold text-brand-white",children:p(g.nameKey)}),L.jsx("p",{className:" text-sm text-brand-neutral/80 text-justify",children:p(g.descriptionKey)})]})]},g.id))})]})},q4=({ctaData:o,translationNS:l})=>{const{t:p}=Jt(l);return!o||!o.titleKey||!o.buttonTextKey||!o.ctaAction?null:L.jsxs("div",{className:"bg-brand-primary-light p-6 rounded-lg shadow-lg text-center",children:[L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-6",children:p(o.titleKey)}),L.jsx(Rh,{action:o.ctaAction,textKey:o.buttonTextKey,translationNS:l,className:"text-sm"})]})},B4=({courseData:o,t:l})=>{if(!o||!o.id||!o.header||!o.header.titleKey)return null;const p=o.header.titleKey;return L.jsxs(jo,{to:`/cursos/${o.id}`,className:"flex flex-col h-full w-full max-w-xs bg-brand-primary-dark p-4 rounded-lg shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300",children:[L.jsx("div",{className:"flex-grow",children:L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-4",children:l(p,{ns:"courses"})})}),L.jsxs("span",{className:"mt-4 inline-block text-sm font-semibold text-brand-cta-orange",children:[l("common:viewDetails")," →"]})]},o.id)},F4=({availableCourses:o,titleKey:l,noCoursesMessageKey:p,translationNS:g})=>{const{t:C,i18n:D}=Jt([g,"courses","common"]);return!l||!o?null:L.jsxs("div",{id:"available-courses-section",className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg scroll-mt-24",children:[L.jsx("h3",{className:"text-2xl font-bold text-brand-white mb-4",children:C(l,{ns:g})}),o.length>0?L.jsx("div",{className:"flex flex-wrap gap-6 justify-center pt-4 border-t border-brand-primary-light/40",children:o.map(w=>L.jsx(B4,{courseData:w,lang:D.language,t:C},w.id))}):p&&L.jsx("div",{children:L.jsx("p",{className:"text-sm text-brand-neutral/80 pt-4 border-t border-brand-primary-light/40",children:C(p,{ns:g})})})]})},V4=({itineraryData:o,translationNS:l})=>{const{t:p}=Jt([l,"common"]);return o?L.jsxs("section",{children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white mb-6",children:p(o.titleKey)}),L.jsx("div",{className:"border-l-2 border-brand-cta-green/50 pl-6 space-y-8",children:o.days.map(g=>L.jsxs("div",{children:[L.jsxs("h3",{className:"text-xl font-semibold text-brand-cta-green",children:[p("common:day")," ",g.day,": ",p(g.titleKey)]}),L.jsx("p",{className:"mt-1 text-brand-neutral/90 text-justify",children:p(g.descriptionKey)})]},g.day))}),o.notes&&o.notes.length>0&&L.jsx("div",{className:"mt-6 space-y-2",children:o.notes.map((g,C)=>L.jsxs("div",{className:"flex items-start p-4 bg-brand-primary-light/30 rounded-lg text-brand-neutral/80",children:[L.jsx(oy,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 text-brand-neutral/80"}),L.jsx("p",{className:"ml-2 text-sm text-justify",children:p(g,{ns:l})})]},C))})]}):null};var jg={exports:{}};/**
 * MapLibre GL JS
 * @license 3-Clause BSD. Full text of license: https://github.com/maplibre/maplibre-gl-js/blob/v5.6.1/LICENSE.txt
 */var U4=jg.exports,Yx;function G4(){return Yx||(Yx=1,function(o,l){(function(p,g){o.exports=g()})(U4,function(){var p={},g={};function C(w,c,R){if(g[w]=R,w==="index"){var k="var sharedModule = {}; ("+g.shared+")(sharedModule); ("+g.worker+")(sharedModule);",q={};return g.shared(q),g.index(p,q),typeof window<"u"&&p.setWorkerUrl(window.URL.createObjectURL(new Blob([k],{type:"text/javascript"}))),p}}C("shared",["exports"],function(w){function c(r,t,n,u){return new(n||(n=Promise))(function(m,x){function _(z){try{A(u.next(z))}catch(j){x(j)}}function T(z){try{A(u.throw(z))}catch(j){x(j)}}function A(z){var j;z.done?m(z.value):(j=z.value,j instanceof n?j:new n(function(O){O(j)})).then(_,T)}A((u=u.apply(r,t||[])).next())})}function R(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var k,q;function G(){if(q)return k;function r(t,n){this.x=t,this.y=n}return q=1,k=r,r.prototype={clone:function(){return new r(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,n){return this.clone()._rotateAround(t,n)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var n=t.x-this.x,u=t.y-this.y;return n*n+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,n){return Math.atan2(this.x*n-this.y*t,this.x*t+this.y*n)},_matMult:function(t){var n=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var n=Math.cos(t),u=Math.sin(t),m=u*this.x+n*this.y;return this.x=n*this.x-u*this.y,this.y=m,this},_rotateAround:function(t,n){var u=Math.cos(t),m=Math.sin(t),x=n.y+m*(this.x-n.x)+u*(this.y-n.y);return this.x=n.x+u*(this.x-n.x)-m*(this.y-n.y),this.y=x,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(t){return t instanceof r?t:Array.isArray(t)?new r(t[0],t[1]):t},k}typeof SuppressedError=="function"&&SuppressedError;var Z,H,ae=R(G()),Ie=function(){if(H)return Z;function r(t,n,u,m){this.cx=3*t,this.bx=3*(u-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(m-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=u,this.p2y=m}return H=1,Z=r,r.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,n){if(n===void 0&&(n=1e-6),t<0)return 0;if(t>1)return 1;for(var u=t,m=0;m<8;m++){var x=this.sampleCurveX(u)-t;if(Math.abs(x)<n)return u;var _=this.sampleCurveDerivativeX(u);if(Math.abs(_)<1e-6)break;u-=x/_}var T=0,A=1;for(u=t,m=0;m<20&&(x=this.sampleCurveX(u),!(Math.abs(x-t)<n));m++)t>x?T=u:A=u,u=.5*(A-T)+T;return u},solve:function(t,n){return this.sampleCurveY(this.solveCurveX(t,n))}},Z}(),Ve=R(Ie);let we,Le;function Oe(){return we==null&&(we=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),we}function ot(){if(Le==null&&(Le=!1,Oe())){const t=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(t){for(let u=0;u<5*5;u++){const m=4*u;t.fillStyle=`rgb(${m},${m+1},${m+2})`,t.fillRect(u%5,Math.floor(u/5),1,1)}const n=t.getImageData(0,0,5,5).data;for(let u=0;u<5*5*4;u++)if(u%4!=3&&n[u]!==u){Le=!0;break}}}return Le||!1}var He=1e-6,Se=typeof Float32Array<"u"?Float32Array:Array;function _t(){var r=new Se(9);return Se!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function Dt(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function zt(){var r=new Se(3);return Se!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Ht(r){return Math.hypot(r[0],r[1],r[2])}function ga(r,t,n){var u=new Se(3);return u[0]=r,u[1]=t,u[2]=n,u}function sa(r,t,n){return r[0]=t[0]+n[0],r[1]=t[1]+n[1],r[2]=t[2]+n[2],r}function $t(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r}function ea(r,t,n){var u=t[0],m=t[1],x=t[2],_=n[0],T=n[1],A=n[2];return r[0]=m*A-x*T,r[1]=x*_-u*A,r[2]=u*T-m*_,r}Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)});var ca,Ke=Ht;function $e(r,t,n){var u=t[0],m=t[1],x=t[2],_=t[3];return r[0]=n[0]*u+n[4]*m+n[8]*x+n[12]*_,r[1]=n[1]*u+n[5]*m+n[9]*x+n[13]*_,r[2]=n[2]*u+n[6]*m+n[10]*x+n[14]*_,r[3]=n[3]*u+n[7]*m+n[11]*x+n[15]*_,r}function xt(){var r=new Se(4);return Se!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function kt(r,t,n,u){var m=.5*Math.PI/180;t*=m,n*=m,u*=m;var x=Math.sin(t),_=Math.cos(t),T=Math.sin(n),A=Math.cos(n),z=Math.sin(u),j=Math.cos(u);return r[0]=x*A*j-_*T*z,r[1]=_*T*j+x*A*z,r[2]=_*A*z-x*T*j,r[3]=_*A*j+x*T*z,r}function _e(){var r=new Se(2);return Se!=Float32Array&&(r[0]=0,r[1]=0),r}function rt(r,t){var n=new Se(2);return n[0]=r,n[1]=t,n}zt(),ca=new Se(4),Se!=Float32Array&&(ca[0]=0,ca[1]=0,ca[2]=0,ca[3]=0),zt(),ga(1,0,0),ga(0,1,0),xt(),xt(),_t(),_e();const ht=8192;function Mt(r,t,n){return t*(ht/(r.tileSize*Math.pow(2,n-r.tileID.overscaledZ)))}function Ft(r,t){return(r%t+t)%t}function ba(r,t,n){return r*(1-n)+t*n}function aa(r){if(r<=0)return 0;if(r>=1)return 1;const t=r*r,n=t*r;return 4*(r<.5?n:3*(r-t)+n-.75)}function Qi(r,t,n,u){const m=new Ve(r,t,n,u);return x=>m.solve(x)}const Ja=Qi(.25,.1,.25,1);function Qa(r,t,n){return Math.min(n,Math.max(t,r))}function Ai(r,t,n){const u=n-t,m=((r-t)%u+u)%u+t;return m===t?n:m}function Ii(r,...t){for(const n of t)for(const u in n)r[u]=n[u];return r}let mo=1;function si(r,t,n){const u={};for(const m in r)u[m]=t.call(this,r[m],m,r);return u}function en(r,t,n){const u={};for(const m in r)t.call(this,r[m],m,r)&&(u[m]=r[m]);return u}function Qn(r){return Array.isArray(r)?r.map(Qn):typeof r=="object"&&r?si(r,Qn):r}const cs={};function Wa(r){cs[r]||(typeof console<"u"&&console.warn(r),cs[r]=!0)}function Un(r,t,n){return(n.y-r.y)*(t.x-r.x)>(t.y-r.y)*(n.x-r.x)}function Tn(r){return typeof WorkerGlobalScope<"u"&&r!==void 0&&r instanceof WorkerGlobalScope}let go=null;function hr(r){return typeof ImageBitmap<"u"&&r instanceof ImageBitmap}const pr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function er(r,t,n,u,m){return c(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const x=new VideoFrame(r,{timestamp:0});try{const _=x?.format;if(!_||!_.startsWith("BGR")&&!_.startsWith("RGB"))throw new Error(`Unrecognized format ${_}`);const T=_.startsWith("BGR"),A=new Uint8ClampedArray(u*m*4);if(yield x.copyTo(A,function(z,j,O,V,$){const W=4*Math.max(-j,0),Q=(Math.max(0,O)-O)*V*4+W,re=4*V,ue=Math.max(0,j),Ae=Math.max(0,O);return{rect:{x:ue,y:Ae,width:Math.min(z.width,j+V)-ue,height:Math.min(z.height,O+$)-Ae},layout:[{offset:Q,stride:re}]}}(r,t,n,u,m)),T)for(let z=0;z<A.length;z+=4){const j=A[z];A[z]=A[z+2],A[z+2]=j}return A}finally{x.close()}})}let Mr,Hr;function ji(r,t,n,u){return r.addEventListener(t,n,u),{unsubscribe:()=>{r.removeEventListener(t,n,u)}}}function za(r){return r*Math.PI/180}function tn(r){return r/Math.PI*180}const Bi={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},kl={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},vn="AbortError";function je(){return new Error(vn)}const ee={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function te(r){return ee.REGISTERED_PROTOCOLS[r.substring(0,r.indexOf("://"))]}const oe="global-dispatcher";class ge extends Error{constructor(t,n,u,m){super(`AJAXError: ${n} (${t}): ${u}`),this.status=t,this.statusText=n,this.url=u,this.body=m}}const Me=()=>Tn(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,ke=function(r,t){if(/:\/\//.test(r.url)&&!/^https?:|^file:/.test(r.url)){const u=te(r.url);if(u)return u(r,t);if(Tn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:r,targetMapId:oe},t)}if(!(/^file:/.test(n=r.url)||/^file:/.test(Me())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(u,m){return c(this,void 0,void 0,function*(){const x=new Request(u.url,{method:u.method||"GET",body:u.body,credentials:u.credentials,headers:u.headers,cache:u.cache,referrer:Me(),signal:m.signal});let _,T;u.type!=="json"||x.headers.has("Accept")||x.headers.set("Accept","application/json");try{_=yield fetch(x)}catch(z){throw new ge(0,z.message,u.url,new Blob)}if(!_.ok){const z=yield _.blob();throw new ge(_.status,_.statusText,u.url,z)}T=u.type==="arrayBuffer"||u.type==="image"?_.arrayBuffer():u.type==="json"?_.json():_.text();const A=yield T;if(m.signal.aborted)throw je();return{data:A,cacheControl:_.headers.get("Cache-Control"),expires:_.headers.get("Expires")}})}(r,t);if(Tn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:r,mustQueue:!0,targetMapId:oe},t)}var n;return function(u,m){return new Promise((x,_)=>{var T;const A=new XMLHttpRequest;A.open(u.method||"GET",u.url,!0),u.type!=="arrayBuffer"&&u.type!=="image"||(A.responseType="arraybuffer");for(const z in u.headers)A.setRequestHeader(z,u.headers[z]);u.type==="json"&&(A.responseType="text",!((T=u.headers)===null||T===void 0)&&T.Accept||A.setRequestHeader("Accept","application/json")),A.withCredentials=u.credentials==="include",A.onerror=()=>{_(new Error(A.statusText))},A.onload=()=>{if(!m.signal.aborted)if((A.status>=200&&A.status<300||A.status===0)&&A.response!==null){let z=A.response;if(u.type==="json")try{z=JSON.parse(A.response)}catch(j){return void _(j)}x({data:z,cacheControl:A.getResponseHeader("Cache-Control"),expires:A.getResponseHeader("Expires")})}else{const z=new Blob([A.response],{type:A.getResponseHeader("Content-Type")});_(new ge(A.status,A.statusText,u.url,z))}},m.signal.addEventListener("abort",()=>{A.abort(),_(je())}),A.send(u.body)})}(r,t)};function Xe(r){if(!r||r.indexOf("://")<=0||r.indexOf("data:image/")===0||r.indexOf("blob:")===0)return!0;const t=new URL(r),n=window.location;return t.protocol===n.protocol&&t.host===n.host}function ze(r,t,n){n[r]&&n[r].indexOf(t)!==-1||(n[r]=n[r]||[],n[r].push(t))}function st(r,t,n){if(n&&n[r]){const u=n[r].indexOf(t);u!==-1&&n[r].splice(u,1)}}class tt{constructor(t,n={}){Ii(this,n),this.type=t}}class Be extends tt{constructor(t,n={}){super("error",Ii({error:t},n))}}class ut{on(t,n){return this._listeners=this._listeners||{},ze(t,n,this._listeners),{unsubscribe:()=>{this.off(t,n)}}}off(t,n){return st(t,n,this._listeners),st(t,n,this._oneTimeListeners),this}once(t,n){return n?(this._oneTimeListeners=this._oneTimeListeners||{},ze(t,n,this._oneTimeListeners),this):new Promise(u=>this.once(t,u))}fire(t,n){typeof t=="string"&&(t=new tt(t,n||{}));const u=t.type;if(this.listens(u)){t.target=this;const m=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];for(const T of m)T.call(this,t);const x=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];for(const T of x)st(u,T,this._oneTimeListeners),T.call(this,t);const _=this._eventedParent;_&&(Ii(t,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),_.fire(t))}else t instanceof Be&&console.error(t.error);return this}listens(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)}setEventedParent(t,n){return this._eventedParent=t,this._eventedParentData=n,this}}var Te={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const Et=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function ta(r,t){const n={};for(const u in r)u!=="ref"&&(n[u]=r[u]);return Et.forEach(u=>{u in t&&(n[u]=t[u])}),n}function de(r,t){if(Array.isArray(r)){if(!Array.isArray(t)||r.length!==t.length)return!1;for(let n=0;n<r.length;n++)if(!de(r[n],t[n]))return!1;return!0}if(typeof r=="object"&&r!==null&&t!==null){if(typeof t!="object"||Object.keys(r).length!==Object.keys(t).length)return!1;for(const n in r)if(!de(r[n],t[n]))return!1;return!0}return r===t}function Pe(r,t){r.push(t)}function Ne(r,t,n){Pe(n,{command:"addSource",args:[r,t[r]]})}function dt(r,t,n){Pe(t,{command:"removeSource",args:[r]}),n[r]=!0}function yt(r,t,n,u){dt(r,n,u),Ne(r,t,n)}function It(r,t,n){let u;for(u in r[n])if(Object.prototype.hasOwnProperty.call(r[n],u)&&u!=="data"&&!de(r[n][u],t[n][u]))return!1;for(u in t[n])if(Object.prototype.hasOwnProperty.call(t[n],u)&&u!=="data"&&!de(r[n][u],t[n][u]))return!1;return!0}function Tt(r,t,n,u,m,x){r=r||{},t=t||{};for(const _ in r)Object.prototype.hasOwnProperty.call(r,_)&&(de(r[_],t[_])||n.push({command:x,args:[u,_,t[_],m]}));for(const _ in t)Object.prototype.hasOwnProperty.call(t,_)&&!Object.prototype.hasOwnProperty.call(r,_)&&(de(r[_],t[_])||n.push({command:x,args:[u,_,t[_],m]}))}function Pt(r){return r.id}function Vt(r,t){return r[t.id]=t,r}class et{constructor(t,n,u,m){this.message=(t?`${t}: `:"")+u,m&&(this.identifier=m),n!=null&&n.__line__&&(this.line=n.__line__)}}function Zt(r,...t){for(const n of t)for(const u in n)r[u]=n[u];return r}class Ut extends Error{constructor(t,n){super(n),this.message=n,this.key=t}}class la{constructor(t,n=[]){this.parent=t,this.bindings={};for(const[u,m]of n)this.bindings[u]=m}concat(t){return new la(this,t)}get(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(`${t} not found in scope.`)}has(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)}}const Aa={kind:"null"},vt={kind:"number"},Xt={kind:"string"},Bt={kind:"boolean"},pa={kind:"color"},Xr={kind:"projectionDefinition"},Ci={kind:"object"},ra={kind:"value"},Ki={kind:"collator"},tr={kind:"formatted"},ei={kind:"padding"},Oo={kind:"colorArray"},kn={kind:"numberArray"},Pn={kind:"resolvedImage"},_a={kind:"variableAnchorOffsetCollection"};function ti(r,t){return{kind:"array",itemType:r,N:t}}function ja(r){if(r.kind==="array"){const t=ja(r.itemType);return typeof r.N=="number"?`array<${t}, ${r.N}>`:r.itemType.kind==="value"?"array":`array<${t}>`}return r.kind}const Ar=[Aa,vt,Xt,Bt,pa,Xr,tr,Ci,ti(ra),ei,kn,Oo,Pn,_a];function Zr(r,t){if(t.kind==="error")return null;if(r.kind==="array"){if(t.kind==="array"&&(t.N===0&&t.itemType.kind==="value"||!Zr(r.itemType,t.itemType))&&(typeof r.N!="number"||r.N===t.N))return null}else{if(r.kind===t.kind)return null;if(r.kind==="value"){for(const n of Ar)if(!Zr(n,t))return null}}return`Expected ${ja(r)} but found ${ja(t)} instead.`}function li(r,t){return t.some(n=>n.kind===r.kind)}function ar(r,t){return t.some(n=>n==="null"?r===null:n==="array"?Array.isArray(r):n==="object"?r&&!Array.isArray(r)&&typeof r=="object":n===typeof r)}function Ir(r,t){return r.kind==="array"&&t.kind==="array"?r.itemType.kind===t.itemType.kind&&typeof r.N=="number":r.kind===t.kind}const Gn=.96422,md=.82521,Nh=4/29,qo=6/29,gd=3*qo*qo,Pc=qo*qo*qo,Dc=Math.PI/180,Lr=180/Math.PI;function fu(r){return(r%=360)<0&&(r+=360),r}function Hs([r,t,n,u]){let m,x;const _=us((.2225045*(r=Mc(r))+.7168786*(t=Mc(t))+.0606169*(n=Mc(n)))/1);r===t&&t===n?m=x=_:(m=us((.4360747*r+.3850649*t+.1430804*n)/Gn),x=us((.0139322*r+.0971045*t+.7141733*n)/md));const T=116*_-16;return[T<0?0:T,500*(m-_),200*(_-x),u]}function Mc(r){return r<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function us(r){return r>Pc?Math.pow(r,1/3):r/gd+Nh}function yd([r,t,n,u]){let m=(r+16)/116,x=isNaN(t)?m:m+t/500,_=isNaN(n)?m:m-n/200;return m=1*Bo(m),x=Gn*Bo(x),_=md*Bo(_),[Ac(3.1338561*x-1.6168667*m-.4906146*_),Ac(-.9787684*x+1.9161415*m+.033454*_),Ac(.0719453*x-.2289914*m+1.4052427*_),u]}function Ac(r){return(r=r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055)<0?0:r>1?1:r}function Bo(r){return r>qo?r*r*r:gd*(r-Nh)}const yo=Object.hasOwn||function(r,t){return Object.prototype.hasOwnProperty.call(r,t)};function Pa(r,t){return yo(r,t)?r[t]:void 0}function vo(r){return parseInt(r.padEnd(2,r),16)/255}function $r(r,t){return Xs(t?r/100:r,0,1)}function Xs(r,t,n){return Math.min(Math.max(t,r),n)}function vd(r){return!r.some(Number.isNaN)}const Nl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function ir(r,t,n){return r+n*(t-r)}function Jr(r,t,n){return r.map((u,m)=>ir(u,t[m],n))}class ya{constructor(t,n,u,m=1,x=!0){this.r=t,this.g=n,this.b=u,this.a=m,x||(this.r*=m,this.g*=m,this.b*=m,m||this.overwriteGetter("rgb",[t,n,u,m]))}static parse(t){if(t instanceof ya)return t;if(typeof t!="string")return;const n=function(u){if((u=u.toLowerCase().trim())==="transparent")return[0,0,0,0];const m=Pa(Nl,u);if(m){const[_,T,A]=m;return[_/255,T/255,A/255,1]}if(u.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(u)){const _=u.length<6?1:2;let T=1;return[vo(u.slice(T,T+=_)),vo(u.slice(T,T+=_)),vo(u.slice(T,T+=_)),vo(u.slice(T,T+_)||"ff")]}if(u.startsWith("rgb")){const _=u.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(_){const[T,A,z,j,O,V,$,W,Q,re,ue,Ae]=_,ve=[j||" ",$||" ",re].join("");if(ve==="  "||ve==="  /"||ve===",,"||ve===",,,"){const X=[z,V,Q].join(""),ne=X==="%%%"?100:X===""?255:0;if(ne){const be=[Xs(+A/ne,0,1),Xs(+O/ne,0,1),Xs(+W/ne,0,1),ue?$r(+ue,Ae):1];if(vd(be))return be}}return}}const x=u.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[_,T,A,z,j,O,V,$,W]=x,Q=[A||" ",j||" ",V].join("");if(Q==="  "||Q==="  /"||Q===",,"||Q===",,,"){const re=[+T,Xs(+z,0,100),Xs(+O,0,100),$?$r(+$,W):1];if(vd(re))return function([ue,Ae,ve,X]){function ne(be){const Ze=(be+ue/30)%12,pt=Ae*Math.min(ve,1-ve);return ve-pt*Math.max(-1,Math.min(Ze-3,9-Ze,1))}return ue=fu(ue),Ae/=100,ve/=100,[ne(0),ne(8),ne(4),X]}(re)}}}(t);return n?new ya(...n,!1):void 0}get rgb(){const{r:t,g:n,b:u,a:m}=this,x=m||1/0;return this.overwriteGetter("rgb",[t/x,n/x,u/x,m])}get hcl(){return this.overwriteGetter("hcl",function(t){const[n,u,m,x]=Hs(t),_=Math.sqrt(u*u+m*m);return[Math.round(1e4*_)?fu(Math.atan2(m,u)*Lr):NaN,_,n,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Hs(this.rgb))}overwriteGetter(t,n){return Object.defineProperty(this,t,{value:n}),n}toString(){const[t,n,u,m]=this.rgb;return`rgba(${[t,n,u].map(x=>Math.round(255*x)).join(",")},${m})`}static interpolate(t,n,u,m="rgb"){switch(m){case"rgb":{const[x,_,T,A]=Jr(t.rgb,n.rgb,u);return new ya(x,_,T,A,!1)}case"hcl":{const[x,_,T,A]=t.hcl,[z,j,O,V]=n.hcl;let $,W;if(isNaN(x)||isNaN(z))isNaN(x)?isNaN(z)?$=NaN:($=z,T!==1&&T!==0||(W=j)):($=x,O!==1&&O!==0||(W=_));else{let ve=z-x;z>x&&ve>180?ve-=360:z<x&&x-z>180&&(ve+=360),$=x+u*ve}const[Q,re,ue,Ae]=function([ve,X,ne,be]){return ve=isNaN(ve)?0:ve*Dc,yd([ne,Math.cos(ve)*X,Math.sin(ve)*X,be])}([$,W??ir(_,j,u),ir(T,O,u),ir(A,V,u)]);return new ya(Q,re,ue,Ae,!1)}case"lab":{const[x,_,T,A]=yd(Jr(t.lab,n.lab,u));return new ya(x,_,T,A,!1)}}}}ya.black=new ya(0,0,0,1),ya.white=new ya(1,1,1,1),ya.transparent=new ya(0,0,0,0),ya.red=new ya(1,0,0,1);class bo{constructor(t,n,u){this.sensitivity=t?n?"variant":"case":n?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(t,n){return this.collator.compare(t,n)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const Ic=["bottom","center","top"];class Lc{constructor(t,n,u,m,x,_){this.text=t,this.image=n,this.scale=u,this.fontStack=m,this.textColor=x,this.verticalAlign=_}}class Dn{constructor(t){this.sections=t}static fromString(t){return new Dn([new Lc(t,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(t=>t.text.length!==0||t.image&&t.image.name.length!==0)}static factory(t){return t instanceof Dn?t:Dn.fromString(t)}toString(){return this.sections.length===0?"":this.sections.map(t=>t.text).join("")}}class Si{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Si)return t;if(typeof t=="number")return new Si([t,t,t,t]);if(Array.isArray(t)&&!(t.length<1||t.length>4)){for(const n of t)if(typeof n!="number")return;switch(t.length){case 1:t=[t[0],t[0],t[0],t[0]];break;case 2:t=[t[0],t[1],t[0],t[1]];break;case 3:t=[t[0],t[1],t[2],t[1]]}return new Si(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,n,u){return new Si(Jr(t.values,n.values,u))}}class Ti{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ti)return t;if(typeof t=="number")return new Ti([t]);if(Array.isArray(t)){for(const n of t)if(typeof n!="number")return;return new Ti(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,n,u){return new Ti(Jr(t.values,n.values,u))}}class an{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof an)return t;if(typeof t=="string"){const u=ya.parse(t);return u?new an([u]):void 0}if(!Array.isArray(t))return;const n=[];for(const u of t){if(typeof u!="string")return;const m=ya.parse(u);if(!m)return;n.push(m)}return new an(n)}toString(){return JSON.stringify(this.values)}static interpolate(t,n,u,m="rgb"){const x=[];if(t.values.length!=n.values.length)throw new Error(`colorArray: Arrays have mismatched length (${t.values.length} vs. ${n.values.length}), cannot interpolate.`);for(let _=0;_<t.values.length;_++)x.push(ya.interpolate(t.values[_],n.values[_],u,m));return new an(x)}}class ai extends Error{constructor(t){super(t),this.name="RuntimeError"}toJSON(){return this.message}}const Wr=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ma{constructor(t){this.values=t.slice()}static parse(t){if(t instanceof Ma)return t;if(Array.isArray(t)&&!(t.length<1)&&t.length%2==0){for(let n=0;n<t.length;n+=2){const u=t[n],m=t[n+1];if(typeof u!="string"||!Wr.has(u)||!Array.isArray(m)||m.length!==2||typeof m[0]!="number"||typeof m[1]!="number")return}return new Ma(t)}}toString(){return JSON.stringify(this.values)}static interpolate(t,n,u){const m=t.values,x=n.values;if(m.length!==x.length)throw new ai(`Cannot interpolate values of different length. from: ${t.toString()}, to: ${n.toString()}`);const _=[];for(let T=0;T<m.length;T+=2){if(m[T]!==x[T])throw new ai(`Cannot interpolate values containing mismatched anchors. from[${T}]: ${m[T]}, to[${T}]: ${x[T]}`);_.push(m[T]);const[A,z]=m[T+1],[j,O]=x[T+1];_.push([ir(A,j,u),ir(z,O,u)])}return new Ma(_)}}class Mn{constructor(t){this.name=t.name,this.available=t.available}toString(){return this.name}static fromString(t){return t?new Mn({name:t,available:!1}):null}}class da{constructor(t,n,u){this.from=t,this.to=n,this.transition=u}static interpolate(t,n,u){return new da(t,n,u)}static parse(t){return t instanceof da?t:Array.isArray(t)&&t.length===3&&typeof t[0]=="string"&&typeof t[1]=="string"&&typeof t[2]=="number"?new da(t[0],t[1],t[2]):typeof t=="object"&&typeof t.from=="string"&&typeof t.to=="string"&&typeof t.transition=="number"?new da(t.from,t.to,t.transition):typeof t=="string"?new da(t,t,1):void 0}}function fa(r,t,n,u){return typeof r=="number"&&r>=0&&r<=255&&typeof t=="number"&&t>=0&&t<=255&&typeof n=="number"&&n>=0&&n<=255?u===void 0||typeof u=="number"&&u>=0&&u<=1?null:`Invalid rgba value [${[r,t,n,u].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof u=="number"?[r,t,n,u]:[r,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function xo(r){if(r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||r instanceof da||r instanceof ya||r instanceof bo||r instanceof Dn||r instanceof Si||r instanceof Ti||r instanceof an||r instanceof Ma||r instanceof Mn)return!0;if(Array.isArray(r)){for(const t of r)if(!xo(t))return!1;return!0}if(typeof r=="object"){for(const t in r)if(!xo(r[t]))return!1;return!0}return!1}function ia(r){if(r===null)return Aa;if(typeof r=="string")return Xt;if(typeof r=="boolean")return Bt;if(typeof r=="number")return vt;if(r instanceof ya)return pa;if(r instanceof da)return Xr;if(r instanceof bo)return Ki;if(r instanceof Dn)return tr;if(r instanceof Si)return ei;if(r instanceof Ti)return kn;if(r instanceof an)return Oo;if(r instanceof Ma)return _a;if(r instanceof Mn)return Pn;if(Array.isArray(r)){const t=r.length;let n;for(const u of r){const m=ia(u);if(n){if(n===m)continue;n=ra;break}n=m}return ti(n||ra,t)}return Ci}function nn(r){const t=typeof r;return r===null?"":t==="string"||t==="number"||t==="boolean"?String(r):r instanceof ya||r instanceof da||r instanceof Dn||r instanceof Si||r instanceof Ti||r instanceof an||r instanceof Ma||r instanceof Mn?r.toString():JSON.stringify(r)}class Fi{constructor(t,n){this.type=t,this.value=n}static parse(t,n){if(t.length!==2)return n.error(`'literal' expression requires exactly one argument, but found ${t.length-1} instead.`);if(!xo(t[1]))return n.error("invalid value");const u=t[1];let m=ia(u);const x=n.expectedType;return m.kind!=="array"||m.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(m=x),new Fi(m,u)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const Fo={string:Xt,number:vt,boolean:Bt,object:Ci};class bn{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let u,m=1;const x=t[0];if(x==="array"){let T,A;if(t.length>2){const z=t[1];if(typeof z!="string"||!(z in Fo)||z==="object")return n.error('The item type argument of "array" must be one of string, number, boolean',1);T=Fo[z],m++}else T=ra;if(t.length>3){if(t[2]!==null&&(typeof t[2]!="number"||t[2]<0||t[2]!==Math.floor(t[2])))return n.error('The length argument to "array" must be a positive integer literal',2);A=t[2],m++}u=ti(T,A)}else{if(!Fo[x])throw new Error(`Types doesn't contain name = ${x}`);u=Fo[x]}const _=[];for(;m<t.length;m++){const T=n.parse(t[m],m,ra);if(!T)return null;_.push(T)}return new bn(u,_)}evaluate(t){for(let n=0;n<this.args.length;n++){const u=this.args[n].evaluate(t);if(!Zr(this.type,ia(u)))return u;if(n===this.args.length-1)throw new ai(`Expected value to be of type ${ja(this.type)}, but found ${ja(ia(u))} instead.`)}throw new Error}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const bd={"to-boolean":Bt,"to-color":pa,"to-number":vt,"to-string":Xt};class Er{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const u=t[0];if(!bd[u])throw new Error(`Can't parse ${u} as it is not part of the known types`);if((u==="to-boolean"||u==="to-string")&&t.length!==2)return n.error("Expected one argument.");const m=bd[u],x=[];for(let _=1;_<t.length;_++){const T=n.parse(t[_],_,ra);if(!T)return null;x.push(T)}return new Er(m,x)}evaluate(t){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(t);case"color":{let n,u;for(const m of this.args){if(n=m.evaluate(t),u=null,n instanceof ya)return n;if(typeof n=="string"){const x=t.parseColor(n);if(x)return x}else if(Array.isArray(n)&&(u=n.length<3||n.length>4?`Invalid rgba value ${JSON.stringify(n)}: expected an array containing either three or four numeric values.`:fa(n[0],n[1],n[2],n[3]),!u))return new ya(n[0]/255,n[1]/255,n[2]/255,n[3])}throw new ai(u||`Could not parse color from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"padding":{let n;for(const u of this.args){n=u.evaluate(t);const m=Si.parse(n);if(m)return m}throw new ai(`Could not parse padding from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"numberArray":{let n;for(const u of this.args){n=u.evaluate(t);const m=Ti.parse(n);if(m)return m}throw new ai(`Could not parse numberArray from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"colorArray":{let n;for(const u of this.args){n=u.evaluate(t);const m=an.parse(n);if(m)return m}throw new ai(`Could not parse colorArray from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"variableAnchorOffsetCollection":{let n;for(const u of this.args){n=u.evaluate(t);const m=Ma.parse(n);if(m)return m}throw new ai(`Could not parse variableAnchorOffsetCollection from value '${typeof n=="string"?n:JSON.stringify(n)}'`)}case"number":{let n=null;for(const u of this.args){if(n=u.evaluate(t),n===null)return 0;const m=Number(n);if(!isNaN(m))return m}throw new ai(`Could not convert ${JSON.stringify(n)} to number.`)}case"formatted":return Dn.fromString(nn(this.args[0].evaluate(t)));case"resolvedImage":return Mn.fromString(nn(this.args[0].evaluate(t)));case"projectionDefinition":return this.args[0].evaluate(t);default:return nn(this.args[0].evaluate(t))}}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}const mu=["Unknown","Point","LineString","Polygon"];class jl{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?mu[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(t){let n=this._parseColorCache.get(t);return n||(n=ya.parse(t),this._parseColorCache.set(t,n)),n}}class ds{constructor(t,n,u=[],m,x=new la,_=[]){this.registry=t,this.path=u,this.key=u.map(T=>`[${T}]`).join(""),this.scope=x,this.errors=_,this.expectedType=m,this._isConstant=n}parse(t,n,u,m,x={}){return n?this.concat(n,u,m)._parse(t,x):this._parse(t,x)}_parse(t,n){function u(m,x,_){return _==="assert"?new bn(x,[m]):_==="coerce"?new Er(x,[m]):m}if(t!==null&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"||(t=["literal",t]),Array.isArray(t)){if(t.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const m=t[0];if(typeof m!="string")return this.error(`Expression name must be a string, but found ${typeof m} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[m];if(x){let _=x.parse(t,this);if(!_)return null;if(this.expectedType){const T=this.expectedType,A=_.type;if(T.kind!=="string"&&T.kind!=="number"&&T.kind!=="boolean"&&T.kind!=="object"&&T.kind!=="array"||A.kind!=="value"){if(T.kind==="projectionDefinition"&&["string","array"].includes(A.kind)||["color","formatted","resolvedImage"].includes(T.kind)&&["value","string"].includes(A.kind)||["padding","numberArray"].includes(T.kind)&&["value","number","array"].includes(A.kind)||T.kind==="colorArray"&&["value","string","array"].includes(A.kind)||T.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(A.kind))_=u(_,T,n.typeAnnotation||"coerce");else if(this.checkSubtype(T,A))return null}else _=u(_,T,n.typeAnnotation||"assert")}if(!(_ instanceof Fi)&&_.type.kind!=="resolvedImage"&&this._isConstant(_)){const T=new jl;try{_=new Fi(_.type,_.evaluate(T))}catch(A){return this.error(A.message),null}}return _}return this.error(`Unknown expression "${m}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(t===void 0?"'undefined' value invalid. Use null instead.":typeof t=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof t} instead.`)}concat(t,n,u){const m=typeof t=="number"?this.path.concat(t):this.path,x=u?this.scope.concat(u):this.scope;return new ds(this.registry,this._isConstant,m,n||null,x,this.errors)}error(t,...n){const u=`${this.key}${n.map(m=>`[${m}]`).join("")}`;this.errors.push(new Ut(u,t))}checkSubtype(t,n){const u=Zr(t,n);return u&&this.error(u),u}}class Kl{constructor(t,n){this.type=n.type,this.bindings=[].concat(t),this.result=n}evaluate(t){return this.result.evaluate(t)}eachChild(t){for(const n of this.bindings)t(n[1]);t(this.result)}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found ${t.length-1} instead.`);const u=[];for(let x=1;x<t.length-1;x+=2){const _=t[x];if(typeof _!="string")return n.error(`Expected string, but found ${typeof _} instead.`,x);if(/[^a-zA-Z0-9_]/.test(_))return n.error("Variable names must contain only alphanumeric characters or '_'.",x);const T=n.parse(t[x+1],x+1);if(!T)return null;u.push([_,T])}const m=n.parse(t[t.length-1],t.length-1,n.expectedType,u);return m?new Kl(u,m):null}outputDefined(){return this.result.outputDefined()}}class Yr{constructor(t,n){this.type=n.type,this.name=t,this.boundExpression=n}static parse(t,n){if(t.length!==2||typeof t[1]!="string")return n.error("'var' expression requires exactly one string literal argument.");const u=t[1];return n.scope.has(u)?new Yr(u,n.scope.get(u)):n.error(`Unknown variable "${u}". Make sure "${u}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(t){return this.boundExpression.evaluate(t)}eachChild(){}outputDefined(){return!1}}class xn{constructor(t,n,u){this.type=t,this.index=n,this.input=u}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const u=n.parse(t[1],1,vt),m=n.parse(t[2],2,ti(n.expectedType||ra));return u&&m?new xn(m.type.itemType,u,m):null}evaluate(t){const n=this.index.evaluate(t),u=this.input.evaluate(t);if(n<0)throw new ai(`Array index out of bounds: ${n} < 0.`);if(n>=u.length)throw new ai(`Array index out of bounds: ${n} > ${u.length-1}.`);if(n!==Math.floor(n))throw new ai(`Array index must be an integer, but found ${n} instead.`);return u[n]}eachChild(t){t(this.index),t(this.input)}outputDefined(){return!1}}class Ol{constructor(t,n){this.type=Bt,this.needle=t,this.haystack=n}static parse(t,n){if(t.length!==3)return n.error(`Expected 2 arguments, but found ${t.length-1} instead.`);const u=n.parse(t[1],1,ra),m=n.parse(t[2],2,ra);return u&&m?li(u.type,[Bt,Xt,vt,Aa,ra])?new Ol(u,m):n.error(`Expected first argument to be of type boolean, string, number or null, but found ${ja(u.type)} instead`):null}evaluate(t){const n=this.needle.evaluate(t),u=this.haystack.evaluate(t);if(!u)return!1;if(!ar(n,["boolean","string","number","null"]))throw new ai(`Expected first argument to be of type boolean, string, number or null, but found ${ja(ia(n))} instead.`);if(!ar(u,["string","array"]))throw new ai(`Expected second argument to be of type array or string, but found ${ja(ia(u))} instead.`);return u.indexOf(n)>=0}eachChild(t){t(this.needle),t(this.haystack)}outputDefined(){return!0}}class Zs{constructor(t,n,u){this.type=vt,this.needle=t,this.haystack=n,this.fromIndex=u}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const u=n.parse(t[1],1,ra),m=n.parse(t[2],2,ra);if(!u||!m)return null;if(!li(u.type,[Bt,Xt,vt,Aa,ra]))return n.error(`Expected first argument to be of type boolean, string, number or null, but found ${ja(u.type)} instead`);if(t.length===4){const x=n.parse(t[3],3,vt);return x?new Zs(u,m,x):null}return new Zs(u,m)}evaluate(t){const n=this.needle.evaluate(t),u=this.haystack.evaluate(t);if(!ar(n,["boolean","string","number","null"]))throw new ai(`Expected first argument to be of type boolean, string, number or null, but found ${ja(ia(n))} instead.`);let m;if(this.fromIndex&&(m=this.fromIndex.evaluate(t)),ar(u,["string"])){const x=u.indexOf(n,m);return x===-1?-1:[...u.slice(0,x)].length}if(ar(u,["array"]))return u.indexOf(n,m);throw new ai(`Expected second argument to be of type array or string, but found ${ja(ia(u))} instead.`)}eachChild(t){t(this.needle),t(this.haystack),this.fromIndex&&t(this.fromIndex)}outputDefined(){return!1}}class ql{constructor(t,n,u,m,x,_){this.inputType=t,this.type=n,this.input=u,this.cases=m,this.outputs=x,this.otherwise=_}static parse(t,n){if(t.length<5)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if(t.length%2!=1)return n.error("Expected an even number of arguments.");let u,m;n.expectedType&&n.expectedType.kind!=="value"&&(m=n.expectedType);const x={},_=[];for(let z=2;z<t.length-1;z+=2){let j=t[z];const O=t[z+1];Array.isArray(j)||(j=[j]);const V=n.concat(z);if(j.length===0)return V.error("Expected at least one branch label.");for(const W of j){if(typeof W!="number"&&typeof W!="string")return V.error("Branch labels must be numbers or strings.");if(typeof W=="number"&&Math.abs(W)>Number.MAX_SAFE_INTEGER)return V.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof W=="number"&&Math.floor(W)!==W)return V.error("Numeric branch labels must be integer values.");if(u){if(V.checkSubtype(u,ia(W)))return null}else u=ia(W);if(x[String(W)]!==void 0)return V.error("Branch labels must be unique.");x[String(W)]=_.length}const $=n.parse(O,z,m);if(!$)return null;m=m||$.type,_.push($)}const T=n.parse(t[1],1,ra);if(!T)return null;const A=n.parse(t[t.length-1],t.length-1,m);return A?T.type.kind!=="value"&&n.concat(1).checkSubtype(u,T.type)?null:new ql(u,m,T,x,_,A):null}evaluate(t){const n=this.input.evaluate(t);return(ia(n)===this.inputType&&this.outputs[this.cases[n]]||this.otherwise).evaluate(t)}eachChild(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)}outputDefined(){return this.outputs.every(t=>t.outputDefined())&&this.otherwise.outputDefined()}}class rn{constructor(t,n,u){this.type=t,this.branches=n,this.otherwise=u}static parse(t,n){if(t.length<4)return n.error(`Expected at least 3 arguments, but found only ${t.length-1}.`);if(t.length%2!=0)return n.error("Expected an odd number of arguments.");let u;n.expectedType&&n.expectedType.kind!=="value"&&(u=n.expectedType);const m=[];for(let _=1;_<t.length-1;_+=2){const T=n.parse(t[_],_,Bt);if(!T)return null;const A=n.parse(t[_+1],_+1,u);if(!A)return null;m.push([T,A]),u=u||A.type}const x=n.parse(t[t.length-1],t.length-1,u);if(!x)return null;if(!u)throw new Error("Can't infer output type");return new rn(u,m,x)}evaluate(t){for(const[n,u]of this.branches)if(n.evaluate(t))return u.evaluate(t);return this.otherwise.evaluate(t)}eachChild(t){for(const[n,u]of this.branches)t(n),t(u);t(this.otherwise)}outputDefined(){return this.branches.every(([t,n])=>n.outputDefined())&&this.otherwise.outputDefined()}}class Ec{constructor(t,n,u,m){this.type=t,this.input=n,this.beginIndex=u,this.endIndex=m}static parse(t,n){if(t.length<=2||t.length>=5)return n.error(`Expected 3 or 4 arguments, but found ${t.length-1} instead.`);const u=n.parse(t[1],1,ra),m=n.parse(t[2],2,vt);if(!u||!m)return null;if(!li(u.type,[ti(ra),Xt,ra]))return n.error(`Expected first argument to be of type array or string, but found ${ja(u.type)} instead`);if(t.length===4){const x=n.parse(t[3],3,vt);return x?new Ec(u.type,u,m,x):null}return new Ec(u.type,u,m)}evaluate(t){const n=this.input.evaluate(t),u=this.beginIndex.evaluate(t);let m;if(this.endIndex&&(m=this.endIndex.evaluate(t)),ar(n,["string"]))return[...n].slice(u,m).join("");if(ar(n,["array"]))return n.slice(u,m);throw new ai(`Expected first argument to be of type array or string, but found ${ja(ia(n))} instead.`)}eachChild(t){t(this.input),t(this.beginIndex),this.endIndex&&t(this.endIndex)}outputDefined(){return!1}}function Bl(r,t){const n=r.length-1;let u,m,x=0,_=n,T=0;for(;x<=_;)if(T=Math.floor((x+_)/2),u=r[T],m=r[T+1],u<=t){if(T===n||t<m)return T;x=T+1}else{if(!(u>t))throw new ai("Input is not a number.");_=T-1}return 0}class Fl{constructor(t,n,u){this.type=t,this.input=n,this.labels=[],this.outputs=[];for(const[m,x]of u)this.labels.push(m),this.outputs.push(x)}static parse(t,n){if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");const u=n.parse(t[1],1,vt);if(!u)return null;const m=[];let x=null;n.expectedType&&n.expectedType.kind!=="value"&&(x=n.expectedType);for(let _=1;_<t.length;_+=2){const T=_===1?-1/0:t[_],A=t[_+1],z=_,j=_+1;if(typeof T!="number")return n.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',z);if(m.length&&m[m.length-1][0]>=T)return n.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',z);const O=n.parse(A,j,x);if(!O)return null;x=x||O.type,m.push([T,O])}return new Fl(x,u,m)}evaluate(t){const n=this.labels,u=this.outputs;if(n.length===1)return u[0].evaluate(t);const m=this.input.evaluate(t);if(m<=n[0])return u[0].evaluate(t);const x=n.length;return m>=n[x-1]?u[x-1].evaluate(t):u[Bl(n,m)].evaluate(t)}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function jh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hs,zc,xd=function(){if(zc)return hs;function r(t,n,u,m){this.cx=3*t,this.bx=3*(u-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*n,this.by=3*(m-n)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=u,this.p2y=m}return zc=1,hs=r,r.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,n){if(n===void 0&&(n=1e-6),t<0)return 0;if(t>1)return 1;for(var u=t,m=0;m<8;m++){var x=this.sampleCurveX(u)-t;if(Math.abs(x)<n)return u;var _=this.sampleCurveDerivativeX(u);if(Math.abs(_)<1e-6)break;u-=x/_}var T=0,A=1;for(u=t,m=0;m<20&&(x=this.sampleCurveX(u),!(Math.abs(x-t)<n));m++)t>x?T=u:A=u,u=.5*(A-T)+T;return u},solve:function(t,n){return this.sampleCurveY(this.solveCurveX(t,n))}},hs}(),Hp=jh(xd);class An{constructor(t,n,u,m,x){this.type=t,this.operator=n,this.interpolation=u,this.input=m,this.labels=[],this.outputs=[];for(const[_,T]of x)this.labels.push(_),this.outputs.push(T)}static interpolationFactor(t,n,u,m){let x=0;if(t.name==="exponential")x=Vl(n,t.base,u,m);else if(t.name==="linear")x=Vl(n,1,u,m);else if(t.name==="cubic-bezier"){const _=t.controlPoints;x=new Hp(_[0],_[1],_[2],_[3]).solve(Vl(n,1,u,m))}return x}static parse(t,n){let[u,m,x,..._]=t;if(!Array.isArray(m)||m.length===0)return n.error("Expected an interpolation type expression.",1);if(m[0]==="linear")m={name:"linear"};else if(m[0]==="exponential"){const z=m[1];if(typeof z!="number")return n.error("Exponential interpolation requires a numeric base.",1,1);m={name:"exponential",base:z}}else{if(m[0]!=="cubic-bezier")return n.error(`Unknown interpolation type ${String(m[0])}`,1,0);{const z=m.slice(1);if(z.length!==4||z.some(j=>typeof j!="number"||j<0||j>1))return n.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);m={name:"cubic-bezier",controlPoints:z}}}if(t.length-1<4)return n.error(`Expected at least 4 arguments, but found only ${t.length-1}.`);if((t.length-1)%2!=0)return n.error("Expected an even number of arguments.");if(x=n.parse(x,2,vt),!x)return null;const T=[];let A=null;u!=="interpolate-hcl"&&u!=="interpolate-lab"||n.expectedType==Oo?n.expectedType&&n.expectedType.kind!=="value"&&(A=n.expectedType):A=pa;for(let z=0;z<_.length;z+=2){const j=_[z],O=_[z+1],V=z+3,$=z+4;if(typeof j!="number")return n.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',V);if(T.length&&T[T.length-1][0]>=j)return n.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',V);const W=n.parse(O,$,A);if(!W)return null;A=A||W.type,T.push([j,W])}return Ir(A,vt)||Ir(A,Xr)||Ir(A,pa)||Ir(A,ei)||Ir(A,kn)||Ir(A,Oo)||Ir(A,_a)||Ir(A,ti(vt))?new An(A,u,m,x,T):n.error(`Type ${ja(A)} is not interpolatable.`)}evaluate(t){const n=this.labels,u=this.outputs;if(n.length===1)return u[0].evaluate(t);const m=this.input.evaluate(t);if(m<=n[0])return u[0].evaluate(t);const x=n.length;if(m>=n[x-1])return u[x-1].evaluate(t);const _=Bl(n,m),T=An.interpolationFactor(this.interpolation,m,n[_],n[_+1]),A=u[_].evaluate(t),z=u[_+1].evaluate(t);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return ir(A,z,T);case"color":return ya.interpolate(A,z,T);case"padding":return Si.interpolate(A,z,T);case"colorArray":return an.interpolate(A,z,T);case"numberArray":return Ti.interpolate(A,z,T);case"variableAnchorOffsetCollection":return Ma.interpolate(A,z,T);case"array":return Jr(A,z,T);case"projectionDefinition":return da.interpolate(A,z,T)}case"interpolate-hcl":switch(this.type.kind){case"color":return ya.interpolate(A,z,T,"hcl");case"colorArray":return an.interpolate(A,z,T,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return ya.interpolate(A,z,T,"lab");case"colorArray":return an.interpolate(A,z,T,"lab")}}}eachChild(t){t(this.input);for(const n of this.outputs)t(n)}outputDefined(){return this.outputs.every(t=>t.outputDefined())}}function Vl(r,t,n,u){const m=u-n,x=r-n;return m===0?0:t===1?x/m:(Math.pow(t,x)-1)/(Math.pow(t,m)-1)}const fr={color:ya.interpolate,number:ir,padding:Si.interpolate,numberArray:Ti.interpolate,colorArray:an.interpolate,variableAnchorOffsetCollection:Ma.interpolate,array:Jr};class nr{constructor(t,n){this.type=t,this.args=n}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");let u=null;const m=n.expectedType;m&&m.kind!=="value"&&(u=m);const x=[];for(const T of t.slice(1)){const A=n.parse(T,1+x.length,u,void 0,{typeAnnotation:"omit"});if(!A)return null;u=u||A.type,x.push(A)}if(!u)throw new Error("No output type");const _=m&&x.some(T=>Zr(m,T.type));return new nr(_?ra:u,x)}evaluate(t){let n,u=null,m=0;for(const x of this.args)if(m++,u=x.evaluate(t),u&&u instanceof Mn&&!u.available&&(n||(n=u.name),u=null,m===this.args.length&&(u=n)),u!==null)break;return u}eachChild(t){this.args.forEach(t)}outputDefined(){return this.args.every(t=>t.outputDefined())}}function gu(r,t){return r==="=="||r==="!="?t.kind==="boolean"||t.kind==="string"||t.kind==="number"||t.kind==="null"||t.kind==="value":t.kind==="string"||t.kind==="number"||t.kind==="value"}function Rc(r,t,n,u){return u.compare(t,n)===0}function Ul(r,t,n){const u=r!=="=="&&r!=="!=";return class Lw{constructor(x,_,T){this.type=Bt,this.lhs=x,this.rhs=_,this.collator=T,this.hasUntypedArgument=x.type.kind==="value"||_.type.kind==="value"}static parse(x,_){if(x.length!==3&&x.length!==4)return _.error("Expected two or three arguments.");const T=x[0];let A=_.parse(x[1],1,ra);if(!A)return null;if(!gu(T,A.type))return _.concat(1).error(`"${T}" comparisons are not supported for type '${ja(A.type)}'.`);let z=_.parse(x[2],2,ra);if(!z)return null;if(!gu(T,z.type))return _.concat(2).error(`"${T}" comparisons are not supported for type '${ja(z.type)}'.`);if(A.type.kind!==z.type.kind&&A.type.kind!=="value"&&z.type.kind!=="value")return _.error(`Cannot compare types '${ja(A.type)}' and '${ja(z.type)}'.`);u&&(A.type.kind==="value"&&z.type.kind!=="value"?A=new bn(z.type,[A]):A.type.kind!=="value"&&z.type.kind==="value"&&(z=new bn(A.type,[z])));let j=null;if(x.length===4){if(A.type.kind!=="string"&&z.type.kind!=="string"&&A.type.kind!=="value"&&z.type.kind!=="value")return _.error("Cannot use collator to compare non-string types.");if(j=_.parse(x[3],3,Ki),!j)return null}return new Lw(A,z,j)}evaluate(x){const _=this.lhs.evaluate(x),T=this.rhs.evaluate(x);if(u&&this.hasUntypedArgument){const A=ia(_),z=ia(T);if(A.kind!==z.kind||A.kind!=="string"&&A.kind!=="number")throw new ai(`Expected arguments for "${r}" to be (string, string) or (number, number), but found (${A.kind}, ${z.kind}) instead.`)}if(this.collator&&!u&&this.hasUntypedArgument){const A=ia(_),z=ia(T);if(A.kind!=="string"||z.kind!=="string")return t(x,_,T)}return this.collator?n(x,_,T,this.collator.evaluate(x)):t(x,_,T)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}const _d=Ul("==",function(r,t,n){return t===n},Rc),Xp=Ul("!=",function(r,t,n){return t!==n},function(r,t,n,u){return!Rc(0,t,n,u)}),Zp=Ul("<",function(r,t,n){return t<n},function(r,t,n,u){return u.compare(t,n)<0}),$p=Ul(">",function(r,t,n){return t>n},function(r,t,n,u){return u.compare(t,n)>0}),Jp=Ul("<=",function(r,t,n){return t<=n},function(r,t,n,u){return u.compare(t,n)<=0}),yu=Ul(">=",function(r,t,n){return t>=n},function(r,t,n,u){return u.compare(t,n)>=0});class vu{constructor(t,n,u){this.type=Ki,this.locale=u,this.caseSensitive=t,this.diacriticSensitive=n}static parse(t,n){if(t.length!==2)return n.error("Expected one argument.");const u=t[1];if(typeof u!="object"||Array.isArray(u))return n.error("Collator options argument must be an object.");const m=n.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,Bt);if(!m)return null;const x=n.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,Bt);if(!x)return null;let _=null;return u.locale&&(_=n.parse(u.locale,1,Xt),!_)?null:new vu(m,x,_)}evaluate(t){return new bo(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)}eachChild(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&&t(this.locale)}outputDefined(){return!1}}class Gl{constructor(t,n,u,m,x){this.type=Xt,this.number=t,this.locale=n,this.currency=u,this.minFractionDigits=m,this.maxFractionDigits=x}static parse(t,n){if(t.length!==3)return n.error("Expected two arguments.");const u=n.parse(t[1],1,vt);if(!u)return null;const m=t[2];if(typeof m!="object"||Array.isArray(m))return n.error("NumberFormat options argument must be an object.");let x=null;if(m.locale&&(x=n.parse(m.locale,1,Xt),!x))return null;let _=null;if(m.currency&&(_=n.parse(m.currency,1,Xt),!_))return null;let T=null;if(m["min-fraction-digits"]&&(T=n.parse(m["min-fraction-digits"],1,vt),!T))return null;let A=null;return m["max-fraction-digits"]&&(A=n.parse(m["max-fraction-digits"],1,vt),!A)?null:new Gl(u,x,_,T,A)}evaluate(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))}eachChild(t){t(this.number),this.locale&&t(this.locale),this.currency&&t(this.currency),this.minFractionDigits&&t(this.minFractionDigits),this.maxFractionDigits&&t(this.maxFractionDigits)}outputDefined(){return!1}}class Vo{constructor(t){this.type=tr,this.sections=t}static parse(t,n){if(t.length<2)return n.error("Expected at least one argument.");const u=t[1];if(!Array.isArray(u)&&typeof u=="object")return n.error("First argument must be an image or text section.");const m=[];let x=!1;for(let _=1;_<=t.length-1;++_){const T=t[_];if(x&&typeof T=="object"&&!Array.isArray(T)){x=!1;let A=null;if(T["font-scale"]&&(A=n.parse(T["font-scale"],1,vt),!A))return null;let z=null;if(T["text-font"]&&(z=n.parse(T["text-font"],1,ti(Xt)),!z))return null;let j=null;if(T["text-color"]&&(j=n.parse(T["text-color"],1,pa),!j))return null;let O=null;if(T["vertical-align"]){if(typeof T["vertical-align"]=="string"&&!Ic.includes(T["vertical-align"]))return n.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${T["vertical-align"]}' instead.`);if(O=n.parse(T["vertical-align"],1,Xt),!O)return null}const V=m[m.length-1];V.scale=A,V.font=z,V.textColor=j,V.verticalAlign=O}else{const A=n.parse(t[_],1,ra);if(!A)return null;const z=A.type.kind;if(z!=="string"&&z!=="value"&&z!=="null"&&z!=="resolvedImage")return n.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,m.push({content:A,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Vo(m)}evaluate(t){return new Dn(this.sections.map(n=>{const u=n.content.evaluate(t);return ia(u)===Pn?new Lc("",u,null,null,null,n.verticalAlign?n.verticalAlign.evaluate(t):null):new Lc(nn(u),null,n.scale?n.scale.evaluate(t):null,n.font?n.font.evaluate(t).join(","):null,n.textColor?n.textColor.evaluate(t):null,n.verticalAlign?n.verticalAlign.evaluate(t):null)}))}eachChild(t){for(const n of this.sections)t(n.content),n.scale&&t(n.scale),n.font&&t(n.font),n.textColor&&t(n.textColor),n.verticalAlign&&t(n.verticalAlign)}outputDefined(){return!1}}class wd{constructor(t){this.type=Pn,this.input=t}static parse(t,n){if(t.length!==2)return n.error("Expected two arguments.");const u=n.parse(t[1],1,Xt);return u?new wd(u):n.error("No image name provided.")}evaluate(t){const n=this.input.evaluate(t),u=Mn.fromString(n);return u&&t.availableImages&&(u.available=t.availableImages.indexOf(n)>-1),u}eachChild(t){t(this.input)}outputDefined(){return!1}}class kc{constructor(t){this.type=vt,this.input=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const u=n.parse(t[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?n.error(`Expected argument of type string or array, but found ${ja(u.type)} instead.`):new kc(u):null}evaluate(t){const n=this.input.evaluate(t);if(typeof n=="string")return[...n].length;if(Array.isArray(n))return n.length;throw new ai(`Expected value to be of type string or array, but found ${ja(ia(n))} instead.`)}eachChild(t){t(this.input)}outputDefined(){return!1}}const Qr=8192;function Kh(r,t){const n=(180+r[0])/360,u=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r[1]*Math.PI/360)))/360,m=Math.pow(2,t.z);return[Math.round(n*m*Qr),Math.round(u*m*Qr)]}function bu(r,t){const n=Math.pow(2,t.z);return[(m=(r[0]/Qr+t.x)/n,360*m-180),(u=(r[1]/Qr+t.y)/n,360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90)];var u,m}function Hl(r,t){r[0]=Math.min(r[0],t[0]),r[1]=Math.min(r[1],t[1]),r[2]=Math.max(r[2],t[0]),r[3]=Math.max(r[3],t[1])}function _o(r,t){return!(r[0]<=t[0]||r[2]>=t[2]||r[1]<=t[1]||r[3]>=t[3])}function Oh(r,t,n){const u=r[0]-t[0],m=r[1]-t[1],x=r[0]-n[0],_=r[1]-n[1];return u*_-x*m==0&&u*x<=0&&m*_<=0}function Nc(r,t,n,u){return(m=[u[0]-n[0],u[1]-n[1]])[0]*(x=[t[0]-r[0],t[1]-r[1]])[1]-m[1]*x[0]!=0&&!(!xu(r,t,n,u)||!xu(n,u,r,t));var m,x}function qh(r,t,n){for(const u of n)for(let m=0;m<u.length-1;++m)if(Nc(r,t,u[m],u[m+1]))return!0;return!1}function $s(r,t,n=!1){let u=!1;for(const T of t)for(let A=0;A<T.length-1;A++){if(Oh(r,T[A],T[A+1]))return n;(x=T[A])[1]>(m=r)[1]!=(_=T[A+1])[1]>m[1]&&m[0]<(_[0]-x[0])*(m[1]-x[1])/(_[1]-x[1])+x[0]&&(u=!u)}var m,x,_;return u}function Bh(r,t){for(const n of t)if($s(r,n))return!0;return!1}function Xl(r,t){for(const n of r)if(!$s(n,t))return!1;for(let n=0;n<r.length-1;++n)if(qh(r[n],r[n+1],t))return!1;return!0}function jc(r,t){for(const n of t)if(Xl(r,n))return!0;return!1}function xu(r,t,n,u){const m=u[0]-n[0],x=u[1]-n[1],_=(r[0]-n[0])*x-m*(r[1]-n[1]),T=(t[0]-n[0])*x-m*(t[1]-n[1]);return _>0&&T<0||_<0&&T>0}function Zl(r,t,n){const u=[];for(let m=0;m<r.length;m++){const x=[];for(let _=0;_<r[m].length;_++){const T=Kh(r[m][_],n);Hl(t,T),x.push(T)}u.push(x)}return u}function Cd(r,t,n){const u=[];for(let m=0;m<r.length;m++){const x=Zl(r[m],t,n);u.push(x)}return u}function Sd(r,t,n,u){if(r[0]<n[0]||r[0]>n[2]){const m=.5*u;let x=r[0]-n[0]>m?-u:n[0]-r[0]>m?u:0;x===0&&(x=r[0]-n[2]>m?-u:n[2]-r[0]>m?u:0),r[0]+=x}Hl(t,r)}function Kc(r,t,n,u){const m=Math.pow(2,u.z)*Qr,x=[u.x*Qr,u.y*Qr],_=[];for(const T of r)for(const A of T){const z=[A.x+x[0],A.y+x[1]];Sd(z,t,n,m),_.push(z)}return _}function Oc(r,t,n,u){const m=Math.pow(2,u.z)*Qr,x=[u.x*Qr,u.y*Qr],_=[];for(const A of r){const z=[];for(const j of A){const O=[j.x+x[0],j.y+x[1]];Hl(t,O),z.push(O)}_.push(z)}if(t[2]-t[0]<=m/2){(T=t)[0]=T[1]=1/0,T[2]=T[3]=-1/0;for(const A of _)for(const z of A)Sd(z,t,n,m)}var T;return _}class ps{constructor(t,n){this.type=Bt,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'within' expression requires exactly one argument, but found ${t.length-1} instead.`);if(xo(t[1])){const u=t[1];if(u.type==="FeatureCollection"){const m=[];for(const x of u.features){const{type:_,coordinates:T}=x.geometry;_==="Polygon"&&m.push(T),_==="MultiPolygon"&&m.push(...T)}if(m.length)return new ps(u,{type:"MultiPolygon",coordinates:m})}else if(u.type==="Feature"){const m=u.geometry.type;if(m==="Polygon"||m==="MultiPolygon")return new ps(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new ps(u,u)}return n.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(n,u){const m=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],_=n.canonicalID();if(u.type==="Polygon"){const T=Zl(u.coordinates,x,_),A=Kc(n.geometry(),m,x,_);if(!_o(m,x))return!1;for(const z of A)if(!$s(z,T))return!1}if(u.type==="MultiPolygon"){const T=Cd(u.coordinates,x,_),A=Kc(n.geometry(),m,x,_);if(!_o(m,x))return!1;for(const z of A)if(!Bh(z,T))return!1}return!0}(t,this.geometries);if(t.geometryType()==="LineString")return function(n,u){const m=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],_=n.canonicalID();if(u.type==="Polygon"){const T=Zl(u.coordinates,x,_),A=Oc(n.geometry(),m,x,_);if(!_o(m,x))return!1;for(const z of A)if(!Xl(z,T))return!1}if(u.type==="MultiPolygon"){const T=Cd(u.coordinates,x,_),A=Oc(n.geometry(),m,x,_);if(!_o(m,x))return!1;for(const z of A)if(!jc(z,T))return!1}return!0}(t,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Td=class{constructor(r=[],t=(n,u)=>n<u?-1:n>u?1:0){if(this.data=r,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(r){this.data.push(r),this._up(this.length++)}pop(){if(this.length===0)return;const r=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),r}peek(){return this.data[0]}_up(r){const{data:t,compare:n}=this,u=t[r];for(;r>0;){const m=r-1>>1,x=t[m];if(n(u,x)>=0)break;t[r]=x,r=m}t[r]=u}_down(r){const{data:t,compare:n}=this,u=this.length>>1,m=t[r];for(;r<u;){let x=1+(r<<1);const _=x+1;if(_<this.length&&n(t[_],t[x])<0&&(x=_),n(t[x],m)>=0)break;t[r]=t[x],r=x}t[r]=m}};function _u(r,t,n=0,u=r.length-1,m=Wp){for(;u>n;){if(u-n>600){const A=u-n+1,z=t-n+1,j=Math.log(A),O=.5*Math.exp(2*j/3),V=.5*Math.sqrt(j*O*(A-O)/A)*(z-A/2<0?-1:1);_u(r,t,Math.max(n,Math.floor(t-z*O/A+V)),Math.min(u,Math.floor(t+(A-z)*O/A+V)),m)}const x=r[t];let _=n,T=u;for($l(r,n,t),m(r[u],x)>0&&$l(r,n,u);_<T;){for($l(r,_,T),_++,T--;m(r[_],x)<0;)_++;for(;m(r[T],x)>0;)T--}m(r[n],x)===0?$l(r,n,T):(T++,$l(r,T,u)),T<=t&&(n=T+1),t<=T&&(u=T-1)}}function $l(r,t,n){const u=r[t];r[t]=r[n],r[n]=u}function Wp(r,t){return r<t?-1:r>t?1:0}function wu(r,t){if(r.length<=1)return[r];const n=[];let u,m;for(const x of r){const _=Fh(x);_!==0&&(x.area=Math.abs(_),m===void 0&&(m=_<0),m===_<0?(u&&n.push(u),u=[x]):u.push(x))}if(u&&n.push(u),t>1)for(let x=0;x<n.length;x++)n[x].length<=t||(_u(n[x],t,1,n[x].length-1,Yp),n[x]=n[x].slice(0,t));return n}function Yp(r,t){return t.area-r.area}function Fh(r){let t=0;for(let n,u,m=0,x=r.length,_=x-1;m<x;_=m++)n=r[m],u=r[_],t+=(u.x-n.x)*(n.y+u.y);return t}const rr=1/298.257223563,Jl=rr*(2-rr),Pd=Math.PI/180;class Cu{constructor(t){const n=6378.137*Pd*1e3,u=Math.cos(t*Pd),m=1/(1-Jl*(1-u*u)),x=Math.sqrt(m);this.kx=n*x*u,this.ky=n*x*m*(1-Jl)}distance(t,n){const u=this.wrap(t[0]-n[0])*this.kx,m=(t[1]-n[1])*this.ky;return Math.sqrt(u*u+m*m)}pointOnLine(t,n){let u,m,x,_,T=1/0;for(let A=0;A<t.length-1;A++){let z=t[A][0],j=t[A][1],O=this.wrap(t[A+1][0]-z)*this.kx,V=(t[A+1][1]-j)*this.ky,$=0;O===0&&V===0||($=(this.wrap(n[0]-z)*this.kx*O+(n[1]-j)*this.ky*V)/(O*O+V*V),$>1?(z=t[A+1][0],j=t[A+1][1]):$>0&&(z+=O/this.kx*$,j+=V/this.ky*$)),O=this.wrap(n[0]-z)*this.kx,V=(n[1]-j)*this.ky;const W=O*O+V*V;W<T&&(T=W,u=z,m=j,x=A,_=$)}return{point:[u,m],index:x,t:Math.max(0,Math.min(1,_))}}wrap(t){for(;t<-180;)t+=360;for(;t>180;)t-=360;return t}}function Ka(r,t){return t[0]-r[0]}function qc(r){return r[1]-r[0]+1}function eo(r,t){return r[1]>=r[0]&&r[1]<t}function Dd(r,t){if(r[0]>r[1])return[null,null];const n=qc(r);if(t){if(n===2)return[r,null];const m=Math.floor(n/2);return[[r[0],r[0]+m],[r[0]+m,r[1]]]}if(n===1)return[r,null];const u=Math.floor(n/2)-1;return[[r[0],r[0]+u],[r[0]+u+1,r[1]]]}function fs(r,t){if(!eo(t,r.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let u=t[0];u<=t[1];++u)Hl(n,r[u]);return n}function Bc(r){const t=[1/0,1/0,-1/0,-1/0];for(const n of r)for(const u of n)Hl(t,u);return t}function Wl(r){return r[0]!==-1/0&&r[1]!==-1/0&&r[2]!==1/0&&r[3]!==1/0}function Fc(r,t,n){if(!Wl(r)||!Wl(t))return NaN;let u=0,m=0;return r[2]<t[0]&&(u=t[0]-r[2]),r[0]>t[2]&&(u=r[0]-t[2]),r[1]>t[3]&&(m=r[1]-t[3]),r[3]<t[1]&&(m=t[1]-r[3]),n.distance([0,0],[u,m])}function ms(r,t,n){const u=n.pointOnLine(t,r);return n.distance(r,u.point)}function Uo(r,t,n,u,m){const x=Math.min(ms(r,[n,u],m),ms(t,[n,u],m)),_=Math.min(ms(n,[r,t],m),ms(u,[r,t],m));return Math.min(x,_)}function Yl(r,t,n,u,m){if(!eo(t,r.length)||!eo(u,n.length))return 1/0;let x=1/0;for(let _=t[0];_<t[1];++_){const T=r[_],A=r[_+1];for(let z=u[0];z<u[1];++z){const j=n[z],O=n[z+1];if(Nc(T,A,j,O))return 0;x=Math.min(x,Uo(T,A,j,O,m))}}return x}function Md(r,t,n,u,m){if(!eo(t,r.length)||!eo(u,n.length))return NaN;let x=1/0;for(let _=t[0];_<=t[1];++_)for(let T=u[0];T<=u[1];++T)if(x=Math.min(x,m.distance(r[_],n[T])),x===0)return x;return x}function Vh(r,t,n){if($s(r,t,!0))return 0;let u=1/0;for(const m of t){const x=m[0],_=m[m.length-1];if(x!==_&&(u=Math.min(u,ms(r,[_,x],n)),u===0))return u;const T=n.pointOnLine(m,r);if(u=Math.min(u,n.distance(r,T.point)),u===0)return u}return u}function Js(r,t,n,u){if(!eo(t,r.length))return NaN;for(let x=t[0];x<=t[1];++x)if($s(r[x],n,!0))return 0;let m=1/0;for(let x=t[0];x<t[1];++x){const _=r[x],T=r[x+1];for(const A of n)for(let z=0,j=A.length,O=j-1;z<j;O=z++){const V=A[O],$=A[z];if(Nc(_,T,V,$))return 0;m=Math.min(m,Uo(_,T,V,$,u))}}return m}function Ad(r,t){for(const n of r)for(const u of n)if($s(u,t,!0))return!0;return!1}function Uh(r,t,n,u=1/0){const m=Bc(r),x=Bc(t);if(u!==1/0&&Fc(m,x,n)>=u)return u;if(_o(m,x)){if(Ad(r,t))return 0}else if(Ad(t,r))return 0;let _=1/0;for(const T of r)for(let A=0,z=T.length,j=z-1;A<z;j=A++){const O=T[j],V=T[A];for(const $ of t)for(let W=0,Q=$.length,re=Q-1;W<Q;re=W++){const ue=$[re],Ae=$[W];if(Nc(O,V,ue,Ae))return 0;_=Math.min(_,Uo(O,V,ue,Ae,n))}}return _}function Id(r,t,n,u,m,x){if(!x)return;const _=Fc(fs(u,x),m,n);_<t&&r.push([_,x,[0,0]])}function Su(r,t,n,u,m,x,_){if(!x||!_)return;const T=Fc(fs(u,x),fs(m,_),n);T<t&&r.push([T,x,_])}function Tu(r,t,n,u,m=1/0){let x=Math.min(u.distance(r[0],n[0][0]),m);if(x===0)return x;const _=new Td([[0,[0,r.length-1],[0,0]]],Ka),T=Bc(n);for(;_.length>0;){const A=_.pop();if(A[0]>=x)continue;const z=A[1],j=t?50:100;if(qc(z)<=j){if(!eo(z,r.length))return NaN;if(t){const O=Js(r,z,n,u);if(isNaN(O)||O===0)return O;x=Math.min(x,O)}else for(let O=z[0];O<=z[1];++O){const V=Vh(r[O],n,u);if(x=Math.min(x,V),x===0)return 0}}else{const O=Dd(z,t);Id(_,x,u,r,T,O[0]),Id(_,x,u,r,T,O[1])}}return x}function Pu(r,t,n,u,m,x=1/0){let _=Math.min(x,m.distance(r[0],n[0]));if(_===0)return _;const T=new Td([[0,[0,r.length-1],[0,n.length-1]]],Ka);for(;T.length>0;){const A=T.pop();if(A[0]>=_)continue;const z=A[1],j=A[2],O=t?50:100,V=u?50:100;if(qc(z)<=O&&qc(j)<=V){if(!eo(z,r.length)&&eo(j,n.length))return NaN;let $;if(t&&u)$=Yl(r,z,n,j,m),_=Math.min(_,$);else if(t&&!u){const W=r.slice(z[0],z[1]+1);for(let Q=j[0];Q<=j[1];++Q)if($=ms(n[Q],W,m),_=Math.min(_,$),_===0)return _}else if(!t&&u){const W=n.slice(j[0],j[1]+1);for(let Q=z[0];Q<=z[1];++Q)if($=ms(r[Q],W,m),_=Math.min(_,$),_===0)return _}else $=Md(r,z,n,j,m),_=Math.min(_,$)}else{const $=Dd(z,t),W=Dd(j,u);Su(T,_,m,r,n,$[0],W[0]),Su(T,_,m,r,n,$[0],W[1]),Su(T,_,m,r,n,$[1],W[0]),Su(T,_,m,r,n,$[1],W[1])}}return _}function Du(r){return r.type==="MultiPolygon"?r.coordinates.map(t=>({type:"Polygon",coordinates:t})):r.type==="MultiLineString"?r.coordinates.map(t=>({type:"LineString",coordinates:t})):r.type==="MultiPoint"?r.coordinates.map(t=>({type:"Point",coordinates:t})):[r]}class gs{constructor(t,n){this.type=vt,this.geojson=t,this.geometries=n}static parse(t,n){if(t.length!==2)return n.error(`'distance' expression requires exactly one argument, but found ${t.length-1} instead.`);if(xo(t[1])){const u=t[1];if(u.type==="FeatureCollection")return new gs(u,u.features.map(m=>Du(m.geometry)).flat());if(u.type==="Feature")return new gs(u,Du(u.geometry));if("type"in u&&"coordinates"in u)return new gs(u,Du(u))}return n.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(t){if(t.geometry()!=null&&t.canonicalID()!=null){if(t.geometryType()==="Point")return function(n,u){const m=n.geometry(),x=m.flat().map(A=>bu([A.x,A.y],n.canonical));if(m.length===0)return NaN;const _=new Cu(x[0][1]);let T=1/0;for(const A of u){switch(A.type){case"Point":T=Math.min(T,Pu(x,!1,[A.coordinates],!1,_,T));break;case"LineString":T=Math.min(T,Pu(x,!1,A.coordinates,!0,_,T));break;case"Polygon":T=Math.min(T,Tu(x,!1,A.coordinates,_,T))}if(T===0)return T}return T}(t,this.geometries);if(t.geometryType()==="LineString")return function(n,u){const m=n.geometry(),x=m.flat().map(A=>bu([A.x,A.y],n.canonical));if(m.length===0)return NaN;const _=new Cu(x[0][1]);let T=1/0;for(const A of u){switch(A.type){case"Point":T=Math.min(T,Pu(x,!0,[A.coordinates],!1,_,T));break;case"LineString":T=Math.min(T,Pu(x,!0,A.coordinates,!0,_,T));break;case"Polygon":T=Math.min(T,Tu(x,!0,A.coordinates,_,T))}if(T===0)return T}return T}(t,this.geometries);if(t.geometryType()==="Polygon")return function(n,u){const m=n.geometry();if(m.length===0||m[0].length===0)return NaN;const x=wu(m,0).map(A=>A.map(z=>z.map(j=>bu([j.x,j.y],n.canonical)))),_=new Cu(x[0][0][0][1]);let T=1/0;for(const A of u)for(const z of x){switch(A.type){case"Point":T=Math.min(T,Tu([A.coordinates],!1,z,_,T));break;case"LineString":T=Math.min(T,Tu(A.coordinates,!0,z,_,T));break;case"Polygon":T=Math.min(T,Uh(z,A.coordinates,_,T))}if(T===0)return T}return T}(t,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Ws{constructor(t){this.type=ra,this.key=t}static parse(t,n){if(t.length!==2)return n.error(`Expected 1 argument, but found ${t.length-1} instead.`);const u=t[1];return u==null?n.error("Global state property must be defined."):typeof u!="string"?n.error(`Global state property must be string, but found ${typeof t[1]} instead.`):new Ws(u)}evaluate(t){var n;const u=(n=t.globals)===null||n===void 0?void 0:n.globalState;return u&&Object.keys(u).length!==0?Pa(u,this.key):null}eachChild(){}outputDefined(){return!1}}const Nn={"==":_d,"!=":Xp,">":$p,"<":Zp,">=":yu,"<=":Jp,array:bn,at:xn,boolean:bn,case:rn,coalesce:nr,collator:vu,format:Vo,image:wd,in:Ol,"index-of":Zs,interpolate:An,"interpolate-hcl":An,"interpolate-lab":An,length:kc,let:Kl,literal:Fi,match:ql,number:bn,"number-format":Gl,object:bn,slice:Ec,step:Fl,string:bn,"to-boolean":Er,"to-color":Er,"to-number":Er,"to-string":Er,var:Yr,within:ps,distance:gs,"global-state":Ws};class mr{constructor(t,n,u,m){this.name=t,this.type=n,this._evaluate=u,this.args=m}evaluate(t){return this._evaluate(t,this.args)}eachChild(t){this.args.forEach(t)}outputDefined(){return!1}static parse(t,n){const u=t[0],m=mr.definitions[u];if(!m)return n.error(`Unknown expression "${u}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(m)?m[0]:m.type,_=Array.isArray(m)?[[m[1],m[2]]]:m.overloads,T=_.filter(([z])=>!Array.isArray(z)||z.length===t.length-1);let A=null;for(const[z,j]of T){A=new ds(n.registry,Ys,n.path,null,n.scope);const O=[];let V=!1;for(let $=1;$<t.length;$++){const W=t[$],Q=Array.isArray(z)?z[$-1]:z.type,re=A.parse(W,1+O.length,Q);if(!re){V=!0;break}O.push(re)}if(!V)if(Array.isArray(z)&&z.length!==O.length)A.error(`Expected ${z.length} arguments, but found ${O.length} instead.`);else{for(let $=0;$<O.length;$++){const W=Array.isArray(z)?z[$]:z.type,Q=O[$];A.concat($+1).checkSubtype(W,Q.type)}if(A.errors.length===0)return new mr(u,x,j,O)}}if(T.length===1)n.errors.push(...A.errors);else{const z=(T.length?T:_).map(([O])=>{return V=O,Array.isArray(V)?`(${V.map(ja).join(", ")})`:`(${ja(V.type)}...)`;var V}).join(" | "),j=[];for(let O=1;O<t.length;O++){const V=n.parse(t[O],1+j.length);if(!V)return null;j.push(ja(V.type))}n.error(`Expected arguments of type ${z}, but found (${j.join(", ")}) instead.`)}return null}static register(t,n){mr.definitions=n;for(const u in n)t[u]=mr}}function gr(r,[t,n,u,m]){t=t.evaluate(r),n=n.evaluate(r),u=u.evaluate(r);const x=m?m.evaluate(r):1,_=fa(t,n,u,x);if(_)throw new ai(_);return new ya(t/255,n/255,u/255,x,!1)}function yr(r,t){return r in t}function ys(r,t){const n=t[r];return n===void 0?null:n}function Go(r){return{type:r}}function Ys(r){if(r instanceof Yr)return Ys(r.boundExpression);if(r instanceof mr&&r.name==="error"||r instanceof vu||r instanceof ps||r instanceof gs||r instanceof Ws)return!1;const t=r instanceof Er||r instanceof bn;let n=!0;return r.eachChild(u=>{n=t?n&&Ys(u):n&&u instanceof Fi}),!!n&&Qs(r)&&to(r,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function Qs(r){if(r instanceof mr&&(r.name==="get"&&r.args.length===1||r.name==="feature-state"||r.name==="has"&&r.args.length===1||r.name==="properties"||r.name==="geometry-type"||r.name==="id"||/^filter-/.test(r.name))||r instanceof ps||r instanceof gs)return!1;let t=!0;return r.eachChild(n=>{t&&!Qs(n)&&(t=!1)}),t}function el(r){if(r instanceof mr&&r.name==="feature-state")return!1;let t=!0;return r.eachChild(n=>{t&&!el(n)&&(t=!1)}),t}function to(r,t){if(r instanceof mr&&t.indexOf(r.name)>=0)return!1;let n=!0;return r.eachChild(u=>{n&&!to(u,t)&&(n=!1)}),n}function Ld(r){return{result:"success",value:r}}function Ho(r){return{result:"error",value:r}}function ao(r){return r["property-type"]==="data-driven"||r["property-type"]==="cross-faded-data-driven"}function Ed(r){return!!r.expression&&r.expression.parameters.indexOf("zoom")>-1}function Hn(r){return!!r.expression&&r.expression.interpolated}function wa(r){return r instanceof Number?"number":r instanceof String?"string":r instanceof Boolean?"boolean":Array.isArray(r)?"array":r===null?"null":typeof r}function Xn(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)&&ia(r)===Ci}function zd(r){return r}function Vc(r,t){const n=r.stops&&typeof r.stops[0][0]=="object",u=n||!(n||r.property!==void 0),m=r.type||(Hn(t)?"exponential":"interval"),x=function(j){switch(j.type){case"color":return ya.parse;case"padding":return Si.parse;case"numberArray":return Ti.parse;case"colorArray":return an.parse;default:return null}}(t);if(x&&((r=Zt({},r)).stops&&(r.stops=r.stops.map(j=>[j[0],x(j[1])])),r.default=x(r.default?r.default:t.default)),r.colorSpace&&(_=r.colorSpace)!=="rgb"&&_!=="hcl"&&_!=="lab")throw new Error(`Unknown color space: "${r.colorSpace}"`);var _;const T=function(j){switch(j){case"exponential":return tl;case"interval":return kd;case"categorical":return Rd;case"identity":return al;default:throw new Error(`Unknown function type "${j}"`)}}(m);let A,z;if(m==="categorical"){A=Object.create(null);for(const j of r.stops)A[j[0]]=j[1];z=typeof r.stops[0][0]}if(n){const j={},O=[];for(let W=0;W<r.stops.length;W++){const Q=r.stops[W],re=Q[0].zoom;j[re]===void 0&&(j[re]={zoom:re,type:r.type,property:r.property,default:r.default,stops:[]},O.push(re)),j[re].stops.push([Q[0].value,Q[1]])}const V=[];for(const W of O)V.push([j[W].zoom,Vc(j[W],t)]);const $={name:"linear"};return{kind:"composite",interpolationType:$,interpolationFactor:An.interpolationFactor.bind(void 0,$),zoomStops:V.map(W=>W[0]),evaluate:({zoom:W},Q)=>tl({stops:V,base:r.base},t,W).evaluate(W,Q)}}if(u){const j=m==="exponential"?{name:"exponential",base:r.base!==void 0?r.base:1}:null;return{kind:"camera",interpolationType:j,interpolationFactor:An.interpolationFactor.bind(void 0,j),zoomStops:r.stops.map(O=>O[0]),evaluate:({zoom:O})=>T(r,t,O,A,z)}}return{kind:"source",evaluate(j,O){const V=O&&O.properties?O.properties[r.property]:void 0;return V===void 0?io(r.default,t.default):T(r,t,V,A,z)}}}function io(r,t,n){return r!==void 0?r:t!==void 0?t:n!==void 0?n:void 0}function Rd(r,t,n,u,m){return io(typeof n===m?u[n]:void 0,r.default,t.default)}function kd(r,t,n){if(wa(n)!=="number")return io(r.default,t.default);const u=r.stops.length;if(u===1||n<=r.stops[0][0])return r.stops[0][1];if(n>=r.stops[u-1][0])return r.stops[u-1][1];const m=Bl(r.stops.map(x=>x[0]),n);return r.stops[m][1]}function tl(r,t,n){const u=r.base!==void 0?r.base:1;if(wa(n)!=="number")return io(r.default,t.default);const m=r.stops.length;if(m===1||n<=r.stops[0][0])return r.stops[0][1];if(n>=r.stops[m-1][0])return r.stops[m-1][1];const x=Bl(r.stops.map(j=>j[0]),n),_=function(j,O,V,$){const W=$-V,Q=j-V;return W===0?0:O===1?Q/W:(Math.pow(O,Q)-1)/(Math.pow(O,W)-1)}(n,u,r.stops[x][0],r.stops[x+1][0]),T=r.stops[x][1],A=r.stops[x+1][1],z=fr[t.type]||zd;return typeof T.evaluate=="function"?{evaluate(...j){const O=T.evaluate.apply(void 0,j),V=A.evaluate.apply(void 0,j);if(O!==void 0&&V!==void 0)return z(O,V,_,r.colorSpace)}}:z(T,A,_,r.colorSpace)}function al(r,t,n){switch(t.type){case"color":n=ya.parse(n);break;case"formatted":n=Dn.fromString(n.toString());break;case"resolvedImage":n=Mn.fromString(n.toString());break;case"padding":n=Si.parse(n);break;case"colorArray":n=an.parse(n);break;case"numberArray":n=Ti.parse(n);break;default:wa(n)===t.type||t.type==="enum"&&t.values[n]||(n=void 0)}return io(n,r.default,t.default)}mr.register(Nn,{error:[{kind:"error"},[Xt],(r,[t])=>{throw new ai(t.evaluate(r))}],typeof:[Xt,[ra],(r,[t])=>ja(ia(t.evaluate(r)))],"to-rgba":[ti(vt,4),[pa],(r,[t])=>{const[n,u,m,x]=t.evaluate(r).rgb;return[255*n,255*u,255*m,x]}],rgb:[pa,[vt,vt,vt],gr],rgba:[pa,[vt,vt,vt,vt],gr],has:{type:Bt,overloads:[[[Xt],(r,[t])=>yr(t.evaluate(r),r.properties())],[[Xt,Ci],(r,[t,n])=>yr(t.evaluate(r),n.evaluate(r))]]},get:{type:ra,overloads:[[[Xt],(r,[t])=>ys(t.evaluate(r),r.properties())],[[Xt,Ci],(r,[t,n])=>ys(t.evaluate(r),n.evaluate(r))]]},"feature-state":[ra,[Xt],(r,[t])=>ys(t.evaluate(r),r.featureState||{})],properties:[Ci,[],r=>r.properties()],"geometry-type":[Xt,[],r=>r.geometryType()],id:[ra,[],r=>r.id()],zoom:[vt,[],r=>r.globals.zoom],"heatmap-density":[vt,[],r=>r.globals.heatmapDensity||0],elevation:[vt,[],r=>r.globals.elevation||0],"line-progress":[vt,[],r=>r.globals.lineProgress||0],accumulated:[ra,[],r=>r.globals.accumulated===void 0?null:r.globals.accumulated],"+":[vt,Go(vt),(r,t)=>{let n=0;for(const u of t)n+=u.evaluate(r);return n}],"*":[vt,Go(vt),(r,t)=>{let n=1;for(const u of t)n*=u.evaluate(r);return n}],"-":{type:vt,overloads:[[[vt,vt],(r,[t,n])=>t.evaluate(r)-n.evaluate(r)],[[vt],(r,[t])=>-t.evaluate(r)]]},"/":[vt,[vt,vt],(r,[t,n])=>t.evaluate(r)/n.evaluate(r)],"%":[vt,[vt,vt],(r,[t,n])=>t.evaluate(r)%n.evaluate(r)],ln2:[vt,[],()=>Math.LN2],pi:[vt,[],()=>Math.PI],e:[vt,[],()=>Math.E],"^":[vt,[vt,vt],(r,[t,n])=>Math.pow(t.evaluate(r),n.evaluate(r))],sqrt:[vt,[vt],(r,[t])=>Math.sqrt(t.evaluate(r))],log10:[vt,[vt],(r,[t])=>Math.log(t.evaluate(r))/Math.LN10],ln:[vt,[vt],(r,[t])=>Math.log(t.evaluate(r))],log2:[vt,[vt],(r,[t])=>Math.log(t.evaluate(r))/Math.LN2],sin:[vt,[vt],(r,[t])=>Math.sin(t.evaluate(r))],cos:[vt,[vt],(r,[t])=>Math.cos(t.evaluate(r))],tan:[vt,[vt],(r,[t])=>Math.tan(t.evaluate(r))],asin:[vt,[vt],(r,[t])=>Math.asin(t.evaluate(r))],acos:[vt,[vt],(r,[t])=>Math.acos(t.evaluate(r))],atan:[vt,[vt],(r,[t])=>Math.atan(t.evaluate(r))],min:[vt,Go(vt),(r,t)=>Math.min(...t.map(n=>n.evaluate(r)))],max:[vt,Go(vt),(r,t)=>Math.max(...t.map(n=>n.evaluate(r)))],abs:[vt,[vt],(r,[t])=>Math.abs(t.evaluate(r))],round:[vt,[vt],(r,[t])=>{const n=t.evaluate(r);return n<0?-Math.round(-n):Math.round(n)}],floor:[vt,[vt],(r,[t])=>Math.floor(t.evaluate(r))],ceil:[vt,[vt],(r,[t])=>Math.ceil(t.evaluate(r))],"filter-==":[Bt,[Xt,ra],(r,[t,n])=>r.properties()[t.value]===n.value],"filter-id-==":[Bt,[ra],(r,[t])=>r.id()===t.value],"filter-type-==":[Bt,[Xt],(r,[t])=>r.geometryType()===t.value],"filter-<":[Bt,[Xt,ra],(r,[t,n])=>{const u=r.properties()[t.value],m=n.value;return typeof u==typeof m&&u<m}],"filter-id-<":[Bt,[ra],(r,[t])=>{const n=r.id(),u=t.value;return typeof n==typeof u&&n<u}],"filter->":[Bt,[Xt,ra],(r,[t,n])=>{const u=r.properties()[t.value],m=n.value;return typeof u==typeof m&&u>m}],"filter-id->":[Bt,[ra],(r,[t])=>{const n=r.id(),u=t.value;return typeof n==typeof u&&n>u}],"filter-<=":[Bt,[Xt,ra],(r,[t,n])=>{const u=r.properties()[t.value],m=n.value;return typeof u==typeof m&&u<=m}],"filter-id-<=":[Bt,[ra],(r,[t])=>{const n=r.id(),u=t.value;return typeof n==typeof u&&n<=u}],"filter->=":[Bt,[Xt,ra],(r,[t,n])=>{const u=r.properties()[t.value],m=n.value;return typeof u==typeof m&&u>=m}],"filter-id->=":[Bt,[ra],(r,[t])=>{const n=r.id(),u=t.value;return typeof n==typeof u&&n>=u}],"filter-has":[Bt,[ra],(r,[t])=>t.value in r.properties()],"filter-has-id":[Bt,[],r=>r.id()!==null&&r.id()!==void 0],"filter-type-in":[Bt,[ti(Xt)],(r,[t])=>t.value.indexOf(r.geometryType())>=0],"filter-id-in":[Bt,[ti(ra)],(r,[t])=>t.value.indexOf(r.id())>=0],"filter-in-small":[Bt,[Xt,ti(ra)],(r,[t,n])=>n.value.indexOf(r.properties()[t.value])>=0],"filter-in-large":[Bt,[Xt,ti(ra)],(r,[t,n])=>function(u,m,x,_){for(;x<=_;){const T=x+_>>1;if(m[T]===u)return!0;m[T]>u?_=T-1:x=T+1}return!1}(r.properties()[t.value],n.value,0,n.value.length-1)],all:{type:Bt,overloads:[[[Bt,Bt],(r,[t,n])=>t.evaluate(r)&&n.evaluate(r)],[Go(Bt),(r,t)=>{for(const n of t)if(!n.evaluate(r))return!1;return!0}]]},any:{type:Bt,overloads:[[[Bt,Bt],(r,[t,n])=>t.evaluate(r)||n.evaluate(r)],[Go(Bt),(r,t)=>{for(const n of t)if(n.evaluate(r))return!0;return!1}]]},"!":[Bt,[Bt],(r,[t])=>!t.evaluate(r)],"is-supported-script":[Bt,[Xt],(r,[t])=>{const n=r.globals&&r.globals.isSupportedScript;return!n||n(t.evaluate(r))}],upcase:[Xt,[Xt],(r,[t])=>t.evaluate(r).toUpperCase()],downcase:[Xt,[Xt],(r,[t])=>t.evaluate(r).toLowerCase()],concat:[Xt,Go(ra),(r,t)=>t.map(n=>nn(n.evaluate(r))).join("")],"resolved-locale":[Xt,[Ki],(r,[t])=>t.evaluate(r).resolvedLocale()]});class il{constructor(t,n){this.expression=t,this._warningHistory={},this._evaluator=new jl,this._defaultValue=n?function(u){if(u.type==="color"&&Xn(u.default))return new ya(0,0,0,0);switch(u.type){case"color":return ya.parse(u.default)||null;case"padding":return Si.parse(u.default)||null;case"numberArray":return Ti.parse(u.default)||null;case"colorArray":return an.parse(u.default)||null;case"variableAnchorOffsetCollection":return Ma.parse(u.default)||null;case"projectionDefinition":return da.parse(u.default)||null;default:return u.default===void 0?null:u.default}}(n):null,this._enumValues=n&&n.type==="enum"?n.values:null}evaluateWithoutErrorHandling(t,n,u,m,x,_){return this._evaluator.globals=t,this._evaluator.feature=n,this._evaluator.featureState=u,this._evaluator.canonical=m,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=_,this.expression.evaluate(this._evaluator)}evaluate(t,n,u,m,x,_){this._evaluator.globals=t,this._evaluator.feature=n||null,this._evaluator.featureState=u||null,this._evaluator.canonical=m,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=_||null;try{const T=this.expression.evaluate(this._evaluator);if(T==null||typeof T=="number"&&T!=T)return this._defaultValue;if(this._enumValues&&!(T in this._enumValues))throw new ai(`Expected value to be one of ${Object.keys(this._enumValues).map(A=>JSON.stringify(A)).join(", ")}, but found ${JSON.stringify(T)} instead.`);return T}catch(T){return this._warningHistory[T.message]||(this._warningHistory[T.message]=!0,typeof console<"u"&&console.warn(T.message)),this._defaultValue}}}function nl(r){return Array.isArray(r)&&r.length>0&&typeof r[0]=="string"&&r[0]in Nn}function Zn(r,t){const n=new ds(Nn,Ys,[],t?function(m){const x={color:pa,string:Xt,number:vt,enum:Xt,boolean:Bt,formatted:tr,padding:ei,numberArray:kn,colorArray:Oo,projectionDefinition:Xr,resolvedImage:Pn,variableAnchorOffsetCollection:_a};return m.type==="array"?ti(x[m.value]||ra,m.length):x[m.type]}(t):void 0),u=n.parse(r,void 0,void 0,void 0,t&&t.type==="string"?{typeAnnotation:"coerce"}:void 0);return u?Ld(new il(u,t)):Ho(n.errors)}class jn{constructor(t,n){this.kind=t,this._styleExpression=n,this.isStateDependent=t!=="constant"&&!el(n.expression),this.globalStateRefs=rl(n.expression)}evaluateWithoutErrorHandling(t,n,u,m,x,_){return this._styleExpression.evaluateWithoutErrorHandling(t,n,u,m,x,_)}evaluate(t,n,u,m,x,_){return this._styleExpression.evaluate(t,n,u,m,x,_)}}class wo{constructor(t,n,u,m){this.kind=t,this.zoomStops=u,this._styleExpression=n,this.isStateDependent=t!=="camera"&&!el(n.expression),this.globalStateRefs=rl(n.expression),this.interpolationType=m}evaluateWithoutErrorHandling(t,n,u,m,x,_){return this._styleExpression.evaluateWithoutErrorHandling(t,n,u,m,x,_)}evaluate(t,n,u,m,x,_){return this._styleExpression.evaluate(t,n,u,m,x,_)}interpolationFactor(t,n,u){return this.interpolationType?An.interpolationFactor(this.interpolationType,t,n,u):0}}function no(r,t){const n=Zn(r,t);if(n.result==="error")return n;const u=n.value.expression,m=Qs(u);if(!m&&!ao(t))return Ho([new Ut("","data expressions not supported")]);const x=to(u,["zoom"]);if(!x&&!Ed(t))return Ho([new Ut("","zoom expressions not supported")]);const _=zr(u);return _||x?_ instanceof Ut?Ho([_]):_ instanceof An&&!Hn(t)?Ho([new Ut("",'"interpolate" expressions cannot be used with this property')]):Ld(_?new wo(m?"camera":"composite",n.value,_.labels,_ instanceof An?_.interpolation:void 0):new jn(m?"constant":"source",n.value)):Ho([new Ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class vr{constructor(t,n){this._parameters=t,this._specification=n,Zt(this,Vc(this._parameters,this._specification))}static deserialize(t){return new vr(t._parameters,t._specification)}static serialize(t){return{_parameters:t._parameters,_specification:t._specification}}}function zr(r){let t=null;if(r instanceof Kl)t=zr(r.result);else if(r instanceof nr){for(const n of r.args)if(t=zr(n),t)break}else(r instanceof Fl||r instanceof An)&&r.input instanceof mr&&r.input.name==="zoom"&&(t=r);return t instanceof Ut||r.eachChild(n=>{const u=zr(n);u instanceof Ut?t=u:!t&&u?t=new Ut("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&u&&t!==u&&(t=new Ut("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function rl(r,t=new Set){return r instanceof Ws&&t.add(r.key),r.eachChild(n=>{rl(n,t)}),t}function ol(r){if(r===!0||r===!1)return!0;if(!Array.isArray(r)||r.length===0)return!1;switch(r[0]){case"has":return r.length>=2&&r[1]!=="$id"&&r[1]!=="$type";case"in":return r.length>=3&&(typeof r[1]!="string"||Array.isArray(r[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return r.length!==3||Array.isArray(r[1])||Array.isArray(r[2]);case"any":case"all":for(const t of r.slice(1))if(!ol(t)&&typeof t!="boolean")return!1;return!0;default:return!0}}const Uc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Oi(r){if(r==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};ol(r)||(r=Co(r));const t=Zn(r,Uc);if(t.result==="error")throw new Error(t.value.map(n=>`${n.key}: ${n.message}`).join(", "));return{filter:(n,u,m)=>t.value.evaluate(n,u,{},m),needGeometry:Va(r),getGlobalStateRefs:()=>rl(t.value.expression)}}function qi(r,t){return r<t?-1:r>t?1:0}function Va(r){if(!Array.isArray(r))return!1;if(r[0]==="within"||r[0]==="distance")return!0;for(let t=1;t<r.length;t++)if(Va(r[t]))return!0;return!1}function Co(r){if(!r)return!0;const t=r[0];return r.length<=1?t!=="any":t==="=="?Rr(r[1],r[2],"=="):t==="!="?Ql(Rr(r[1],r[2],"==")):t==="<"||t===">"||t==="<="||t===">="?Rr(r[1],r[2],t):t==="any"?(n=r.slice(1),["any"].concat(n.map(Co))):t==="all"?["all"].concat(r.slice(1).map(Co)):t==="none"?["all"].concat(r.slice(1).map(Co).map(Ql)):t==="in"?Mu(r[1],r.slice(2)):t==="!in"?Ql(Mu(r[1],r.slice(2))):t==="has"?vs(r[1]):t!=="!has"||Ql(vs(r[1]));var n}function Rr(r,t,n){switch(r){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,r,t]}}function Mu(r,t){if(t.length===0)return!1;switch(r){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(n=>typeof n!=typeof t[0])?["filter-in-large",r,["literal",t.sort(qi)]]:["filter-in-small",r,["literal",t]]}}function vs(r){switch(r){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",r]}}function Ql(r){return["!",r]}function Gc(r){const t=typeof r;if(t==="number"||t==="boolean"||t==="string"||r==null)return JSON.stringify(r);if(Array.isArray(r)){let m="[";for(const x of r)m+=`${Gc(x)},`;return`${m}]`}const n=Object.keys(r).sort();let u="{";for(let m=0;m<n.length;m++)u+=`${JSON.stringify(n[m])}:${Gc(r[n[m]])},`;return`${u}}`}function bs(r){let t="";for(const n of Et)t+=`/${Gc(r[n])}`;return t}function ec(r){const t=r.value;return t?[new et(r.key,t,"constants have been deprecated as of v8")]:[]}function Pi(r){return r instanceof Number||r instanceof String||r instanceof Boolean?r.valueOf():r}function kr(r){if(Array.isArray(r))return r.map(kr);if(r instanceof Object&&!(r instanceof Number||r instanceof String||r instanceof Boolean)){const t={};for(const n in r)t[n]=kr(r[n]);return t}return Pi(r)}function or(r){const t=r.key,n=r.value,u=r.valueSpec||{},m=r.objectElementValidators||{},x=r.style,_=r.styleSpec,T=r.validateSpec;let A=[];const z=wa(n);if(z!=="object")return[new et(t,n,`object expected, ${z} found`)];for(const j in n){const O=j.split(".")[0],V=Pa(u,O)||u["*"];let $;if(Pa(m,O))$=m[O];else if(Pa(u,O))$=T;else if(m["*"])$=m["*"];else{if(!u["*"]){A.push(new et(t,n[j],`unknown property "${j}"`));continue}$=T}A=A.concat($({key:(t&&`${t}.`)+j,value:n[j],valueSpec:V,style:x,styleSpec:_,object:n,objectKey:j,validateSpec:T},n))}for(const j in u)m[j]||u[j].required&&u[j].default===void 0&&n[j]===void 0&&A.push(new et(t,n,`missing required property "${j}"`));return A}function So(r){const t=r.value,n=r.valueSpec,u=r.style,m=r.styleSpec,x=r.key,_=r.arrayElementValidator||r.validateSpec;if(wa(t)!=="array")return[new et(x,t,`array expected, ${wa(t)} found`)];if(n.length&&t.length!==n.length)return[new et(x,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new et(x,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let T={type:n.value,values:n.values};m.$version<7&&(T.function=n.function),wa(n.value)==="object"&&(T=n.value);let A=[];for(let z=0;z<t.length;z++)A=A.concat(_({array:t,arrayIndex:z,value:t[z],valueSpec:T,validateSpec:r.validateSpec,style:u,styleSpec:m,key:`${x}[${z}]`}));return A}function br(r){const t=r.key,n=r.value,u=r.valueSpec;let m=wa(n);return m==="number"&&n!=n&&(m="NaN"),m!=="number"?[new et(t,n,`number expected, ${m} found`)]:"minimum"in u&&n<u.minimum?[new et(t,n,`${n} is less than the minimum value ${u.minimum}`)]:"maximum"in u&&n>u.maximum?[new et(t,n,`${n} is greater than the maximum value ${u.maximum}`)]:[]}function xr(r){const t=r.valueSpec,n=Pi(r.value.type);let u,m,x,_={};const T=n!=="categorical"&&r.value.property===void 0,A=!T,z=wa(r.value.stops)==="array"&&wa(r.value.stops[0])==="array"&&wa(r.value.stops[0][0])==="object",j=or({key:r.key,value:r.value,valueSpec:r.styleSpec.function,validateSpec:r.validateSpec,style:r.style,styleSpec:r.styleSpec,objectElementValidators:{stops:function($){if(n==="identity")return[new et($.key,$.value,'identity function may not have a "stops" property')];let W=[];const Q=$.value;return W=W.concat(So({key:$.key,value:Q,valueSpec:$.valueSpec,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec,arrayElementValidator:O})),wa(Q)==="array"&&Q.length===0&&W.push(new et($.key,Q,"array must have at least one stop")),W},default:function($){return $.validateSpec({key:$.key,value:$.value,valueSpec:t,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec})}}});return n==="identity"&&T&&j.push(new et(r.key,r.value,'missing required property "property"')),n==="identity"||r.value.stops||j.push(new et(r.key,r.value,'missing required property "stops"')),n==="exponential"&&r.valueSpec.expression&&!Hn(r.valueSpec)&&j.push(new et(r.key,r.value,"exponential functions not supported")),r.styleSpec.$version>=8&&(A&&!ao(r.valueSpec)?j.push(new et(r.key,r.value,"property functions not supported")):T&&!Ed(r.valueSpec)&&j.push(new et(r.key,r.value,"zoom functions not supported"))),n!=="categorical"&&!z||r.value.property!==void 0||j.push(new et(r.key,r.value,'"property" property is required')),j;function O($){let W=[];const Q=$.value,re=$.key;if(wa(Q)!=="array")return[new et(re,Q,`array expected, ${wa(Q)} found`)];if(Q.length!==2)return[new et(re,Q,`array length 2 expected, length ${Q.length} found`)];if(z){if(wa(Q[0])!=="object")return[new et(re,Q,`object expected, ${wa(Q[0])} found`)];if(Q[0].zoom===void 0)return[new et(re,Q,"object stop key must have zoom")];if(Q[0].value===void 0)return[new et(re,Q,"object stop key must have value")];if(x&&x>Pi(Q[0].zoom))return[new et(re,Q[0].zoom,"stop zoom values must appear in ascending order")];Pi(Q[0].zoom)!==x&&(x=Pi(Q[0].zoom),m=void 0,_={}),W=W.concat(or({key:`${re}[0]`,value:Q[0],valueSpec:{zoom:{}},validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec,objectElementValidators:{zoom:br,value:V}}))}else W=W.concat(V({key:`${re}[0]`,value:Q[0],validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec},Q));return nl(kr(Q[1]))?W.concat([new et(`${re}[1]`,Q[1],"expressions are not allowed in function stops.")]):W.concat($.validateSpec({key:`${re}[1]`,value:Q[1],valueSpec:t,validateSpec:$.validateSpec,style:$.style,styleSpec:$.styleSpec}))}function V($,W){const Q=wa($.value),re=Pi($.value),ue=$.value!==null?$.value:W;if(u){if(Q!==u)return[new et($.key,ue,`${Q} stop domain type must match previous stop domain type ${u}`)]}else u=Q;if(Q!=="number"&&Q!=="string"&&Q!=="boolean")return[new et($.key,ue,"stop domain value must be a number, string, or boolean")];if(Q!=="number"&&n!=="categorical"){let Ae=`number expected, ${Q} found`;return ao(t)&&n===void 0&&(Ae+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new et($.key,ue,Ae)]}return n!=="categorical"||Q!=="number"||isFinite(re)&&Math.floor(re)===re?n!=="categorical"&&Q==="number"&&m!==void 0&&re<m?[new et($.key,ue,"stop domain values must appear in ascending order")]:(m=re,n==="categorical"&&re in _?[new et($.key,ue,"stop domain values must be unique")]:(_[re]=!0,[])):[new et($.key,ue,`integer expected, found ${re}`)]}}function sr(r){const t=(r.expressionContext==="property"?no:Zn)(kr(r.value),r.valueSpec);if(t.result==="error")return t.value.map(u=>new et(`${r.key}${u.key}`,r.value,u.message));const n=t.value.expression||t.value._styleExpression.expression;if(r.expressionContext==="property"&&r.propertyKey==="text-font"&&!n.outputDefined())return[new et(r.key,r.value,`Invalid data expression for "${r.propertyKey}". Output values must be contained as literals within the expression.`)];if(r.expressionContext==="property"&&r.propertyType==="layout"&&!el(n))return[new et(r.key,r.value,'"feature-state" data expressions are not supported with layout properties.')];if(r.expressionContext==="filter"&&!el(n))return[new et(r.key,r.value,'"feature-state" data expressions are not supported with filters.')];if(r.expressionContext&&r.expressionContext.indexOf("cluster")===0){if(!to(n,["zoom","feature-state"]))return[new et(r.key,r.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(r.expressionContext==="cluster-initial"&&!Qs(n))return[new et(r.key,r.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Hc(r){const t=r.key,n=r.value,u=wa(n);return u!=="string"?[new et(t,n,`color expected, ${u} found`)]:ya.parse(String(n))?[]:[new et(t,n,`color expected, "${n}" found`)]}function sl(r){const t=r.key,n=r.value,u=r.valueSpec,m=[];return Array.isArray(u.values)?u.values.indexOf(Pi(n))===-1&&m.push(new et(t,n,`expected one of [${u.values.join(", ")}], ${JSON.stringify(n)} found`)):Object.keys(u.values).indexOf(Pi(n))===-1&&m.push(new et(t,n,`expected one of [${Object.keys(u.values).join(", ")}], ${JSON.stringify(n)} found`)),m}function ll(r){return ol(kr(r.value))?sr(Zt({},r,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xc(r)}function Xc(r){const t=r.value,n=r.key;if(wa(t)!=="array")return[new et(n,t,`array expected, ${wa(t)} found`)];const u=r.styleSpec;let m,x=[];if(t.length<1)return[new et(n,t,"filter array must have at least 1 element")];switch(x=x.concat(sl({key:`${n}[0]`,value:t[0],valueSpec:u.filter_operator,style:r.style,styleSpec:r.styleSpec})),Pi(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&Pi(t[1])==="$type"&&x.push(new et(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":t.length!==3&&x.push(new et(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(m=wa(t[1]),m!=="string"&&x.push(new et(`${n}[1]`,t[1],`string expected, ${m} found`)));for(let _=2;_<t.length;_++)m=wa(t[_]),Pi(t[1])==="$type"?x=x.concat(sl({key:`${n}[${_}]`,value:t[_],valueSpec:u.geometry_type,style:r.style,styleSpec:r.styleSpec})):m!=="string"&&m!=="number"&&m!=="boolean"&&x.push(new et(`${n}[${_}]`,t[_],`string, number, or boolean expected, ${m} found`));break;case"any":case"all":case"none":for(let _=1;_<t.length;_++)x=x.concat(Xc({key:`${n}[${_}]`,value:t[_],style:r.style,styleSpec:r.styleSpec}));break;case"has":case"!has":m=wa(t[1]),t.length!==2?x.push(new et(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):m!=="string"&&x.push(new et(`${n}[1]`,t[1],`string expected, ${m} found`))}return x}function xs(r,t){const n=r.key,u=r.validateSpec,m=r.style,x=r.styleSpec,_=r.value,T=r.objectKey,A=x[`${t}_${r.layerType}`];if(!A)return[];const z=T.match(/^(.*)-transition$/);if(t==="paint"&&z&&A[z[1]]&&A[z[1]].transition)return u({key:n,value:_,valueSpec:x.transition,style:m,styleSpec:x});const j=r.valueSpec||A[T];if(!j)return[new et(n,_,`unknown property "${T}"`)];let O;if(wa(_)==="string"&&ao(j)&&!j.tokens&&(O=/^{([^}]+)}$/.exec(_)))return[new et(n,_,`"${T}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(O[1])} }\`.`)];const V=[];return r.layerType==="symbol"&&(T==="text-field"&&m&&!m.glyphs&&V.push(new et(n,_,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&Xn(kr(_))&&Pi(_.type)==="identity"&&V.push(new et(n,_,'"text-font" does not support identity functions'))),V.concat(u({key:r.key,value:_,valueSpec:j,style:m,styleSpec:x,expressionContext:"property",propertyType:t,propertyKey:T}))}function Vi(r){return xs(r,"paint")}function Xo(r){return xs(r,"layout")}function $n(r){let t=[];const n=r.value,u=r.key,m=r.style,x=r.styleSpec;if(wa(n)!=="object")return[new et(u,n,`object expected, ${wa(n)} found`)];n.type||n.ref||t.push(new et(u,n,'either "type" or "ref" is required'));let _=Pi(n.type);const T=Pi(n.ref);if(n.id){const A=Pi(n.id);for(let z=0;z<r.arrayIndex;z++){const j=m.layers[z];Pi(j.id)===A&&t.push(new et(u,n.id,`duplicate layer id "${n.id}", previously used at line ${j.id.__line__}`))}}if("ref"in n){let A;["type","source","source-layer","filter","layout"].forEach(z=>{z in n&&t.push(new et(u,n[z],`"${z}" is prohibited for ref layers`))}),m.layers.forEach(z=>{Pi(z.id)===T&&(A=z)}),A?A.ref?t.push(new et(u,n.ref,"ref cannot reference another ref layer")):_=Pi(A.type):t.push(new et(u,n.ref,`ref layer "${T}" not found`))}else if(_!=="background")if(n.source){const A=m.sources&&m.sources[n.source],z=A&&Pi(A.type);A?z==="vector"&&_==="raster"?t.push(new et(u,n.source,`layer "${n.id}" requires a raster source`)):z!=="raster-dem"&&_==="hillshade"||z!=="raster-dem"&&_==="color-relief"?t.push(new et(u,n.source,`layer "${n.id}" requires a raster-dem source`)):z==="raster"&&_!=="raster"?t.push(new et(u,n.source,`layer "${n.id}" requires a vector source`)):z!=="vector"||n["source-layer"]?z==="raster-dem"&&_!=="hillshade"&&_!=="color-relief"?t.push(new et(u,n.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):_!=="line"||!n.paint||!n.paint["line-gradient"]||z==="geojson"&&A.lineMetrics||t.push(new et(u,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new et(u,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new et(u,n.source,`source "${n.source}" not found`))}else t.push(new et(u,n,'missing required property "source"'));return t=t.concat(or({key:u,value:n,valueSpec:x.layer,style:r.style,styleSpec:r.styleSpec,validateSpec:r.validateSpec,objectElementValidators:{"*":()=>[],type:()=>r.validateSpec({key:`${u}.type`,value:n.type,valueSpec:x.layer.type,style:r.style,styleSpec:r.styleSpec,validateSpec:r.validateSpec,object:n,objectKey:"type"}),filter:ll,layout:A=>or({layer:n,key:A.key,value:A.value,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":z=>Xo(Zt({layerType:_},z))}}),paint:A=>or({layer:n,key:A.key,value:A.value,style:A.style,styleSpec:A.styleSpec,validateSpec:A.validateSpec,objectElementValidators:{"*":z=>Vi(Zt({layerType:_},z))}})}})),t}function ro(r){const t=r.value,n=r.key,u=wa(t);return u!=="string"?[new et(n,t,`string expected, ${u} found`)]:[]}const Nd={promoteId:function({key:r,value:t}){if(wa(t)==="string")return ro({key:r,value:t});{const n=[];for(const u in t)n.push(...ro({key:`${r}.${u}`,value:t[u]}));return n}}};function Gh(r){const t=r.value,n=r.key,u=r.styleSpec,m=r.style,x=r.validateSpec;if(!t.type)return[new et(n,t,'"type" is required')];const _=Pi(t.type);let T;switch(_){case"vector":case"raster":return T=or({key:n,value:t,valueSpec:u[`source_${_.replace("-","_")}`],style:r.style,styleSpec:u,objectElementValidators:Nd,validateSpec:x}),T;case"raster-dem":return T=function(A){var z;const j=(z=A.sourceName)!==null&&z!==void 0?z:"",O=A.value,V=A.styleSpec,$=V.source_raster_dem,W=A.style;let Q=[];const re=wa(O);if(O===void 0)return Q;if(re!=="object")return Q.push(new et("source_raster_dem",O,`object expected, ${re} found`)),Q;const ue=Pi(O.encoding)==="custom",Ae=["redFactor","greenFactor","blueFactor","baseShift"],ve=A.value.encoding?`"${A.value.encoding}"`:"Default";for(const X in O)!ue&&Ae.includes(X)?Q.push(new et(X,O[X],`In "${j}": "${X}" is only valid when "encoding" is set to "custom". ${ve} encoding found`)):$[X]?Q=Q.concat(A.validateSpec({key:X,value:O[X],valueSpec:$[X],validateSpec:A.validateSpec,style:W,styleSpec:V})):Q.push(new et(X,O[X],`unknown property "${X}"`));return Q}({sourceName:n,value:t,style:r.style,styleSpec:u,validateSpec:x}),T;case"geojson":if(T=or({key:n,value:t,valueSpec:u.source_geojson,style:m,styleSpec:u,validateSpec:x,objectElementValidators:Nd}),t.cluster)for(const A in t.clusterProperties){const[z,j]=t.clusterProperties[A],O=typeof z=="string"?[z,["accumulated"],["get",A]]:z;T.push(...sr({key:`${n}.${A}.map`,value:j,expressionContext:"cluster-map"})),T.push(...sr({key:`${n}.${A}.reduce`,value:O,expressionContext:"cluster-reduce"}))}return T;case"video":return or({key:n,value:t,valueSpec:u.source_video,style:m,validateSpec:x,styleSpec:u});case"image":return or({key:n,value:t,valueSpec:u.source_image,style:m,validateSpec:x,styleSpec:u});case"canvas":return[new et(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return sl({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function on(r){const t=r.value,n=r.styleSpec,u=n.light,m=r.style;let x=[];const _=wa(t);if(t===void 0)return x;if(_!=="object")return x=x.concat([new et("light",t,`object expected, ${_} found`)]),x;for(const T in t){const A=T.match(/^(.*)-transition$/);x=x.concat(A&&u[A[1]]&&u[A[1]].transition?r.validateSpec({key:T,value:t[T],valueSpec:n.transition,validateSpec:r.validateSpec,style:m,styleSpec:n}):u[T]?r.validateSpec({key:T,value:t[T],valueSpec:u[T],validateSpec:r.validateSpec,style:m,styleSpec:n}):[new et(T,t[T],`unknown property "${T}"`)])}return x}function _s(r){const t=r.value,n=r.styleSpec,u=n.sky,m=r.style,x=wa(t);if(t===void 0)return[];if(x!=="object")return[new et("sky",t,`object expected, ${x} found`)];let _=[];for(const T in t)_=_.concat(u[T]?r.validateSpec({key:T,value:t[T],valueSpec:u[T],style:m,styleSpec:n}):[new et(T,t[T],`unknown property "${T}"`)]);return _}function cl(r){const t=r.value,n=r.styleSpec,u=n.terrain,m=r.style;let x=[];const _=wa(t);if(t===void 0)return x;if(_!=="object")return x=x.concat([new et("terrain",t,`object expected, ${_} found`)]),x;for(const T in t)x=x.concat(u[T]?r.validateSpec({key:T,value:t[T],valueSpec:u[T],validateSpec:r.validateSpec,style:m,styleSpec:n}):[new et(T,t[T],`unknown property "${T}"`)]);return x}function ws(r){let t=[];const n=r.value,u=r.key;if(Array.isArray(n)){const m=[],x=[];for(const _ in n)n[_].id&&m.includes(n[_].id)&&t.push(new et(u,n,`all the sprites' ids must be unique, but ${n[_].id} is duplicated`)),m.push(n[_].id),n[_].url&&x.includes(n[_].url)&&t.push(new et(u,n,`all the sprites' URLs must be unique, but ${n[_].url} is duplicated`)),x.push(n[_].url),t=t.concat(or({key:`${u}[${_}]`,value:n[_],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:r.validateSpec}));return t}return ro({key:u,value:n})}function Au(r){return t=r.value,t&&t.constructor===Object?[]:[new et(r.key,r.value,`object expected, ${wa(r.value)} found`)];var t}const Zo={"*":()=>[],array:So,boolean:function(r){const t=r.value,n=r.key,u=wa(t);return u!=="boolean"?[new et(n,t,`boolean expected, ${u} found`)]:[]},number:br,color:Hc,constants:ec,enum:sl,filter:ll,function:xr,layer:$n,object:or,source:Gh,light:on,sky:_s,terrain:cl,projection:function(r){const t=r.value,n=r.styleSpec,u=n.projection,m=r.style,x=wa(t);if(t===void 0)return[];if(x!=="object")return[new et("projection",t,`object expected, ${x} found`)];let _=[];for(const T in t)_=_.concat(u[T]?r.validateSpec({key:T,value:t[T],valueSpec:u[T],style:m,styleSpec:n}):[new et(T,t[T],`unknown property "${T}"`)]);return _},projectionDefinition:function(r){const t=r.key;let n=r.value;n=n instanceof String?n.valueOf():n;const u=wa(n);return u!=="array"||function(m){return Array.isArray(m)&&m.length===3&&typeof m[0]=="string"&&typeof m[1]=="string"&&typeof m[2]=="number"}(n)||function(m){return!!["interpolate","step","literal"].includes(m[0])}(n)?["array","string"].includes(u)?[]:[new et(t,n,`projection expected, invalid type "${u}" found`)]:[new et(t,n,`projection expected, invalid array ${JSON.stringify(n)} found`)]},string:ro,formatted:function(r){return ro(r).length===0?[]:sr(r)},resolvedImage:function(r){return ro(r).length===0?[]:sr(r)},padding:function(r){const t=r.key,n=r.value;if(wa(n)==="array"){if(n.length<1||n.length>4)return[new et(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const u={type:"number"};let m=[];for(let x=0;x<n.length;x++)m=m.concat(r.validateSpec({key:`${t}[${x}]`,value:n[x],validateSpec:r.validateSpec,valueSpec:u}));return m}return br({key:t,value:n,valueSpec:{}})},numberArray:function(r){const t=r.key,n=r.value;if(wa(n)==="array"){const u={type:"number"};if(n.length<1)return[new et(t,n,"array length at least 1 expected, length 0 found")];let m=[];for(let x=0;x<n.length;x++)m=m.concat(r.validateSpec({key:`${t}[${x}]`,value:n[x],validateSpec:r.validateSpec,valueSpec:u}));return m}return br({key:t,value:n,valueSpec:{}})},colorArray:function(r){const t=r.key,n=r.value;if(wa(n)==="array"){if(n.length<1)return[new et(t,n,"array length at least 1 expected, length 0 found")];let u=[];for(let m=0;m<n.length;m++)u=u.concat(Hc({key:`${t}[${m}]`,value:n[m]}));return u}return Hc({key:t,value:n})},variableAnchorOffsetCollection:function(r){const t=r.key,n=r.value,u=wa(n),m=r.styleSpec;if(u!=="array"||n.length<1||n.length%2!=0)return[new et(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let _=0;_<n.length;_+=2)x=x.concat(sl({key:`${t}[${_}]`,value:n[_],valueSpec:m.layout_symbol["text-anchor"]})),x=x.concat(So({key:`${t}[${_+1}]`,value:n[_+1],valueSpec:{length:2,value:"number"},validateSpec:r.validateSpec,style:r.style,styleSpec:m}));return x},sprite:ws,state:Au};function $o(r){const t=r.value,n=r.valueSpec,u=r.styleSpec;return r.validateSpec=$o,n.expression&&Xn(Pi(t))?xr(r):n.expression&&nl(kr(t))?sr(r):n.type&&Zo[n.type]?Zo[n.type](r):or(Zt({},r,{valueSpec:n.type?u[n.type]:n}))}function tc(r){const t=r.value,n=r.key,u=ro(r);return u.length||(t.indexOf("{fontstack}")===-1&&u.push(new et(n,t,'"glyphs" url must include a "{fontstack}" token')),t.indexOf("{range}")===-1&&u.push(new et(n,t,'"glyphs" url must include a "{range}" token'))),u}function _r(r,t=Te){let n=[];return n=n.concat($o({key:"",value:r,valueSpec:t.$root,styleSpec:t,style:r,validateSpec:$o,objectElementValidators:{glyphs:tc,"*":()=>[]}})),r.constants&&(n=n.concat(ec({key:"constants",value:r.constants}))),jd(n)}function oo(r){return function(t){return r({...t,validateSpec:$o})}}function jd(r){return[].concat(r).sort((t,n)=>t.line-n.line)}function Ui(r){return function(...t){return jd(r.apply(this,t))}}_r.source=Ui(oo(Gh)),_r.sprite=Ui(oo(ws)),_r.glyphs=Ui(oo(tc)),_r.light=Ui(oo(on)),_r.sky=Ui(oo(_s)),_r.terrain=Ui(oo(cl)),_r.state=Ui(oo(Au)),_r.layer=Ui(oo($n)),_r.filter=Ui(oo(ll)),_r.paintProperty=Ui(oo(Vi)),_r.layoutProperty=Ui(oo(Xo));const Cs=_r,Iu=Cs.light,Zc=Cs.sky,$c=Cs.paintProperty,Lu=Cs.layoutProperty;function Ss(r,t){let n=!1;if(t&&t.length)for(const u of t)r.fire(new Be(new Error(u.message))),n=!0;return n}class Ts{constructor(t,n,u){const m=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;const _=new Int32Array(this.arrayBuffer);t=_[0],this.d=(n=_[1])+2*(u=_[2]);for(let A=0;A<this.d*this.d;A++){const z=_[3+A],j=_[3+A+1];m.push(z===j?null:_.subarray(z,j))}const T=_[3+m.length+1];this.keys=_.subarray(_[3+m.length],T),this.bboxes=_.subarray(T),this.insert=this._insertReadonly}else{this.d=n+2*u;for(let _=0;_<this.d*this.d;_++)m.push([]);this.keys=[],this.bboxes=[]}this.n=n,this.extent=t,this.padding=u,this.scale=n/t,this.uid=0;const x=u/n*t;this.min=-x,this.max=t+x}insert(t,n,u,m,x){this._forEachCell(n,u,m,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(t),this.bboxes.push(n),this.bboxes.push(u),this.bboxes.push(m),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(t,n,u,m,x,_){this.cells[x].push(_)}query(t,n,u,m,x){const _=this.min,T=this.max;if(t<=_&&n<=_&&T<=u&&T<=m&&!x)return Array.prototype.slice.call(this.keys);{const A=[];return this._forEachCell(t,n,u,m,this._queryCell,A,{},x),A}}_queryCell(t,n,u,m,x,_,T,A){const z=this.cells[x];if(z!==null){const j=this.keys,O=this.bboxes;for(let V=0;V<z.length;V++){const $=z[V];if(T[$]===void 0){const W=4*$;(A?A(O[W+0],O[W+1],O[W+2],O[W+3]):t<=O[W+2]&&n<=O[W+3]&&u>=O[W+0]&&m>=O[W+1])?(T[$]=!0,_.push(j[$])):T[$]=!1}}}}_forEachCell(t,n,u,m,x,_,T,A){const z=this._convertToCellCoord(t),j=this._convertToCellCoord(n),O=this._convertToCellCoord(u),V=this._convertToCellCoord(m);for(let $=z;$<=O;$++)for(let W=j;W<=V;W++){const Q=this.d*W+$;if((!A||A(this._convertFromCellCoord($),this._convertFromCellCoord(W),this._convertFromCellCoord($+1),this._convertFromCellCoord(W+1)))&&x.call(this,t,n,u,m,Q,_,T,A))return}}_convertFromCellCoord(t){return(t-this.padding)/this.scale}_convertToCellCoord(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const t=this.cells,n=3+this.cells.length+1+1;let u=0;for(let _=0;_<this.cells.length;_++)u+=this.cells[_].length;const m=new Int32Array(n+u+this.keys.length+this.bboxes.length);m[0]=this.extent,m[1]=this.n,m[2]=this.padding;let x=n;for(let _=0;_<t.length;_++){const T=t[_];m[3+_]=x,m.set(T,x),x+=T.length}return m[3+t.length]=x,m.set(this.keys,x),x+=this.keys.length,m[3+t.length+1]=x,m.set(this.bboxes,x),x+=this.bboxes.length,m.buffer}static serialize(t,n){const u=t.toArrayBuffer();return n&&n.push(u),{buffer:u}}static deserialize(t){return new Ts(t.buffer)}}const so={};function Nt(r,t,n={}){if(so[r])throw new Error(`${r} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:r,writeable:!1}),so[r]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}Nt("Object",Object),Nt("Set",Set),Nt("TransferableGridIndex",Ts),Nt("Color",ya),Nt("Error",Error),Nt("AJAXError",ge),Nt("ResolvedImage",Mn),Nt("StylePropertyFunction",vr),Nt("StyleExpression",il,{omit:["_evaluator"]}),Nt("ZoomDependentExpression",wo),Nt("ZoomConstantExpression",jn),Nt("CompoundExpression",mr,{omit:["_evaluate"]});for(const r in Nn)Nn[r]._classRegistryKey||Nt(`Expression_${r}`,Nn[r]);function Eu(r){return r&&typeof ArrayBuffer<"u"&&(r instanceof ArrayBuffer||r.constructor&&r.constructor.name==="ArrayBuffer")}function Jo(r){return r.$name||r.constructor._classRegistryKey}function zu(r){return!function(t){if(t===null||typeof t!="object")return!1;const n=Jo(t);return!(!n||n==="Object")}(r)&&(r==null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||r instanceof Boolean||r instanceof Number||r instanceof String||r instanceof Date||r instanceof RegExp||r instanceof Blob||r instanceof Error||Eu(r)||hr(r)||ArrayBuffer.isView(r)||r instanceof ImageData)}function ac(r,t){if(zu(r))return(Eu(r)||hr(r))&&t&&t.push(r),ArrayBuffer.isView(r)&&t&&t.push(r.buffer),r instanceof ImageData&&t&&t.push(r.data.buffer),r;if(Array.isArray(r)){const x=[];for(const _ of r)x.push(ac(_,t));return x}if(typeof r!="object")throw new Error("can't serialize object of type "+typeof r);const n=Jo(r);if(!n)throw new Error(`can't serialize object of unregistered class ${r.constructor.name}`);if(!so[n])throw new Error(`${n} is not registered.`);const{klass:u}=so[n],m=u.serialize?u.serialize(r,t):{};if(u.serialize){if(t&&m===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const x in r){if(!r.hasOwnProperty(x)||so[n].omit.indexOf(x)>=0)continue;const _=r[x];m[x]=so[n].shallow.indexOf(x)>=0?_:ac(_,t)}r instanceof Error&&(m.message=r.message)}if(m.$name)throw new Error("$name property is reserved for worker serialization logic.");return n!=="Object"&&(m.$name=n),m}function wr(r){if(zu(r))return r;if(Array.isArray(r))return r.map(wr);if(typeof r!="object")throw new Error("can't deserialize object of type "+typeof r);const t=Jo(r)||"Object";if(!so[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:n}=so[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(r);const u=Object.create(n.prototype);for(const m of Object.keys(r)){if(m==="$name")continue;const x=r[m];u[m]=so[t].shallow.indexOf(m)>=0?x:wr(x)}return u}class Jc{constructor(){this.first=!0}update(t,n){const u=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=n):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=n),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=u,!0))}}const Ca={"Latin-1 Supplement":r=>r>=128&&r<=255,"Hangul Jamo":r=>r>=4352&&r<=4607,Khmer:r=>r>=6016&&r<=6143,"General Punctuation":r=>r>=8192&&r<=8303,"Letterlike Symbols":r=>r>=8448&&r<=8527,"Number Forms":r=>r>=8528&&r<=8591,"Miscellaneous Technical":r=>r>=8960&&r<=9215,"Control Pictures":r=>r>=9216&&r<=9279,"Optical Character Recognition":r=>r>=9280&&r<=9311,"Enclosed Alphanumerics":r=>r>=9312&&r<=9471,"Geometric Shapes":r=>r>=9632&&r<=9727,"Miscellaneous Symbols":r=>r>=9728&&r<=9983,"Miscellaneous Symbols and Arrows":r=>r>=11008&&r<=11263,"Ideographic Description Characters":r=>r>=12272&&r<=12287,"CJK Symbols and Punctuation":r=>r>=12288&&r<=12351,Hiragana:r=>r>=12352&&r<=12447,Katakana:r=>r>=12448&&r<=12543,Kanbun:r=>r>=12688&&r<=12703,"CJK Strokes":r=>r>=12736&&r<=12783,"Enclosed CJK Letters and Months":r=>r>=12800&&r<=13055,"CJK Compatibility":r=>r>=13056&&r<=13311,"Yijing Hexagram Symbols":r=>r>=19904&&r<=19967,"CJK Unified Ideographs":r=>r>=19968&&r<=40959,"Hangul Syllables":r=>r>=44032&&r<=55215,"Private Use Area":r=>r>=57344&&r<=63743,"Vertical Forms":r=>r>=65040&&r<=65055,"CJK Compatibility Forms":r=>r>=65072&&r<=65103,"Small Form Variants":r=>r>=65104&&r<=65135,"Halfwidth and Fullwidth Forms":r=>r>=65280&&r<=65519};function To(r){for(const t of r)if(Ds(t.charCodeAt(0)))return!0;return!1}function Wo(r){for(const t of r)if(!Od(t.charCodeAt(0)))return!1;return!0}function Ps(r){const t=r.map(n=>{try{return new RegExp(`\\p{sc=${n}}`,"u").source}catch{return null}}).filter(n=>n);return new RegExp(t.join("|"),"u")}const Kd=Ps(["Arab","Dupl","Mong","Ougr","Syrc"]);function Od(r){return!Kd.test(String.fromCodePoint(r))}const ul=Ps(["Bopo","Hani","Hira","Kana","Kits","Nshu","Tang","Yiii"]);function Ds(r){return!(r!==746&&r!==747&&(r<4352||!(Ca["CJK Compatibility Forms"](r)&&!(r>=65097&&r<=65103)||Ca["CJK Compatibility"](r)||Ca["CJK Strokes"](r)||!(!Ca["CJK Symbols and Punctuation"](r)||r>=12296&&r<=12305||r>=12308&&r<=12319||r===12336)||Ca["Enclosed CJK Letters and Months"](r)||Ca["Ideographic Description Characters"](r)||Ca.Kanbun(r)||Ca.Katakana(r)&&r!==12540||!(!Ca["Halfwidth and Fullwidth Forms"](r)||r===65288||r===65289||r===65293||r>=65306&&r<=65310||r===65339||r===65341||r===65343||r>=65371&&r<=65503||r===65507||r>=65512&&r<=65519)||!(!Ca["Small Form Variants"](r)||r>=65112&&r<=65118||r>=65123&&r<=65126)||Ca["Vertical Forms"](r)||Ca["Yijing Hexagram Symbols"](r)||new RegExp("\\p{sc=Cans}","u").test(String.fromCodePoint(r))||new RegExp("\\p{sc=Hang}","u").test(String.fromCodePoint(r))||ul.test(String.fromCodePoint(r)))))}function Ru(r){return!(Ds(r)||function(t){return!!(Ca["Latin-1 Supplement"](t)&&(t===167||t===169||t===174||t===177||t===188||t===189||t===190||t===215||t===247)||Ca["General Punctuation"](t)&&(t===8214||t===8224||t===8225||t===8240||t===8241||t===8251||t===8252||t===8258||t===8263||t===8264||t===8265||t===8273)||Ca["Letterlike Symbols"](t)||Ca["Number Forms"](t)||Ca["Miscellaneous Technical"](t)&&(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||t===9003||t>=9085&&t<=9114||t>=9150&&t<=9165||t===9167||t>=9169&&t<=9179||t>=9186&&t<=9215)||Ca["Control Pictures"](t)&&t!==9251||Ca["Optical Character Recognition"](t)||Ca["Enclosed Alphanumerics"](t)||Ca["Geometric Shapes"](t)||Ca["Miscellaneous Symbols"](t)&&!(t>=9754&&t<=9759)||Ca["Miscellaneous Symbols and Arrows"](t)&&(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243)||Ca["CJK Symbols and Punctuation"](t)||Ca.Katakana(t)||Ca["Private Use Area"](t)||Ca["CJK Compatibility Forms"](t)||Ca["Small Form Variants"](t)||Ca["Halfwidth and Fullwidth Forms"](t)||t===8734||t===8756||t===8757||t>=9984&&t<=10087||t>=10102&&t<=10131||t===65532||t===65533)}(r))}const qd=Ps(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Po(r){return qd.test(String.fromCodePoint(r))}function ku(r,t){return!(!t&&Po(r)||r>=2304&&r<=3583||r>=3840&&r<=4255||Ca.Khmer(r))}function Nu(r){for(const t of r)if(Po(t.charCodeAt(0)))return!0;return!1}const Do=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(r){this.pluginStatus=r.pluginStatus,this.pluginURL=r.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(r){if(Do.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=r.applyArabicShaping,this.processBidirectionalText=r.processBidirectionalText,this.processStyledBidirectionalText=r.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(r,t){return c(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if(r.pluginStatus!=="loading")return this.setState(r),r;const n=r.pluginURL,u=new Promise(x=>{this.loadScriptResolve=x});t(n);const m=new Promise(x=>setTimeout(()=>x(),this.TIMEOUT));if(yield Promise.race([u,m]),this.isParsed()){const x={pluginStatus:"loaded",pluginURL:n};return this.setState(x),x}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${n}`)})}};class ci{constructor(t,n){this.zoom=t,n?(this.now=n.now||0,this.fadeDuration=n.fadeDuration||0,this.zoomHistory=n.zoomHistory||new Jc,this.transition=n.transition||{},this.globalState=n.globalState||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Jc,this.transition={},this.globalState={})}isSupportedScript(t){return function(n,u){for(const m of n)if(!ku(m.charCodeAt(0),u))return!1;return!0}(t,Do.getRTLTextPluginStatus()==="loaded")}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const t=this.zoom,n=t-Math.floor(t),u=this.crossFadingFactor();return t>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:n+(1-n)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*n}}}class Nr{constructor(t,n){this.property=t,this.value=n,this.expression=function(u,m){if(Xn(u))return new vr(u,m);if(nl(u)){const x=no(u,m);if(x.result==="error")throw new Error(x.value.map(_=>`${_.key}: ${_.message}`).join(", "));return x.value}{let x=u;return m.type==="color"&&typeof u=="string"?x=ya.parse(u):m.type!=="padding"||typeof u!="number"&&!Array.isArray(u)?m.type!=="numberArray"||typeof u!="number"&&!Array.isArray(u)?m.type!=="colorArray"||typeof u!="string"&&!Array.isArray(u)?m.type==="variableAnchorOffsetCollection"&&Array.isArray(u)?x=Ma.parse(u):m.type==="projectionDefinition"&&typeof u=="string"&&(x=da.parse(u)):x=an.parse(u):x=Ti.parse(u):x=Si.parse(u),{globalStateRefs:new Set,kind:"constant",evaluate:()=>x}}}(n===void 0?t.specification.default:n,t.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(t,n,u){return this.property.possiblyEvaluate(this,t,n,u)}}class Sa{constructor(t){this.property=t,this.value=new Nr(t,void 0)}transitioned(t,n){return new Gi(this.property,this.value,n,Ii({},t.transition,this.transition),t.now)}untransitioned(){return new Gi(this.property,this.value,null,{},0)}}class Ga{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)}getValue(t){return Qn(this._values[t].value.value)}setValue(t,n){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Sa(this._values[t].property)),this._values[t].value=new Nr(this._values[t].property,n===null?void 0:Qn(n))}getTransition(t){return Qn(this._values[t].transition)}setTransition(t,n){Object.prototype.hasOwnProperty.call(this._values,t)||(this._values[t]=new Sa(this._values[t].property)),this._values[t].transition=Qn(n)||void 0}serialize(){const t={};for(const n of Object.keys(this._values)){const u=this.getValue(n);u!==void 0&&(t[n]=u);const m=this.getTransition(n);m!==void 0&&(t[`${n}-transition`]=m)}return t}transitioned(t,n){const u=new Wc(this._properties);for(const m of Object.keys(this._values))u._values[m]=this._values[m].transitioned(t,n._values[m]);return u}untransitioned(){const t=new Wc(this._properties);for(const n of Object.keys(this._values))t._values[n]=this._values[n].untransitioned();return t}}class Gi{constructor(t,n,u,m,x){this.property=t,this.value=n,this.begin=x+m.delay||0,this.end=this.begin+m.duration||0,t.specification.transition&&(m.delay||m.duration)&&(this.prior=u)}possiblyEvaluate(t,n,u){const m=t.now||0,x=this.value.possiblyEvaluate(t,n,u),_=this.prior;if(_){if(m>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(m<this.begin)return _.possiblyEvaluate(t,n,u);{const T=(m-this.begin)/(this.end-this.begin);return this.property.interpolate(_.possiblyEvaluate(t,n,u),x,aa(T))}}return x}}class Wc{constructor(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)}possiblyEvaluate(t,n,u){const m=new dl(this._properties);for(const x of Object.keys(this._values))m._values[x]=this._values[x].possiblyEvaluate(t,n,u);return m}hasTransition(){for(const t of Object.keys(this._values))if(this._values[t].prior)return!0;return!1}}class ic{constructor(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)}hasValue(t){return this._values[t].value!==void 0}getValue(t){return Qn(this._values[t].value)}setValue(t,n){this._values[t]=new Nr(this._values[t].property,n===null?void 0:Qn(n))}serialize(){const t={};for(const n of Object.keys(this._values)){const u=this.getValue(n);u!==void 0&&(t[n]=u)}return t}possiblyEvaluate(t,n,u){const m=new dl(this._properties);for(const x of Object.keys(this._values))m._values[x]=this._values[x].possiblyEvaluate(t,n,u);return m}}class Kn{constructor(t,n,u){this.property=t,this.value=n,this.parameters=u}isConstant(){return this.value.kind==="constant"}constantOr(t){return this.value.kind==="constant"?this.value.value:t}evaluate(t,n,u,m){return this.property.evaluate(this.value,this.parameters,t,n,u,m)}}class dl{constructor(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)}get(t){return this._values[t]}}class jt{constructor(t){this.specification=t}possiblyEvaluate(t,n){if(t.isDataDriven())throw new Error("Value should not be data driven");return t.expression.evaluate(n)}interpolate(t,n,u){const m=fr[this.specification.type];return m?m(t,n,u):t}}class Wt{constructor(t,n){this.specification=t,this.overrides=n}possiblyEvaluate(t,n,u,m){return new Kn(this,t.expression.kind==="constant"||t.expression.kind==="camera"?{kind:"constant",value:t.expression.evaluate(n,null,{},u,m)}:t.expression,n)}interpolate(t,n,u){if(t.value.kind!=="constant"||n.value.kind!=="constant")return t;if(t.value.value===void 0||n.value.value===void 0)return new Kn(this,{kind:"constant",value:void 0},t.parameters);const m=fr[this.specification.type];if(m){const x=m(t.value.value,n.value.value,u);return new Kn(this,{kind:"constant",value:x},t.parameters)}return t}evaluate(t,n,u,m,x,_){return t.kind==="constant"?t.value:t.evaluate(n,u,m,x,_)}}class ju extends Wt{possiblyEvaluate(t,n,u,m){if(t.value===void 0)return new Kn(this,{kind:"constant",value:void 0},n);if(t.expression.kind==="constant"){const x=t.expression.evaluate(n,null,{},u,m),_=t.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,T=this._calculate(_,_,_,n);return new Kn(this,{kind:"constant",value:T},n)}if(t.expression.kind==="camera"){const x=this._calculate(t.expression.evaluate({zoom:n.zoom-1}),t.expression.evaluate({zoom:n.zoom}),t.expression.evaluate({zoom:n.zoom+1}),n);return new Kn(this,{kind:"constant",value:x},n)}return new Kn(this,t.expression,n)}evaluate(t,n,u,m,x,_){if(t.kind==="source"){const T=t.evaluate(n,u,m,x,_);return this._calculate(T,T,T,n)}return t.kind==="composite"?this._calculate(t.evaluate({zoom:Math.floor(n.zoom)-1},u,m),t.evaluate({zoom:Math.floor(n.zoom)},u,m),t.evaluate({zoom:Math.floor(n.zoom)+1},u,m),n):t.value}_calculate(t,n,u,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:t,to:n}:{from:u,to:n}}interpolate(t){return t}}class Li{constructor(t){this.specification=t}possiblyEvaluate(t,n,u,m){if(t.value!==void 0){if(t.expression.kind==="constant"){const x=t.expression.evaluate(n,null,{},u,m);return this._calculate(x,x,x,n)}return this._calculate(t.expression.evaluate(new ci(Math.floor(n.zoom-1),n)),t.expression.evaluate(new ci(Math.floor(n.zoom),n)),t.expression.evaluate(new ci(Math.floor(n.zoom+1),n)),n)}}_calculate(t,n,u,m){return m.zoom>m.zoomHistory.lastIntegerZoom?{from:t,to:n}:{from:u,to:n}}interpolate(t){return t}}class hl{constructor(t){this.specification=t}possiblyEvaluate(t,n,u,m){return!!t.expression.evaluate(n,null,{},u,m)}interpolate(){return!1}}class In{constructor(t){this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const n in t){const u=t[n];u.specification.overridable&&this.overridableProperties.push(n);const m=this.defaultPropertyValues[n]=new Nr(u,void 0),x=this.defaultTransitionablePropertyValues[n]=new Sa(u);this.defaultTransitioningPropertyValues[n]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=m.possiblyEvaluate({})}}}Nt("DataDrivenProperty",Wt),Nt("DataConstantProperty",jt),Nt("CrossFadedDataDrivenProperty",ju),Nt("CrossFadedProperty",Li),Nt("ColorRampProperty",hl);const Bd="-transition";class _n extends ut{constructor(t,n){if(super(),this.id=t.id,this.type=t.type,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},t.type!=="custom"&&(this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!=="background"&&(this.source=t.source,this.sourceLayer=t["source-layer"],this.filter=t.filter,this._featureFilter=Oi(t.filter)),n.layout&&(this._unevaluatedLayout=new ic(n.layout)),n.paint)){this._transitionablePaint=new Ga(n.paint);for(const u in t.paint)this.setPaintProperty(u,t.paint[u],{validate:!1});for(const u in t.layout)this.setLayoutProperty(u,t.layout[u],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new dl(n.paint)}}setFilter(t){this.filter=t,this._featureFilter=Oi(t)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(t){return t==="visibility"?this.visibility:this._unevaluatedLayout.getValue(t)}getLayoutAffectingGlobalStateRefs(){const t=new Set;if(this._unevaluatedLayout)for(const n in this._unevaluatedLayout._values){const u=this._unevaluatedLayout._values[n];for(const m of u.getGlobalStateRefs())t.add(m)}for(const n of this._featureFilter.getGlobalStateRefs())t.add(n);return t}setLayoutProperty(t,n,u={}){n!=null&&this._validate(Lu,`layers.${this.id}.layout.${t}`,t,n,u)||(t!=="visibility"?this._unevaluatedLayout.setValue(t,n):this.visibility=n)}getPaintProperty(t){return t.endsWith(Bd)?this._transitionablePaint.getTransition(t.slice(0,-11)):this._transitionablePaint.getValue(t)}setPaintProperty(t,n,u={}){if(n!=null&&this._validate($c,`layers.${this.id}.paint.${t}`,t,n,u))return!1;if(t.endsWith(Bd))return this._transitionablePaint.setTransition(t.slice(0,-11),n||void 0),!1;{const m=this._transitionablePaint._values[t],x=m.property.specification["property-type"]==="cross-faded-data-driven",_=m.value.isDataDriven(),T=m.value;this._transitionablePaint.setValue(t,n),this._handleSpecialPaintPropertyUpdate(t);const A=this._transitionablePaint._values[t].value;return A.isDataDriven()||_||x||this._handleOverridablePaintPropertyUpdate(t,T,A)}}_handleSpecialPaintPropertyUpdate(t){}_handleOverridablePaintPropertyUpdate(t,n,u){return!1}isHidden(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||this.visibility==="none"}updateTransitions(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(t,n){t.getCrossfadeParameters&&(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,n)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,n)}serialize(){const t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(t.layout=t.layout||{},t.layout.visibility=this.visibility),en(t,(n,u)=>!(n===void 0||u==="layout"&&!Object.keys(n).length||u==="paint"&&!Object.keys(n).length))}_validate(t,n,u,m,x={}){return(!x||x.validate!==!1)&&Ss(this,t.call(Cs,{key:n,layerType:this.type,objectKey:u,value:m,styleSpec:Te,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const t in this.paint._values){const n=this.paint.get(t);if(n instanceof Kn&&ao(n.property.specification)&&(n.value.kind==="source"||n.value.kind==="composite")&&n.value.isStateDependent)return!0}return!1}}const Hh={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Yo{constructor(t,n){this._structArray=t,this._pos1=n*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class yi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(t,n){return t._trim(),n&&(t.isTransferred=!0,n.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}}static deserialize(t){const n=Object.create(this.prototype);return n.arrayBuffer=t.arrayBuffer,n.length=t.length,n.capacity=t.arrayBuffer.byteLength/n.bytesPerElement,n._refreshViews(),n}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(t){this.reserve(t),this.length=t}reserve(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const n=this.uint8;this._refreshViews(),n&&this.uint8.set(n)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function _i(r,t=1){let n=0,u=0;return{members:r.map(m=>{const x=Hh[m.type].BYTES_PER_ELEMENT,_=n=Jn(n,Math.max(t,x)),T=m.components||1;return u=Math.max(u,x),n+=x*T,{name:m.name,type:m.type,components:T,offset:_}}),size:Jn(n,Math.max(u,t)),alignment:t}}function Jn(r,t){return Math.ceil(r/t)*t}class ui extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n){const u=this.length;return this.resize(u+1),this.emplace(u,t,n)}emplace(t,n,u){const m=2*t;return this.int16[m+0]=n,this.int16[m+1]=u,t}}ui.prototype.bytesPerElement=4,Nt("StructArrayLayout2i4",ui);class Mo extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,u)}emplace(t,n,u,m){const x=3*t;return this.int16[x+0]=n,this.int16[x+1]=u,this.int16[x+2]=m,t}}Mo.prototype.bytesPerElement=6,Nt("StructArrayLayout3i6",Mo);class pl extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,n,u,m)}emplace(t,n,u,m,x){const _=4*t;return this.int16[_+0]=n,this.int16[_+1]=u,this.int16[_+2]=m,this.int16[_+3]=x,t}}pl.prototype.bytesPerElement=8,Nt("StructArrayLayout4i8",pl);class fl extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_){const T=this.length;return this.resize(T+1),this.emplace(T,t,n,u,m,x,_)}emplace(t,n,u,m,x,_,T){const A=6*t;return this.int16[A+0]=n,this.int16[A+1]=u,this.int16[A+2]=m,this.int16[A+3]=x,this.int16[A+4]=_,this.int16[A+5]=T,t}}fl.prototype.bytesPerElement=12,Nt("StructArrayLayout2i4i12",fl);class Qo extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_){const T=this.length;return this.resize(T+1),this.emplace(T,t,n,u,m,x,_)}emplace(t,n,u,m,x,_,T){const A=4*t,z=8*t;return this.int16[A+0]=n,this.int16[A+1]=u,this.uint8[z+4]=m,this.uint8[z+5]=x,this.uint8[z+6]=_,this.uint8[z+7]=T,t}}Qo.prototype.bytesPerElement=8,Nt("StructArrayLayout2i4ub8",Qo);class Cr extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n){const u=this.length;return this.resize(u+1),this.emplace(u,t,n)}emplace(t,n,u){const m=2*t;return this.float32[m+0]=n,this.float32[m+1]=u,t}}Cr.prototype.bytesPerElement=8,Nt("StructArrayLayout2f8",Cr);class nc extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_,T,A,z,j){const O=this.length;return this.resize(O+1),this.emplace(O,t,n,u,m,x,_,T,A,z,j)}emplace(t,n,u,m,x,_,T,A,z,j,O){const V=10*t;return this.uint16[V+0]=n,this.uint16[V+1]=u,this.uint16[V+2]=m,this.uint16[V+3]=x,this.uint16[V+4]=_,this.uint16[V+5]=T,this.uint16[V+6]=A,this.uint16[V+7]=z,this.uint16[V+8]=j,this.uint16[V+9]=O,t}}nc.prototype.bytesPerElement=20,Nt("StructArrayLayout10ui20",nc);class rc extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_,T,A,z,j,O,V){const $=this.length;return this.resize($+1),this.emplace($,t,n,u,m,x,_,T,A,z,j,O,V)}emplace(t,n,u,m,x,_,T,A,z,j,O,V,$){const W=12*t;return this.int16[W+0]=n,this.int16[W+1]=u,this.int16[W+2]=m,this.int16[W+3]=x,this.uint16[W+4]=_,this.uint16[W+5]=T,this.uint16[W+6]=A,this.uint16[W+7]=z,this.int16[W+8]=j,this.int16[W+9]=O,this.int16[W+10]=V,this.int16[W+11]=$,t}}rc.prototype.bytesPerElement=24,Nt("StructArrayLayout4i4ui4i24",rc);class Yc extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,u){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,u)}emplace(t,n,u,m){const x=3*t;return this.float32[x+0]=n,this.float32[x+1]=u,this.float32[x+2]=m,t}}Yc.prototype.bytesPerElement=12,Nt("StructArrayLayout3f12",Yc);class y extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.uint32[1*t+0]=n,t}}y.prototype.bytesPerElement=4,Nt("StructArrayLayout1ul4",y);class e extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_,T,A,z){const j=this.length;return this.resize(j+1),this.emplace(j,t,n,u,m,x,_,T,A,z)}emplace(t,n,u,m,x,_,T,A,z,j){const O=10*t,V=5*t;return this.int16[O+0]=n,this.int16[O+1]=u,this.int16[O+2]=m,this.int16[O+3]=x,this.int16[O+4]=_,this.int16[O+5]=T,this.uint32[V+3]=A,this.uint16[O+8]=z,this.uint16[O+9]=j,t}}e.prototype.bytesPerElement=20,Nt("StructArrayLayout6i1ul2ui20",e);class i extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_){const T=this.length;return this.resize(T+1),this.emplace(T,t,n,u,m,x,_)}emplace(t,n,u,m,x,_,T){const A=6*t;return this.int16[A+0]=n,this.int16[A+1]=u,this.int16[A+2]=m,this.int16[A+3]=x,this.int16[A+4]=_,this.int16[A+5]=T,t}}i.prototype.bytesPerElement=12,Nt("StructArrayLayout2i2i2i12",i);class d extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x){const _=this.length;return this.resize(_+1),this.emplace(_,t,n,u,m,x)}emplace(t,n,u,m,x,_){const T=4*t,A=8*t;return this.float32[T+0]=n,this.float32[T+1]=u,this.float32[T+2]=m,this.int16[A+6]=x,this.int16[A+7]=_,t}}d.prototype.bytesPerElement=16,Nt("StructArrayLayout2f1f2i16",d);class f extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_){const T=this.length;return this.resize(T+1),this.emplace(T,t,n,u,m,x,_)}emplace(t,n,u,m,x,_,T){const A=16*t,z=4*t,j=8*t;return this.uint8[A+0]=n,this.uint8[A+1]=u,this.float32[z+1]=m,this.float32[z+2]=x,this.int16[j+6]=_,this.int16[j+7]=T,t}}f.prototype.bytesPerElement=16,Nt("StructArrayLayout2ub2f2i16",f);class b extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,u){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,u)}emplace(t,n,u,m){const x=3*t;return this.uint16[x+0]=n,this.uint16[x+1]=u,this.uint16[x+2]=m,t}}b.prototype.bytesPerElement=6,Nt("StructArrayLayout3ui6",b);class S extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,t,n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue)}emplace(t,n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue,Ae){const ve=24*t,X=12*t,ne=48*t;return this.int16[ve+0]=n,this.int16[ve+1]=u,this.uint16[ve+2]=m,this.uint16[ve+3]=x,this.uint32[X+2]=_,this.uint32[X+3]=T,this.uint32[X+4]=A,this.uint16[ve+10]=z,this.uint16[ve+11]=j,this.uint16[ve+12]=O,this.float32[X+7]=V,this.float32[X+8]=$,this.uint8[ne+36]=W,this.uint8[ne+37]=Q,this.uint8[ne+38]=re,this.uint32[X+10]=ue,this.int16[ve+22]=Ae,t}}S.prototype.bytesPerElement=48,Nt("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",S);class M extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue,Ae,ve,X,ne,be,Ze,pt,at,lt,Ct,gt){const St=this.length;return this.resize(St+1),this.emplace(St,t,n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue,Ae,ve,X,ne,be,Ze,pt,at,lt,Ct,gt)}emplace(t,n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue,Ae,ve,X,ne,be,Ze,pt,at,lt,Ct,gt,St){const ct=32*t,qt=16*t;return this.int16[ct+0]=n,this.int16[ct+1]=u,this.int16[ct+2]=m,this.int16[ct+3]=x,this.int16[ct+4]=_,this.int16[ct+5]=T,this.int16[ct+6]=A,this.int16[ct+7]=z,this.uint16[ct+8]=j,this.uint16[ct+9]=O,this.uint16[ct+10]=V,this.uint16[ct+11]=$,this.uint16[ct+12]=W,this.uint16[ct+13]=Q,this.uint16[ct+14]=re,this.uint16[ct+15]=ue,this.uint16[ct+16]=Ae,this.uint16[ct+17]=ve,this.uint16[ct+18]=X,this.uint16[ct+19]=ne,this.uint16[ct+20]=be,this.uint16[ct+21]=Ze,this.uint16[ct+22]=pt,this.uint32[qt+12]=at,this.float32[qt+13]=lt,this.float32[qt+14]=Ct,this.uint16[ct+30]=gt,this.uint16[ct+31]=St,t}}M.prototype.bytesPerElement=64,Nt("StructArrayLayout8i15ui1ul2f2ui64",M);class I extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.float32[1*t+0]=n,t}}I.prototype.bytesPerElement=4,Nt("StructArrayLayout1f4",I);class N extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,u){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,u)}emplace(t,n,u,m){const x=3*t;return this.uint16[6*t+0]=n,this.float32[x+1]=u,this.float32[x+2]=m,t}}N.prototype.bytesPerElement=12,Nt("StructArrayLayout1ui2f12",N);class K extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n,u){const m=this.length;return this.resize(m+1),this.emplace(m,t,n,u)}emplace(t,n,u,m){const x=4*t;return this.uint32[2*t+0]=n,this.uint16[x+2]=u,this.uint16[x+3]=m,t}}K.prototype.bytesPerElement=8,Nt("StructArrayLayout1ul2ui8",K);class F extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t,n){const u=this.length;return this.resize(u+1),this.emplace(u,t,n)}emplace(t,n,u){const m=2*t;return this.uint16[m+0]=n,this.uint16[m+1]=u,t}}F.prototype.bytesPerElement=4,Nt("StructArrayLayout2ui4",F);class B extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(t){const n=this.length;return this.resize(n+1),this.emplace(n,t)}emplace(t,n){return this.uint16[1*t+0]=n,t}}B.prototype.bytesPerElement=2,Nt("StructArrayLayout1ui2",B);class U extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(t,n,u,m){const x=this.length;return this.resize(x+1),this.emplace(x,t,n,u,m)}emplace(t,n,u,m,x){const _=4*t;return this.float32[_+0]=n,this.float32[_+1]=u,this.float32[_+2]=m,this.float32[_+3]=x,t}}U.prototype.bytesPerElement=16,Nt("StructArrayLayout4f16",U);class Y extends Yo{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new ae(this.anchorPointX,this.anchorPointY)}}Y.prototype.size=20;class le extends e{get(t){return new Y(this,t)}}Nt("CollisionBoxArray",le);class se extends Yo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(t){this._structArray.uint8[this._pos1+37]=t}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(t){this._structArray.uint8[this._pos1+38]=t}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(t){this._structArray.uint32[this._pos4+10]=t}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}se.prototype.size=48;class ce extends S{get(t){return new se(this,t)}}Nt("PlacedSymbolArray",ce);class he extends Yo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(t){this._structArray.uint32[this._pos4+12]=t}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}he.prototype.size=64;class ye extends M{get(t){return new he(this,t)}}Nt("SymbolInstanceArray",ye);class pe extends I{getoffsetX(t){return this.float32[1*t+0]}}Nt("GlyphOffsetArray",pe);class xe extends Mo{getx(t){return this.int16[3*t+0]}gety(t){return this.int16[3*t+1]}gettileUnitDistanceFromAnchor(t){return this.int16[3*t+2]}}Nt("SymbolLineVertexArray",xe);class De extends Yo{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}De.prototype.size=12;class me extends N{get(t){return new De(this,t)}}Nt("TextAnchorOffsetArray",me);class Ee extends Yo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ee.prototype.size=8;class We extends K{get(t){return new Ee(this,t)}}Nt("FeatureIndexArray",We);class Ue extends ui{}class Ge extends ui{}class Ye extends ui{}class Lt extends fl{}class At extends Qo{}class mt extends Cr{}class Ot extends nc{}class va extends rc{}class Ra extends Yc{}class wi extends y{}class Ha extends i{}class Di extends f{}class Xa extends b{}class Za extends F{}const Ya=_i([{name:"a_pos",components:2,type:"Int16"}],4),{members:hn}=Ya;class Ia{constructor(t=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=t}prepareSegment(t,n,u,m){const x=this.segments[this.segments.length-1];return t>Ia.MAX_VERTEX_ARRAY_LENGTH&&Wa(`Max vertices per segment is ${Ia.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${t}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${Ia.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!x||x.vertexLength+t>Ia.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==m?this.createNewSegment(n,u,m):x}createNewSegment(t,n,u){const m={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0,vaos:{}};return u!==void 0&&(m.sortKey=u),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(m),m}getOrCreateLatestSegment(t,n,u){return this.prepareSegment(0,t,n,u)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const t of this.segments)for(const n in t.vaos)t.vaos[n].destroy()}static simpleSegment(t,n,u,m){return new Ia([{vertexOffset:t,primitiveOffset:n,vertexLength:u,primitiveLength:m,vaos:{},sortKey:0}])}}function pn(r,t){return 256*(r=Qa(Math.floor(r),0,255))+Qa(Math.floor(t),0,255)}Ia.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Nt("SegmentVector",Ia);const Ln=_i([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ms,es,jr,Kr={exports:{}},As={exports:{}},oc={exports:{}},ml=function(){if(jr)return Kr.exports;jr=1;var r=(Ms||(Ms=1,As.exports=function(n,u){var m,x,_,T,A,z,j,O;for(x=n.length-(m=3&n.length),_=u,A=3432918353,z=461845907,O=0;O<x;)j=255&n.charCodeAt(O)|(255&n.charCodeAt(++O))<<8|(255&n.charCodeAt(++O))<<16|(255&n.charCodeAt(++O))<<24,++O,_=27492+(65535&(T=5*(65535&(_=(_^=j=(65535&(j=(j=(65535&j)*A+(((j>>>16)*A&65535)<<16)&4294967295)<<15|j>>>17))*z+(((j>>>16)*z&65535)<<16)&4294967295)<<13|_>>>19))+((5*(_>>>16)&65535)<<16)&4294967295))+((58964+(T>>>16)&65535)<<16);switch(j=0,m){case 3:j^=(255&n.charCodeAt(O+2))<<16;case 2:j^=(255&n.charCodeAt(O+1))<<8;case 1:_^=j=(65535&(j=(j=(65535&(j^=255&n.charCodeAt(O)))*A+(((j>>>16)*A&65535)<<16)&4294967295)<<15|j>>>17))*z+(((j>>>16)*z&65535)<<16)&4294967295}return _^=n.length,_=2246822507*(65535&(_^=_>>>16))+((2246822507*(_>>>16)&65535)<<16)&4294967295,_=3266489909*(65535&(_^=_>>>13))+((3266489909*(_>>>16)&65535)<<16)&4294967295,(_^=_>>>16)>>>0}),As.exports),t=(es||(es=1,oc.exports=function(n,u){for(var m,x=n.length,_=u^x,T=0;x>=4;)m=1540483477*(65535&(m=255&n.charCodeAt(T)|(255&n.charCodeAt(++T))<<8|(255&n.charCodeAt(++T))<<16|(255&n.charCodeAt(++T))<<24))+((1540483477*(m>>>16)&65535)<<16),_=1540483477*(65535&_)+((1540483477*(_>>>16)&65535)<<16)^(m=1540483477*(65535&(m^=m>>>24))+((1540483477*(m>>>16)&65535)<<16)),x-=4,++T;switch(x){case 3:_^=(255&n.charCodeAt(T+2))<<16;case 2:_^=(255&n.charCodeAt(T+1))<<8;case 1:_=1540483477*(65535&(_^=255&n.charCodeAt(T)))+((1540483477*(_>>>16)&65535)<<16)}return _=1540483477*(65535&(_^=_>>>13))+((1540483477*(_>>>16)&65535)<<16),(_^=_>>>15)>>>0}),oc.exports);return Kr.exports=r,Kr.exports.murmur3=r,Kr.exports.murmur2=t,Kr.exports}(),En=R(ml);class Or{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(t,n,u,m){this.ids.push(ts(t)),this.positions.push(n,u,m)}getPositions(t){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const n=ts(t);let u=0,m=this.ids.length-1;for(;u<m;){const _=u+m>>1;this.ids[_]>=n?m=_:u=_+1}const x=[];for(;this.ids[u]===n;)x.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return x}static serialize(t,n){const u=new Float64Array(t.ids),m=new Uint32Array(t.positions);return gl(u,m,0,u.length-1),n&&n.push(u.buffer,m.buffer),{ids:u,positions:m}}static deserialize(t){const n=new Or;return n.ids=t.ids,n.positions=t.positions,n.indexed=!0,n}}function ts(r){const t=+r;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:En(String(r))}function gl(r,t,n,u){for(;n<u;){const m=r[n+u>>1];let x=n-1,_=u+1;for(;;){do x++;while(r[x]<m);do _--;while(r[_]>m);if(x>=_)break;di(r,x,_),di(t,3*x,3*_),di(t,3*x+1,3*_+1),di(t,3*x+2,3*_+2)}_-n<u-_?(gl(r,t,n,_),n=_+1):(gl(r,t,_+1,u),u=_)}}function di(r,t,n){const u=r[t];r[t]=r[n],r[n]=u}Nt("FeaturePositionMap",Or);class $a{constructor(t,n){this.gl=t.gl,this.location=n}}class wn extends $a{constructor(t,n){super(t,n),this.current=0}set(t){this.current!==t&&(this.current=t,this.gl.uniform1f(this.location,t))}}class Ei extends $a{constructor(t,n){super(t,n),this.current=[0,0,0,0]}set(t){t[0]===this.current[0]&&t[1]===this.current[1]&&t[2]===this.current[2]&&t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))}}class Qc extends $a{constructor(t,n){super(t,n),this.current=ya.transparent}set(t){t.r===this.current.r&&t.g===this.current.g&&t.b===this.current.b&&t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))}}const Xh=new Float32Array(16);function Ku(r){return[pn(255*r.r,255*r.g),pn(255*r.b,255*r.a)]}class Ao{constructor(t,n,u){this.value=t,this.uniformNames=n.map(m=>`u_${m}`),this.type=u}setUniform(t,n,u){t.set(u.constantOr(this.value))}getBinding(t,n,u){return this.type==="color"?new Qc(t,n):new wn(t,n)}}class yl{constructor(t,n){this.uniformNames=n.map(u=>`u_${u}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(t,n){this.pixelRatioFrom=n.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=n.tlbr,this.patternTo=t.tlbr}setUniform(t,n,u,m){const x=m==="u_pattern_to"?this.patternTo:m==="u_pattern_from"?this.patternFrom:m==="u_pixel_ratio_to"?this.pixelRatioTo:m==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&t.set(x)}getBinding(t,n,u){return u.substr(0,9)==="u_pattern"?new Ei(t,n):new wn(t,n)}}class sn{constructor(t,n,u,m){this.expression=t,this.type=u,this.maxValue=0,this.paintVertexAttributes=n.map(x=>({name:`a_${x}`,type:"Float32",components:u==="color"?2:1,offset:0})),this.paintVertexArray=new m}populatePaintArray(t,n,u,m,x){const _=this.paintVertexArray.length,T=this.expression.evaluate(new ci(0),n,{},m,[],x);this.paintVertexArray.resize(t),this._setPaintValue(_,t,T)}updatePaintArray(t,n,u,m){const x=this.expression.evaluate({zoom:0},u,m);this._setPaintValue(t,n,x)}_setPaintValue(t,n,u){if(this.type==="color"){const m=Ku(u);for(let x=t;x<n;x++)this.paintVertexArray.emplace(x,m[0],m[1])}else{for(let m=t;m<n;m++)this.paintVertexArray.emplace(m,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class vi{constructor(t,n,u,m,x,_){this.expression=t,this.uniformNames=n.map(T=>`u_${T}_t`),this.type=u,this.useIntegerZoom=m,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=n.map(T=>({name:`a_${T}`,type:"Float32",components:u==="color"?4:2,offset:0})),this.paintVertexArray=new _}populatePaintArray(t,n,u,m,x){const _=this.expression.evaluate(new ci(this.zoom),n,{},m,[],x),T=this.expression.evaluate(new ci(this.zoom+1),n,{},m,[],x),A=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(A,t,_,T)}updatePaintArray(t,n,u,m){const x=this.expression.evaluate({zoom:this.zoom},u,m),_=this.expression.evaluate({zoom:this.zoom+1},u,m);this._setPaintValue(t,n,x,_)}_setPaintValue(t,n,u,m){if(this.type==="color"){const x=Ku(u),_=Ku(m);for(let T=t;T<n;T++)this.paintVertexArray.emplace(T,x[0],x[1],_[0],_[1])}else{for(let x=t;x<n;x++)this.paintVertexArray.emplace(x,u,m);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(m))}}upload(t){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(t,n){const u=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,m=Qa(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);t.set(m)}getBinding(t,n,u){return new wn(t,n)}}class On{constructor(t,n,u,m,x,_){this.expression=t,this.type=n,this.useIntegerZoom=u,this.zoom=m,this.layerId=_,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(t,n,u){const m=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(m,t,n.patterns&&n.patterns[this.layerId],u)}updatePaintArray(t,n,u,m,x){this._setPaintValues(t,n,u.patterns&&u.patterns[this.layerId],x)}_setPaintValues(t,n,u,m){if(!m||!u)return;const{min:x,mid:_,max:T}=u,A=m[x],z=m[_],j=m[T];if(A&&z&&j)for(let O=t;O<n;O++)this.zoomInPaintVertexArray.emplace(O,z.tl[0],z.tl[1],z.br[0],z.br[1],A.tl[0],A.tl[1],A.br[0],A.br[1],z.pixelRatio,A.pixelRatio),this.zoomOutPaintVertexArray.emplace(O,z.tl[0],z.tl[1],z.br[0],z.br[1],j.tl[0],j.tl[1],j.br[0],j.br[1],z.pixelRatio,j.pixelRatio)}upload(t){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,Ln.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,Ln.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ou{constructor(t,n,u){this.binders={},this._buffers=[];const m=[];for(const x in t.paint._values){if(!u(x))continue;const _=t.paint.get(x);if(!(_ instanceof Kn&&ao(_.property.specification)))continue;const T=lo(x,t.type),A=_.value,z=_.property.specification.type,j=_.property.useIntegerZoom,O=_.property.specification["property-type"],V=O==="cross-faded"||O==="cross-faded-data-driven";if(A.kind==="constant")this.binders[x]=V?new yl(A.value,T):new Ao(A.value,T,z),m.push(`/u_${x}`);else if(A.kind==="source"||V){const $=Hi(x,z,"source");this.binders[x]=V?new On(A,z,j,n,$,t.id):new sn(A,T,z,$),m.push(`/a_${x}`)}else{const $=Hi(x,z,"composite");this.binders[x]=new vi(A,T,z,j,n,$),m.push(`/z_${x}`)}}this.cacheKey=m.sort().join("")}getMaxValue(t){const n=this.binders[t];return n instanceof sn||n instanceof vi?n.maxValue:0}populatePaintArrays(t,n,u,m,x){for(const _ in this.binders){const T=this.binders[_];(T instanceof sn||T instanceof vi||T instanceof On)&&T.populatePaintArray(t,n,u,m,x)}}setConstantPatternPositions(t,n){for(const u in this.binders){const m=this.binders[u];m instanceof yl&&m.setConstantPatternPositions(t,n)}}updatePaintArrays(t,n,u,m,x){let _=!1;for(const T in t){const A=n.getPositions(T);for(const z of A){const j=u.feature(z.index);for(const O in this.binders){const V=this.binders[O];if((V instanceof sn||V instanceof vi||V instanceof On)&&V.expression.isStateDependent===!0){const $=m.paint.get(O);V.expression=$.value,V.updatePaintArray(z.start,z.end,j,t[T],x),_=!0}}}}return _}defines(){const t=[];for(const n in this.binders){const u=this.binders[n];(u instanceof Ao||u instanceof yl)&&t.push(...u.uniformNames.map(m=>`#define HAS_UNIFORM_${m}`))}return t}getBinderAttributes(){const t=[];for(const n in this.binders){const u=this.binders[n];if(u instanceof sn||u instanceof vi)for(let m=0;m<u.paintVertexAttributes.length;m++)t.push(u.paintVertexAttributes[m].name);else if(u instanceof On)for(let m=0;m<Ln.members.length;m++)t.push(Ln.members[m].name)}return t}getBinderUniforms(){const t=[];for(const n in this.binders){const u=this.binders[n];if(u instanceof Ao||u instanceof yl||u instanceof vi)for(const m of u.uniformNames)t.push(m)}return t}getPaintVertexBuffers(){return this._buffers}getUniforms(t,n){const u=[];for(const m in this.binders){const x=this.binders[m];if(x instanceof Ao||x instanceof yl||x instanceof vi){for(const _ of x.uniformNames)if(n[_]){const T=x.getBinding(t,n[_],_);u.push({name:_,property:m,binding:T})}}}return u}setUniforms(t,n,u,m){for(const{name:x,property:_,binding:T}of n)this.binders[_].setUniform(T,m,u.get(_),x)}updatePaintBuffers(t){this._buffers=[];for(const n in this.binders){const u=this.binders[n];if(t&&u instanceof On){const m=t.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;m&&this._buffers.push(m)}else(u instanceof sn||u instanceof vi)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}}upload(t){for(const n in this.binders){const u=this.binders[n];(u instanceof sn||u instanceof vi||u instanceof On)&&u.upload(t)}this.updatePaintBuffers()}destroy(){for(const t in this.binders){const n=this.binders[t];(n instanceof sn||n instanceof vi||n instanceof On)&&n.destroy()}}}class Wn{constructor(t,n,u=()=>!0){this.programConfigurations={};for(const m of t)this.programConfigurations[m.id]=new Ou(m,n,u);this.needsUpload=!1,this._featureMap=new Or,this._bufferOffset=0}populatePaintArrays(t,n,u,m,x,_){for(const T in this.programConfigurations)this.programConfigurations[T].populatePaintArrays(t,n,m,x,_);n.id!==void 0&&this._featureMap.add(n.id,u,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0}updatePaintArrays(t,n,u,m){for(const x of u)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(t,this._featureMap,n,x,m)||this.needsUpload}get(t){return this.programConfigurations[t]}upload(t){if(this.needsUpload){for(const n in this.programConfigurations)this.programConfigurations[n].upload(t);this.needsUpload=!1}}destroy(){for(const t in this.programConfigurations)this.programConfigurations[t].destroy()}}function lo(r,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[r]||[r.replace(`${t}-`,"").replace(/-/g,"_")]}function Hi(r,t,n){const u={color:{source:Cr,composite:U},number:{source:I,composite:Cr}},m=function(x){return{"line-pattern":{source:Ot,composite:Ot},"fill-pattern":{source:Ot,composite:Ot},"fill-extrusion-pattern":{source:Ot,composite:Ot}}[x]}(r);return m&&m[n]||u[t][n]}Nt("ConstantBinder",Ao),Nt("CrossFadedConstantBinder",yl),Nt("SourceExpressionBinder",sn),Nt("CrossFadedCompositeBinder",On),Nt("CompositeExpressionBinder",vi),Nt("ProgramConfiguration",Ou,{omit:["_buffers"]}),Nt("ProgramConfigurationSet",Wn);const Is=Math.pow(2,14)-1,Zh=-Is-1;function vl(r){const t=ht/r.extent,n=r.loadGeometry();for(let u=0;u<n.length;u++){const m=n[u];for(let x=0;x<m.length;x++){const _=m[x],T=Math.round(_.x*t),A=Math.round(_.y*t);_.x=Qa(T,Zh,Is),_.y=Qa(A,Zh,Is),(T<_.x||T>_.x+1||A<_.y||A>_.y+1)&&Wa("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function sc(r,t){return{type:r.type,id:r.id,properties:r.properties,geometry:t?vl(r):[]}}const Qp=-32768;function eu(r,t,n,u,m){r.emplaceBack(Qp+8*t+u,Qp+8*n+m)}class qu{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Ge,this.indexArray=new Xa,this.segments=new Ia,this.programConfigurations=new Wn(t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,u){const m=this.layers[0],x=[];let _=null,T=!1,A=m.type==="heatmap";if(m.type==="circle"){const j=m;_=j.layout.get("circle-sort-key"),T=!_.isConstant(),A=A||j.paint.get("circle-pitch-alignment")==="map"}const z=A?n.subdivisionGranularity.circle:1;for(const{feature:j,id:O,index:V,sourceLayerIndex:$}of t){const W=this.layers[0]._featureFilter.needGeometry,Q=sc(j,W);if(!this.layers[0]._featureFilter.filter(new ci(this.zoom,{globalState:this.globalState}),Q,u))continue;const re=T?_.evaluate(Q,{},u):void 0,ue={id:O,properties:j.properties,type:j.type,sourceLayerIndex:$,index:V,geometry:W?Q.geometry:vl(j),patterns:{},sortKey:re};x.push(ue)}T&&x.sort((j,O)=>j.sortKey-O.sortKey);for(const j of x){const{geometry:O,index:V,sourceLayerIndex:$}=j,W=t[V].feature;this.addFeature(j,O,V,u,z),n.featureIndex.insert(W,O,V,$,this.index)}}update(t,n,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,u)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,hn),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(t,n,u,m,x=1){let _;switch(x){case 1:_=[0,7];break;case 3:_=[0,2,5,7];break;case 5:_=[0,1,3,4,6,7];break;case 7:_=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${x}; valid values are 1, 3, 5, 7.`)}const T=_.length;for(const A of n)for(const z of A){const j=z.x,O=z.y;if(j<0||j>=ht||O<0||O>=ht)continue;const V=this.segments.prepareSegment(T*T,this.layoutVertexArray,this.indexArray,t.sortKey),$=V.vertexLength;for(let W=0;W<T;W++)for(let Q=0;Q<T;Q++)eu(this.layoutVertexArray,j,O,_[Q],_[W]);for(let W=0;W<T-1;W++)for(let Q=0;Q<T-1;Q++){const re=$+W*T+Q,ue=$+(W+1)*T+Q;this.indexArray.emplaceBack(re,ue+1,re+1),this.indexArray.emplaceBack(re,ue,ue+1)}V.vertexLength+=T*T,V.primitiveLength+=(T-1)*(T-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,{},m)}}function ef(r,t){for(let n=0;n<r.length;n++)if(tu(t,r[n]))return!0;for(let n=0;n<t.length;n++)if(tu(r,t[n]))return!0;return!!Jh(r,t)}function Bm(r,t,n){return!!tu(r,t)||!!Wh(t,r,n)}function tf(r,t){if(r.length===1)return Fm(t,r[0]);for(let n=0;n<t.length;n++){const u=t[n];for(let m=0;m<u.length;m++)if(tu(r,u[m]))return!0}for(let n=0;n<r.length;n++)if(Fm(t,r[n]))return!0;for(let n=0;n<t.length;n++)if(Jh(r,t[n]))return!0;return!1}function $h(r,t,n){if(r.length>1){if(Jh(r,t))return!0;for(let u=0;u<t.length;u++)if(Wh(t[u],r,n))return!0}for(let u=0;u<r.length;u++)if(Wh(r[u],t,n))return!0;return!1}function Jh(r,t){if(r.length===0||t.length===0)return!1;for(let n=0;n<r.length-1;n++){const u=r[n],m=r[n+1];for(let x=0;x<t.length-1;x++)if(af(u,m,t[x],t[x+1]))return!0}return!1}function af(r,t,n,u){return Un(r,n,u)!==Un(t,n,u)&&Un(r,t,n)!==Un(r,t,u)}function Wh(r,t,n){const u=n*n;if(t.length===1)return r.distSqr(t[0])<u;for(let m=1;m<t.length;m++)if(nf(r,t[m-1],t[m])<u)return!0;return!1}function nf(r,t,n){const u=t.distSqr(n);if(u===0)return r.distSqr(t);const m=((r.x-t.x)*(n.x-t.x)+(r.y-t.y)*(n.y-t.y))/u;return r.distSqr(m<0?t:m>1?n:n.sub(t)._mult(m)._add(t))}function Fm(r,t){let n,u,m,x=!1;for(let _=0;_<r.length;_++){n=r[_];for(let T=0,A=n.length-1;T<n.length;A=T++)u=n[T],m=n[A],u.y>t.y!=m.y>t.y&&t.x<(m.x-u.x)*(t.y-u.y)/(m.y-u.y)+u.x&&(x=!x)}return x}function tu(r,t){let n=!1;for(let u=0,m=r.length-1;u<r.length;m=u++){const x=r[u],_=r[m];x.y>t.y!=_.y>t.y&&t.x<(_.x-x.x)*(t.y-x.y)/(_.y-x.y)+x.x&&(n=!n)}return n}function qn(r,t,n){const u=n[0],m=n[2];if(r.x<u.x&&t.x<u.x||r.x>m.x&&t.x>m.x||r.y<u.y&&t.y<u.y||r.y>m.y&&t.y>m.y)return!1;const x=Un(r,t,n[0]);return x!==Un(r,t,n[1])||x!==Un(r,t,n[2])||x!==Un(r,t,n[3])}function fn(r,t,n){const u=t.paint.get(r).value;return u.kind==="constant"?u.value:n.programConfigurations.get(t.id).getMaxValue(r)}function Fd(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function Vd(r,t,n,u,m){if(!t[0]&&!t[1])return r;const x=ae.convert(t)._mult(m);n==="viewport"&&x._rotate(-u);const _=[];for(let T=0;T<r.length;T++)_.push(r[T].sub(x));return _}let rf,of;Nt("CircleBucket",qu,{omit:["layers"]});var Vm={get paint(){return of=of||new In({"circle-radius":new Wt(Te.paint_circle["circle-radius"]),"circle-color":new Wt(Te.paint_circle["circle-color"]),"circle-blur":new Wt(Te.paint_circle["circle-blur"]),"circle-opacity":new Wt(Te.paint_circle["circle-opacity"]),"circle-translate":new jt(Te.paint_circle["circle-translate"]),"circle-translate-anchor":new jt(Te.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jt(Te.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jt(Te.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wt(Te.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wt(Te.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wt(Te.paint_circle["circle-stroke-opacity"])})},get layout(){return rf=rf||new In({"circle-sort-key":new Wt(Te.layout_circle["circle-sort-key"])})}};class Yh extends _n{constructor(t){super(t,Vm)}createBucket(t){return new qu(t)}queryRadius(t){const n=t;return fn("circle-radius",this,n)+fn("circle-stroke-width",this,n)+Fd(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:t,feature:n,featureState:u,geometry:m,transform:x,pixelsToTileUnits:_,unwrappedTileID:T,getElevation:A}){const z=Vd(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-x.bearingInRadians,_),j=this.paint.get("circle-radius").evaluate(n,u)+this.paint.get("circle-stroke-width").evaluate(n,u),O=this.paint.get("circle-pitch-alignment")==="map",V=O?z:function(W,Q,re,ue){return W.map(Ae=>Qh(Ae,Q,re,ue))}(z,x,T,A),$=O?j*_:j;for(const W of m)for(const Q of W){const re=O?Q:Qh(Q,x,T,A);let ue=$;const Ae=x.projectTileCoordinates(Q.x,Q.y,T,A).signedDistanceFromCamera;if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ue*=Ae/x.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ue*=x.cameraToCenterDistance/Ae),Bm(V,re,ue))return!0}return!1}}function Qh(r,t,n,u){const m=t.projectTileCoordinates(r.x,r.y,n,u).point;return new ae((.5*m.x+.5)*t.width,(.5*-m.y+.5)*t.height)}class sf extends qu{}let lf;Nt("HeatmapBucket",sf,{omit:["layers"]});var Um={get paint(){return lf=lf||new In({"heatmap-radius":new Wt(Te.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wt(Te.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jt(Te.paint_heatmap["heatmap-intensity"]),"heatmap-color":new hl(Te.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jt(Te.paint_heatmap["heatmap-opacity"])})}};function Ud(r,{width:t,height:n},u,m){if(m){if(m instanceof Uint8ClampedArray)m=new Uint8Array(m.buffer);else if(m.length!==t*n*u)throw new RangeError(`mismatched image size. expected: ${m.length} but got: ${t*n*u}`)}else m=new Uint8Array(t*n*u);return r.width=t,r.height=n,r.data=m,r}function ep(r,{width:t,height:n},u){if(t===r.width&&n===r.height)return;const m=Ud({},{width:t,height:n},u);Gd(r,m,{x:0,y:0},{x:0,y:0},{width:Math.min(r.width,t),height:Math.min(r.height,n)},u),r.width=t,r.height=n,r.data=m.data}function Gd(r,t,n,u,m,x){if(m.width===0||m.height===0)return t;if(m.width>r.width||m.height>r.height||n.x>r.width-m.width||n.y>r.height-m.height)throw new RangeError("out of range source coordinates for image copy");if(m.width>t.width||m.height>t.height||u.x>t.width-m.width||u.y>t.height-m.height)throw new RangeError("out of range destination coordinates for image copy");const _=r.data,T=t.data;if(_===T)throw new Error("srcData equals dstData, so image is already copied");for(let A=0;A<m.height;A++){const z=((n.y+A)*r.width+n.x)*x,j=((u.y+A)*t.width+u.x)*x;for(let O=0;O<m.width*x;O++)T[j+O]=_[z+O]}return t}class Bu{constructor(t,n){Ud(this,t,1,n)}resize(t){ep(this,t,1)}clone(){return new Bu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,n,u,m,x){Gd(t,n,u,m,x,1)}}class Yn{constructor(t,n){Ud(this,t,4,n)}resize(t){ep(this,t,4)}replace(t,n){n?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t}clone(){return new Yn({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(t,n,u,m,x){Gd(t,n,u,m,x,4)}setPixel(t,n,u){const m=4*(t*this.width+n);this.data[m+0]=Math.round(255*u.r/u.a),this.data[m+1]=Math.round(255*u.g/u.a),this.data[m+2]=Math.round(255*u.b/u.a),this.data[m+3]=Math.round(255*u.a)}}function Hd(r){const t={},n=r.resolution||256,u=r.clips?r.clips.length:1,m=r.image||new Yn({width:n,height:u});if(Math.log(n)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${n}`);const x=(_,T,A)=>{t[r.evaluationKey]=A;const z=r.expression.evaluate(t);m.setPixel(_/4/n,T/4,z)};if(r.clips)for(let _=0,T=0;_<u;++_,T+=4*n)for(let A=0,z=0;A<n;A++,z+=4){const j=A/(n-1),{start:O,end:V}=r.clips[_];x(T,z,O*(1-j)+V*j)}else for(let _=0,T=0;_<n;_++,T+=4)x(0,T,_/(n-1));return m}Nt("AlphaImage",Bu),Nt("RGBAImage",Yn);const Xd="big-fb";class Gm extends _n{createBucket(t){return new sf(t)}constructor(t){super(t,Um),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){t==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Hd({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Xd)&&this.heatmapFbos.delete(Xd)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let tp;var Hm={get paint(){return tp=tp||new In({"hillshade-illumination-direction":new jt(Te.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new jt(Te.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new jt(Te.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jt(Te.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jt(Te.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jt(Te.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jt(Te.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new jt(Te.paint_hillshade["hillshade-method"])})}};class bl extends _n{constructor(t){super(t,Hm),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let t=this.paint.get("hillshade-illumination-direction").values,n=this.paint.get("hillshade-illumination-altitude").values,u=this.paint.get("hillshade-highlight-color").values,m=this.paint.get("hillshade-shadow-color").values;const x=Math.max(t.length,n.length,u.length,m.length);t=t.concat(Array(x-t.length).fill(t.at(-1))),n=n.concat(Array(x-n.length).fill(n.at(-1))),u=u.concat(Array(x-u.length).fill(u.at(-1))),m=m.concat(Array(x-m.length).fill(m.at(-1)));const _=n.map(za);return{directionRadians:t.map(za),altitudeRadians:_,shadowColor:m,highlightColor:u}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let ap;var ly={get paint(){return ap=ap||new In({"color-relief-opacity":new jt(Te["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new hl(Te["paint_color-relief"]["color-relief-color"])})}};class ip{constructor(t,n,u,m){this.context=t,this.format=u,this.texture=t.gl.createTexture(),this.update(n,m)}update(t,n,u){const{width:m,height:x}=t,_=!(this.size&&this.size[0]===m&&this.size[1]===x||u),{context:T}=this,{gl:A}=T;if(this.useMipmap=!!(n&&n.useMipmap),A.bindTexture(A.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===A.RGBA&&(!n||n.premultiply!==!1)),_)this.size=[m,x],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||hr(t)?A.texImage2D(A.TEXTURE_2D,0,this.format,this.format,A.UNSIGNED_BYTE,t):A.texImage2D(A.TEXTURE_2D,0,this.format,m,x,0,this.format,A.UNSIGNED_BYTE,t.data);else{const{x:z,y:j}=u||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||hr(t)?A.texSubImage2D(A.TEXTURE_2D,0,z,j,A.RGBA,A.UNSIGNED_BYTE,t):A.texSubImage2D(A.TEXTURE_2D,0,z,j,m,x,A.RGBA,A.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&A.generateMipmap(A.TEXTURE_2D),T.pixelStoreUnpackFlipY.setDefault(),T.pixelStoreUnpack.setDefault(),T.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(t,n,u){const{context:m}=this,{gl:x}=m;x.bindTexture(x.TEXTURE_2D,this.texture),u!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=x.LINEAR),t!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,t),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,u||t),this.filter=t),n!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,n),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,n),this.wrap=n)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:t}=this.context;t.deleteTexture(this.texture),this.texture=null}}class Ls{constructor(t,n,u,m=1,x=1,_=1,T=0){if(this.uid=t,n.height!==n.width)throw new RangeError("DEM tiles must be square");if(u&&!["mapbox","terrarium","custom"].includes(u))return void Wa(`"${u}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=n.height;const A=this.dim=n.height-2;switch(this.data=new Uint32Array(n.data.buffer),u){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=m,this.greenFactor=x,this.blueFactor=_,this.baseShift=T;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let z=0;z<A;z++)this.data[this._idx(-1,z)]=this.data[this._idx(0,z)],this.data[this._idx(A,z)]=this.data[this._idx(A-1,z)],this.data[this._idx(z,-1)]=this.data[this._idx(z,0)],this.data[this._idx(z,A)]=this.data[this._idx(z,A-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(A,-1)]=this.data[this._idx(A-1,0)],this.data[this._idx(-1,A)]=this.data[this._idx(0,A-1)],this.data[this._idx(A,A)]=this.data[this._idx(A-1,A-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let z=0;z<A;z++)for(let j=0;j<A;j++){const O=this.get(z,j);O>this.max&&(this.max=O),O<this.min&&(this.min=O)}}get(t,n){const u=new Uint8Array(this.data.buffer),m=4*this._idx(t,n);return this.unpack(u[m],u[m+1],u[m+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(t,n){if(t<-1||t>=this.dim+1||n<-1||n>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(n+1)*this.stride+(t+1)}unpack(t,n,u){return t*this.redFactor+n*this.greenFactor+u*this.blueFactor-this.baseShift}pack(t){return cf(t,this.getUnpackVector())}getPixels(){return new Yn({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(t,n,u){if(this.dim!==t.dim)throw new Error("dem dimension mismatch");let m=n*this.dim,x=n*this.dim+this.dim,_=u*this.dim,T=u*this.dim+this.dim;switch(n){case-1:m=x-1;break;case 1:x=m+1}switch(u){case-1:_=T-1;break;case 1:T=_+1}const A=-n*this.dim,z=-u*this.dim;for(let j=_;j<T;j++)for(let O=m;O<x;O++)this.data[this._idx(O,j)]=t.data[this._idx(O+A,j+z)]}}function cf(r,t){const n=t[0],u=t[1],m=t[2],x=t[3],_=Math.min(n,u,m),T=Math.round((r+x)/_);return{r:Math.floor(T*_/n)%256,g:Math.floor(T*_/u)%256,b:Math.floor(T*_/m)%256}}Nt("DEMData",Ls);class np extends _n{constructor(t){super(t,ly)}_createColorRamp(t){const n={elevationStops:[],colorStops:[]},u=this._transitionablePaint._values["color-relief-color"].value.expression;if(u instanceof jn&&u._styleExpression.expression instanceof An){this.colorRampExpression=u;const _=u._styleExpression.expression;n.elevationStops=_.labels,n.colorStops=[];for(const T of n.elevationStops)n.colorStops.push(_.evaluate({globals:{elevation:T}}))}if(n.elevationStops.length<1&&(n.elevationStops=[0],n.colorStops=[ya.transparent]),n.elevationStops.length<2&&(n.elevationStops.push(n.elevationStops[0]+1),n.colorStops.push(n.colorStops[0])),n.elevationStops.length<=t)return n;const m={elevationStops:[],colorStops:[]},x=(n.elevationStops.length-1)/(t-1);for(let _=0;_<n.elevationStops.length-.5;_+=x)m.elevationStops.push(n.elevationStops[Math.round(_)]),m.colorStops.push(n.colorStops[Math.round(_)]);return Wa(`Too many colors in specification of ${this.id} color-relief layer, may not render properly.`),m}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(t,n,u){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const m=this._createColorRamp(n),x=new Yn({width:m.colorStops.length,height:1}),_=new Yn({width:m.colorStops.length,height:1});for(let T=0;T<m.elevationStops.length;T++){const A=cf(m.elevationStops[T],u);_.setPixel(0,T,new ya(A.r/255,A.g/255,A.b/255,1)),x.setPixel(0,T,m.colorStops[T])}return this.colorRampTextures={elevationTexture:new ip(t,_,t.gl.RGBA),colorTexture:new ip(t,x,t.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const Zd=_i([{name:"a_pos",components:2,type:"Int16"}],4),{members:Xi}=Zd;function uf(r,t,n){const u=n.patternDependencies;let m=!1;for(const x of t){const _=x.paint.get(`${r}-pattern`);_.isConstant()||(m=!0);const T=_.constantOr(null);T&&(m=!0,u[T.to]=!0,u[T.from]=!0)}return m}function df(r,t,n,u,m){const x=m.patternDependencies;for(const _ of t){const T=_.paint.get(`${r}-pattern`).value;if(T.kind!=="constant"){let A=T.evaluate({zoom:u-1},n,{},m.availableImages),z=T.evaluate({zoom:u},n,{},m.availableImages),j=T.evaluate({zoom:u+1},n,{},m.availableImages);A=A&&A.name?A.name:A,z=z&&z.name?z.name:z,j=j&&j.name?j.name:j,x[A]=!0,x[z]=!0,x[j]=!0,n.patterns[_.id]={min:A,mid:z,max:j}}}return n}function hf(r,t,n,u,m){let x;if(m===function(_,T,A,z){let j=0;for(let O=T,V=A-z;O<A;O+=z)j+=(_[V]-_[O])*(_[O+1]+_[V+1]),V=O;return j}(r,t,n,u)>0)for(let _=t;_<n;_+=u)x=zi(_/u|0,r[_],r[_+1],x);else for(let _=n-u;_>=t;_-=u)x=zi(_/u|0,r[_],r[_+1],x);return x&&lc(x,x.next)&&(Bn(x),x=x.next),x}function as(r,t){if(!r)return r;t||(t=r);let n,u=r;do if(n=!1,u.steiner||!lc(u,u.next)&&Da(u.prev,u,u.next)!==0)u=u.next;else{if(Bn(u),u=t=u.prev,u===u.next)break;n=!0}while(n||u!==t);return t}function Io(r,t,n,u,m,x,_){if(!r)return;!_&&x&&function(A,z,j,O){let V=A;do V.z===0&&(V.z=Jd(V.x,V.y,z,j,O)),V.prevZ=V.prev,V.nextZ=V.next,V=V.next;while(V!==A);V.prevZ.nextZ=null,V.prevZ=null,function($){let W,Q=1;do{let re,ue=$;$=null;let Ae=null;for(W=0;ue;){W++;let ve=ue,X=0;for(let be=0;be<Q&&(X++,ve=ve.nextZ,ve);be++);let ne=Q;for(;X>0||ne>0&&ve;)X!==0&&(ne===0||!ve||ue.z<=ve.z)?(re=ue,ue=ue.nextZ,X--):(re=ve,ve=ve.nextZ,ne--),Ae?Ae.nextZ=re:$=re,re.prevZ=Ae,Ae=re;ue=ve}Ae.nextZ=null,Q*=2}while(W>1)}(V)}(r,u,m,x);let T=r;for(;r.prev!==r.next;){const A=r.prev,z=r.next;if(x?Zm(r,u,m,x):Xm(r))t.push(A.i,r.i,z.i),Bn(r),r=z.next,T=z.next;else if((r=z)===T){_?_===1?Io(r=$d(as(r),t),t,n,u,m,x,2):_===2&&Es(r,t,n,u,m,x):Io(as(r),t,n,u,m,x,1);break}}}function Xm(r){const t=r.prev,n=r,u=r.next;if(Da(t,n,u)>=0)return!1;const m=t.x,x=n.x,_=u.x,T=t.y,A=n.y,z=u.y,j=Math.min(m,x,_),O=Math.min(T,A,z),V=Math.max(m,x,_),$=Math.max(T,A,z);let W=u.next;for(;W!==t;){if(W.x>=j&&W.x<=V&&W.y>=O&&W.y<=$&&Fu(m,T,x,A,_,z,W.x,W.y)&&Da(W.prev,W,W.next)>=0)return!1;W=W.next}return!0}function Zm(r,t,n,u){const m=r.prev,x=r,_=r.next;if(Da(m,x,_)>=0)return!1;const T=m.x,A=x.x,z=_.x,j=m.y,O=x.y,V=_.y,$=Math.min(T,A,z),W=Math.min(j,O,V),Q=Math.max(T,A,z),re=Math.max(j,O,V),ue=Jd($,W,t,n,u),Ae=Jd(Q,re,t,n,u);let ve=r.prevZ,X=r.nextZ;for(;ve&&ve.z>=ue&&X&&X.z<=Ae;){if(ve.x>=$&&ve.x<=Q&&ve.y>=W&&ve.y<=re&&ve!==m&&ve!==_&&Fu(T,j,A,O,z,V,ve.x,ve.y)&&Da(ve.prev,ve,ve.next)>=0||(ve=ve.prevZ,X.x>=$&&X.x<=Q&&X.y>=W&&X.y<=re&&X!==m&&X!==_&&Fu(T,j,A,O,z,V,X.x,X.y)&&Da(X.prev,X,X.next)>=0))return!1;X=X.nextZ}for(;ve&&ve.z>=ue;){if(ve.x>=$&&ve.x<=Q&&ve.y>=W&&ve.y<=re&&ve!==m&&ve!==_&&Fu(T,j,A,O,z,V,ve.x,ve.y)&&Da(ve.prev,ve,ve.next)>=0)return!1;ve=ve.prevZ}for(;X&&X.z<=Ae;){if(X.x>=$&&X.x<=Q&&X.y>=W&&X.y<=re&&X!==m&&X!==_&&Fu(T,j,A,O,z,V,X.x,X.y)&&Da(X.prev,X,X.next)>=0)return!1;X=X.nextZ}return!0}function $d(r,t){let n=r;do{const u=n.prev,m=n.next.next;!lc(u,m)&&mf(u,n,n.next,m)&&Vu(u,m)&&Vu(m,u)&&(t.push(u.i,n.i,m.i),Bn(n),Bn(n.next),n=r=m),n=n.next}while(n!==r);return as(n)}function Es(r,t,n,u,m,x){let _=r;do{let T=_.next.next;for(;T!==_.prev;){if(_.i!==T.i&&xl(_,T)){let A=gf(_,T);return _=as(_,_.next),A=as(A,A.next),Io(_,t,n,u,m,x,0),void Io(A,t,n,u,m,x,0)}T=T.next}_=_.next}while(_!==r)}function $m(r,t){let n=r.x-t.x;return n===0&&(n=r.y-t.y,n===0)&&(n=(r.next.y-r.y)/(r.next.x-r.x)-(t.next.y-t.y)/(t.next.x-t.x)),n}function pf(r,t){const n=function(m,x){let _=x;const T=m.x,A=m.y;let z,j=-1/0;if(lc(m,_))return _;do{if(lc(m,_.next))return _.next;if(A<=_.y&&A>=_.next.y&&_.next.y!==_.y){const Q=_.x+(A-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(Q<=T&&Q>j&&(j=Q,z=_.x<_.next.x?_:_.next,Q===T))return z}_=_.next}while(_!==x);if(!z)return null;const O=z,V=z.x,$=z.y;let W=1/0;_=z;do{if(T>=_.x&&_.x>=V&&T!==_.x&&Wd(A<$?T:j,A,V,$,A<$?j:T,A,_.x,_.y)){const Q=Math.abs(A-_.y)/(T-_.x);Vu(_,m)&&(Q<W||Q===W&&(_.x>z.x||_.x===z.x&&Jm(z,_)))&&(z=_,W=Q)}_=_.next}while(_!==O);return z}(r,t);if(!n)return t;const u=gf(n,r);return as(u,u.next),as(n,n.next)}function Jm(r,t){return Da(r.prev,r,t.prev)<0&&Da(t.next,r,r.next)<0}function Jd(r,t,n,u,m){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=(r-n)*m|0)|r<<8))|r<<4))|r<<2))|r<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-u)*m|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function ff(r){let t=r,n=r;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==r);return n}function Wd(r,t,n,u,m,x,_,T){return(m-_)*(t-T)>=(r-_)*(x-T)&&(r-_)*(u-T)>=(n-_)*(t-T)&&(n-_)*(x-T)>=(m-_)*(u-T)}function Fu(r,t,n,u,m,x,_,T){return!(r===_&&t===T)&&Wd(r,t,n,u,m,x,_,T)}function xl(r,t){return r.next.i!==t.i&&r.prev.i!==t.i&&!function(n,u){let m=n;do{if(m.i!==n.i&&m.next.i!==n.i&&m.i!==u.i&&m.next.i!==u.i&&mf(m,m.next,n,u))return!0;m=m.next}while(m!==n);return!1}(r,t)&&(Vu(r,t)&&Vu(t,r)&&function(n,u){let m=n,x=!1;const _=(n.x+u.x)/2,T=(n.y+u.y)/2;do m.y>T!=m.next.y>T&&m.next.y!==m.y&&_<(m.next.x-m.x)*(T-m.y)/(m.next.y-m.y)+m.x&&(x=!x),m=m.next;while(m!==n);return x}(r,t)&&(Da(r.prev,r,t.prev)||Da(r,t.prev,t))||lc(r,t)&&Da(r.prev,r,r.next)>0&&Da(t.prev,t,t.next)>0)}function Da(r,t,n){return(t.y-r.y)*(n.x-t.x)-(t.x-r.x)*(n.y-t.y)}function lc(r,t){return r.x===t.x&&r.y===t.y}function mf(r,t,n,u){const m=rp(Da(r,t,n)),x=rp(Da(r,t,u)),_=rp(Da(n,u,r)),T=rp(Da(n,u,t));return m!==x&&_!==T||!(m!==0||!mn(r,n,t))||!(x!==0||!mn(r,u,t))||!(_!==0||!mn(n,r,u))||!(T!==0||!mn(n,t,u))}function mn(r,t,n){return t.x<=Math.max(r.x,n.x)&&t.x>=Math.min(r.x,n.x)&&t.y<=Math.max(r.y,n.y)&&t.y>=Math.min(r.y,n.y)}function rp(r){return r>0?1:r<0?-1:0}function Vu(r,t){return Da(r.prev,r,r.next)<0?Da(r,t,r.next)>=0&&Da(r,r.prev,t)>=0:Da(r,t,r.prev)<0||Da(r,r.next,t)<0}function gf(r,t){const n=is(r.i,r.x,r.y),u=is(t.i,t.x,t.y),m=r.next,x=t.prev;return r.next=t,t.prev=r,n.next=m,m.prev=n,u.next=n,n.prev=u,x.next=u,u.prev=x,u}function zi(r,t,n,u){const m=is(r,t,n);return u?(m.next=u.next,m.prev=u,u.next.prev=m,u.next=m):(m.prev=m,m.next=m),m}function Bn(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function is(r,t,n){return{i:r,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class au{constructor(t,n){if(n>t)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=t,this._minGranularity=n}getGranularityForZoomLevel(t){return Math.max(Math.floor(this._baseZoomGranularity/(1<<t)),this._minGranularity,1)}}class Yd{constructor(t){this.fill=t.fill,this.line=t.line,this.tile=t.tile,this.stencil=t.stencil,this.circle=t.circle}}Yd.noSubdivision=new Yd({fill:new au(0,0),line:new au(0,0),tile:new au(0,0),stencil:new au(0,0),circle:1}),Nt("SubdivisionGranularityExpression",au),Nt("SubdivisionGranularitySetting",Yd);const Uu=-32768,iu=32767;class co{constructor(t,n){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=t,this._granularityCellSize=ht/t,this._canonical=n}_getKey(t,n){return(t+=32768)<<16|n+32768}_vertexToIndex(t,n){if(t<-32768||n<-32768||t>32767||n>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const u=0|Math.round(t),m=0|Math.round(n),x=this._getKey(u,m);if(this._vertexDictionary.has(x))return this._vertexDictionary.get(x);const _=this._vertexBuffer.length/2;return this._vertexDictionary.set(x,_),this._vertexBuffer.push(u,m),_}_subdivideTrianglesScanline(t){if(this._granularity<2)return function(m,x){const _=[];for(let T=0;T<x.length;T+=3){const A=x[T],z=x[T+1],j=x[T+2],O=m[2*A],V=m[2*A+1];(m[2*z]-O)*(m[2*j+1]-V)-(m[2*z+1]-V)*(m[2*j]-O)>0?(_.push(A),_.push(j),_.push(z)):(_.push(A),_.push(z),_.push(j))}return _}(this._vertexBuffer,t);const n=[],u=t.length;for(let m=0;m<u;m+=3){const x=[t[m+0],t[m+1],t[m+2]],_=[this._vertexBuffer[2*t[m+0]+0],this._vertexBuffer[2*t[m+0]+1],this._vertexBuffer[2*t[m+1]+0],this._vertexBuffer[2*t[m+1]+1],this._vertexBuffer[2*t[m+2]+0],this._vertexBuffer[2*t[m+2]+1]];let T=1/0,A=1/0,z=-1/0,j=-1/0;for(let Q=0;Q<3;Q++){const re=_[2*Q],ue=_[2*Q+1];T=Math.min(T,re),z=Math.max(z,re),A=Math.min(A,ue),j=Math.max(j,ue)}if(T===z||A===j)continue;const O=Math.floor(T/this._granularityCellSize),V=Math.ceil(z/this._granularityCellSize),$=Math.floor(A/this._granularityCellSize),W=Math.ceil(j/this._granularityCellSize);if(O!==V||$!==W)for(let Q=$;Q<W;Q++){const re=this._scanlineGenerateVertexRingForCellRow(Q,_,x);uo(this._vertexBuffer,re,n)}else n.push(...x)}return n}_scanlineGenerateVertexRingForCellRow(t,n,u){const m=t*this._granularityCellSize,x=m+this._granularityCellSize,_=[];for(let T=0;T<3;T++){const A=n[2*T],z=n[2*T+1],j=n[2*(T+1)%6],O=n[(2*(T+1)+1)%6],V=n[2*(T+2)%6],$=n[(2*(T+2)+1)%6],W=j-A,Q=O-z,re=W===0,ue=Q===0,Ae=(m-z)/Q,ve=(x-z)/Q,X=Math.min(Ae,ve),ne=Math.max(Ae,ve);if(!ue&&(X>=1||ne<=0)||ue&&(z<m||z>x)){O>=m&&O<=x&&_.push(u[(T+1)%3]);continue}!ue&&X>0&&_.push(this._vertexToIndex(A+W*X,z+Q*X));const be=A+W*Math.max(X,0),Ze=A+W*Math.min(ne,1);re||this._generateIntraEdgeVertices(_,A,z,j,O,be,Ze),!ue&&ne<1&&_.push(this._vertexToIndex(A+W*ne,z+Q*ne)),(ue||O>=m&&O<=x)&&_.push(u[(T+1)%3]),!ue&&(O<=m||O>=x)&&this._generateInterEdgeVertices(_,A,z,j,O,V,$,Ze,m,x)}return _}_generateIntraEdgeVertices(t,n,u,m,x,_,T){const A=m-n,z=x-u,j=z===0,O=j?Math.min(n,m):Math.min(_,T),V=j?Math.max(n,m):Math.max(_,T),$=Math.floor(O/this._granularityCellSize)+1,W=Math.ceil(V/this._granularityCellSize)-1;if(j?n<m:_<T)for(let Q=$;Q<=W;Q++){const re=Q*this._granularityCellSize;t.push(this._vertexToIndex(re,u+z*(re-n)/A))}else for(let Q=W;Q>=$;Q--){const re=Q*this._granularityCellSize;t.push(this._vertexToIndex(re,u+z*(re-n)/A))}}_generateInterEdgeVertices(t,n,u,m,x,_,T,A,z,j){const O=x-u,V=_-m,$=T-x,W=(z-x)/$,Q=(j-x)/$,re=Math.min(W,Q),ue=Math.max(W,Q),Ae=m+V*re;let ve=Math.floor(Math.min(Ae,A)/this._granularityCellSize)+1,X=Math.ceil(Math.max(Ae,A)/this._granularityCellSize)-1,ne=A<Ae;const be=$===0;if(be&&(T===z||T===j))return;if(be||re>=1||ue<=0){const pt=u-T,at=_+(n-_)*Math.min((z-T)/pt,(j-T)/pt);ve=Math.floor(Math.min(at,A)/this._granularityCellSize)+1,X=Math.ceil(Math.max(at,A)/this._granularityCellSize)-1,ne=A<at}const Ze=O>0?j:z;if(ne)for(let pt=ve;pt<=X;pt++)t.push(this._vertexToIndex(pt*this._granularityCellSize,Ze));else for(let pt=X;pt>=ve;pt--)t.push(this._vertexToIndex(pt*this._granularityCellSize,Ze))}_generateOutline(t){const n=[];for(const u of t){const m=cc(u,this._granularity,!0),x=this._pointArrayToIndices(m),_=[];for(let T=1;T<x.length;T++)_.push(x[T-1]),_.push(x[T]);n.push(_)}return n}_handlePoles(t){let n=!1,u=!1;this._canonical&&(this._canonical.y===0&&(n=!0),this._canonical.y===(1<<this._canonical.z)-1&&(u=!0)),(n||u)&&this._fillPoles(t,n,u)}_ensureNoPoleVertices(){const t=this._vertexBuffer;for(let n=0;n<t.length;n+=2){const u=t[n+1];u===Uu&&(t[n+1]=-32767),u===iu&&(t[n+1]=32766)}}_generatePoleQuad(t,n,u,m,x,_){m>x!=(_===Uu)?(t.push(n),t.push(u),t.push(this._vertexToIndex(m,_)),t.push(u),t.push(this._vertexToIndex(x,_)),t.push(this._vertexToIndex(m,_))):(t.push(u),t.push(n),t.push(this._vertexToIndex(m,_)),t.push(this._vertexToIndex(x,_)),t.push(u),t.push(this._vertexToIndex(m,_)))}_fillPoles(t,n,u){const m=this._vertexBuffer,x=ht,_=t.length;for(let T=2;T<_;T+=3){const A=t[T-2],z=t[T-1],j=t[T],O=m[2*A],V=m[2*A+1],$=m[2*z],W=m[2*z+1],Q=m[2*j],re=m[2*j+1];n&&(V===0&&W===0&&this._generatePoleQuad(t,A,z,O,$,Uu),W===0&&re===0&&this._generatePoleQuad(t,z,j,$,Q,Uu),re===0&&V===0&&this._generatePoleQuad(t,j,A,Q,O,Uu)),u&&(V===x&&W===x&&this._generatePoleQuad(t,A,z,O,$,iu),W===x&&re===x&&this._generatePoleQuad(t,z,j,$,Q,iu),re===x&&V===x&&this._generatePoleQuad(t,j,A,Q,O,iu))}}_initializeVertices(t){for(let n=0;n<t.length;n+=2)this._vertexToIndex(t[n],t[n+1])}subdividePolygonInternal(t,n){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:u,holeIndices:m}=function(T){const A=[],z=[];for(const j of T)if(j.length!==0){j!==T[0]&&A.push(z.length/2);for(let O=0;O<j.length;O++)z.push(j[O].x),z.push(j[O].y)}return{flattened:z,holeIndices:A}}(t);let x;this._initializeVertices(u);try{const T=function(z,j,O=2){const V=j&&j.length,$=V?j[0]*O:z.length;let W=hf(z,0,$,O,!0);const Q=[];if(!W||W.next===W.prev)return Q;let re,ue,Ae;if(V&&(W=function(ve,X,ne,be){const Ze=[];for(let pt=0,at=X.length;pt<at;pt++){const lt=hf(ve,X[pt]*be,pt<at-1?X[pt+1]*be:ve.length,be,!1);lt===lt.next&&(lt.steiner=!0),Ze.push(ff(lt))}Ze.sort($m);for(let pt=0;pt<Ze.length;pt++)ne=pf(Ze[pt],ne);return ne}(z,j,W,O)),z.length>80*O){re=1/0,ue=1/0;let ve=-1/0,X=-1/0;for(let ne=O;ne<$;ne+=O){const be=z[ne],Ze=z[ne+1];be<re&&(re=be),Ze<ue&&(ue=Ze),be>ve&&(ve=be),Ze>X&&(X=Ze)}Ae=Math.max(ve-re,X-ue),Ae=Ae!==0?32767/Ae:0}return Io(W,Q,O,re,ue,Ae,0),Q}(u,m),A=this._convertIndices(u,T);x=this._subdivideTrianglesScanline(A)}catch(T){console.error(T)}let _=[];return n&&(_=this._generateOutline(t)),this._ensureNoPoleVertices(),this._handlePoles(x),{verticesFlattened:this._vertexBuffer,indicesTriangles:x,indicesLineList:_}}_convertIndices(t,n){const u=[];for(let m=0;m<n.length;m++)u.push(this._vertexToIndex(t[2*n[m]],t[2*n[m]+1]));return u}_pointArrayToIndices(t){const n=[];for(let u=0;u<t.length;u++){const m=t[u];n.push(this._vertexToIndex(m.x,m.y))}return n}}function Lo(r,t,n,u=!0){return new co(n,t).subdividePolygonInternal(r,u)}function cc(r,t,n=!1){if(!r||r.length<1)return[];if(r.length<2)return[];const u=r[0],m=r[r.length-1],x=n&&(u.x!==m.x||u.y!==m.y);if(t<2)return x?[...r,r[0]]:[...r];const _=Math.floor(ht/t),T=[];T.push(new ae(r[0].x,r[0].y));const A=r.length,z=x?A:A-1;for(let j=0;j<z;j++){const O=r[j],V=j<A-1?r[j+1]:r[0],$=O.x,W=O.y,Q=V.x,re=V.y,ue=$!==Q,Ae=W!==re;if(!ue&&!Ae)continue;const ve=Q-$,X=re-W,ne=Math.abs(ve),be=Math.abs(X);let Ze=$,pt=W;for(;;){const lt=ve>0?(Math.floor(Ze/_)+1)*_:(Math.ceil(Ze/_)-1)*_,Ct=X>0?(Math.floor(pt/_)+1)*_:(Math.ceil(pt/_)-1)*_,gt=Math.abs(Ze-lt),St=Math.abs(pt-Ct),ct=Math.abs(Ze-Q),qt=Math.abs(pt-re),Qt=ue?gt/ne:Number.POSITIVE_INFINITY,Gt=Ae?St/be:Number.POSITIVE_INFINITY;if((ct<=gt||!ue)&&(qt<=St||!Ae))break;if(Qt<Gt&&ue||!Ae){Ze=lt,pt+=X*Qt;const Kt=new ae(Ze,Math.round(pt));T[T.length-1].x===Kt.x&&T[T.length-1].y===Kt.y||T.push(Kt)}else{Ze+=ve*Gt,pt=Ct;const Kt=new ae(Math.round(Ze),pt);T[T.length-1].x===Kt.x&&T[T.length-1].y===Kt.y||T.push(Kt)}}const at=new ae(Q,re);T[T.length-1].x===at.x&&T[T.length-1].y===at.y||T.push(at)}return T}function uo(r,t,n){if(t.length===0)throw new Error("Subdivision vertex ring is empty.");let u=0,m=r[2*t[0]];for(let A=1;A<t.length;A++){const z=r[2*t[A]];z<m&&(m=z,u=A)}const x=t.length;let _=u,T=(_+1)%x;for(;;){const A=_-1>=0?_-1:x-1,z=(T+1)%x,j=r[2*t[A]],O=r[2*t[z]],V=r[2*t[_]],$=r[2*t[_]+1],W=r[2*t[T]+1];let Q=!1;if(j<O)Q=!0;else if(j>O)Q=!1;else{const re=W-$,ue=-(r[2*t[T]]-V),Ae=$<W?1:-1;((j-V)*re+(r[2*t[A]+1]-$)*ue)*Ae>((O-V)*re+(r[2*t[z]+1]-$)*ue)*Ae&&(Q=!0)}if(Q){const re=t[A],ue=t[_],Ae=t[T];re!==ue&&re!==Ae&&ue!==Ae&&n.push(Ae,ue,re),_--,_<0&&(_=x-1)}else{const re=t[z],ue=t[_],Ae=t[T];re!==ue&&re!==Ae&&ue!==Ae&&n.push(Ae,ue,re),T++,T>=x&&(T=0)}if(A===z)break}}function yf(r,t,n,u,m,x,_,T,A){const z=m.length/2,j=_&&T&&A;if(z<Ia.MAX_VERTEX_ARRAY_LENGTH){const O=t.prepareSegment(z,n,u),V=O.vertexLength;for(let Q=0;Q<x.length;Q+=3)u.emplaceBack(V+x[Q],V+x[Q+1],V+x[Q+2]);let $,W;O.vertexLength+=z,O.primitiveLength+=x.length/3,j&&(W=_.prepareSegment(z,n,T),$=W.vertexLength,W.vertexLength+=z);for(let Q=0;Q<m.length;Q+=2)r(m[Q],m[Q+1]);if(j)for(let Q=0;Q<A.length;Q++){const re=A[Q];for(let ue=1;ue<re.length;ue+=2)T.emplaceBack($+re[ue-1],$+re[ue]);W.primitiveLength+=re.length/2}}else(function(O,V,$,W,Q,re){const ue=[];for(let be=0;be<W.length/2;be++)ue.push(-1);const Ae={count:0};let ve=0,X=O.getOrCreateLatestSegment(V,$),ne=X.vertexLength;for(let be=2;be<Q.length;be+=3){const Ze=Q[be-2],pt=Q[be-1],at=Q[be];let lt=ue[Ze]<ve,Ct=ue[pt]<ve,gt=ue[at]<ve;X.vertexLength+((lt?1:0)+(Ct?1:0)+(gt?1:0))>Ia.MAX_VERTEX_ARRAY_LENGTH&&(X=O.createNewSegment(V,$),ve=Ae.count,lt=!0,Ct=!0,gt=!0,ne=0);const St=Eo(ue,W,re,Ae,Ze,lt,X),ct=Eo(ue,W,re,Ae,pt,Ct,X),qt=Eo(ue,W,re,Ae,at,gt,X);$.emplaceBack(ne+St-ve,ne+ct-ve,ne+qt-ve),X.primitiveLength++}})(t,n,u,m,x,r),j&&function(O,V,$,W,Q,re){const ue=[];for(let be=0;be<W.length/2;be++)ue.push(-1);const Ae={count:0};let ve=0,X=O.getOrCreateLatestSegment(V,$),ne=X.vertexLength;for(let be=0;be<Q.length;be++){const Ze=Q[be];for(let pt=1;pt<Q[be].length;pt+=2){const at=Ze[pt-1],lt=Ze[pt];let Ct=ue[at]<ve,gt=ue[lt]<ve;X.vertexLength+((Ct?1:0)+(gt?1:0))>Ia.MAX_VERTEX_ARRAY_LENGTH&&(X=O.createNewSegment(V,$),ve=Ae.count,Ct=!0,gt=!0,ne=0);const St=Eo(ue,W,re,Ae,at,Ct,X),ct=Eo(ue,W,re,Ae,lt,gt,X);$.emplaceBack(ne+St-ve,ne+ct-ve),X.primitiveLength++}}}(_,n,T,m,A,r),t.forceNewSegmentOnNextPrepare(),_?.forceNewSegmentOnNextPrepare()}function Eo(r,t,n,u,m,x,_){if(x){const T=u.count;return n(t[2*m],t[2*m+1]),r[m]=u.count,u.count++,_.vertexLength++,T}return r[m]}class _l{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ye,this.indexArray=new Xa,this.indexArray2=new Za,this.programConfigurations=new Wn(t.layers,t.zoom),this.segments=new Ia,this.segments2=new Ia,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,u){this.hasPattern=uf("fill",this.layers,n);const m=this.layers[0].layout.get("fill-sort-key"),x=!m.isConstant(),_=[];for(const{feature:T,id:A,index:z,sourceLayerIndex:j}of t){const O=this.layers[0]._featureFilter.needGeometry,V=sc(T,O);if(!this.layers[0]._featureFilter.filter(new ci(this.zoom,{globalState:this.globalState}),V,u))continue;const $=x?m.evaluate(V,{},u,n.availableImages):void 0,W={id:A,properties:T.properties,type:T.type,sourceLayerIndex:j,index:z,geometry:O?V.geometry:vl(T),patterns:{},sortKey:$};_.push(W)}x&&_.sort((T,A)=>T.sortKey-A.sortKey);for(const T of _){const{geometry:A,index:z,sourceLayerIndex:j}=T;if(this.hasPattern){const O=df("fill",this.layers,T,this.zoom,n);this.patternFeatures.push(O)}else this.addFeature(T,A,z,u,{},n.subdivisionGranularity);n.featureIndex.insert(t[z].feature,A,z,j,this.index)}}update(t,n,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,u)}addFeatures(t,n,u){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,n,u,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Xi),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(t,n,u,m,x,_){for(const T of wu(n,500)){const A=Lo(T,m,_.fill.getGranularityForZoomLevel(m.z)),z=this.layoutVertexArray;yf((j,O)=>{z.emplaceBack(j,O)},this.segments,this.layoutVertexArray,this.indexArray,A.verticesFlattened,A.indicesTriangles,this.segments2,this.indexArray2,A.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,x,m)}}let wl,op;Nt("FillBucket",_l,{omit:["layers","patternFeatures"]});var vf={get paint(){return op=op||new In({"fill-antialias":new jt(Te.paint_fill["fill-antialias"]),"fill-opacity":new Wt(Te.paint_fill["fill-opacity"]),"fill-color":new Wt(Te.paint_fill["fill-color"]),"fill-outline-color":new Wt(Te.paint_fill["fill-outline-color"]),"fill-translate":new jt(Te.paint_fill["fill-translate"]),"fill-translate-anchor":new jt(Te.paint_fill["fill-translate-anchor"]),"fill-pattern":new ju(Te.paint_fill["fill-pattern"])})},get layout(){return wl=wl||new In({"fill-sort-key":new Wt(Te.layout_fill["fill-sort-key"])})}};class zs extends _n{constructor(t){super(t,vf)}recalculate(t,n){super.recalculate(t,n);const u=this.paint._values["fill-outline-color"];u.value.kind==="constant"&&u.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new _l(t)}queryRadius(){return Fd(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:t,geometry:n,transform:u,pixelsToTileUnits:m}){return tf(Vd(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-u.bearingInRadians,m),n)}isTileClipped(){return!0}}const Wm=_i([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Gu=_i([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Qd}=Wm;var nu,ru,sp,bf,ou,xf,eh,th={};function Ym(){if(ru)return nu;ru=1;var r=G();function t(m,x,_,T,A){this.properties={},this.extent=_,this.type=0,this._pbf=m,this._geometry=-1,this._keys=T,this._values=A,m.readFields(n,this,x)}function n(m,x,_){m==1?x.id=_.readVarint():m==2?function(T,A){for(var z=T.readVarint()+T.pos;T.pos<z;){var j=A._keys[T.readVarint()],O=A._values[T.readVarint()];A.properties[j]=O}}(_,x):m==3?x.type=_.readVarint():m==4&&(x._geometry=_.pos)}function u(m){for(var x,_,T=0,A=0,z=m.length,j=z-1;A<z;j=A++)T+=((_=m[j]).x-(x=m[A]).x)*(x.y+_.y);return T}return nu=t,t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var m=this._pbf;m.pos=this._geometry;for(var x,_=m.readVarint()+m.pos,T=1,A=0,z=0,j=0,O=[];m.pos<_;){if(A<=0){var V=m.readVarint();T=7&V,A=V>>3}if(A--,T===1||T===2)z+=m.readSVarint(),j+=m.readSVarint(),T===1&&(x&&O.push(x),x=[]),x.push(new r(z,j));else{if(T!==7)throw new Error("unknown command "+T);x&&x.push(x[0].clone())}}return x&&O.push(x),O},t.prototype.bbox=function(){var m=this._pbf;m.pos=this._geometry;for(var x=m.readVarint()+m.pos,_=1,T=0,A=0,z=0,j=1/0,O=-1/0,V=1/0,$=-1/0;m.pos<x;){if(T<=0){var W=m.readVarint();_=7&W,T=W>>3}if(T--,_===1||_===2)(A+=m.readSVarint())<j&&(j=A),A>O&&(O=A),(z+=m.readSVarint())<V&&(V=z),z>$&&($=z);else if(_!==7)throw new Error("unknown command "+_)}return[j,V,O,$]},t.prototype.toGeoJSON=function(m,x,_){var T,A,z=this.extent*Math.pow(2,_),j=this.extent*m,O=this.extent*x,V=this.loadGeometry(),$=t.types[this.type];function W(ue){for(var Ae=0;Ae<ue.length;Ae++){var ve=ue[Ae];ue[Ae]=[360*(ve.x+j)/z-180,360/Math.PI*Math.atan(Math.exp((180-360*(ve.y+O)/z)*Math.PI/180))-90]}}switch(this.type){case 1:var Q=[];for(T=0;T<V.length;T++)Q[T]=V[T][0];W(V=Q);break;case 2:for(T=0;T<V.length;T++)W(V[T]);break;case 3:for(V=function(ue){var Ae=ue.length;if(Ae<=1)return[ue];for(var ve,X,ne=[],be=0;be<Ae;be++){var Ze=u(ue[be]);Ze!==0&&(X===void 0&&(X=Ze<0),X===Ze<0?(ve&&ne.push(ve),ve=[ue[be]]):ve.push(ue[be]))}return ve&&ne.push(ve),ne}(V),T=0;T<V.length;T++)for(A=0;A<V[T].length;A++)W(V[T][A])}V.length===1?V=V[0]:$="Multi"+$;var re={type:"Feature",geometry:{type:$,coordinates:V},properties:this.properties};return"id"in this&&(re.id=this.id),re},nu}function Qm(){if(bf)return sp;bf=1;var r=Ym();function t(u,m){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(n,this,m),this.length=this._features.length}function n(u,m,x){u===15?m.version=x.readVarint():u===1?m.name=x.readString():u===5?m.extent=x.readVarint():u===2?m._features.push(x.pos):u===3?m._keys.push(x.readString()):u===4&&m._values.push(function(_){for(var T=null,A=_.readVarint()+_.pos;_.pos<A;){var z=_.readVarint()>>3;T=z===1?_.readString():z===2?_.readFloat():z===3?_.readDouble():z===4?_.readVarint64():z===5?_.readVarint():z===6?_.readSVarint():z===7?_.readBoolean():null}return T}(x))}return sp=t,t.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var m=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,m,this.extent,this._keys,this._values)},sp}function ii(){return eh||(eh=1,th.VectorTile=function(){if(xf)return ou;xf=1;var r=Qm();function t(n,u,m){if(n===3){var x=new r(m,m.readVarint()+m.pos);x.length&&(u[x.name]=x)}}return ou=function(n,u){this.layers=n.readFields(t,{},u)},ou}(),th.VectorTileFeature=Ym(),th.VectorTileLayer=Qm()),th}var ni=R(ii());const ka=ni.VectorTileFeature.types,Oa=Math.pow(2,13);function Ua(r,t,n,u,m,x,_,T){r.emplaceBack(t,n,2*Math.floor(u*Oa)+_,m*Oa*2,x*Oa*2,Math.round(T))}class Sr{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Lt,this.centroidVertexArray=new Ue,this.indexArray=new Xa,this.programConfigurations=new Wn(t.layers,t.zoom),this.segments=new Ia,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,u){this.features=[],this.hasPattern=uf("fill-extrusion",this.layers,n);for(const{feature:m,id:x,index:_,sourceLayerIndex:T}of t){const A=this.layers[0]._featureFilter.needGeometry,z=sc(m,A);if(!this.layers[0]._featureFilter.filter(new ci(this.zoom,{globalState:this.globalState}),z,u))continue;const j={id:x,sourceLayerIndex:T,index:_,geometry:A?z.geometry:vl(m),properties:m.properties,type:m.type,patterns:{}};this.hasPattern?this.features.push(df("fill-extrusion",this.layers,j,this.zoom,n)):this.addFeature(j,j.geometry,_,u,{},n.subdivisionGranularity),n.featureIndex.insert(m,j.geometry,_,T,this.index,!0)}}addFeatures(t,n,u){for(const m of this.features){const{geometry:x}=m;this.addFeature(m,x,m.index,n,u,t.subdivisionGranularity)}}update(t,n,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,u)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Qd),this.centroidVertexBuffer=t.createVertexBuffer(this.centroidVertexArray,Gu.members,!0),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(t,n,u,m,x,_){for(const T of wu(n,500)){const A={x:0,y:0,sampleCount:0},z=this.layoutVertexArray.length;this.processPolygon(A,m,t,T,_);const j=this.layoutVertexArray.length-z,O=Math.floor(A.x/A.sampleCount),V=Math.floor(A.y/A.sampleCount);for(let $=0;$<j;$++)this.centroidVertexArray.emplaceBack(O,V)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,x,m)}processPolygon(t,n,u,m,x){if(m.length<1||lp(m[0]))return;for(const O of m)O.length!==0&&uc(t,O);const _={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},T=x.fill.getGranularityForZoomLevel(n.z),A=ka[u.type]==="Polygon";for(const O of m){if(O.length===0||lp(O))continue;const V=cc(O,T,A);this._generateSideFaces(V,_)}if(!A)return;const z=Lo(m,n,T,!1),j=this.layoutVertexArray;yf((O,V)=>{Ua(j,O,V,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,z.verticesFlattened,z.indicesTriangles)}_generateSideFaces(t,n){let u=0;for(let m=1;m<t.length;m++){const x=t[m],_=t[m-1];if(Hu(x,_))continue;n.segment.vertexLength+4>Ia.MAX_VERTEX_ARRAY_LENGTH&&(n.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const T=x.sub(_)._perp()._unit(),A=_.dist(x);u+A>32768&&(u=0),Ua(this.layoutVertexArray,x.x,x.y,T.x,T.y,0,0,u),Ua(this.layoutVertexArray,x.x,x.y,T.x,T.y,0,1,u),u+=A,Ua(this.layoutVertexArray,_.x,_.y,T.x,T.y,0,0,u),Ua(this.layoutVertexArray,_.x,_.y,T.x,T.y,0,1,u);const z=n.segment.vertexLength;this.indexArray.emplaceBack(z,z+2,z+1),this.indexArray.emplaceBack(z+1,z+2,z+3),n.segment.vertexLength+=4,n.segment.primitiveLength+=2}}}function uc(r,t){for(let n=0;n<t.length;n++){const u=t[n];n===t.length-1&&t[0].x===u.x&&t[0].y===u.y||(r.x+=u.x,r.y+=u.y,r.sampleCount++)}}function Hu(r,t){return r.x===t.x&&(r.x<0||r.x>ht)||r.y===t.y&&(r.y<0||r.y>ht)}function lp(r){return r.every(t=>t.x<0)||r.every(t=>t.x>ht)||r.every(t=>t.y<0)||r.every(t=>t.y>ht)}let Rs;Nt("FillExtrusionBucket",Sr,{omit:["layers","features"]});var ln={get paint(){return Rs=Rs||new In({"fill-extrusion-opacity":new jt(Te["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wt(Te["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jt(Te["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jt(Te["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ju(Te["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wt(Te["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wt(Te["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jt(Te["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class dc extends _n{constructor(t){super(t,ln)}createBucket(t){return new Sr(t)}queryRadius(){return Fd(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:t,feature:n,featureState:u,geometry:m,transform:x,pixelsToTileUnits:_,pixelPosMatrix:T}){const A=Vd(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-x.bearingInRadians,_),z=this.paint.get("fill-extrusion-height").evaluate(n,u),j=this.paint.get("fill-extrusion-base").evaluate(n,u),O=function($,W){const Q=[];for(const re of $){const ue=[re.x,re.y,0,1];$e(ue,ue,W),Q.push(new ae(ue[0]/ue[3],ue[1]/ue[3]))}return Q}(A,T),V=function($,W,Q,re){const ue=[],Ae=[],ve=re[8]*W,X=re[9]*W,ne=re[10]*W,be=re[11]*W,Ze=re[8]*Q,pt=re[9]*Q,at=re[10]*Q,lt=re[11]*Q;for(const Ct of $){const gt=[],St=[];for(const ct of Ct){const qt=ct.x,Qt=ct.y,Gt=re[0]*qt+re[4]*Qt+re[12],Kt=re[1]*qt+re[5]*Qt+re[13],ma=re[2]*qt+re[6]*Qt+re[14],mi=re[3]*qt+re[7]*Qt+re[15],Ri=ma+ne,ki=mi+be,po=Gt+Ze,lr=Kt+pt,$i=ma+at,Mi=mi+lt,gn=new ae((Gt+ve)/ki,(Kt+X)/ki);gn.z=Ri/ki,gt.push(gn);const cn=new ae(po/Mi,lr/Mi);cn.z=$i/Mi,St.push(cn)}ue.push(gt),Ae.push(St)}return[ue,Ae]}(m,j,z,T);return function($,W,Q){let re=1/0;tf(Q,W)&&(re=cp(Q,W[0]));for(let ue=0;ue<W.length;ue++){const Ae=W[ue],ve=$[ue];for(let X=0;X<Ae.length-1;X++){const ne=Ae[X],be=[ne,Ae[X+1],ve[X+1],ve[X],ne];ef(Q,be)&&(re=Math.min(re,cp(Q,be)))}}return re!==1/0&&re}(V[0],V[1],O)}}function ns(r,t){return r.x*t.x+r.y*t.y}function cp(r,t){if(r.length===1){let n=0;const u=t[n++];let m;for(;!m||u.equals(m);)if(m=t[n++],!m)return 1/0;for(;n<t.length;n++){const x=t[n],_=r[0],T=m.sub(u),A=x.sub(u),z=_.sub(u),j=ns(T,T),O=ns(T,A),V=ns(A,A),$=ns(z,T),W=ns(z,A),Q=j*V-O*O,re=(V*$-O*W)/Q,ue=(j*W-O*$)/Q,Ae=u.z*(1-re-ue)+m.z*re+x.z*ue;if(isFinite(Ae))return Ae}return 1/0}{let n=1/0;for(const u of t)n=Math.min(n,u.z);return n}}const zo=_i([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Xu}=zo,ah=_i([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:qr}=ah,_f=ni.VectorTileFeature.types,wf=Math.cos(Math.PI/180*37.5),ih=Math.pow(2,14)/.5;class Zu{constructor(t){this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(n=>n.id),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(n=>{this.gradients[n.id]={}}),this.layoutVertexArray=new At,this.layoutVertexArray2=new mt,this.indexArray=new Xa,this.programConfigurations=new Wn(t.layers,t.zoom),this.segments=new Ia,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(n=>n.isStateDependent()).map(n=>n.id)}populate(t,n,u){this.hasPattern=uf("line",this.layers,n);const m=this.layers[0].layout.get("line-sort-key"),x=!m.isConstant(),_=[];for(const{feature:T,id:A,index:z,sourceLayerIndex:j}of t){const O=this.layers[0]._featureFilter.needGeometry,V=sc(T,O);if(!this.layers[0]._featureFilter.filter(new ci(this.zoom,{globalState:this.globalState}),V,u))continue;const $=x?m.evaluate(V,{},u):void 0,W={id:A,properties:T.properties,type:T.type,sourceLayerIndex:j,index:z,geometry:O?V.geometry:vl(T),patterns:{},sortKey:$};_.push(W)}x&&_.sort((T,A)=>T.sortKey-A.sortKey);for(const T of _){const{geometry:A,index:z,sourceLayerIndex:j}=T;if(this.hasPattern){const O=df("line",this.layers,T,this.zoom,n);this.patternFeatures.push(O)}else this.addFeature(T,A,z,u,{},n.subdivisionGranularity);n.featureIndex.insert(t[z].feature,A,z,j,this.index)}}update(t,n,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(t,n,this.stateDependentLayers,u)}addFeatures(t,n,u){for(const m of this.patternFeatures)this.addFeature(m,m.geometry,m.index,n,u,t.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(t){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=t.createVertexBuffer(this.layoutVertexArray2,qr)),this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Xu),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(t){if(t.properties&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(t.properties,"mapbox_clip_end"))return{start:+t.properties.mapbox_clip_start,end:+t.properties.mapbox_clip_end}}addFeature(t,n,u,m,x,_){const T=this.layers[0].layout,A=T.get("line-join").evaluate(t,{}),z=T.get("line-cap"),j=T.get("line-miter-limit"),O=T.get("line-round-limit");this.lineClips=this.lineFeatureClips(t);for(const V of n)this.addLine(V,t,A,z,j,O,m,_);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,u,x,m)}addLine(t,n,u,m,x,_,T,A){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t=cc(t,T?A.line.getGranularityForZoomLevel(T.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let ve=0;ve<t.length-1;ve++)this.totalDistance+=t[ve].dist(t[ve+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const z=_f[n.type]==="Polygon";let j=t.length;for(;j>=2&&t[j-1].equals(t[j-2]);)j--;let O=0;for(;O<j-1&&t[O].equals(t[O+1]);)O++;if(j<(z?3:2))return;u==="bevel"&&(x=1.05);const V=this.overscaling<=16?122880/(512*this.overscaling):0,$=this.segments.prepareSegment(10*j,this.layoutVertexArray,this.indexArray);let W,Q,re,ue,Ae;this.e1=this.e2=-1,z&&(W=t[j-2],Ae=t[O].sub(W)._unit()._perp());for(let ve=O;ve<j;ve++){if(re=ve===j-1?z?t[O+1]:void 0:t[ve+1],re&&t[ve].equals(re))continue;Ae&&(ue=Ae),W&&(Q=W),W=t[ve],Ae=re?re.sub(W)._unit()._perp():ue,ue=ue||Ae;let X=ue.add(Ae);X.x===0&&X.y===0||X._unit();const ne=ue.x*Ae.x+ue.y*Ae.y,be=X.x*Ae.x+X.y*Ae.y,Ze=be!==0?1/be:1/0,pt=2*Math.sqrt(2-2*be),at=be<wf&&Q&&re,lt=ue.x*Ae.y-ue.y*Ae.x>0;if(at&&ve>O){const St=W.dist(Q);if(St>2*V){const ct=W.sub(W.sub(Q)._mult(V/St)._round());this.updateDistance(Q,ct),this.addCurrentVertex(ct,ue,0,0,$),Q=ct}}const Ct=Q&&re;let gt=Ct?u:z?"butt":m;if(Ct&&gt==="round"&&(Ze<_?gt="miter":Ze<=2&&(gt="fakeround")),gt==="miter"&&Ze>x&&(gt="bevel"),gt==="bevel"&&(Ze>2&&(gt="flipbevel"),Ze<x&&(gt="miter")),Q&&this.updateDistance(Q,W),gt==="miter")X._mult(Ze),this.addCurrentVertex(W,X,0,0,$);else if(gt==="flipbevel"){if(Ze>100)X=Ae.mult(-1);else{const St=Ze*ue.add(Ae).mag()/ue.sub(Ae).mag();X._perp()._mult(St*(lt?-1:1))}this.addCurrentVertex(W,X,0,0,$),this.addCurrentVertex(W,X.mult(-1),0,0,$)}else if(gt==="bevel"||gt==="fakeround"){const St=-Math.sqrt(Ze*Ze-1),ct=lt?St:0,qt=lt?0:St;if(Q&&this.addCurrentVertex(W,ue,ct,qt,$),gt==="fakeround"){const Qt=Math.round(180*pt/Math.PI/20);for(let Gt=1;Gt<Qt;Gt++){let Kt=Gt/Qt;if(Kt!==.5){const mi=Kt-.5;Kt+=Kt*mi*(Kt-1)*((1.0904+ne*(ne*(3.55645-1.43519*ne)-3.2452))*mi*mi+(.848013+ne*(.215638*ne-1.06021)))}const ma=Ae.sub(ue)._mult(Kt)._add(ue)._unit()._mult(lt?-1:1);this.addHalfVertex(W,ma.x,ma.y,!1,lt,0,$)}}re&&this.addCurrentVertex(W,Ae,-ct,-qt,$)}else if(gt==="butt")this.addCurrentVertex(W,X,0,0,$);else if(gt==="square"){const St=Q?1:-1;this.addCurrentVertex(W,X,St,St,$)}else gt==="round"&&(Q&&(this.addCurrentVertex(W,ue,0,0,$),this.addCurrentVertex(W,ue,1,1,$,!0)),re&&(this.addCurrentVertex(W,Ae,-1,-1,$,!0),this.addCurrentVertex(W,Ae,0,0,$)));if(at&&ve<j-1){const St=W.dist(re);if(St>2*V){const ct=W.add(re.sub(W)._mult(V/St)._round());this.updateDistance(W,ct),this.addCurrentVertex(ct,Ae,0,0,$),W=ct}}}}addCurrentVertex(t,n,u,m,x,_=!1){const T=n.y*m-n.x,A=-n.y-n.x*m;this.addHalfVertex(t,n.x+n.y*u,n.y-n.x*u,_,!1,u,x),this.addHalfVertex(t,T,A,_,!0,-m,x),this.distance>ih/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(t,n,u,m,x,_))}addHalfVertex({x:t,y:n},u,m,x,_,T,A){const z=.5*(this.lineClips?this.scaledDistance*(ih-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((t<<1)+(x?1:0),(n<<1)+(_?1:0),Math.round(63*u)+128,Math.round(63*m)+128,1+(T===0?0:T<0?-1:1)|(63&z)<<2,z>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const j=A.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,j,this.e2),A.primitiveLength++),_?this.e2=j:this.e1=j}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(t,n){this.distance+=t.dist(n),this.updateScaledDistance()}}let Cl,Fn;Nt("LineBucket",Zu,{omit:["layers","patternFeatures"]});var Sl={get paint(){return Fn=Fn||new In({"line-opacity":new Wt(Te.paint_line["line-opacity"]),"line-color":new Wt(Te.paint_line["line-color"]),"line-translate":new jt(Te.paint_line["line-translate"]),"line-translate-anchor":new jt(Te.paint_line["line-translate-anchor"]),"line-width":new Wt(Te.paint_line["line-width"]),"line-gap-width":new Wt(Te.paint_line["line-gap-width"]),"line-offset":new Wt(Te.paint_line["line-offset"]),"line-blur":new Wt(Te.paint_line["line-blur"]),"line-dasharray":new Li(Te.paint_line["line-dasharray"]),"line-pattern":new ju(Te.paint_line["line-pattern"]),"line-gradient":new hl(Te.paint_line["line-gradient"])})},get layout(){return Cl=Cl||new In({"line-cap":new jt(Te.layout_line["line-cap"]),"line-join":new Wt(Te.layout_line["line-join"]),"line-miter-limit":new jt(Te.layout_line["line-miter-limit"]),"line-round-limit":new jt(Te.layout_line["line-round-limit"]),"line-sort-key":new Wt(Te.layout_line["line-sort-key"])})}};class $u extends Wt{possiblyEvaluate(t,n){return n=new ci(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),super.possiblyEvaluate(t,n)}evaluate(t,n,u,m){return n=Ii({},n,{zoom:Math.floor(n.zoom)}),super.evaluate(t,n,u,m)}}let Tl;class Cf extends _n{constructor(t){super(t,Sl),this.gradientVersion=0,Tl||(Tl=new $u(Sl.paint.properties["line-width"].specification),Tl.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(t){if(t==="line-gradient"){const n=this.gradientExpression();this.stepInterpolant=!!function(u){return u._styleExpression!==void 0}(n)&&n._styleExpression.expression instanceof Fl,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(t,n){super.recalculate(t,n),this.paint._values["line-floorwidth"]=Tl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new Zu(t)}queryRadius(t){const n=t,u=up(fn("line-width",this,n),fn("line-gap-width",this,n)),m=fn("line-offset",this,n);return u/2+Math.abs(m)+Fd(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:t,feature:n,featureState:u,geometry:m,transform:x,pixelsToTileUnits:_}){const T=Vd(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-x.bearingInRadians,_),A=_/2*up(this.paint.get("line-width").evaluate(n,u),this.paint.get("line-gap-width").evaluate(n,u)),z=this.paint.get("line-offset").evaluate(n,u);return z&&(m=function(j,O){const V=[];for(let $=0;$<j.length;$++){const W=j[$],Q=[];for(let re=0;re<W.length;re++){const ue=W[re-1],Ae=W[re],ve=W[re+1],X=re===0?new ae(0,0):Ae.sub(ue)._unit()._perp(),ne=re===W.length-1?new ae(0,0):ve.sub(Ae)._unit()._perp(),be=X._add(ne)._unit(),Ze=be.x*ne.x+be.y*ne.y;Ze!==0&&be._mult(1/Ze),Q.push(be._mult(O)._add(Ae))}V.push(Q)}return V}(m,z*_)),function(j,O,V){for(let $=0;$<O.length;$++){const W=O[$];if(j.length>=3){for(let Q=0;Q<W.length;Q++)if(tu(j,W[Q]))return!0}if($h(j,W,V))return!0}return!1}(T,m,A)}isTileClipped(){return!0}}function up(r,t){return t>0?t+2*r:r}const eg=_i([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nh=_i([{name:"a_projected_pos",components:3,type:"Float32"}],4);_i([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Sf=_i([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);_i([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Br=_i([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),tg=_i([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function ho(r,t,n){return r.sections.forEach(u=>{u.text=function(m,x,_){const T=x.layout.get("text-transform").evaluate(_,{});return T==="uppercase"?m=m.toLocaleUpperCase():T==="lowercase"&&(m=m.toLocaleLowerCase()),Do.applyArabicShaping&&(m=Do.applyArabicShaping(m)),m}(u.text,t,n)}),r}_i([{name:"triangle",components:3,type:"Uint16"}]),_i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),_i([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),_i([{type:"Float32",name:"offsetX"}]),_i([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),_i([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Ju={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var Tf,Pf,Pl,Zi=24,rh={};function Wu(){return Tf||(Tf=1,rh.read=function(r,t,n,u,m){var x,_,T=8*m-u-1,A=(1<<T)-1,z=A>>1,j=-7,O=n?m-1:0,V=n?-1:1,$=r[t+O];for(O+=V,x=$&(1<<-j)-1,$>>=-j,j+=T;j>0;x=256*x+r[t+O],O+=V,j-=8);for(_=x&(1<<-j)-1,x>>=-j,j+=u;j>0;_=256*_+r[t+O],O+=V,j-=8);if(x===0)x=1-z;else{if(x===A)return _?NaN:1/0*($?-1:1);_+=Math.pow(2,u),x-=z}return($?-1:1)*_*Math.pow(2,x-u)},rh.write=function(r,t,n,u,m,x){var _,T,A,z=8*x-m-1,j=(1<<z)-1,O=j>>1,V=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=u?0:x-1,W=u?1:-1,Q=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(T=isNaN(t)?1:0,_=j):(_=Math.floor(Math.log(t)/Math.LN2),t*(A=Math.pow(2,-_))<1&&(_--,A*=2),(t+=_+O>=1?V/A:V*Math.pow(2,1-O))*A>=2&&(_++,A/=2),_+O>=j?(T=0,_=j):_+O>=1?(T=(t*A-1)*Math.pow(2,m),_+=O):(T=t*Math.pow(2,O-1)*Math.pow(2,m),_=0));m>=8;r[n+$]=255&T,$+=W,T/=256,m-=8);for(_=_<<m|T,z+=m;z>0;r[n+$]=255&_,$+=W,_/=256,z-=8);r[n+$-W]|=128*Q}),rh}function Df(){if(Pl)return Pf;Pl=1,Pf=t;var r=Wu();function t(X){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(X)?X:new Uint8Array(X||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var n=4294967296,u=1/n,m=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");function x(X){return X.type===t.Bytes?X.readVarint()+X.pos:X.pos+1}function _(X,ne,be){return be?4294967296*ne+(X>>>0):4294967296*(ne>>>0)+(X>>>0)}function T(X,ne,be){var Ze=ne<=16383?1:ne<=2097151?2:ne<=268435455?3:Math.floor(Math.log(ne)/(7*Math.LN2));be.realloc(Ze);for(var pt=be.pos-1;pt>=X;pt--)be.buf[pt+Ze]=be.buf[pt]}function A(X,ne){for(var be=0;be<X.length;be++)ne.writeVarint(X[be])}function z(X,ne){for(var be=0;be<X.length;be++)ne.writeSVarint(X[be])}function j(X,ne){for(var be=0;be<X.length;be++)ne.writeFloat(X[be])}function O(X,ne){for(var be=0;be<X.length;be++)ne.writeDouble(X[be])}function V(X,ne){for(var be=0;be<X.length;be++)ne.writeBoolean(X[be])}function $(X,ne){for(var be=0;be<X.length;be++)ne.writeFixed32(X[be])}function W(X,ne){for(var be=0;be<X.length;be++)ne.writeSFixed32(X[be])}function Q(X,ne){for(var be=0;be<X.length;be++)ne.writeFixed64(X[be])}function re(X,ne){for(var be=0;be<X.length;be++)ne.writeSFixed64(X[be])}function ue(X,ne){return(X[ne]|X[ne+1]<<8|X[ne+2]<<16)+16777216*X[ne+3]}function Ae(X,ne,be){X[be]=ne,X[be+1]=ne>>>8,X[be+2]=ne>>>16,X[be+3]=ne>>>24}function ve(X,ne){return(X[ne]|X[ne+1]<<8|X[ne+2]<<16)+(X[ne+3]<<24)}return t.prototype={destroy:function(){this.buf=null},readFields:function(X,ne,be){for(be=be||this.length;this.pos<be;){var Ze=this.readVarint(),pt=Ze>>3,at=this.pos;this.type=7&Ze,X(pt,ne,this),this.pos===at&&this.skip(Ze)}return ne},readMessage:function(X,ne){return this.readFields(X,ne,this.readVarint()+this.pos)},readFixed32:function(){var X=ue(this.buf,this.pos);return this.pos+=4,X},readSFixed32:function(){var X=ve(this.buf,this.pos);return this.pos+=4,X},readFixed64:function(){var X=ue(this.buf,this.pos)+ue(this.buf,this.pos+4)*n;return this.pos+=8,X},readSFixed64:function(){var X=ue(this.buf,this.pos)+ve(this.buf,this.pos+4)*n;return this.pos+=8,X},readFloat:function(){var X=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,X},readDouble:function(){var X=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,X},readVarint:function(X){var ne,be,Ze=this.buf;return ne=127&(be=Ze[this.pos++]),be<128?ne:(ne|=(127&(be=Ze[this.pos++]))<<7,be<128?ne:(ne|=(127&(be=Ze[this.pos++]))<<14,be<128?ne:(ne|=(127&(be=Ze[this.pos++]))<<21,be<128?ne:function(pt,at,lt){var Ct,gt,St=lt.buf;if(Ct=(112&(gt=St[lt.pos++]))>>4,gt<128||(Ct|=(127&(gt=St[lt.pos++]))<<3,gt<128)||(Ct|=(127&(gt=St[lt.pos++]))<<10,gt<128)||(Ct|=(127&(gt=St[lt.pos++]))<<17,gt<128)||(Ct|=(127&(gt=St[lt.pos++]))<<24,gt<128)||(Ct|=(1&(gt=St[lt.pos++]))<<31,gt<128))return _(pt,Ct,at);throw new Error("Expected varint not more than 10 bytes")}(ne|=(15&(be=Ze[this.pos]))<<28,X,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var X=this.readVarint();return X%2==1?(X+1)/-2:X/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var X=this.readVarint()+this.pos,ne=this.pos;return this.pos=X,X-ne>=12&&m?function(be,Ze,pt){return m.decode(be.subarray(Ze,pt))}(this.buf,ne,X):function(be,Ze,pt){for(var at="",lt=Ze;lt<pt;){var Ct,gt,St,ct=be[lt],qt=null,Qt=ct>239?4:ct>223?3:ct>191?2:1;if(lt+Qt>pt)break;Qt===1?ct<128&&(qt=ct):Qt===2?(192&(Ct=be[lt+1]))==128&&(qt=(31&ct)<<6|63&Ct)<=127&&(qt=null):Qt===3?(gt=be[lt+2],(192&(Ct=be[lt+1]))==128&&(192&gt)==128&&((qt=(15&ct)<<12|(63&Ct)<<6|63&gt)<=2047||qt>=55296&&qt<=57343)&&(qt=null)):Qt===4&&(gt=be[lt+2],St=be[lt+3],(192&(Ct=be[lt+1]))==128&&(192&gt)==128&&(192&St)==128&&((qt=(15&ct)<<18|(63&Ct)<<12|(63&gt)<<6|63&St)<=65535||qt>=1114112)&&(qt=null)),qt===null?(qt=65533,Qt=1):qt>65535&&(qt-=65536,at+=String.fromCharCode(qt>>>10&1023|55296),qt=56320|1023&qt),at+=String.fromCharCode(qt),lt+=Qt}return at}(this.buf,ne,X)},readBytes:function(){var X=this.readVarint()+this.pos,ne=this.buf.subarray(this.pos,X);return this.pos=X,ne},readPackedVarint:function(X,ne){if(this.type!==t.Bytes)return X.push(this.readVarint(ne));var be=x(this);for(X=X||[];this.pos<be;)X.push(this.readVarint(ne));return X},readPackedSVarint:function(X){if(this.type!==t.Bytes)return X.push(this.readSVarint());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readSVarint());return X},readPackedBoolean:function(X){if(this.type!==t.Bytes)return X.push(this.readBoolean());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readBoolean());return X},readPackedFloat:function(X){if(this.type!==t.Bytes)return X.push(this.readFloat());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readFloat());return X},readPackedDouble:function(X){if(this.type!==t.Bytes)return X.push(this.readDouble());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readDouble());return X},readPackedFixed32:function(X){if(this.type!==t.Bytes)return X.push(this.readFixed32());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readFixed32());return X},readPackedSFixed32:function(X){if(this.type!==t.Bytes)return X.push(this.readSFixed32());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readSFixed32());return X},readPackedFixed64:function(X){if(this.type!==t.Bytes)return X.push(this.readFixed64());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readFixed64());return X},readPackedSFixed64:function(X){if(this.type!==t.Bytes)return X.push(this.readSFixed64());var ne=x(this);for(X=X||[];this.pos<ne;)X.push(this.readSFixed64());return X},skip:function(X){var ne=7&X;if(ne===t.Varint)for(;this.buf[this.pos++]>127;);else if(ne===t.Bytes)this.pos=this.readVarint()+this.pos;else if(ne===t.Fixed32)this.pos+=4;else{if(ne!==t.Fixed64)throw new Error("Unimplemented type: "+ne);this.pos+=8}},writeTag:function(X,ne){this.writeVarint(X<<3|ne)},realloc:function(X){for(var ne=this.length||16;ne<this.pos+X;)ne*=2;if(ne!==this.length){var be=new Uint8Array(ne);be.set(this.buf),this.buf=be,this.length=ne}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(X){this.realloc(4),Ae(this.buf,X,this.pos),this.pos+=4},writeSFixed32:function(X){this.realloc(4),Ae(this.buf,X,this.pos),this.pos+=4},writeFixed64:function(X){this.realloc(8),Ae(this.buf,-1&X,this.pos),Ae(this.buf,Math.floor(X*u),this.pos+4),this.pos+=8},writeSFixed64:function(X){this.realloc(8),Ae(this.buf,-1&X,this.pos),Ae(this.buf,Math.floor(X*u),this.pos+4),this.pos+=8},writeVarint:function(X){(X=+X||0)>268435455||X<0?function(ne,be){var Ze,pt;if(ne>=0?(Ze=ne%4294967296|0,pt=ne/4294967296|0):(pt=~(-ne/4294967296),4294967295^(Ze=~(-ne%4294967296))?Ze=Ze+1|0:(Ze=0,pt=pt+1|0)),ne>=18446744073709552e3||ne<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");be.realloc(10),function(at,lt,Ct){Ct.buf[Ct.pos++]=127&at|128,at>>>=7,Ct.buf[Ct.pos++]=127&at|128,at>>>=7,Ct.buf[Ct.pos++]=127&at|128,at>>>=7,Ct.buf[Ct.pos++]=127&at|128,Ct.buf[Ct.pos]=127&(at>>>=7)}(Ze,0,be),function(at,lt){var Ct=(7&at)<<4;lt.buf[lt.pos++]|=Ct|((at>>>=3)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at|((at>>>=7)?128:0),at&&(lt.buf[lt.pos++]=127&at)))))}(pt,be)}(X,this):(this.realloc(4),this.buf[this.pos++]=127&X|(X>127?128:0),X<=127||(this.buf[this.pos++]=127&(X>>>=7)|(X>127?128:0),X<=127||(this.buf[this.pos++]=127&(X>>>=7)|(X>127?128:0),X<=127||(this.buf[this.pos++]=X>>>7&127))))},writeSVarint:function(X){this.writeVarint(X<0?2*-X-1:2*X)},writeBoolean:function(X){this.writeVarint(!!X)},writeString:function(X){X=String(X),this.realloc(4*X.length),this.pos++;var ne=this.pos;this.pos=function(Ze,pt,at){for(var lt,Ct,gt=0;gt<pt.length;gt++){if((lt=pt.charCodeAt(gt))>55295&&lt<57344){if(!Ct){lt>56319||gt+1===pt.length?(Ze[at++]=239,Ze[at++]=191,Ze[at++]=189):Ct=lt;continue}if(lt<56320){Ze[at++]=239,Ze[at++]=191,Ze[at++]=189,Ct=lt;continue}lt=Ct-55296<<10|lt-56320|65536,Ct=null}else Ct&&(Ze[at++]=239,Ze[at++]=191,Ze[at++]=189,Ct=null);lt<128?Ze[at++]=lt:(lt<2048?Ze[at++]=lt>>6|192:(lt<65536?Ze[at++]=lt>>12|224:(Ze[at++]=lt>>18|240,Ze[at++]=lt>>12&63|128),Ze[at++]=lt>>6&63|128),Ze[at++]=63&lt|128)}return at}(this.buf,X,this.pos);var be=this.pos-ne;be>=128&&T(ne,be,this),this.pos=ne-1,this.writeVarint(be),this.pos+=be},writeFloat:function(X){this.realloc(4),r.write(this.buf,X,this.pos,!0,23,4),this.pos+=4},writeDouble:function(X){this.realloc(8),r.write(this.buf,X,this.pos,!0,52,8),this.pos+=8},writeBytes:function(X){var ne=X.length;this.writeVarint(ne),this.realloc(ne);for(var be=0;be<ne;be++)this.buf[this.pos++]=X[be]},writeRawMessage:function(X,ne){this.pos++;var be=this.pos;X(ne,this);var Ze=this.pos-be;Ze>=128&&T(be,Ze,this),this.pos=be-1,this.writeVarint(Ze),this.pos+=Ze},writeMessage:function(X,ne,be){this.writeTag(X,t.Bytes),this.writeRawMessage(ne,be)},writePackedVarint:function(X,ne){ne.length&&this.writeMessage(X,A,ne)},writePackedSVarint:function(X,ne){ne.length&&this.writeMessage(X,z,ne)},writePackedBoolean:function(X,ne){ne.length&&this.writeMessage(X,V,ne)},writePackedFloat:function(X,ne){ne.length&&this.writeMessage(X,j,ne)},writePackedDouble:function(X,ne){ne.length&&this.writeMessage(X,O,ne)},writePackedFixed32:function(X,ne){ne.length&&this.writeMessage(X,$,ne)},writePackedSFixed32:function(X,ne){ne.length&&this.writeMessage(X,W,ne)},writePackedFixed64:function(X,ne){ne.length&&this.writeMessage(X,Q,ne)},writePackedSFixed64:function(X,ne){ne.length&&this.writeMessage(X,re,ne)},writeBytesField:function(X,ne){this.writeTag(X,t.Bytes),this.writeBytes(ne)},writeFixed32Field:function(X,ne){this.writeTag(X,t.Fixed32),this.writeFixed32(ne)},writeSFixed32Field:function(X,ne){this.writeTag(X,t.Fixed32),this.writeSFixed32(ne)},writeFixed64Field:function(X,ne){this.writeTag(X,t.Fixed64),this.writeFixed64(ne)},writeSFixed64Field:function(X,ne){this.writeTag(X,t.Fixed64),this.writeSFixed64(ne)},writeVarintField:function(X,ne){this.writeTag(X,t.Varint),this.writeVarint(ne)},writeSVarintField:function(X,ne){this.writeTag(X,t.Varint),this.writeSVarint(ne)},writeStringField:function(X,ne){this.writeTag(X,t.Bytes),this.writeString(ne)},writeFloatField:function(X,ne){this.writeTag(X,t.Fixed32),this.writeFloat(ne)},writeDoubleField:function(X,ne){this.writeTag(X,t.Fixed64),this.writeDouble(ne)},writeBooleanField:function(X,ne){this.writeVarintField(X,!!ne)}},Pf}var Dl,dp=R(Df());function Mf(r,t,n){r===1&&n.readMessage(Af,t)}function Af(r,t,n){if(r===3){const{id:u,bitmap:m,width:x,height:_,left:T,top:A,advance:z}=n.readMessage(cy,{});t.push({id:u,bitmap:new Bu({width:x+6,height:_+6},m),metrics:{width:x,height:_,left:T,top:A,advance:z}})}}function cy(r,t,n){r===1?t.id=n.readVarint():r===2?t.bitmap=n.readBytes():r===3?t.width=n.readVarint():r===4?t.height=n.readVarint():r===5?t.left=n.readSVarint():r===6?t.top=n.readSVarint():r===7&&(t.advance=n.readVarint())}function ag(r){let t=0,n=0;for(const _ of r)t+=_.w*_.h,n=Math.max(n,_.w);r.sort((_,T)=>T.h-_.h);const u=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let m=0,x=0;for(const _ of r)for(let T=u.length-1;T>=0;T--){const A=u[T];if(!(_.w>A.w||_.h>A.h)){if(_.x=A.x,_.y=A.y,x=Math.max(x,_.y+_.h),m=Math.max(m,_.x+_.w),_.w===A.w&&_.h===A.h){const z=u.pop();T<u.length&&(u[T]=z)}else _.h===A.h?(A.x+=_.w,A.w-=_.w):_.w===A.w?(A.y+=_.h,A.h-=_.h):(u.push({x:A.x+_.w,y:A.y,w:A.w-_.w,h:_.h}),A.y+=_.h,A.h-=_.h);break}}return{w:m,h:x,fill:t/(m*x)||0}}class If{constructor(t,{pixelRatio:n,version:u,stretchX:m,stretchY:x,content:_,textFitWidth:T,textFitHeight:A}){this.paddedRect=t,this.pixelRatio=n,this.stretchX=m,this.stretchY=x,this.content=_,this.version=u,this.textFitWidth=T,this.textFitHeight=A}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Lf{constructor(t,n){const u={},m={};this.haveRenderCallbacks=[];const x=[];this.addImages(t,u,x),this.addImages(n,m,x);const{w:_,h:T}=ag(x),A=new Yn({width:_||1,height:T||1});for(const z in t){const j=t[z],O=u[z].paddedRect;Yn.copy(j.data,A,{x:0,y:0},{x:O.x+1,y:O.y+1},j.data)}for(const z in n){const j=n[z],O=m[z].paddedRect,V=O.x+1,$=O.y+1,W=j.data.width,Q=j.data.height;Yn.copy(j.data,A,{x:0,y:0},{x:V,y:$},j.data),Yn.copy(j.data,A,{x:0,y:Q-1},{x:V,y:$-1},{width:W,height:1}),Yn.copy(j.data,A,{x:0,y:0},{x:V,y:$+Q},{width:W,height:1}),Yn.copy(j.data,A,{x:W-1,y:0},{x:V-1,y:$},{width:1,height:Q}),Yn.copy(j.data,A,{x:0,y:0},{x:V+W,y:$},{width:1,height:Q})}this.image=A,this.iconPositions=u,this.patternPositions=m}addImages(t,n,u){for(const m in t){const x=t[m],_={x:0,y:0,w:x.data.width+2,h:x.data.height+2};u.push(_),n[m]=new If(_,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(m)}}patchUpdatedImages(t,n){t.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const u in t.updatedImages)this.patchUpdatedImage(this.iconPositions[u],t.getImage(u),n),this.patchUpdatedImage(this.patternPositions[u],t.getImage(u),n)}patchUpdatedImage(t,n,u){if(!t||!n||t.version===n.version)return;t.version=n.version;const[m,x]=t.tl;u.update(n.data,void 0,{x:m,y:x})}}Nt("ImagePosition",If),Nt("ImageAtlas",Lf),w.an=void 0,(Dl=w.an||(w.an={}))[Dl.none=0]="none",Dl[Dl.horizontal=1]="horizontal",Dl[Dl.vertical=2]="vertical",Dl[Dl.horizontalOnly=3]="horizontalOnly";class Yu{constructor(){this.scale=1,this.fontStack="",this.imageName=null,this.verticalAlign="bottom"}static forText(t,n,u){const m=new Yu;return m.scale=t||1,m.fontStack=n,m.verticalAlign=u||"bottom",m}static forImage(t,n){const u=new Yu;return u.imageName=t,u.verticalAlign=n||"bottom",u}}class rs{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(t,n){const u=new rs;for(let m=0;m<t.sections.length;m++){const x=t.sections[m];x.image?u.addImageSection(x):u.addTextSection(x,n)}return u}length(){return this.text.length}getSection(t){return this.sections[this.sectionIndex[t]]}getSectionIndex(t){return this.sectionIndex[t]}getCharCode(t){return this.text.charCodeAt(t)}verticalizePunctuation(){this.text=function(t){let n="";for(let u=0;u<t.length;u++){const m=t.charCodeAt(u+1)||null,x=t.charCodeAt(u-1)||null;n+=m&&Ru(m)&&!Ju[t[u+1]]||x&&Ru(x)&&!Ju[t[u-1]]||!Ju[t[u]]?t[u]:Ju[t[u]]}return n}(this.text)}trim(){let t=0;for(let u=0;u<this.text.length&&oh[this.text.charCodeAt(u)];u++)t++;let n=this.text.length;for(let u=this.text.length-1;u>=0&&u>=t&&oh[this.text.charCodeAt(u)];u--)n--;this.text=this.text.substring(t,n),this.sectionIndex=this.sectionIndex.slice(t,n)}substring(t,n){const u=new rs;return u.text=this.text.substring(t,n),u.sectionIndex=this.sectionIndex.slice(t,n),u.sections=this.sections,u}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((t,n)=>Math.max(t,this.sections[n].scale),0)}getMaxImageSize(t){let n=0,u=0;for(let m=0;m<this.length();m++){const x=this.getSection(m);if(x.imageName){const _=t[x.imageName];if(!_)continue;const T=_.displaySize;n=Math.max(n,T[0]),u=Math.max(u,T[1])}}return{maxImageWidth:n,maxImageHeight:u}}addTextSection(t,n){this.text+=t.text,this.sections.push(Yu.forText(t.scale,t.fontStack||n,t.verticalAlign));const u=this.sections.length-1;for(let m=0;m<t.text.length;++m)this.sectionIndex.push(u)}addImageSection(t){const n=t.image?t.image.name:"";if(n.length===0)return void Wa("Can't add FormattedSection with an empty image.");const u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(Yu.forImage(n,t.verticalAlign)),this.sectionIndex.push(this.sections.length-1)):Wa("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function su(r,t,n,u,m,x,_,T,A,z,j,O,V,$,W){const Q=rs.fromFeature(r,m);let re;O===w.an.vertical&&Q.verticalizePunctuation();const{processBidirectionalText:ue,processStyledBidirectionalText:Ae}=Do;if(ue&&Q.sections.length===1){re=[];const ne=ue(Q.toString(),hp(Q,z,x,t,u,$));for(const be of ne){const Ze=new rs;Ze.text=be,Ze.sections=Q.sections;for(let pt=0;pt<be.length;pt++)Ze.sectionIndex.push(0);re.push(Ze)}}else if(Ae){re=[];const ne=Ae(Q.text,Q.sectionIndex,hp(Q,z,x,t,u,$));for(const be of ne){const Ze=new rs;Ze.text=be[0],Ze.sectionIndex=be[1],Ze.sections=Q.sections,re.push(Ze)}}else re=function(ne,be){const Ze=[],pt=ne.text;let at=0;for(const lt of be)Ze.push(ne.substring(at,lt)),at=lt;return at<pt.length&&Ze.push(ne.substring(at,pt.length)),Ze}(Q,hp(Q,z,x,t,u,$));const ve=[],X={positionedLines:ve,text:Q.toString(),top:j[1],bottom:j[1],left:j[0],right:j[0],writingMode:O,iconsInText:!1,verticalizable:!1};return function(ne,be,Ze,pt,at,lt,Ct,gt,St,ct,qt,Qt){let Gt=0,Kt=0,ma=0,mi=0;const Ri=gt==="right"?1:gt==="left"?0:.5,ki=Zi/Qt;let po=0;for(const Mi of at){Mi.trim();const gn=Mi.getMaxScale(),cn={positionedGlyphs:[],lineOffset:0};ne.positionedLines[po]=cn;const Cn=cn.positionedGlyphs;let cr=0;if(!Mi.length()){Kt+=lt,++po;continue}const ur=kf(pt,Mi,ki);for(let dr=0;dr<Mi.length();dr++){const Ni=Mi.getSection(dr),un=Mi.getSectionIndex(dr),Wi=Mi.getCharCode(dr),Yi=sg(St,qt,Wi);let bi;if(Ni.imageName){if(ne.iconsInText=!0,Ni.scale=Ni.scale*ki,bi=dy(Ni,Yi,gn,ur,pt),!bi)continue;cr=Math.max(cr,bi.imageOffset)}else if(bi=uy(Ni,Wi,Yi,ur,be,Ze),!bi)continue;const{rect:Vr,metrics:a,baselineOffset:s}=bi;Cn.push({glyph:Wi,imageName:Ni.imageName,x:Gt,y:Kt+s+-17,vertical:Yi,scale:Ni.scale,fontStack:Ni.fontStack,sectionIndex:un,metrics:a,rect:Vr}),Yi?(ne.verticalizable=!0,Gt+=(Ni.imageName?a.advance:Zi)*Ni.scale+ct):Gt+=a.advance*Ni.scale+ct}Cn.length!==0&&(ma=Math.max(Gt-ct,ma),hy(Cn,0,Cn.length-1,Ri)),Gt=0,cn.lineOffset=Math.max(cr,(gn-1)*Zi);const Ji=lt*gn+cr;Kt+=Ji,mi=Math.max(Ji,mi),++po}const{horizontalAlign:lr,verticalAlign:$i}=hi(Ct);(function(Mi,gn,cn,Cn,cr,ur,Ji,dr,Ni){const un=(gn-cn)*cr;let Wi=0;Wi=ur!==Ji?-dr*Cn- -17:-Cn*Ni*Ji+.5*Ji;for(const Yi of Mi)for(const bi of Yi.positionedGlyphs)bi.x+=un,bi.y+=Wi})(ne.positionedLines,Ri,lr,$i,ma,mi,lt,Kt,at.length),ne.top+=-$i*Kt,ne.bottom=ne.top+Kt,ne.left+=-lr*ma,ne.right=ne.left+ma}(X,t,n,u,re,_,T,A,O,z,V,W),!function(ne){for(const be of ne)if(be.positionedGlyphs.length!==0)return!1;return!0}(ve)&&X}const oh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},ig={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},ng={40:!0};function Ef(r,t,n,u,m,x){if(t.imageName){const _=u[t.imageName];return _?_.displaySize[0]*t.scale*Zi/x+m:0}{const _=n[t.fontStack],T=_&&_[r];return T?T.metrics.advance*t.scale+m:0}}function zf(r,t,n,u){const m=Math.pow(r-t,2);return u?r<t?m/2:2*m:m+Math.abs(n)*n}function rg(r,t,n){let u=0;return r===10&&(u-=1e4),n&&(u+=150),r!==40&&r!==65288||(u+=50),t!==41&&t!==65289||(u+=50),u}function sh(r,t,n,u,m,x){let _=null,T=zf(t,n,m,x);for(const A of u){const z=zf(t-A.x,n,m,x)+A.badness;z<=T&&(_=A,T=z)}return{index:r,x:t,priorBreak:_,badness:T}}function Rf(r){return r?Rf(r.priorBreak).concat(r.index):[]}function hp(r,t,n,u,m,x){if(!r)return[];const _=[],T=function(O,V,$,W,Q,re){let ue=0;for(let Ae=0;Ae<O.length();Ae++){const ve=O.getSection(Ae);ue+=Ef(O.getCharCode(Ae),ve,W,Q,V,re)}return ue/Math.max(1,Math.ceil(ue/$))}(r,t,n,u,m,x),A=r.text.indexOf("​")>=0;let z=0;for(let O=0;O<r.length();O++){const V=r.getSection(O),$=r.getCharCode(O);if(oh[$]||(z+=Ef($,V,u,m,t,x)),O<r.length()-1){const W=!((j=$)<11904)&&(!!Ca["CJK Compatibility Forms"](j)||!!Ca["CJK Compatibility"](j)||!!Ca["CJK Strokes"](j)||!!Ca["CJK Symbols and Punctuation"](j)||!!Ca["Enclosed CJK Letters and Months"](j)||!!Ca["Halfwidth and Fullwidth Forms"](j)||!!Ca["Ideographic Description Characters"](j)||!!Ca["Vertical Forms"](j)||ul.test(String.fromCodePoint(j)));(ig[$]||W||V.imageName||O!==r.length()-2&&ng[r.getCharCode(O+1)])&&_.push(sh(O+1,z,T,_,rg($,r.getCharCode(O+1),W&&A),!1))}}var j;return Rf(sh(r.length(),z,T,_,0,!0))}function hi(r){let t=.5,n=.5;switch(r){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(r){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function kf(r,t,n){const u=t.getMaxScale()*Zi,{maxImageWidth:m,maxImageHeight:x}=t.getMaxImageSize(r),_=Math.max(u,x*n);return{verticalLineContentWidth:Math.max(u,m*n),horizontalLineContentHeight:_}}function og(r){switch(r){case"top":return 0;case"center":return .5;default:return 1}}function sg(r,t,n){return!(r===w.an.horizontal||!t&&!Ds(n)||t&&(oh[n]||(u=n,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(u)))));var u}function uy(r,t,n,u,m,x){const _=x[r.fontStack],T=function(z,j,O,V){if(z&&z.rect)return z;const $=j[O.fontStack],W=$&&$[V];return W?{rect:null,metrics:W.metrics}:null}(_&&_[t],m,r,t);if(T===null)return null;let A;if(n)A=u.verticalLineContentWidth-r.scale*Zi;else{const z=og(r.verticalAlign);A=(u.horizontalLineContentHeight-r.scale*Zi)*z}return{rect:T.rect,metrics:T.metrics,baselineOffset:A}}function dy(r,t,n,u,m){const x=m[r.imageName];if(!x)return null;const _=x.paddedRect,T=x.displaySize,A={width:T[0],height:T[1],left:1,top:-3,advance:t?T[1]:T[0]};let z;if(t)z=u.verticalLineContentWidth-T[1]*r.scale;else{const j=og(r.verticalAlign);z=(u.horizontalLineContentHeight-T[1]*r.scale)*j}return{rect:_,metrics:A,baselineOffset:z,imageOffset:(t?T[0]:T[1])*r.scale-Zi*n}}function hy(r,t,n,u){if(u===0)return;const m=r[n],x=(r[n].x+m.metrics.advance*m.scale)*u;for(let _=t;_<=n;_++)r[_].x-=x}function pp(r,t,n){const{horizontalAlign:u,verticalAlign:m}=hi(n),x=t[0]-r.displaySize[0]*u,_=t[1]-r.displaySize[1]*m;return{image:r,top:_,bottom:_+r.displaySize[1],left:x,right:x+r.displaySize[0]}}function lu(r){var t,n;let u=r.left,m=r.top,x=r.right-u,_=r.bottom-m;const T=(t=r.image.textFitWidth)!==null&&t!==void 0?t:"stretchOrShrink",A=(n=r.image.textFitHeight)!==null&&n!==void 0?n:"stretchOrShrink",z=(r.image.content[2]-r.image.content[0])/(r.image.content[3]-r.image.content[1]);if(A==="proportional"){if(T==="stretchOnly"&&x/_<z||T==="proportional"){const j=Math.ceil(_*z);u*=j/x,x=j}}else if(T==="proportional"&&A==="stretchOnly"&&z!==0&&x/_>z){const j=Math.ceil(x/z);m*=j/_,_=j}return{x1:u,y1:m,x2:u+x,y2:m+_}}function fp(r,t,n,u,m,x){const _=r.image;let T;if(_.content){const re=_.content,ue=_.pixelRatio||1;T=[re[0]/ue,re[1]/ue,_.displaySize[0]-re[2]/ue,_.displaySize[1]-re[3]/ue]}const A=t.left*x,z=t.right*x;let j,O,V,$;n==="width"||n==="both"?($=m[0]+A-u[3],O=m[0]+z+u[1]):($=m[0]+(A+z-_.displaySize[0])/2,O=$+_.displaySize[0]);const W=t.top*x,Q=t.bottom*x;return n==="height"||n==="both"?(j=m[1]+W-u[0],V=m[1]+Q+u[2]):(j=m[1]+(W+Q-_.displaySize[1])/2,V=j+_.displaySize[1]),{image:_,top:j,right:O,bottom:V,left:$,collisionPadding:T}}const Ro=128,ks=32640;function hc(r,t){const{expression:n}=t;if(n.kind==="constant")return{kind:"constant",layoutSize:n.evaluate(new ci(r+1))};if(n.kind==="source")return{kind:"source"};{const{zoomStops:u,interpolationType:m}=n;let x=0;for(;x<u.length&&u[x]<=r;)x++;x=Math.max(0,x-1);let _=x;for(;_<u.length&&u[_]<r+1;)_++;_=Math.min(u.length-1,_);const T=u[x],A=u[_];return n.kind==="composite"?{kind:"composite",minZoom:T,maxZoom:A,interpolationType:m}:{kind:"camera",minZoom:T,maxZoom:A,minSize:n.evaluate(new ci(T)),maxSize:n.evaluate(new ci(A)),interpolationType:m}}}function ko(r,t,n){let u="never";const m=r.get(t);return m?u=m:r.get(n)&&(u="always"),u}const lh=ni.VectorTileFeature.types,py=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function ch(r,t,n,u,m,x,_,T,A,z,j,O,V){const $=T?Math.min(ks,Math.round(T[0])):0,W=T?Math.min(ks,Math.round(T[1])):0;r.emplaceBack(t,n,Math.round(32*u),Math.round(32*m),x,_,($<<1)+(A?1:0),W,16*z,16*j,256*O,256*V)}function mp(r,t,n){r.emplaceBack(t.x,t.y,n),r.emplaceBack(t.x,t.y,n),r.emplaceBack(t.x,t.y,n),r.emplaceBack(t.x,t.y,n)}function lg(r){for(const t of r.sections)if(Nu(t.text))return!0;return!1}class gp{constructor(t){this.layoutVertexArray=new va,this.indexArray=new Xa,this.programConfigurations=t,this.segments=new Ia,this.dynamicLayoutVertexArray=new Ra,this.opacityVertexArray=new wi,this.hasVisibleVertices=!1,this.placedSymbolArray=new ce}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(t,n,u,m){this.isEmpty()||(u&&(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,eg.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,n),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,nh.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,py,!0),this.opacityVertexBuffer.itemSize=1),(u||m)&&this.programConfigurations.upload(t))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Nt("SymbolBuffers",gp);class Nf{constructor(t,n,u){this.layoutVertexArray=new t,this.layoutAttributes=n,this.indexArray=new u,this.segments=new Ia,this.collisionVertexArray=new Di}upload(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Sf.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Nt("CollisionBuffers",Nf);class pc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.globalState=t.globalState,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(_=>_.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=hc(this.zoom,n["text-size"]),this.iconSizeData=hc(this.zoom,n["icon-size"]);const u=this.layers[0].layout,m=u.get("symbol-sort-key"),x=u.get("symbol-z-order");this.canOverlap=ko(u,"text-overlap","text-allow-overlap")!=="never"||ko(u,"icon-overlap","icon-allow-overlap")!=="never"||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!m.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(_=>w.an[_])),this.stateDependentLayerIds=this.layers.filter(_=>_.isStateDependent()).map(_=>_.id),this.sourceID=t.sourceID}createArrays(){this.text=new gp(new Wn(this.layers,this.zoom,t=>/^text/.test(t))),this.icon=new gp(new Wn(this.layers,this.zoom,t=>/^icon/.test(t))),this.glyphOffsetArray=new pe,this.lineVertexArray=new xe,this.symbolInstances=new ye,this.textAnchorOffsets=new me}calculateGlyphDependencies(t,n,u,m,x){for(let _=0;_<t.length;_++)if(n[t.charCodeAt(_)]=!0,(u||m)&&x){const T=Ju[t.charAt(_)];T&&(n[T.charCodeAt(0)]=!0)}}populate(t,n,u){const m=this.layers[0],x=m.layout,_=x.get("text-font"),T=x.get("text-field"),A=x.get("icon-image"),z=(T.value.kind!=="constant"||T.value.value instanceof Dn&&!T.value.value.isEmpty()||T.value.value.toString().length>0)&&(_.value.kind!=="constant"||_.value.value.length>0),j=A.value.kind!=="constant"||!!A.value.value||Object.keys(A.parameters).length>0,O=x.get("symbol-sort-key");if(this.features=[],!z&&!j)return;const V=n.iconDependencies,$=n.glyphDependencies,W=n.availableImages,Q=new ci(this.zoom,{globalState:this.globalState});for(const{feature:re,id:ue,index:Ae,sourceLayerIndex:ve}of t){const X=m._featureFilter.needGeometry,ne=sc(re,X);if(!m._featureFilter.filter(Q,ne,u))continue;let be,Ze;if(X||(ne.geometry=vl(re)),z){const at=m.getValueAndResolveTokens("text-field",ne,u,W),lt=Dn.factory(at),Ct=this.hasRTLText=this.hasRTLText||lg(lt);(!Ct||Do.getRTLTextPluginStatus()==="unavailable"||Ct&&Do.isParsed())&&(be=ho(lt,m,ne))}if(j){const at=m.getValueAndResolveTokens("icon-image",ne,u,W);Ze=at instanceof Mn?at:Mn.fromString(at)}if(!be&&!Ze)continue;const pt=this.sortFeaturesByKey?O.evaluate(ne,{},u):void 0;if(this.features.push({id:ue,text:be,icon:Ze,index:Ae,sourceLayerIndex:ve,geometry:ne.geometry,properties:re.properties,type:lh[re.type],sortKey:pt}),Ze&&(V[Ze.name]=!0),be){const at=_.evaluate(ne,{},u).join(","),lt=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(w.an.vertical)>=0;for(const Ct of be.sections)if(Ct.image)V[Ct.image.name]=!0;else{const gt=To(be.toString()),St=Ct.fontStack||at,ct=$[St]=$[St]||{};this.calculateGlyphDependencies(Ct.text,ct,lt,this.allowVerticalPlacement,gt)}}}x.get("symbol-placement")==="line"&&(this.features=function(re){const ue={},Ae={},ve=[];let X=0;function ne(at){ve.push(re[at]),X++}function be(at,lt,Ct){const gt=Ae[at];return delete Ae[at],Ae[lt]=gt,ve[gt].geometry[0].pop(),ve[gt].geometry[0]=ve[gt].geometry[0].concat(Ct[0]),gt}function Ze(at,lt,Ct){const gt=ue[lt];return delete ue[lt],ue[at]=gt,ve[gt].geometry[0].shift(),ve[gt].geometry[0]=Ct[0].concat(ve[gt].geometry[0]),gt}function pt(at,lt,Ct){const gt=Ct?lt[0][lt[0].length-1]:lt[0][0];return`${at}:${gt.x}:${gt.y}`}for(let at=0;at<re.length;at++){const lt=re[at],Ct=lt.geometry,gt=lt.text?lt.text.toString():null;if(!gt){ne(at);continue}const St=pt(gt,Ct),ct=pt(gt,Ct,!0);if(St in Ae&&ct in ue&&Ae[St]!==ue[ct]){const qt=Ze(St,ct,Ct),Qt=be(St,ct,ve[qt].geometry);delete ue[St],delete Ae[ct],Ae[pt(gt,ve[Qt].geometry,!0)]=Qt,ve[qt].geometry=null}else St in Ae?be(St,ct,Ct):ct in ue?Ze(St,ct,Ct):(ne(at),ue[St]=X-1,Ae[ct]=X-1)}return ve.filter(at=>at.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((re,ue)=>re.sortKey-ue.sortKey)}update(t,n,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(t,n,this.layers,u),this.icon.programConfigurations.updatePaintArrays(t,n,this.layers,u))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(t){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(t,n){const u=this.lineVertexArray.length;if(t.segment!==void 0){let m=t.dist(n[t.segment+1]),x=t.dist(n[t.segment]);const _={};for(let T=t.segment+1;T<n.length;T++)_[T]={x:n[T].x,y:n[T].y,tileUnitDistanceFromAnchor:m},T<n.length-1&&(m+=n[T+1].dist(n[T]));for(let T=t.segment||0;T>=0;T--)_[T]={x:n[T].x,y:n[T].y,tileUnitDistanceFromAnchor:x},T>0&&(x+=n[T-1].dist(n[T]));for(let T=0;T<n.length;T++){const A=_[T];this.lineVertexArray.emplaceBack(A.x,A.y,A.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}}addSymbols(t,n,u,m,x,_,T,A,z,j,O,V){const $=t.indexArray,W=t.layoutVertexArray,Q=t.segments.prepareSegment(4*n.length,W,$,this.canOverlap?_.sortKey:void 0),re=this.glyphOffsetArray.length,ue=Q.vertexLength,Ae=this.allowVerticalPlacement&&T===w.an.vertical?Math.PI/2:0,ve=_.text&&_.text.sections;for(let X=0;X<n.length;X++){const{tl:ne,tr:be,bl:Ze,br:pt,tex:at,pixelOffsetTL:lt,pixelOffsetBR:Ct,minFontScaleX:gt,minFontScaleY:St,glyphOffset:ct,isSDF:qt,sectionIndex:Qt}=n[X],Gt=Q.vertexLength,Kt=ct[1];ch(W,A.x,A.y,ne.x,Kt+ne.y,at.x,at.y,u,qt,lt.x,lt.y,gt,St),ch(W,A.x,A.y,be.x,Kt+be.y,at.x+at.w,at.y,u,qt,Ct.x,lt.y,gt,St),ch(W,A.x,A.y,Ze.x,Kt+Ze.y,at.x,at.y+at.h,u,qt,lt.x,Ct.y,gt,St),ch(W,A.x,A.y,pt.x,Kt+pt.y,at.x+at.w,at.y+at.h,u,qt,Ct.x,Ct.y,gt,St),mp(t.dynamicLayoutVertexArray,A,Ae),$.emplaceBack(Gt,Gt+2,Gt+1),$.emplaceBack(Gt+1,Gt+2,Gt+3),Q.vertexLength+=4,Q.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ct[0]),X!==n.length-1&&Qt===n[X+1].sectionIndex||t.programConfigurations.populatePaintArrays(W.length,_,_.index,{},V,ve&&ve[Qt])}t.placedSymbolArray.emplaceBack(A.x,A.y,re,this.glyphOffsetArray.length-re,ue,z,j,A.segment,u?u[0]:0,u?u[1]:0,m[0],m[1],T,0,!1,0,O)}_addCollisionDebugVertex(t,n,u,m,x,_){return n.emplaceBack(0,0),t.emplaceBack(u.x,u.y,m,x,Math.round(_.x),Math.round(_.y))}addCollisionDebugVertices(t,n,u,m,x,_,T){const A=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),z=A.vertexLength,j=x.layoutVertexArray,O=x.collisionVertexArray,V=T.anchorX,$=T.anchorY;this._addCollisionDebugVertex(j,O,_,V,$,new ae(t,n)),this._addCollisionDebugVertex(j,O,_,V,$,new ae(u,n)),this._addCollisionDebugVertex(j,O,_,V,$,new ae(u,m)),this._addCollisionDebugVertex(j,O,_,V,$,new ae(t,m)),A.vertexLength+=4;const W=x.indexArray;W.emplaceBack(z,z+1),W.emplaceBack(z+1,z+2),W.emplaceBack(z+2,z+3),W.emplaceBack(z+3,z),A.primitiveLength+=4}addDebugCollisionBoxes(t,n,u,m){for(let x=t;x<n;x++){const _=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(_.x1,_.y1,_.x2,_.y2,m?this.textCollisionBox:this.iconCollisionBox,_.anchorPoint,u)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Nf(Ha,Br.members,Za),this.iconCollisionBox=new Nf(Ha,Br.members,Za);for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.addDebugCollisionBoxes(n.textBoxStartIndex,n.textBoxEndIndex,n,!0),this.addDebugCollisionBoxes(n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n,!0),this.addDebugCollisionBoxes(n.iconBoxStartIndex,n.iconBoxEndIndex,n,!1),this.addDebugCollisionBoxes(n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex,n,!1)}}_deserializeCollisionBoxesForSymbol(t,n,u,m,x,_,T,A,z){const j={};for(let O=n;O<u;O++){const V=t.get(O);j.textBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},j.textFeatureIndex=V.featureIndex;break}for(let O=m;O<x;O++){const V=t.get(O);j.verticalTextBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},j.verticalTextFeatureIndex=V.featureIndex;break}for(let O=_;O<T;O++){const V=t.get(O);j.iconBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},j.iconFeatureIndex=V.featureIndex;break}for(let O=A;O<z;O++){const V=t.get(O);j.verticalIconBox={x1:V.x1,y1:V.y1,x2:V.x2,y2:V.y2,anchorPointX:V.anchorPointX,anchorPointY:V.anchorPointY},j.verticalIconFeatureIndex=V.featureIndex;break}return j}deserializeCollisionBoxes(t){this.collisionArrays=[];for(let n=0;n<this.symbolInstances.length;n++){const u=this.symbolInstances.get(n);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(t,n){const u=t.placedSymbolArray.get(n),m=u.vertexStartIndex+4*u.numGlyphs;for(let x=u.vertexStartIndex;x<m;x+=4)t.indexArray.emplaceBack(x,x+2,x+1),t.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(t){if(this.sortedAngle===t&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const n=Math.sin(t),u=Math.cos(t),m=[],x=[],_=[];for(let T=0;T<this.symbolInstances.length;++T){_.push(T);const A=this.symbolInstances.get(T);m.push(0|Math.round(n*A.anchorX+u*A.anchorY)),x.push(A.featureIndex)}return _.sort((T,A)=>m[T]-m[A]||x[A]-x[T]),_}addToSortKeyRanges(t,n){const u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===n?u.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:n,symbolInstanceStart:t,symbolInstanceEnd:t+1})}sortFeatures(t){if(this.sortFeaturesByY&&this.sortedAngle!==t&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const n of this.symbolInstanceIndexes){const u=this.symbolInstances.get(n);this.featureSortOrder.push(u.featureIndex),[u.rightJustifiedTextSymbolIndex,u.centerJustifiedTextSymbolIndex,u.leftJustifiedTextSymbolIndex].forEach((m,x,_)=>{m>=0&&_.indexOf(m)===x&&this.addIndicesForPlacedSymbol(this.text,m)}),u.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,u.verticalPlacedTextSymbolIndex),u.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,u.placedIconSymbolIndex),u.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,u.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let jf,Kf;Nt("SymbolBucket",pc,{omit:["layers","collisionBoxArray","features","compareText"]}),pc.MAX_GLYPHS=65535,pc.addDynamicAttributes=mp;var Of={get paint(){return Kf=Kf||new In({"icon-opacity":new Wt(Te.paint_symbol["icon-opacity"]),"icon-color":new Wt(Te.paint_symbol["icon-color"]),"icon-halo-color":new Wt(Te.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wt(Te.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wt(Te.paint_symbol["icon-halo-blur"]),"icon-translate":new jt(Te.paint_symbol["icon-translate"]),"icon-translate-anchor":new jt(Te.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wt(Te.paint_symbol["text-opacity"]),"text-color":new Wt(Te.paint_symbol["text-color"],{runtimeType:pa,getOverride:r=>r.textColor,hasOverride:r=>!!r.textColor}),"text-halo-color":new Wt(Te.paint_symbol["text-halo-color"]),"text-halo-width":new Wt(Te.paint_symbol["text-halo-width"]),"text-halo-blur":new Wt(Te.paint_symbol["text-halo-blur"]),"text-translate":new jt(Te.paint_symbol["text-translate"]),"text-translate-anchor":new jt(Te.paint_symbol["text-translate-anchor"])})},get layout(){return jf=jf||new In({"symbol-placement":new jt(Te.layout_symbol["symbol-placement"]),"symbol-spacing":new jt(Te.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jt(Te.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Wt(Te.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jt(Te.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new jt(Te.layout_symbol["icon-allow-overlap"]),"icon-overlap":new jt(Te.layout_symbol["icon-overlap"]),"icon-ignore-placement":new jt(Te.layout_symbol["icon-ignore-placement"]),"icon-optional":new jt(Te.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jt(Te.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wt(Te.layout_symbol["icon-size"]),"icon-text-fit":new jt(Te.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new jt(Te.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wt(Te.layout_symbol["icon-image"]),"icon-rotate":new Wt(Te.layout_symbol["icon-rotate"]),"icon-padding":new Wt(Te.layout_symbol["icon-padding"]),"icon-keep-upright":new jt(Te.layout_symbol["icon-keep-upright"]),"icon-offset":new Wt(Te.layout_symbol["icon-offset"]),"icon-anchor":new Wt(Te.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jt(Te.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jt(Te.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jt(Te.layout_symbol["text-rotation-alignment"]),"text-field":new Wt(Te.layout_symbol["text-field"]),"text-font":new Wt(Te.layout_symbol["text-font"]),"text-size":new Wt(Te.layout_symbol["text-size"]),"text-max-width":new Wt(Te.layout_symbol["text-max-width"]),"text-line-height":new jt(Te.layout_symbol["text-line-height"]),"text-letter-spacing":new Wt(Te.layout_symbol["text-letter-spacing"]),"text-justify":new Wt(Te.layout_symbol["text-justify"]),"text-radial-offset":new Wt(Te.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jt(Te.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Wt(Te.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Wt(Te.layout_symbol["text-anchor"]),"text-max-angle":new jt(Te.layout_symbol["text-max-angle"]),"text-writing-mode":new jt(Te.layout_symbol["text-writing-mode"]),"text-rotate":new Wt(Te.layout_symbol["text-rotate"]),"text-padding":new jt(Te.layout_symbol["text-padding"]),"text-keep-upright":new jt(Te.layout_symbol["text-keep-upright"]),"text-transform":new Wt(Te.layout_symbol["text-transform"]),"text-offset":new Wt(Te.layout_symbol["text-offset"]),"text-allow-overlap":new jt(Te.layout_symbol["text-allow-overlap"]),"text-overlap":new jt(Te.layout_symbol["text-overlap"]),"text-ignore-placement":new jt(Te.layout_symbol["text-ignore-placement"]),"text-optional":new jt(Te.layout_symbol["text-optional"])})}};class yp{constructor(t){if(t.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=t.property.overrides?t.property.overrides.runtimeType:Aa,this.defaultValue=t}evaluate(t){if(t.formattedSection){const n=this.defaultValue.property.overrides;if(n&&n.hasOverride(t.formattedSection))return n.getOverride(t.formattedSection)}return t.feature&&t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default}eachChild(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Nt("FormatSectionOverride",yp,{omit:["defaultValue"]});class Qu extends _n{constructor(t){super(t,Of)}recalculate(t,n){if(super.recalculate(t,n),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const u=this.layout.get("text-writing-mode");if(u){const m=[];for(const x of u)m.indexOf(x)<0&&m.push(x);this.layout._values["text-writing-mode"]=m}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(t,n,u,m){const x=this.layout.get(t).evaluate(n,{},u,m),_=this._unevaluatedLayout._values[t];return _.isDataDriven()||nl(_.value)||!x?x:function(T,A){return A.replace(/{([^{}]+)}/g,(z,j)=>T&&j in T?String(T[j]):"")}(n.properties,x)}createBucket(t){return new pc(t)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const t of Of.paint.overridableProperties){if(!Qu.hasPaintOverride(this.layout,t))continue;const n=this.paint.get(t),u=new yp(n),m=new il(u,n.property.specification);let x=null;x=n.value.kind==="constant"||n.value.kind==="source"?new jn("source",m):new wo("composite",m,n.value.zoomStops),this.paint._values[t]=new Kn(n.property,x,n.parameters)}}_handleOverridablePaintPropertyUpdate(t,n,u){return!(!this.layout||n.isDataDriven()||u.isDataDriven())&&Qu.hasPaintOverride(this.layout,t)}static hasPaintOverride(t,n){const u=t.get("text-field"),m=Of.paint.properties[n];let x=!1;const _=T=>{for(const A of T)if(m.overrides&&m.overrides.hasOverride(A))return void(x=!0)};if(u.value.kind==="constant"&&u.value.value instanceof Dn)_(u.value.value.sections);else if(u.value.kind==="source"){const T=z=>{x||(z instanceof Fi&&ia(z.value)===tr?_(z.value.sections):z instanceof Vo?_(z.sections):z.eachChild(T))},A=u.value;A._styleExpression&&T(A._styleExpression.expression)}return x}}let cg;var fy={get paint(){return cg=cg||new In({"background-color":new jt(Te.paint_background["background-color"]),"background-pattern":new Li(Te.paint_background["background-pattern"]),"background-opacity":new jt(Te.paint_background["background-opacity"])})}};class uh extends _n{constructor(t){super(t,fy)}}let ug;var dg={get paint(){return ug=ug||new In({"raster-opacity":new jt(Te.paint_raster["raster-opacity"]),"raster-hue-rotate":new jt(Te.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jt(Te.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jt(Te.paint_raster["raster-brightness-max"]),"raster-saturation":new jt(Te.paint_raster["raster-saturation"]),"raster-contrast":new jt(Te.paint_raster["raster-contrast"]),"raster-resampling":new jt(Te.paint_raster["raster-resampling"]),"raster-fade-duration":new jt(Te.paint_raster["raster-fade-duration"])})}};class Na extends _n{constructor(t){super(t,dg)}}class qf extends _n{constructor(t){super(t,{}),this.onAdd=n=>{this.implementation.onAdd&&this.implementation.onAdd(n,n.painter.context.gl)},this.onRemove=n=>{this.implementation.onRemove&&this.implementation.onRemove(n,n.painter.context.gl)},this.implementation=t}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class vp{constructor(t){this._methodToThrottle=t,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Bf={once:!0},bp=63710088e-1;class Ns{constructor(t,n){if(isNaN(t)||isNaN(n))throw new Error(`Invalid LngLat object: (${t}, ${n})`);if(this.lng=+t,this.lat=+n,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ns(Ai(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(t){const n=Math.PI/180,u=this.lat*n,m=t.lat*n,x=Math.sin(u)*Math.sin(m)+Math.cos(u)*Math.cos(m)*Math.cos((t.lng-this.lng)*n);return bp*Math.acos(Math.min(x,1))}static convert(t){if(t instanceof Ns)return t;if(Array.isArray(t)&&(t.length===2||t.length===3))return new Ns(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&typeof t=="object"&&t!==null)return new Ns(Number("lng"in t?t.lng:t.lon),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ed=2*Math.PI*bp;function dh(r){return ed*Math.cos(r*Math.PI/180)}function cu(r){return(180+r)/360}function Ff(r){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+r*Math.PI/360)))/360}function hg(r,t){return r/dh(t)}function Vf(r){return 360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90}function Uf(r,t){return r*dh(Vf(t))}class td{constructor(t,n,u=0){this.x=+t,this.y=+n,this.z=+u}static fromLngLat(t,n=0){const u=Ns.convert(t);return new td(cu(u.lng),Ff(u.lat),hg(n,u.lat))}toLngLat(){return new Ns(360*this.x-180,Vf(this.y))}toAltitude(){return Uf(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ed*(t=Vf(this.y),1/Math.cos(t*Math.PI/180));var t}}function hh(r,t,n){var u=2*Math.PI*6378137/256/Math.pow(2,n);return[r*u-2*Math.PI*6378137/2,t*u-2*Math.PI*6378137/2]}class ri{constructor(t,n,u){if(!function(m,x,_){return!(m<0||m>25||_<0||_>=Math.pow(2,m)||x<0||x>=Math.pow(2,m))}(t,n,u))throw new Error(`x=${n}, y=${u}, z=${t} outside of bounds. 0<=x<${Math.pow(2,t)}, 0<=y<${Math.pow(2,t)} 0<=z<=25 `);this.z=t,this.x=n,this.y=u,this.key=ad(0,t,t,n,u)}equals(t){return this.z===t.z&&this.x===t.x&&this.y===t.y}url(t,n,u){const m=(_=this.y,T=this.z,A=hh(256*(x=this.x),256*(_=Math.pow(2,T)-_-1),T),z=hh(256*(x+1),256*(_+1),T),A[0]+","+A[1]+","+z[0]+","+z[1]);var x,_,T,A,z;const j=function(O,V,$){let W,Q="";for(let re=O;re>0;re--)W=1<<re-1,Q+=(V&W?1:0)+($&W?2:0);return Q}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(u==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,n>1?"@2x":"").replace(/{quadkey}/g,j).replace(/{bbox-epsg-3857}/g,m)}isChildOf(t){const n=this.z-t.z;return n>0&&t.x===this.x>>n&&t.y===this.y>>n}getTilePoint(t){const n=Math.pow(2,this.z);return new ae((t.x*n-this.x)*ht,(t.y*n-this.y)*ht)}toString(){return`${this.z}/${this.x}/${this.y}`}}class xp{constructor(t,n){this.wrap=t,this.canonical=n,this.key=ad(t,n.z,n.z,n.x,n.y)}}class pi{constructor(t,n,u,m,x){if(this.terrainRttPosMatrix32f=null,t<u)throw new Error(`overscaledZ should be >= z; overscaledZ = ${t}; z = ${u}`);this.overscaledZ=t,this.wrap=n,this.canonical=new ri(u,+m,+x),this.key=ad(n,t,u,m,x)}clone(){return new pi(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(t){return this.overscaledZ===t.overscaledZ&&this.wrap===t.wrap&&this.canonical.equals(t.canonical)}scaledTo(t){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const n=this.canonical.z-t;return t>this.canonical.z?new pi(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new pi(t,this.wrap,t,this.canonical.x>>n,this.canonical.y>>n)}calculateScaledKey(t,n){if(t>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${t}; overscaledZ = ${this.overscaledZ}`);const u=this.canonical.z-t;return t>this.canonical.z?ad(this.wrap*+n,t,this.canonical.z,this.canonical.x,this.canonical.y):ad(this.wrap*+n,t,t,this.canonical.x>>u,this.canonical.y>>u)}isChildOf(t){if(t.wrap!==this.wrap)return!1;const n=this.canonical.z-t.canonical.z;return t.overscaledZ===0||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>n&&t.canonical.y===this.canonical.y>>n}children(t){if(this.overscaledZ>=t)return[new pi(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const n=this.canonical.z+1,u=2*this.canonical.x,m=2*this.canonical.y;return[new pi(n,this.wrap,n,u,m),new pi(n,this.wrap,n,u+1,m),new pi(n,this.wrap,n,u,m+1),new pi(n,this.wrap,n,u+1,m+1)]}isLessThan(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))}wrapped(){return new pi(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(t){return new pi(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new xp(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(t){return this.canonical.getTilePoint(new td(t.x-this.wrap,t.y))}}function ad(r,t,n,u,m){(r*=2)<0&&(r=-1*r-1);const x=1<<n;return(x*x*r+x*m+u).toString(36)+n.toString(36)+t.toString(36)}Nt("CanonicalTileID",ri),Nt("OverscaledTileID",pi,{omit:["terrainRttPosMatrix32f"]});class Ml{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(t){return this.minX=Math.min(this.minX,t.x),this.minY=Math.min(this.minY,t.y),this.maxX=Math.max(this.maxX,t.x),this.maxY=Math.max(this.maxY,t.y),this}expandBy(t){return this.minX-=t,this.minY-=t,this.maxX+=t,this.maxY+=t,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(t){return this.expandBy(-t)}map(t){const n=new Ml;return n.extend(t(new ae(this.minX,this.minY))),n.extend(t(new ae(this.maxX,this.minY))),n.extend(t(new ae(this.minX,this.maxY))),n.extend(t(new ae(this.maxX,this.maxY))),n}static fromPoints(t){const n=new Ml;for(const u of t)n.extend(u);return n}contains(t){return t.x>=this.minX&&t.x<=this.maxX&&t.y>=this.minY&&t.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(t){return!this.empty()&&!t.empty()&&t.minX>=this.minX&&t.maxX<=this.maxX&&t.minY>=this.minY&&t.maxY<=this.maxY}intersects(t){return!this.empty()&&!t.empty()&&t.minX<=this.maxX&&t.maxX>=this.minX&&t.minY<=this.maxY&&t.maxY>=this.minY}}class _p{constructor(t){this._stringToNumber={},this._numberToString=[];for(let n=0;n<t.length;n++){const u=t[n];this._stringToNumber[u]=n,this._numberToString[n]=u}}encode(t){return this._stringToNumber[t]}decode(t){if(t>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${t} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[t]}}class ph{constructor(t,n,u,m,x){this.type="Feature",this._vectorTileFeature=t,t._z=n,t._x=u,t._y=m,this.properties=t.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(t){this._geometry=t}toJSON(){const t={geometry:this.geometry};for(const n in this)n!=="_geometry"&&n!=="_vectorTileFeature"&&(t[n]=this[n]);return t}}class Gf{constructor(t,n){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ts(ht,16,0),this.grid3D=new Ts(ht,16,0),this.featureIndexArray=new We,this.promoteId=n}insert(t,n,u,m,x,_){const T=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,m,x);const A=_?this.grid3D:this.grid;for(let z=0;z<n.length;z++){const j=n[z],O=[1/0,1/0,-1/0,-1/0];for(let V=0;V<j.length;V++){const $=j[V];O[0]=Math.min(O[0],$.x),O[1]=Math.min(O[1],$.y),O[2]=Math.max(O[2],$.x),O[3]=Math.max(O[3],$.y)}O[0]<ht&&O[1]<ht&&O[2]>=0&&O[3]>=0&&A.insert(T,O[0],O[1],O[2],O[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new ni.VectorTile(new dp(this.rawTileData)).layers,this.sourceLayerCoder=new _p(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(t,n,u,m){this.loadVTLayers();const x=t.params,_=ht/t.tileSize/t.scale,T=Oi(x.filter),A=t.queryGeometry,z=t.queryPadding*_,j=Ml.fromPoints(A),O=this.grid.query(j.minX-z,j.minY-z,j.maxX+z,j.maxY+z),V=Ml.fromPoints(t.cameraQueryGeometry).expandBy(z),$=this.grid3D.query(V.minX,V.minY,V.maxX,V.maxY,(re,ue,Ae,ve)=>function(X,ne,be,Ze,pt){for(const lt of X)if(ne<=lt.x&&be<=lt.y&&Ze>=lt.x&&pt>=lt.y)return!0;const at=[new ae(ne,be),new ae(ne,pt),new ae(Ze,pt),new ae(Ze,be)];if(X.length>2){for(const lt of at)if(tu(X,lt))return!0}for(let lt=0;lt<X.length-1;lt++)if(qn(X[lt],X[lt+1],at))return!0;return!1}(t.cameraQueryGeometry,re-z,ue-z,Ae+z,ve+z));for(const re of $)O.push(re);O.sort(Xf);const W={};let Q;for(let re=0;re<O.length;re++){const ue=O[re];if(ue===Q)continue;Q=ue;const Ae=this.featureIndexArray.get(ue);let ve=null;this.loadMatchingFeature(W,Ae.bucketIndex,Ae.sourceLayerIndex,Ae.featureIndex,T,x.layers,x.availableImages,n,u,m,(X,ne,be)=>(ve||(ve=vl(X)),ne.queryIntersectsFeature({queryGeometry:A,feature:X,featureState:be,geometry:ve,zoom:this.z,transform:t.transform,pixelsToTileUnits:_,pixelPosMatrix:t.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:t.getElevation})))}return W}loadMatchingFeature(t,n,u,m,x,_,T,A,z,j,O){const V=this.bucketLayerIDs[n];if(_&&!V.some(re=>_.has(re)))return;const $=this.sourceLayerCoder.decode(u),W=this.vtLayers[$].feature(m);if(x.needGeometry){const re=sc(W,!0);if(!x.filter(new ci(this.tileID.overscaledZ),re,this.tileID.canonical))return}else if(!x.filter(new ci(this.tileID.overscaledZ),W))return;const Q=this.getId(W,$);for(let re=0;re<V.length;re++){const ue=V[re];if(_&&!_.has(ue))continue;const Ae=A[ue];if(!Ae)continue;let ve={};Q&&j&&(ve=j.getState(Ae.sourceLayer||"_geojsonTileLayer",Q));const X=Ii({},z[ue]);X.paint=Hf(X.paint,Ae.paint,W,ve,T),X.layout=Hf(X.layout,Ae.layout,W,ve,T);const ne=!O||O(W,Ae,ve);if(!ne)continue;const be=new ph(W,this.z,this.x,this.y,Q);be.layer=X;let Ze=t[ue];Ze===void 0&&(Ze=t[ue]=[]),Ze.push({featureIndex:m,feature:be,intersectionZ:ne})}}lookupSymbolFeatures(t,n,u,m,x,_,T,A){const z={};this.loadVTLayers();const j=Oi(x);for(const O of t)this.loadMatchingFeature(z,u,m,O,j,_,T,A,n);return z}hasLayer(t){for(const n of this.bucketLayerIDs)for(const u of n)if(t===u)return!0;return!1}getId(t,n){var u;let m=t.id;return this.promoteId&&(m=t.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[n]],typeof m=="boolean"&&(m=Number(m)),m===void 0&&(!((u=t.properties)===null||u===void 0)&&u.cluster)&&this.promoteId&&(m=Number(t.properties.cluster_id))),m}}function Hf(r,t,n,u,m){return si(r,(x,_)=>{const T=t instanceof dl?t.get(_):null;return T&&T.evaluate?T.evaluate(n,u,m):T})}function Xf(r,t){return t-r}function wp(r,t,n,u,m){const x=[];for(let _=0;_<r.length;_++){const T=r[_];let A;for(let z=0;z<T.length-1;z++){let j=T[z],O=T[z+1];j.x<t&&O.x<t||(j.x<t?j=new ae(t,j.y+(t-j.x)/(O.x-j.x)*(O.y-j.y))._round():O.x<t&&(O=new ae(t,j.y+(t-j.x)/(O.x-j.x)*(O.y-j.y))._round()),j.y<n&&O.y<n||(j.y<n?j=new ae(j.x+(n-j.y)/(O.y-j.y)*(O.x-j.x),n)._round():O.y<n&&(O=new ae(j.x+(n-j.y)/(O.y-j.y)*(O.x-j.x),n)._round()),j.x>=u&&O.x>=u||(j.x>=u?j=new ae(u,j.y+(u-j.x)/(O.x-j.x)*(O.y-j.y))._round():O.x>=u&&(O=new ae(u,j.y+(u-j.x)/(O.x-j.x)*(O.y-j.y))._round()),j.y>=m&&O.y>=m||(j.y>=m?j=new ae(j.x+(m-j.y)/(O.y-j.y)*(O.x-j.x),m)._round():O.y>=m&&(O=new ae(j.x+(m-j.y)/(O.y-j.y)*(O.x-j.x),m)._round()),A&&j.equals(A[A.length-1])||(A=[j],x.push(A)),A.push(O)))))}}return x}Nt("FeatureIndex",Gf,{omit:["rawTileData","sourceLayerCoder"]});class fc extends ae{constructor(t,n,u,m){super(t,n),this.angle=u,m!==void 0&&(this.segment=m)}clone(){return new fc(this.x,this.y,this.angle,this.segment)}}function Zf(r,t,n,u,m){if(t.segment===void 0||n===0)return!0;let x=t,_=t.segment+1,T=0;for(;T>-n/2;){if(_--,_<0)return!1;T-=r[_].dist(x),x=r[_]}T+=r[_].dist(r[_+1]),_++;const A=[];let z=0;for(;T<n/2;){const j=r[_],O=r[_+1];if(!O)return!1;let V=r[_-1].angleTo(j)-j.angleTo(O);for(V=Math.abs((V+3*Math.PI)%(2*Math.PI)-Math.PI),A.push({distance:T,angleDelta:V}),z+=V;T-A[0].distance>u;)z-=A.shift().angleDelta;if(z>m)return!1;_++,T+=j.dist(O)}return!0}function pg(r){let t=0;for(let n=0;n<r.length-1;n++)t+=r[n].dist(r[n+1]);return t}function $f(r,t,n){return r?.6*t*n:0}function fg(r,t){return Math.max(r?r.right-r.left:0,t?t.right-t.left:0)}function my(r,t,n,u,m,x){const _=$f(n,m,x),T=fg(n,u)*x;let A=0;const z=pg(r)/2;for(let j=0;j<r.length-1;j++){const O=r[j],V=r[j+1],$=O.dist(V);if(A+$>z){const W=(z-A)/$,Q=fr.number(O.x,V.x,W),re=fr.number(O.y,V.y,W),ue=new fc(Q,re,V.angleTo(O),j);return ue._round(),!_||Zf(r,ue,T,_,t)?ue:void 0}A+=$}}function mc(r,t,n,u,m,x,_,T,A){const z=$f(u,x,_),j=fg(u,m),O=j*_,V=r[0].x===0||r[0].x===A||r[0].y===0||r[0].y===A;return t-O<t/4&&(t=O+t/4),Jf(r,V?t/2*T%t:(j/2+2*x)*_*T%t,t,z,n,O,V,!1,A)}function Jf(r,t,n,u,m,x,_,T,A){const z=x/2,j=pg(r);let O=0,V=t-n,$=[];for(let W=0;W<r.length-1;W++){const Q=r[W],re=r[W+1],ue=Q.dist(re),Ae=re.angleTo(Q);for(;V+n<O+ue;){V+=n;const ve=(V-O)/ue,X=fr.number(Q.x,re.x,ve),ne=fr.number(Q.y,re.y,ve);if(X>=0&&X<A&&ne>=0&&ne<A&&V-z>=0&&V+z<=j){const be=new fc(X,ne,Ae,W);be._round(),u&&!Zf(r,be,x,u,m)||$.push(be)}}O+=ue}return T||$.length||_||($=Jf(r,O/2,n,u,m,x,_,!0,A)),$}function Cp(r,t,n,u){const m=[],x=r.image,_=x.pixelRatio,T=x.paddedRect.w-2,A=x.paddedRect.h-2;let z={x1:r.left,y1:r.top,x2:r.right,y2:r.bottom};const j=x.stretchX||[[0,T]],O=x.stretchY||[[0,A]],V=(ct,qt)=>ct+qt[1]-qt[0],$=j.reduce(V,0),W=O.reduce(V,0),Q=T-$,re=A-W;let ue=0,Ae=$,ve=0,X=W,ne=0,be=Q,Ze=0,pt=re;if(x.content&&u){const ct=x.content,qt=ct[2]-ct[0],Qt=ct[3]-ct[1];(x.textFitWidth||x.textFitHeight)&&(z=lu(r)),ue=Sp(j,0,ct[0]),ve=Sp(O,0,ct[1]),Ae=Sp(j,ct[0],ct[2]),X=Sp(O,ct[1],ct[3]),ne=ct[0]-ue,Ze=ct[1]-ve,be=qt-Ae,pt=Qt-X}const at=z.x1,lt=z.y1,Ct=z.x2-at,gt=z.y2-lt,St=(ct,qt,Qt,Gt)=>{const Kt=id(ct.stretch-ue,Ae,Ct,at),ma=Tp(ct.fixed-ne,be,ct.stretch,$),mi=id(qt.stretch-ve,X,gt,lt),Ri=Tp(qt.fixed-Ze,pt,qt.stretch,W),ki=id(Qt.stretch-ue,Ae,Ct,at),po=Tp(Qt.fixed-ne,be,Qt.stretch,$),lr=id(Gt.stretch-ve,X,gt,lt),$i=Tp(Gt.fixed-Ze,pt,Gt.stretch,W),Mi=new ae(Kt,mi),gn=new ae(ki,mi),cn=new ae(ki,lr),Cn=new ae(Kt,lr),cr=new ae(ma/_,Ri/_),ur=new ae(po/_,$i/_),Ji=t*Math.PI/180;if(Ji){const un=Math.sin(Ji),Wi=Math.cos(Ji),Yi=[Wi,-un,un,Wi];Mi._matMult(Yi),gn._matMult(Yi),Cn._matMult(Yi),cn._matMult(Yi)}const dr=ct.stretch+ct.fixed,Ni=qt.stretch+qt.fixed;return{tl:Mi,tr:gn,bl:Cn,br:cn,tex:{x:x.paddedRect.x+1+dr,y:x.paddedRect.y+1+Ni,w:Qt.stretch+Qt.fixed-dr,h:Gt.stretch+Gt.fixed-Ni},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:cr,pixelOffsetBR:ur,minFontScaleX:be/_/Ct,minFontScaleY:pt/_/gt,isSDF:n}};if(u&&(x.stretchX||x.stretchY)){const ct=mg(j,Q,$),qt=mg(O,re,W);for(let Qt=0;Qt<ct.length-1;Qt++){const Gt=ct[Qt],Kt=ct[Qt+1];for(let ma=0;ma<qt.length-1;ma++)m.push(St(Gt,qt[ma],Kt,qt[ma+1]))}}else m.push(St({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:T+1},{fixed:0,stretch:A+1}));return m}function Sp(r,t,n){let u=0;for(const m of r)u+=Math.max(t,Math.min(n,m[1]))-Math.max(t,Math.min(n,m[0]));return u}function mg(r,t,n){const u=[{fixed:-1,stretch:0}];for(const[m,x]of r){const _=u[u.length-1];u.push({fixed:m-_.stretch,stretch:_.stretch}),u.push({fixed:m-_.stretch,stretch:_.stretch+(x-m)})}return u.push({fixed:t+1,stretch:n}),u}function id(r,t,n,u){return r/t*n+u}function Tp(r,t,n,u){return r-t*n/u}Nt("Anchor",fc);class Fr{constructor(t,n,u,m,x,_,T,A,z,j){var O;if(this.boxStartIndex=t.length,z){let V=_.top,$=_.bottom;const W=_.collisionPadding;W&&(V-=W[1],$+=W[3]);let Q=$-V;Q>0&&(Q=Math.max(10,Q),this.circleDiameter=Q)}else{const V=!((O=_.image)===null||O===void 0)&&O.content&&(_.image.textFitWidth||_.image.textFitHeight)?lu(_):{x1:_.left,y1:_.top,x2:_.right,y2:_.bottom};V.y1=V.y1*T-A[0],V.y2=V.y2*T+A[2],V.x1=V.x1*T-A[3],V.x2=V.x2*T+A[1];const $=_.collisionPadding;if($&&(V.x1-=$[0]*T,V.y1-=$[1]*T,V.x2+=$[2]*T,V.y2+=$[3]*T),j){const W=new ae(V.x1,V.y1),Q=new ae(V.x2,V.y1),re=new ae(V.x1,V.y2),ue=new ae(V.x2,V.y2),Ae=j*Math.PI/180;W._rotate(Ae),Q._rotate(Ae),re._rotate(Ae),ue._rotate(Ae),V.x1=Math.min(W.x,Q.x,re.x,ue.x),V.x2=Math.max(W.x,Q.x,re.x,ue.x),V.y1=Math.min(W.y,Q.y,re.y,ue.y),V.y2=Math.max(W.y,Q.y,re.y,ue.y)}t.emplaceBack(n.x,n.y,V.x1,V.y1,V.x2,V.y2,u,m,x)}this.boxEndIndex=t.length}}class Wf{constructor(t=[],n=(u,m)=>u<m?-1:u>m?1:0){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let u=(this.length>>1)-1;u>=0;u--)this._down(u)}push(t){this.data.push(t),this._up(this.length++)}pop(){if(this.length===0)return;const t=this.data[0],n=this.data.pop();return--this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:u}=this,m=n[t];for(;t>0;){const x=t-1>>1,_=n[x];if(u(m,_)>=0)break;n[t]=_,t=x}n[t]=m}_down(t){const{data:n,compare:u}=this,m=this.length>>1,x=n[t];for(;t<m;){let _=1+(t<<1);const T=_+1;if(T<this.length&&u(n[T],n[_])<0&&(_=T),u(n[_],x)>=0)break;n[t]=n[_],t=_}n[t]=x}}function gg(r,t=1,n=!1){const u=Ml.fromPoints(r[0]),m=Math.min(u.width(),u.height());let x=m/2;const _=new Wf([],yg),{minX:T,minY:A,maxX:z,maxY:j}=u;if(m===0)return new ae(T,A);for(let $=T;$<z;$+=m)for(let W=A;W<j;W+=m)_.push(new js($+x,W+x,x,r));let O=function($){let W=0,Q=0,re=0;const ue=$[0];for(let Ae=0,ve=ue.length,X=ve-1;Ae<ve;X=Ae++){const ne=ue[Ae],be=ue[X],Ze=ne.x*be.y-be.x*ne.y;Q+=(ne.x+be.x)*Ze,re+=(ne.y+be.y)*Ze,W+=3*Ze}return new js(Q/W,re/W,0,$)}(r),V=_.length;for(;_.length;){const $=_.pop();($.d>O.d||!O.d)&&(O=$,n&&console.log("found best %d after %d probes",Math.round(1e4*$.d)/1e4,V)),$.max-O.d<=t||(x=$.h/2,_.push(new js($.p.x-x,$.p.y-x,x,r)),_.push(new js($.p.x+x,$.p.y-x,x,r)),_.push(new js($.p.x-x,$.p.y+x,x,r)),_.push(new js($.p.x+x,$.p.y+x,x,r)),V+=4)}return n&&(console.log(`num probes: ${V}`),console.log(`best distance: ${O.d}`)),O.p}function yg(r,t){return t.max-r.max}function js(r,t,n,u){this.p=new ae(r,t),this.h=n,this.d=function(m,x){let _=!1,T=1/0;for(let A=0;A<x.length;A++){const z=x[A];for(let j=0,O=z.length,V=O-1;j<O;V=j++){const $=z[j],W=z[V];$.y>m.y!=W.y>m.y&&m.x<(W.x-$.x)*(m.y-$.y)/(W.y-$.y)+$.x&&(_=!_),T=Math.min(T,nf(m,$,W))}}return(_?1:-1)*Math.sqrt(T)}(this.p,u),this.max=this.d+this.h*Math.SQRT2}var fi;w.aD=void 0,(fi=w.aD||(w.aD={}))[fi.center=1]="center",fi[fi.left=2]="left",fi[fi.right=3]="right",fi[fi.top=4]="top",fi[fi.bottom=5]="bottom",fi[fi["top-left"]=6]="top-left",fi[fi["top-right"]=7]="top-right",fi[fi["bottom-left"]=8]="bottom-left",fi[fi["bottom-right"]=9]="bottom-right";const Pp=Number.POSITIVE_INFINITY;function fh(r,t){return t[1]!==Pp?function(n,u,m){let x=0,_=0;switch(u=Math.abs(u),m=Math.abs(m),n){case"top-right":case"top-left":case"top":_=m-7;break;case"bottom-right":case"bottom-left":case"bottom":_=7-m}switch(n){case"top-right":case"bottom-right":case"right":x=-u;break;case"top-left":case"bottom-left":case"left":x=u}return[x,_]}(r,t[0],t[1]):function(n,u){let m=0,x=0;u<0&&(u=0);const _=u/Math.SQRT2;switch(n){case"top-right":case"top-left":x=_-7;break;case"bottom-right":case"bottom-left":x=7-_;break;case"bottom":x=7-u;break;case"top":x=u-7}switch(n){case"top-right":case"bottom-right":m=-_;break;case"top-left":case"bottom-left":m=_;break;case"left":m=u;break;case"right":m=-u}return[m,x]}(r,t[0])}function Ks(r,t,n){var u;const m=r.layout,x=(u=m.get("text-variable-anchor-offset"))===null||u===void 0?void 0:u.evaluate(t,{},n);if(x){const T=x.values,A=[];for(let z=0;z<T.length;z+=2){const j=A[z]=T[z],O=T[z+1].map(V=>V*Zi);j.startsWith("top")?O[1]-=7:j.startsWith("bottom")&&(O[1]+=7),A[z+1]=O}return new Ma(A)}const _=m.get("text-variable-anchor");if(_){let T;T=r._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[m.get("text-radial-offset").evaluate(t,{},n)*Zi,Pp]:m.get("text-offset").evaluate(t,{},n).map(z=>z*Zi);const A=[];for(const z of _)A.push(z,fh(z,T));return new Ma(A)}return null}function Yf(r){switch(r){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function gy(r,t,n,u,m,x,_,T,A,z,j,O){let V=x.textMaxSize.evaluate(t,{});V===void 0&&(V=_);const $=r.layers[0].layout,W=$.get("icon-offset").evaluate(t,{},j),Q=Qf(n.horizontal),re=_/24,ue=r.tilePixelRatio*re,Ae=r.tilePixelRatio*V/24,ve=r.tilePixelRatio*T,X=r.tilePixelRatio*$.get("symbol-spacing"),ne=$.get("text-padding")*r.tilePixelRatio,be=function(Qt,Gt,Kt,ma=1){const mi=Qt.get("icon-padding").evaluate(Gt,{},Kt),Ri=mi&&mi.values;return[Ri[0]*ma,Ri[1]*ma,Ri[2]*ma,Ri[3]*ma]}($,t,j,r.tilePixelRatio),Ze=$.get("text-max-angle")/180*Math.PI,pt=$.get("text-rotation-alignment")!=="viewport"&&$.get("symbol-placement")!=="point",at=$.get("icon-rotation-alignment")==="map"&&$.get("symbol-placement")!=="point",lt=$.get("symbol-placement"),Ct=X/2,gt=$.get("icon-text-fit");let St;u&&gt!=="none"&&(r.allowVerticalPlacement&&n.vertical&&(St=fp(u,n.vertical,gt,$.get("icon-text-fit-padding"),W,re)),Q&&(u=fp(u,Q,gt,$.get("icon-text-fit-padding"),W,re)));const ct=j?O.line.getGranularityForZoomLevel(j.z):1,qt=(Qt,Gt)=>{Gt.x<0||Gt.x>=ht||Gt.y<0||Gt.y>=ht||function(Kt,ma,mi,Ri,ki,po,lr,$i,Mi,gn,cn,Cn,cr,ur,Ji,dr,Ni,un,Wi,Yi,bi,Vr,a,s,h){const v=Kt.addToLineVertexArray(ma,mi);let P,E,J,ie,Ce=0,Qe=0,ft=0,wt=0,it=-1,nt=-1;const oa={};let ua=En("");if(Kt.allowVerticalPlacement&&Ri.vertical){const Tr=$i.layout.get("text-rotate").evaluate(bi,{},s)+90;J=new Fr(Mi,ma,gn,cn,Cn,Ri.vertical,cr,ur,Ji,Tr),lr&&(ie=new Fr(Mi,ma,gn,cn,Cn,lr,Ni,un,Ji,Tr))}if(ki){const Tr=$i.layout.get("icon-rotate").evaluate(bi,{}),os=$i.layout.get("icon-text-fit")!=="none",gh=Cp(ki,Tr,a,os),Il=lr?Cp(lr,Tr,a,os):void 0;E=new Fr(Mi,ma,gn,cn,Cn,ki,Ni,un,!1,Tr),Ce=4*gh.length;const yh=Kt.iconSizeData;let bc=null;yh.kind==="source"?(bc=[Ro*$i.layout.get("icon-size").evaluate(bi,{})],bc[0]>ks&&Wa(`${Kt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):yh.kind==="composite"&&(bc=[Ro*Vr.compositeIconSizes[0].evaluate(bi,{},s),Ro*Vr.compositeIconSizes[1].evaluate(bi,{},s)],(bc[0]>ks||bc[1]>ks)&&Wa(`${Kt.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),Kt.addSymbols(Kt.icon,gh,bc,Yi,Wi,bi,w.an.none,ma,v.lineStartIndex,v.lineLength,-1,s),it=Kt.icon.placedSymbolArray.length-1,Il&&(Qe=4*Il.length,Kt.addSymbols(Kt.icon,Il,bc,Yi,Wi,bi,w.an.vertical,ma,v.lineStartIndex,v.lineLength,-1,s),nt=Kt.icon.placedSymbolArray.length-1)}const gi=Object.keys(Ri.horizontal);for(const Tr of gi){const os=Ri.horizontal[Tr];if(!P){ua=En(os.text);const Il=$i.layout.get("text-rotate").evaluate(bi,{},s);P=new Fr(Mi,ma,gn,cn,Cn,os,cr,ur,Ji,Il)}const gh=os.positionedLines.length===1;if(ft+=uu(Kt,ma,os,po,$i,Ji,bi,dr,v,Ri.vertical?w.an.horizontal:w.an.horizontalOnly,gh?gi:[Tr],oa,it,Vr,s),gh)break}Ri.vertical&&(wt+=uu(Kt,ma,Ri.vertical,po,$i,Ji,bi,dr,v,w.an.vertical,["vertical"],oa,nt,Vr,s));const Fe=P?P.boxStartIndex:Kt.collisionBoxArray.length,Re=P?P.boxEndIndex:Kt.collisionBoxArray.length,Je=J?J.boxStartIndex:Kt.collisionBoxArray.length,bt=J?J.boxEndIndex:Kt.collisionBoxArray.length,Yt=E?E.boxStartIndex:Kt.collisionBoxArray.length,Ea=E?E.boxEndIndex:Kt.collisionBoxArray.length,na=ie?ie.boxStartIndex:Kt.collisionBoxArray.length,ha=ie?ie.boxEndIndex:Kt.collisionBoxArray.length;let xi=-1;const Fa=(Tr,os)=>Tr&&Tr.circleDiameter?Math.max(Tr.circleDiameter,os):os;xi=Fa(P,xi),xi=Fa(J,xi),xi=Fa(E,xi),xi=Fa(ie,xi);const Al=xi>-1?1:0;Al&&(xi*=h/Zi),Kt.glyphOffsetArray.length>=pc.MAX_GLYPHS&&Wa("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),bi.sortKey!==void 0&&Kt.addToSortKeyRanges(Kt.symbolInstances.length,bi.sortKey);const vy=Ks($i,bi,s),[Nw,jw]=function(Tr,os){const gh=Tr.length,Il=os?.values;if(Il?.length>0)for(let yh=0;yh<Il.length;yh+=2){const bc=Il[yh+1];Tr.emplaceBack(w.aD[Il[yh]],bc[0],bc[1])}return[gh,Tr.length]}(Kt.textAnchorOffsets,vy);Kt.symbolInstances.emplaceBack(ma.x,ma.y,oa.right>=0?oa.right:-1,oa.center>=0?oa.center:-1,oa.left>=0?oa.left:-1,oa.vertical||-1,it,nt,ua,Fe,Re,Je,bt,Yt,Ea,na,ha,gn,ft,wt,Ce,Qe,Al,0,cr,xi,Nw,jw)}(r,Gt,Qt,n,u,m,St,r.layers[0],r.collisionBoxArray,t.index,t.sourceLayerIndex,r.index,ue,[ne,ne,ne,ne],pt,A,ve,be,at,W,t,x,z,j,_)};if(lt==="line")for(const Qt of wp(t.geometry,0,0,ht,ht)){const Gt=cc(Qt,ct),Kt=mc(Gt,X,Ze,n.vertical||Q,u,24,Ae,r.overscaling,ht);for(const ma of Kt)Q&&yy(r,Q.text,Ct,ma)||qt(Gt,ma)}else if(lt==="line-center"){for(const Qt of t.geometry)if(Qt.length>1){const Gt=cc(Qt,ct),Kt=my(Gt,Ze,n.vertical||Q,u,24,Ae);Kt&&qt(Gt,Kt)}}else if(t.type==="Polygon")for(const Qt of wu(t.geometry,0)){const Gt=gg(Qt,16);qt(cc(Qt[0],ct,!0),new fc(Gt.x,Gt.y,0))}else if(t.type==="LineString")for(const Qt of t.geometry){const Gt=cc(Qt,ct);qt(Gt,new fc(Gt[0].x,Gt[0].y,0))}else if(t.type==="Point")for(const Qt of t.geometry)for(const Gt of Qt)qt([Gt],new fc(Gt.x,Gt.y,0))}function uu(r,t,n,u,m,x,_,T,A,z,j,O,V,$,W){const Q=function(Ae,ve,X,ne,be,Ze,pt,at){const lt=ne.layout.get("text-rotate").evaluate(Ze,{})*Math.PI/180,Ct=[];for(const gt of ve.positionedLines)for(const St of gt.positionedGlyphs){if(!St.rect)continue;const ct=St.rect||{};let qt=4,Qt=!0,Gt=1,Kt=0;const ma=(be||at)&&St.vertical,mi=St.metrics.advance*St.scale/2;if(at&&ve.verticalizable&&(Kt=gt.lineOffset/2-(St.imageName?-(Zi-St.metrics.width*St.scale)/2:(St.scale-1)*Zi)),St.imageName){const un=pt[St.imageName];Qt=un.sdf,Gt=un.pixelRatio,qt=1/Gt}const Ri=be?[St.x+mi,St.y]:[0,0];let ki=be?[0,0]:[St.x+mi+X[0],St.y+X[1]-Kt],po=[0,0];ma&&(po=ki,ki=[0,0]);const lr=St.metrics.isDoubleResolution?2:1,$i=(St.metrics.left-qt)*St.scale-mi+ki[0],Mi=(-St.metrics.top-qt)*St.scale+ki[1],gn=$i+ct.w/lr*St.scale/Gt,cn=Mi+ct.h/lr*St.scale/Gt,Cn=new ae($i,Mi),cr=new ae(gn,Mi),ur=new ae($i,cn),Ji=new ae(gn,cn);if(ma){const un=new ae(-mi,mi- -17),Wi=-Math.PI/2,Yi=12-mi,bi=new ae(22-Yi,-(St.imageName?Yi:0)),Vr=new ae(...po);Cn._rotateAround(Wi,un)._add(bi)._add(Vr),cr._rotateAround(Wi,un)._add(bi)._add(Vr),ur._rotateAround(Wi,un)._add(bi)._add(Vr),Ji._rotateAround(Wi,un)._add(bi)._add(Vr)}if(lt){const un=Math.sin(lt),Wi=Math.cos(lt),Yi=[Wi,-un,un,Wi];Cn._matMult(Yi),cr._matMult(Yi),ur._matMult(Yi),Ji._matMult(Yi)}const dr=new ae(0,0),Ni=new ae(0,0);Ct.push({tl:Cn,tr:cr,bl:ur,br:Ji,tex:ct,writingMode:ve.writingMode,glyphOffset:Ri,sectionIndex:St.sectionIndex,isSDF:Qt,pixelOffsetTL:dr,pixelOffsetBR:Ni,minFontScaleX:0,minFontScaleY:0})}return Ct}(0,n,T,m,x,_,u,r.allowVerticalPlacement),re=r.textSizeData;let ue=null;re.kind==="source"?(ue=[Ro*m.layout.get("text-size").evaluate(_,{})],ue[0]>ks&&Wa(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):re.kind==="composite"&&(ue=[Ro*$.compositeTextSizes[0].evaluate(_,{},W),Ro*$.compositeTextSizes[1].evaluate(_,{},W)],(ue[0]>ks||ue[1]>ks)&&Wa(`${r.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),r.addSymbols(r.text,Q,ue,T,x,_,z,t,A.lineStartIndex,A.lineLength,V,W);for(const Ae of j)O[Ae]=r.text.placedSymbolArray.length-1;return 4*Q.length}function Qf(r){for(const t in r)return r[t];return null}function yy(r,t,n,u){const m=r.compareText;if(t in m){const x=m[t];for(let _=x.length-1;_>=0;_--)if(u.dist(x[_])<n)return!0}else m[t]=[];return m[t].push(u),!1}const vg=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class em{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,u]=new Uint8Array(t,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const m=u>>4;if(m!==1)throw new Error(`Got v${m} data when expected v1.`);const x=vg[15&u];if(!x)throw new Error("Unrecognized array type.");const[_]=new Uint16Array(t,2,1),[T]=new Uint32Array(t,4,1);return new em(T,_,x,t)}constructor(t,n=64,u=Float64Array,m){if(isNaN(t)||t<0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=u,this.IndexArrayType=t<65536?Uint16Array:Uint32Array;const x=vg.indexOf(this.ArrayType),_=2*t*this.ArrayType.BYTES_PER_ELEMENT,T=t*this.IndexArrayType.BYTES_PER_ELEMENT,A=(8-T%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${u}.`);m&&m instanceof ArrayBuffer?(this.data=m,this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+T+A,2*t),this._pos=2*t,this._finished=!0):(this.data=new ArrayBuffer(8+_+T+A),this.ids=new this.IndexArrayType(this.data,8,t),this.coords=new this.ArrayType(this.data,8+T+A,2*t),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=t)}add(t,n){const u=this._pos>>1;return this.ids[u]=u,this.coords[this._pos++]=t,this.coords[this._pos++]=n,u}finish(){const t=this._pos>>1;if(t!==this.numItems)throw new Error(`Added ${t} items when expected ${this.numItems}.`);return tm(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(t,n,u,m){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:_,nodeSize:T}=this,A=[0,x.length-1,0],z=[];for(;A.length;){const j=A.pop()||0,O=A.pop()||0,V=A.pop()||0;if(O-V<=T){for(let re=V;re<=O;re++){const ue=_[2*re],Ae=_[2*re+1];ue>=t&&ue<=u&&Ae>=n&&Ae<=m&&z.push(x[re])}continue}const $=V+O>>1,W=_[2*$],Q=_[2*$+1];W>=t&&W<=u&&Q>=n&&Q<=m&&z.push(x[$]),(j===0?t<=W:n<=Q)&&(A.push(V),A.push($-1),A.push(1-j)),(j===0?u>=W:m>=Q)&&(A.push($+1),A.push(O),A.push(1-j))}return z}within(t,n,u){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:m,coords:x,nodeSize:_}=this,T=[0,m.length-1,0],A=[],z=u*u;for(;T.length;){const j=T.pop()||0,O=T.pop()||0,V=T.pop()||0;if(O-V<=_){for(let re=V;re<=O;re++)im(x[2*re],x[2*re+1],t,n)<=z&&A.push(m[re]);continue}const $=V+O>>1,W=x[2*$],Q=x[2*$+1];im(W,Q,t,n)<=z&&A.push(m[$]),(j===0?t-u<=W:n-u<=Q)&&(T.push(V),T.push($-1),T.push(1-j)),(j===0?t+u>=W:n+u>=Q)&&(T.push($+1),T.push(O),T.push(1-j))}return A}}function tm(r,t,n,u,m,x){if(m-u<=n)return;const _=u+m>>1;bg(r,t,_,u,m,x),tm(r,t,n,u,_-1,1-x),tm(r,t,n,_+1,m,1-x)}function bg(r,t,n,u,m,x){for(;m>u;){if(m-u>600){const z=m-u+1,j=n-u+1,O=Math.log(z),V=.5*Math.exp(2*O/3),$=.5*Math.sqrt(O*V*(z-V)/z)*(j-z/2<0?-1:1);bg(r,t,n,Math.max(u,Math.floor(n-j*V/z+$)),Math.min(m,Math.floor(n+(z-j)*V/z+$)),x)}const _=t[2*n+x];let T=u,A=m;for(mh(r,t,u,n),t[2*m+x]>_&&mh(r,t,u,m);T<A;){for(mh(r,t,T,A),T++,A--;t[2*T+x]<_;)T++;for(;t[2*A+x]>_;)A--}t[2*u+x]===_?mh(r,t,u,A):(A++,mh(r,t,A,m)),A<=n&&(u=A+1),n<=A&&(m=A-1)}}function mh(r,t,n,u){am(r,n,u),am(t,2*n,2*u),am(t,2*n+1,2*u+1)}function am(r,t,n){const u=r[t];r[t]=r[n],r[n]=u}function im(r,t,n,u){const m=r-n,x=t-u;return m*m+x*x}var gc;w.cw=void 0,(gc=w.cw||(w.cw={})).create="create",gc.load="load",gc.fullLoad="fullLoad";let yc=null,nd=[];const nm=1e3/60,vc="loadTime",du="fullLoadTime",xg={mark(r){performance.mark(r)},frame(r){const t=r;yc!=null&&nd.push(t-yc),yc=t},clearMetrics(){yc=null,nd=[],performance.clearMeasures(vc),performance.clearMeasures(du);for(const r in w.cw)performance.clearMarks(w.cw[r])},getPerformanceMetrics(){performance.measure(vc,w.cw.create,w.cw.load),performance.measure(du,w.cw.create,w.cw.fullLoad);const r=performance.getEntriesByName(vc)[0].duration,t=performance.getEntriesByName(du)[0].duration,n=nd.length,u=1/(nd.reduce((x,_)=>x+_,0)/n/1e3),m=nd.filter(x=>x>nm).reduce((x,_)=>x+(_-nm)/nm,0);return{loadTime:r,fullLoadTime:t,fps:u,percentDroppedFrames:m/(n+m)*100,totalFrames:n}}};w.$=ht,w.A=Se,w.B=function([r,t,n]){return t+=90,t*=Math.PI/180,n*=Math.PI/180,{x:r*Math.cos(t)*Math.sin(n),y:r*Math.sin(t)*Math.sin(n),z:r*Math.cos(n)}},w.C=fr,w.D=jt,w.E=ut,w.F=ci,w.G=Zc,w.H=function(r){if(go==null){const t=r.navigator?r.navigator.userAgent:null;go=!!r.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return go},w.I=If,w.J=class{constructor(r,t){this.target=r,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new vp(()=>this.process()),this.subscription=ji(this.target,"message",n=>this.receive(n),!1),this.globalScope=Tn(self)?r:window}registerMessageHandler(r,t){this.messageHandlers[r]=t}sendAsync(r,t){return new Promise((n,u)=>{const m=Math.round(1e18*Math.random()).toString(36).substring(0,10),x=t?ji(t.signal,"abort",()=>{x?.unsubscribe(),delete this.resolveRejects[m];const A={id:m,type:"<cancel>",origin:location.origin,targetMapId:r.targetMapId,sourceMapId:this.mapId};this.target.postMessage(A)},Bf):null;this.resolveRejects[m]={resolve:A=>{x?.unsubscribe(),n(A)},reject:A=>{x?.unsubscribe(),u(A)}};const _=[],T=Object.assign(Object.assign({},r),{id:m,sourceMapId:this.mapId,origin:location.origin,data:ac(r.data,_)});this.target.postMessage(T,{transfer:_})})}receive(r){const t=r.data,n=t.id;if(!(t.origin!=="file://"&&location.origin!=="file://"&&t.origin!=="resource://android"&&location.origin!=="resource://android"&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if(t.type==="<cancel>"){delete this.tasks[n];const u=this.abortControllers[n];return delete this.abortControllers[n],void(u&&u.abort())}if(Tn(self)||t.mustQueue)return this.tasks[n]=t,this.taskQueue.push(n),void this.invoker.trigger();this.processTask(n,t)}}process(){if(this.taskQueue.length===0)return;const r=this.taskQueue.shift(),t=this.tasks[r];delete this.tasks[r],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(r,t)}processTask(r,t){return c(this,void 0,void 0,function*(){if(t.type==="<response>"){const m=this.resolveRejects[r];return delete this.resolveRejects[r],m?void(t.error?m.reject(wr(t.error)):m.resolve(wr(t.data))):void 0}if(!this.messageHandlers[t.type])return void this.completeTask(r,new Error(`Could not find a registered handler for ${t.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const n=wr(t.data),u=new AbortController;this.abortControllers[r]=u;try{const m=yield this.messageHandlers[t.type](t.sourceMapId,n,u);this.completeTask(r,null,m)}catch(m){this.completeTask(r,m)}})}completeTask(r,t,n){const u=[];delete this.abortControllers[r];const m={id:r,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?ac(t):null,data:ac(n,u)};this.target.postMessage(m,{transfer:u})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},w.K=oe,w.L=function(){var r=new Se(16);return Se!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r},w.M=function(r,t,n){var u,m,x,_,T,A,z,j,O,V,$,W,Q=n[0],re=n[1],ue=n[2];return t===r?(r[12]=t[0]*Q+t[4]*re+t[8]*ue+t[12],r[13]=t[1]*Q+t[5]*re+t[9]*ue+t[13],r[14]=t[2]*Q+t[6]*re+t[10]*ue+t[14],r[15]=t[3]*Q+t[7]*re+t[11]*ue+t[15]):(m=t[1],x=t[2],_=t[3],T=t[4],A=t[5],z=t[6],j=t[7],O=t[8],V=t[9],$=t[10],W=t[11],r[0]=u=t[0],r[1]=m,r[2]=x,r[3]=_,r[4]=T,r[5]=A,r[6]=z,r[7]=j,r[8]=O,r[9]=V,r[10]=$,r[11]=W,r[12]=u*Q+T*re+O*ue+t[12],r[13]=m*Q+A*re+V*ue+t[13],r[14]=x*Q+z*re+$*ue+t[14],r[15]=_*Q+j*re+W*ue+t[15]),r},w.N=function(r,t,n){var u=n[0],m=n[1],x=n[2];return r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u,r[3]=t[3]*u,r[4]=t[4]*m,r[5]=t[5]*m,r[6]=t[6]*m,r[7]=t[7]*m,r[8]=t[8]*x,r[9]=t[9]*x,r[10]=t[10]*x,r[11]=t[11]*x,r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},w.O=function(r,t,n){var u=t[0],m=t[1],x=t[2],_=t[3],T=t[4],A=t[5],z=t[6],j=t[7],O=t[8],V=t[9],$=t[10],W=t[11],Q=t[12],re=t[13],ue=t[14],Ae=t[15],ve=n[0],X=n[1],ne=n[2],be=n[3];return r[0]=ve*u+X*T+ne*O+be*Q,r[1]=ve*m+X*A+ne*V+be*re,r[2]=ve*x+X*z+ne*$+be*ue,r[3]=ve*_+X*j+ne*W+be*Ae,r[4]=(ve=n[4])*u+(X=n[5])*T+(ne=n[6])*O+(be=n[7])*Q,r[5]=ve*m+X*A+ne*V+be*re,r[6]=ve*x+X*z+ne*$+be*ue,r[7]=ve*_+X*j+ne*W+be*Ae,r[8]=(ve=n[8])*u+(X=n[9])*T+(ne=n[10])*O+(be=n[11])*Q,r[9]=ve*m+X*A+ne*V+be*re,r[10]=ve*x+X*z+ne*$+be*ue,r[11]=ve*_+X*j+ne*W+be*Ae,r[12]=(ve=n[12])*u+(X=n[13])*T+(ne=n[14])*O+(be=n[15])*Q,r[13]=ve*m+X*A+ne*V+be*re,r[14]=ve*x+X*z+ne*$+be*ue,r[15]=ve*_+X*j+ne*W+be*Ae,r},w.P=ae,w.Q=function(r,t){const n={};for(let u=0;u<t.length;u++){const m=t[u];m in r&&(n[m]=r[m])}return n},w.R=Yn,w.S=Ns,w.T=ip,w.U=Ff,w.V=cu,w.W=Oe,w.X=ot,w.Y=er,w.Z=pi,w._=c,w.a=ee,w.a$=function(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r[2]=t[2]*n,r[3]=t[3]*n,r},w.a0=td,w.a1=Ml,w.a2=25,w.a3=ri,w.a4=r=>{const t=window.document.createElement("video");return t.muted=!0,new Promise(n=>{t.onloadstart=()=>{n(t)};for(const u of r){const m=window.document.createElement("source");Xe(u)||(t.crossOrigin="Anonymous"),m.src=u,t.appendChild(m)}})},w.a5=et,w.a6=function(){return mo++},w.a7=le,w.a8=pc,w.a9=Oi,w.aA=Zi,w.aB=Mt,w.aC=function(r,t,n,u,m=!1){if(!n[0]&&!n[1])return[0,0];const x=m?u==="map"?-r.bearingInRadians:0:u==="viewport"?r.bearingInRadians:0;if(x){const _=Math.sin(x),T=Math.cos(x);n=[n[0]*T-n[1]*_,n[0]*_+n[1]*T]}return[m?n[0]:Mt(t,n[0],r.zoom),m?n[1]:Mt(t,n[1],r.zoom)]},w.aE=ko,w.aF=Yf,w.aG=hi,w.aH=em,w.aI=_i,w.aJ=Yd,w.aK=Ue,w.aL=Ia,w.aM=Xa,w.aN=Ai,w.aO=tn,w.aP=Uf,w.aQ=$t,w.aR=sa,w.aS=function(r){var t=new Se(3);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},w.aT=function(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],r},w.aU=function(r,t){var n=t[0],u=t[1],m=t[2],x=n*n+u*u+m*m;return x>0&&(x=1/Math.sqrt(x)),r[0]=t[0]*x,r[1]=t[1]*x,r[2]=t[2]*x,r},w.aV=ea,w.aW=function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]},w.aX=function(r,t,n){return r[0]=t[0]*n[0],r[1]=t[1]*n[1],r[2]=t[2]*n[2],r[3]=t[3]*n[3],r},w.aY=Ht,w.aZ=function(r,t,n){const u=t[0]*n[0]+t[1]*n[1]+t[2]*n[2];return u===0?null:(-(r[0]*n[0]+r[1]*n[1]+r[2]*n[2])-n[3])/u},w.a_=Ke,w.aa=sc,w.ab=ph,w.ac=function(r){const t={};if(r.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(n,u,m,x)=>{const _=m||x;return t[u]=!_||_.toLowerCase(),""}),t["max-age"]){const n=parseInt(t["max-age"],10);isNaN(n)?delete t["max-age"]:t["max-age"]=n}return t},w.ad=za,w.ae=function(r){return Math.pow(2,r)},w.af=Dt,w.ag=Qa,w.ah=85.051129,w.ai=hg,w.aj=function(r){return Math.log(r)/Math.LN2},w.ak=function(r){var t=r[0],n=r[1];return t*t+n*n},w.al=function(r,t){const n=[];for(const u in r)u in t||n.push(u);return n},w.am=function(r,t){let n=0,u=0;if(r.kind==="constant")u=r.layoutSize;else if(r.kind!=="source"){const{interpolationType:m,minZoom:x,maxZoom:_}=r,T=m?Qa(An.interpolationFactor(m,t,x,_),0,1):0;r.kind==="camera"?u=fr.number(r.minSize,r.maxSize,T):n=T}return{uSizeT:n,uSize:u}},w.ao=function(r,{uSize:t,uSizeT:n},{lowerSize:u,upperSize:m}){return r.kind==="source"?u/Ro:r.kind==="composite"?fr.number(u/Ro,m/Ro,n):t},w.ap=function(r,t){var n=t[0],u=t[1],m=t[2],x=t[3],_=t[4],T=t[5],A=t[6],z=t[7],j=t[8],O=t[9],V=t[10],$=t[11],W=t[12],Q=t[13],re=t[14],ue=t[15],Ae=n*T-u*_,ve=n*A-m*_,X=n*z-x*_,ne=u*A-m*T,be=u*z-x*T,Ze=m*z-x*A,pt=j*Q-O*W,at=j*re-V*W,lt=j*ue-$*W,Ct=O*re-V*Q,gt=O*ue-$*Q,St=V*ue-$*re,ct=Ae*St-ve*gt+X*Ct+ne*lt-be*at+Ze*pt;return ct?(r[0]=(T*St-A*gt+z*Ct)*(ct=1/ct),r[1]=(m*gt-u*St-x*Ct)*ct,r[2]=(Q*Ze-re*be+ue*ne)*ct,r[3]=(V*be-O*Ze-$*ne)*ct,r[4]=(A*lt-_*St-z*at)*ct,r[5]=(n*St-m*lt+x*at)*ct,r[6]=(re*X-W*Ze-ue*ve)*ct,r[7]=(j*Ze-V*X+$*ve)*ct,r[8]=(_*gt-T*lt+z*pt)*ct,r[9]=(u*lt-n*gt-x*pt)*ct,r[10]=(W*be-Q*X+ue*Ae)*ct,r[11]=(O*X-j*be-$*Ae)*ct,r[12]=(T*at-_*Ct-A*pt)*ct,r[13]=(n*Ct-u*at+m*pt)*ct,r[14]=(Q*ve-W*ne-re*Ae)*ct,r[15]=(j*ne-O*ve+V*Ae)*ct,r):null},w.aq=_e,w.ar=function(r){return Math.hypot(r[0],r[1])},w.as=function(r){return r[0]=0,r[1]=0,r},w.at=function(r,t,n){return r[0]=t[0]*n,r[1]=t[1]*n,r},w.au=mp,w.av=$e,w.aw=function(r,t,n,u){const m=t.y-r.y,x=t.x-r.x,_=u.y-n.y,T=u.x-n.x,A=_*x-T*m;if(A===0)return null;const z=(T*(r.y-n.y)-_*(r.x-n.x))/A;return new ae(r.x+z*x,r.y+z*m)},w.ax=wp,w.ay=ef,w.az=function(r){let t=1/0,n=1/0,u=-1/0,m=-1/0;for(const x of r)t=Math.min(t,x.x),n=Math.min(n,x.y),u=Math.max(u,x.x),m=Math.max(m,x.y);return[t,n,u,m]},w.b=hr,w.b$=tg,w.b0=function(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]},w.b1=xp,w.b2=ad,w.b3=function(r,t,n,u,m){var x,_=1/Math.tan(t/2);return r[0]=_/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=_,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,m!=null&&m!==1/0?(r[10]=(m+u)*(x=1/(u-m)),r[14]=2*m*u*x):(r[10]=-1,r[14]=-2*u),r},w.b4=function(r){var t=new Se(16);return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},w.b5=function(r,t,n){var u=Math.sin(n),m=Math.cos(n),x=t[0],_=t[1],T=t[2],A=t[3],z=t[4],j=t[5],O=t[6],V=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=x*m+z*u,r[1]=_*m+j*u,r[2]=T*m+O*u,r[3]=A*m+V*u,r[4]=z*m-x*u,r[5]=j*m-_*u,r[6]=O*m-T*u,r[7]=V*m-A*u,r},w.b6=function(r,t,n){var u=Math.sin(n),m=Math.cos(n),x=t[4],_=t[5],T=t[6],A=t[7],z=t[8],j=t[9],O=t[10],V=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=x*m+z*u,r[5]=_*m+j*u,r[6]=T*m+O*u,r[7]=A*m+V*u,r[8]=z*m-x*u,r[9]=j*m-_*u,r[10]=O*m-T*u,r[11]=V*m-A*u,r},w.b7=function(){const r=new Float32Array(16);return Dt(r),r},w.b8=function(){const r=new Float64Array(16);return Dt(r),r},w.b9=function(){return new Float64Array(16)},w.bA=function(r){return r[0]=0,r[1]=0,r[2]=0,r},w.bB=function(r,t,n,u){const m=Math.sqrt(r*r+t*t),x=Math.sqrt(n*n+u*u);r/=m,t/=m,n/=x,u/=x;const _=Math.acos(r*n+t*u);return-t*n+r*u>0?_:-_},w.bC=function(r,t){const n=Ft(r,2*Math.PI),u=Ft(t,2*Math.PI);return Math.min(Math.abs(n-u),Math.abs(n-u+2*Math.PI),Math.abs(n-u-2*Math.PI))},w.bD=function(){const r={},t=Te.$version;for(const n in Te.$root){const u=Te.$root[n];if(u.required){let m=null;m=n==="version"?t:u.type==="array"?[]:{},m!=null&&(r[n]=m)}}return r},w.bE=Jc,w.bF=Me,w.bG=function r(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(let u=0;u<t.length;u++)if(!r(t[u],n[u]))return!1;return!0}if(typeof t=="object"&&t!==null&&n!==null){if(typeof n!="object"||Object.keys(t).length!==Object.keys(n).length)return!1;for(const u in t)if(!r(t[u],n[u]))return!1;return!0}return t===n},w.bH=function(r){r=r.slice();const t=Object.create(null);for(let n=0;n<r.length;n++)t[r[n].id]=r[n];for(let n=0;n<r.length;n++)"ref"in r[n]&&(r[n]=ta(r[n],t[r[n].ref]));return r},w.bI=function(r){if(r.type==="custom")return new qf(r);switch(r.type){case"background":return new uh(r);case"circle":return new Yh(r);case"color-relief":return new np(r);case"fill":return new zs(r);case"fill-extrusion":return new dc(r);case"heatmap":return new Gm(r);case"hillshade":return new bl(r);case"line":return new Cf(r);case"raster":return new Na(r);case"symbol":return new Qu(r)}},w.bJ=Qn,w.bK=function(r,t){if(!r)return[{command:"setStyle",args:[t]}];let n=[];try{if(!de(r.version,t.version))return[{command:"setStyle",args:[t]}];de(r.center,t.center)||n.push({command:"setCenter",args:[t.center]}),de(r.state,t.state)||n.push({command:"setGlobalState",args:[t.state]}),de(r.centerAltitude,t.centerAltitude)||n.push({command:"setCenterAltitude",args:[t.centerAltitude]}),de(r.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),de(r.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),de(r.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),de(r.roll,t.roll)||n.push({command:"setRoll",args:[t.roll]}),de(r.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),de(r.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),de(r.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),de(r.light,t.light)||n.push({command:"setLight",args:[t.light]}),de(r.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),de(r.sky,t.sky)||n.push({command:"setSky",args:[t.sky]}),de(r.projection,t.projection)||n.push({command:"setProjection",args:[t.projection]});const u={},m=[];(function(_,T,A,z){let j;for(j in T=T||{},_=_||{})Object.prototype.hasOwnProperty.call(_,j)&&(Object.prototype.hasOwnProperty.call(T,j)||dt(j,A,z));for(j in T)Object.prototype.hasOwnProperty.call(T,j)&&(Object.prototype.hasOwnProperty.call(_,j)?de(_[j],T[j])||(_[j].type==="geojson"&&T[j].type==="geojson"&&It(_,T,j)?Pe(A,{command:"setGeoJSONSourceData",args:[j,T[j].data]}):yt(j,T,A,z)):Ne(j,T,A))})(r.sources,t.sources,m,u);const x=[];r.layers&&r.layers.forEach(_=>{"source"in _&&u[_.source]?n.push({command:"removeLayer",args:[_.id]}):x.push(_)}),n=n.concat(m),function(_,T,A){T=T||[];const z=(_=_||[]).map(Pt),j=T.map(Pt),O=_.reduce(Vt,{}),V=T.reduce(Vt,{}),$=z.slice(),W=Object.create(null);let Q,re,ue,Ae,ve;for(let X=0,ne=0;X<z.length;X++)Q=z[X],Object.prototype.hasOwnProperty.call(V,Q)?ne++:(Pe(A,{command:"removeLayer",args:[Q]}),$.splice($.indexOf(Q,ne),1));for(let X=0,ne=0;X<j.length;X++)Q=j[j.length-1-X],$[$.length-1-X]!==Q&&(Object.prototype.hasOwnProperty.call(O,Q)?(Pe(A,{command:"removeLayer",args:[Q]}),$.splice($.lastIndexOf(Q,$.length-ne),1)):ne++,Ae=$[$.length-X],Pe(A,{command:"addLayer",args:[V[Q],Ae]}),$.splice($.length-X,0,Q),W[Q]=!0);for(let X=0;X<j.length;X++)if(Q=j[X],re=O[Q],ue=V[Q],!W[Q]&&!de(re,ue))if(de(re.source,ue.source)&&de(re["source-layer"],ue["source-layer"])&&de(re.type,ue.type)){for(ve in Tt(re.layout,ue.layout,A,Q,null,"setLayoutProperty"),Tt(re.paint,ue.paint,A,Q,null,"setPaintProperty"),de(re.filter,ue.filter)||Pe(A,{command:"setFilter",args:[Q,ue.filter]}),de(re.minzoom,ue.minzoom)&&de(re.maxzoom,ue.maxzoom)||Pe(A,{command:"setLayerZoomRange",args:[Q,ue.minzoom,ue.maxzoom]}),re)Object.prototype.hasOwnProperty.call(re,ve)&&ve!=="layout"&&ve!=="paint"&&ve!=="filter"&&ve!=="metadata"&&ve!=="minzoom"&&ve!=="maxzoom"&&(ve.indexOf("paint.")===0?Tt(re[ve],ue[ve],A,Q,ve.slice(6),"setPaintProperty"):de(re[ve],ue[ve])||Pe(A,{command:"setLayerProperty",args:[Q,ve,ue[ve]]}));for(ve in ue)Object.prototype.hasOwnProperty.call(ue,ve)&&!Object.prototype.hasOwnProperty.call(re,ve)&&ve!=="layout"&&ve!=="paint"&&ve!=="filter"&&ve!=="metadata"&&ve!=="minzoom"&&ve!=="maxzoom"&&(ve.indexOf("paint.")===0?Tt(re[ve],ue[ve],A,Q,ve.slice(6),"setPaintProperty"):de(re[ve],ue[ve])||Pe(A,{command:"setLayerProperty",args:[Q,ve,ue[ve]]}))}else Pe(A,{command:"removeLayer",args:[Q]}),Ae=$[$.lastIndexOf(Q)+1],Pe(A,{command:"addLayer",args:[ue,Ae]})}(x,t.layers,n)}catch(u){console.warn("Unable to compute style diff:",u),n=[{command:"setStyle",args:[t]}]}return n},w.bL=function(r){const t=[],n=r.id;return n===void 0&&t.push({message:`layers.${n}: missing required property "id"`}),r.render===void 0&&t.push({message:`layers.${n}: missing required method "render"`}),r.renderingMode&&r.renderingMode!=="2d"&&r.renderingMode!=="3d"&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},w.bM=si,w.bN=en,w.bO=class extends $a{constructor(r,t){super(r,t),this.current=0}set(r){this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},w.bP=Qc,w.bQ=class extends $a{constructor(r,t){super(r,t),this.current=Xh}set(r){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let t=1;t<16;t++)if(r[t]!==this.current[t]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}},w.bR=Ei,w.bS=class extends $a{constructor(r,t){super(r,t),this.current=[0,0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2]))}},w.bT=class extends $a{constructor(r,t){super(r,t),this.current=[0,0]}set(r){r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1]))}},w.bU=_t,w.bV=function(r,t){var n=Math.sin(t),u=Math.cos(t);return r[0]=u,r[1]=n,r[2]=0,r[3]=-n,r[4]=u,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r},w.bW=function(r,t,n){var u=t[0],m=t[1],x=t[2];return r[0]=u*n[0]+m*n[3]+x*n[6],r[1]=u*n[1]+m*n[4]+x*n[7],r[2]=u*n[2]+m*n[5]+x*n[8],r},w.bX=function(r,t,n,u,m,x,_){var T=1/(t-n),A=1/(u-m),z=1/(x-_);return r[0]=-2*T,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*A,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*z,r[11]=0,r[12]=(t+n)*T,r[13]=(m+u)*A,r[14]=(_+x)*z,r[15]=1,r},w.bY=class extends $a{constructor(r,t){super(r,t),this.current=new Array}set(r){if(r!=this.current){this.current=r;const t=new Float32Array(4*r.length);for(let n=0;n<r.length;n++)t[4*n]=r[n].r,t[4*n+1]=r[n].g,t[4*n+2]=r[n].b,t[4*n+3]=r[n].a;this.gl.uniform4fv(this.location,t)}}},w.bZ=class extends $a{constructor(r,t){super(r,t),this.current=new Array}set(r){if(r!=this.current){this.current=r;const t=new Float32Array(r);this.gl.uniform1fv(this.location,t)}}},w.b_=class extends d{},w.ba=function(r,t,n){const u=new Float64Array(4);return kt(u,r,t-90,n),u},w.bb=function(r,t,n,u){var m,x,_,T,A,z=t[0],j=t[1],O=t[2],V=t[3],$=n[0],W=n[1],Q=n[2],re=n[3];return(x=z*$+j*W+O*Q+V*re)<0&&(x=-x,$=-$,W=-W,Q=-Q,re=-re),1-x>He?(m=Math.acos(x),_=Math.sin(m),T=Math.sin((1-u)*m)/_,A=Math.sin(u*m)/_):(T=1-u,A=u),r[0]=T*z+A*$,r[1]=T*j+A*W,r[2]=T*O+A*Q,r[3]=T*V+A*re,r},w.bc=function(r){const t=new Float64Array(9);var n,u,m,x,_,T,A,z,j,O,V,$,W,Q,re,ue,Ae,ve;O=(m=(u=r)[0])*(A=m+m),V=(x=u[1])*A,W=(_=u[2])*A,Q=_*(z=x+x),ue=(T=u[3])*A,Ae=T*z,ve=T*(j=_+_),(n=t)[0]=1-($=x*z)-(re=_*j),n[3]=V-ve,n[6]=W+Ae,n[1]=V+ve,n[4]=1-O-re,n[7]=Q-ue,n[2]=W-Ae,n[5]=Q+ue,n[8]=1-O-$;const X=tn(-Math.asin(Qa(t[2],-1,1)));let ne,be;return Math.hypot(t[5],t[8])<.001?(ne=0,be=-tn(Math.atan2(t[3],t[4]))):(ne=tn(t[5]===0&&t[8]===0?0:Math.atan2(t[5],t[8])),be=tn(t[1]===0&&t[0]===0?0:Math.atan2(t[1],t[0]))),{roll:ne,pitch:X+90,bearing:be}},w.bd=function(r,t){return r.roll==t.roll&&r.pitch==t.pitch&&r.bearing==t.bearing},w.be=ya,w.bf=wn,w.bg=Uu,w.bh=iu,w.bi=au,w.bj=ba,w.bk=aa,w.bl=da,w.bm=function(r,t,n,u,m){return ba(u,m,Qa((r-t)/(n-t),0,1))},w.bn=Ft,w.bo=function(){return new Float64Array(3)},w.bp=function(r,t,n,u){return r[0]=t[0]+n[0]*u,r[1]=t[1]+n[1]*u,r[2]=t[2]+n[2]*u,r},w.bq=kt,w.br=function(r,t,n){var u=n[0],m=n[1],x=n[2],_=t[0],T=t[1],A=t[2],z=m*A-x*T,j=x*_-u*A,O=u*T-m*_,V=m*O-x*j,$=x*z-u*O,W=u*j-m*z,Q=2*n[3];return j*=Q,O*=Q,$*=2,W*=2,r[0]=_+(z*=Q)+(V*=2),r[1]=T+j+$,r[2]=A+O+W,r},w.bs=function(r,t,n){const u=(m=[r[0],r[1],r[2],t[0],t[1],t[2],n[0],n[1],n[2]])[0]*((j=m[8])*(_=m[4])-(T=m[5])*(z=m[7]))+m[1]*(-j*(x=m[3])+T*(A=m[6]))+m[2]*(z*x-_*A);var m,x,_,T,A,z,j;if(u===0)return null;const O=ea([],[t[0],t[1],t[2]],[n[0],n[1],n[2]]),V=ea([],[n[0],n[1],n[2]],[r[0],r[1],r[2]]),$=ea([],[r[0],r[1],r[2]],[t[0],t[1],t[2]]),W=$t([],O,-r[3]);return sa(W,W,$t([],V,-t[3])),sa(W,W,$t([],$,-n[3])),$t(W,W,1/u),W},w.bt=bp,w.bu=function(){return new Float64Array(4)},w.bv=function(r,t,n,u){var m=[],x=[];return m[0]=t[0]-n[0],m[1]=t[1]-n[1],m[2]=t[2]-n[2],x[0]=m[0]*Math.cos(u)-m[1]*Math.sin(u),x[1]=m[0]*Math.sin(u)+m[1]*Math.cos(u),x[2]=m[2],r[0]=x[0]+n[0],r[1]=x[1]+n[1],r[2]=x[2]+n[2],r},w.bw=function(r,t,n,u){var m=[],x=[];return m[0]=t[0]-n[0],m[1]=t[1]-n[1],m[2]=t[2]-n[2],x[0]=m[0],x[1]=m[1]*Math.cos(u)-m[2]*Math.sin(u),x[2]=m[1]*Math.sin(u)+m[2]*Math.cos(u),r[0]=x[0]+n[0],r[1]=x[1]+n[1],r[2]=x[2]+n[2],r},w.bx=function(r,t,n,u){var m=[],x=[];return m[0]=t[0]-n[0],m[1]=t[1]-n[1],m[2]=t[2]-n[2],x[0]=m[2]*Math.sin(u)+m[0]*Math.cos(u),x[1]=m[1],x[2]=m[2]*Math.cos(u)-m[0]*Math.sin(u),r[0]=x[0]+n[0],r[1]=x[1]+n[1],r[2]=x[2]+n[2],r},w.by=function(r,t,n){var u=Math.sin(n),m=Math.cos(n),x=t[0],_=t[1],T=t[2],A=t[3],z=t[8],j=t[9],O=t[10],V=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=x*m-z*u,r[1]=_*m-j*u,r[2]=T*m-O*u,r[3]=A*m-V*u,r[8]=x*u+z*m,r[9]=_*u+j*m,r[10]=T*u+O*m,r[11]=A*u+V*m,r},w.bz=function(r,t){const n=Ft(r,360),u=Ft(t,360),m=u-n,x=u>n?m-360:m+360;return Math.abs(m)<Math.abs(x)?m:x},w.c=je,w.c0=class extends b{},w.c1=Xd,w.c2=function(r){return r<=1?1:Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},w.c3=Hd,w.c4=function(r,t,n){var u=t[0],m=t[1],x=t[2],_=n[3]*u+n[7]*m+n[11]*x+n[15];return r[0]=(n[0]*u+n[4]*m+n[8]*x+n[12])/(_=_||1),r[1]=(n[1]*u+n[5]*m+n[9]*x+n[13])/_,r[2]=(n[2]*u+n[6]*m+n[10]*x+n[14])/_,r},w.c5=class extends pl{},w.c6=class extends B{},w.c7=function(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]&&r[4]===t[4]&&r[5]===t[5]&&r[6]===t[6]&&r[7]===t[7]&&r[8]===t[8]&&r[9]===t[9]&&r[10]===t[10]&&r[11]===t[11]&&r[12]===t[12]&&r[13]===t[13]&&r[14]===t[14]&&r[15]===t[15]},w.c8=function(r,t){var n=r[0],u=r[1],m=r[2],x=r[3],_=r[4],T=r[5],A=r[6],z=r[7],j=r[8],O=r[9],V=r[10],$=r[11],W=r[12],Q=r[13],re=r[14],ue=r[15],Ae=t[0],ve=t[1],X=t[2],ne=t[3],be=t[4],Ze=t[5],pt=t[6],at=t[7],lt=t[8],Ct=t[9],gt=t[10],St=t[11],ct=t[12],qt=t[13],Qt=t[14],Gt=t[15];return Math.abs(n-Ae)<=He*Math.max(1,Math.abs(n),Math.abs(Ae))&&Math.abs(u-ve)<=He*Math.max(1,Math.abs(u),Math.abs(ve))&&Math.abs(m-X)<=He*Math.max(1,Math.abs(m),Math.abs(X))&&Math.abs(x-ne)<=He*Math.max(1,Math.abs(x),Math.abs(ne))&&Math.abs(_-be)<=He*Math.max(1,Math.abs(_),Math.abs(be))&&Math.abs(T-Ze)<=He*Math.max(1,Math.abs(T),Math.abs(Ze))&&Math.abs(A-pt)<=He*Math.max(1,Math.abs(A),Math.abs(pt))&&Math.abs(z-at)<=He*Math.max(1,Math.abs(z),Math.abs(at))&&Math.abs(j-lt)<=He*Math.max(1,Math.abs(j),Math.abs(lt))&&Math.abs(O-Ct)<=He*Math.max(1,Math.abs(O),Math.abs(Ct))&&Math.abs(V-gt)<=He*Math.max(1,Math.abs(V),Math.abs(gt))&&Math.abs($-St)<=He*Math.max(1,Math.abs($),Math.abs(St))&&Math.abs(W-ct)<=He*Math.max(1,Math.abs(W),Math.abs(ct))&&Math.abs(Q-qt)<=He*Math.max(1,Math.abs(Q),Math.abs(qt))&&Math.abs(re-Qt)<=He*Math.max(1,Math.abs(re),Math.abs(Qt))&&Math.abs(ue-Gt)<=He*Math.max(1,Math.abs(ue),Math.abs(Gt))},w.c9=function(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},w.cA=function(r){delete ee.REGISTERED_PROTOCOLS[r]},w.cB=function(r,t){const n={};for(let m=0;m<r.length;m++){const x=t&&t[r[m].id]||bs(r[m]);t&&(t[r[m].id]=x);let _=n[x];_||(_=n[x]=[]),_.push(r[m])}const u=[];for(const m in n)u.push(n[m]);return u},w.cC=Nt,w.cD=_p,w.cE=Gf,w.cF=Lf,w.cG=function(r){r.bucket.createArrays(),r.bucket.tilePixelRatio=ht/(512*r.bucket.overscaling),r.bucket.compareText={},r.bucket.iconsNeedLinear=!1;const t=r.bucket.layers[0],n=t.layout,u=t._unevaluatedLayout._values,m={layoutIconSize:u["icon-size"].possiblyEvaluate(new ci(r.bucket.zoom+1),r.canonical),layoutTextSize:u["text-size"].possiblyEvaluate(new ci(r.bucket.zoom+1),r.canonical),textMaxSize:u["text-size"].possiblyEvaluate(new ci(18))};if(r.bucket.textSizeData.kind==="composite"){const{minZoom:z,maxZoom:j}=r.bucket.textSizeData;m.compositeTextSizes=[u["text-size"].possiblyEvaluate(new ci(z),r.canonical),u["text-size"].possiblyEvaluate(new ci(j),r.canonical)]}if(r.bucket.iconSizeData.kind==="composite"){const{minZoom:z,maxZoom:j}=r.bucket.iconSizeData;m.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new ci(z),r.canonical),u["icon-size"].possiblyEvaluate(new ci(j),r.canonical)]}const x=n.get("text-line-height")*Zi,_=n.get("text-rotation-alignment")!=="viewport"&&n.get("symbol-placement")!=="point",T=n.get("text-keep-upright"),A=n.get("text-size");for(const z of r.bucket.features){const j=n.get("text-font").evaluate(z,{},r.canonical).join(","),O=A.evaluate(z,{},r.canonical),V=m.layoutTextSize.evaluate(z,{},r.canonical),$=m.layoutIconSize.evaluate(z,{},r.canonical),W={horizontal:{},vertical:void 0},Q=z.text;let re,ue=[0,0];if(Q){const X=Q.toString(),ne=n.get("text-letter-spacing").evaluate(z,{},r.canonical)*Zi,be=Wo(X)?ne:0,Ze=n.get("text-anchor").evaluate(z,{},r.canonical),pt=Ks(t,z,r.canonical);if(!pt){const gt=n.get("text-radial-offset").evaluate(z,{},r.canonical);ue=gt?fh(Ze,[gt*Zi,Pp]):n.get("text-offset").evaluate(z,{},r.canonical).map(St=>St*Zi)}let at=_?"center":n.get("text-justify").evaluate(z,{},r.canonical);const lt=n.get("symbol-placement")==="point"?n.get("text-max-width").evaluate(z,{},r.canonical)*Zi:1/0,Ct=()=>{r.bucket.allowVerticalPlacement&&To(X)&&(W.vertical=su(Q,r.glyphMap,r.glyphPositions,r.imagePositions,j,lt,x,Ze,"left",be,ue,w.an.vertical,!0,V,O))};if(!_&&pt){const gt=new Set;if(at==="auto")for(let ct=0;ct<pt.values.length;ct+=2)gt.add(Yf(pt.values[ct]));else gt.add(at);let St=!1;for(const ct of gt)if(!W.horizontal[ct])if(St)W.horizontal[ct]=W.horizontal[0];else{const qt=su(Q,r.glyphMap,r.glyphPositions,r.imagePositions,j,lt,x,"center",ct,be,ue,w.an.horizontal,!1,V,O);qt&&(W.horizontal[ct]=qt,St=qt.positionedLines.length===1)}Ct()}else{at==="auto"&&(at=Yf(Ze));const gt=su(Q,r.glyphMap,r.glyphPositions,r.imagePositions,j,lt,x,Ze,at,be,ue,w.an.horizontal,!1,V,O);gt&&(W.horizontal[at]=gt),Ct(),To(X)&&_&&T&&(W.vertical=su(Q,r.glyphMap,r.glyphPositions,r.imagePositions,j,lt,x,Ze,at,be,ue,w.an.vertical,!1,V,O))}}let Ae=!1;if(z.icon&&z.icon.name){const X=r.imageMap[z.icon.name];X&&(re=pp(r.imagePositions[z.icon.name],n.get("icon-offset").evaluate(z,{},r.canonical),n.get("icon-anchor").evaluate(z,{},r.canonical)),Ae=!!X.sdf,r.bucket.sdfIcons===void 0?r.bucket.sdfIcons=Ae:r.bucket.sdfIcons!==Ae&&Wa("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(X.pixelRatio!==r.bucket.pixelRatio||n.get("icon-rotate").constantOr(1)!==0)&&(r.bucket.iconsNeedLinear=!0))}const ve=Qf(W.horizontal)||W.vertical;r.bucket.iconsInText=!!ve&&ve.iconsInText,(ve||re)&&gy(r.bucket,z,W,re,r.imageMap,m,V,$,ue,Ae,r.canonical,r.subdivisionGranularity)}r.showCollisionBoxes&&r.bucket.generateCollisionDebugBuffers()},w.cH=Zu,w.cI=_l,w.cJ=Sr,w.cK=ni,w.cL=dp,w.cM=class{constructor(r){this._marks={start:[r.url,"start"].join("#"),end:[r.url,"end"].join("#"),measure:r.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let r=performance.getEntriesByName(this._marks.measure);return r.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),r=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),r}},w.cN=function(r,t,n,u,m){return c(this,void 0,void 0,function*(){if(ot())try{return yield er(r,t,n,u,m)}catch{}return function(x,_,T,A,z){const j=x.width,O=x.height;Mr&&Hr||(Mr=new OffscreenCanvas(j,O),Hr=Mr.getContext("2d",{willReadFrequently:!0})),Mr.width=j,Mr.height=O,Hr.drawImage(x,0,0,j,O);const V=Hr.getImageData(_,T,A,z);return Hr.clearRect(0,0,j,O),V.data}(r,t,n,u,m)})},w.cO=Ls,w.cP=R,w.cQ=G,w.cR=ii,w.cS=Df,w.cT=Zn,w.cU=Do,w.ca=r=>r.type==="symbol",w.cb=r=>r.type==="circle",w.cc=r=>r.type==="heatmap",w.cd=r=>r.type==="line",w.ce=r=>r.type==="fill",w.cf=r=>r.type==="fill-extrusion",w.cg=r=>r.type==="hillshade",w.ch=r=>r.type==="color-relief",w.ci=r=>r.type==="raster",w.cj=r=>r.type==="background",w.ck=r=>r.type==="custom",w.cl=Qi,w.cm=function(r,t,n){const u=rt(t.x-n.x,t.y-n.y),m=rt(r.x-n.x,r.y-n.y);var x,_;return tn(Math.atan2(u[0]*m[1]-u[1]*m[0],(x=u)[0]*(_=m)[0]+x[1]*_[1]))},w.cn=Ja,w.co=function(r,t){return kl[t]&&(r instanceof MouseEvent||r instanceof WheelEvent)},w.cp=function(r,t){return Bi[t]&&"touches"in r},w.cq=function(r){return Bi[r]||kl[r]},w.cr=function(r,t,n){var u=t[0],m=t[1];return r[0]=n[0]*u+n[4]*m+n[12],r[1]=n[1]*u+n[5]*m+n[13],r},w.cs=function(r,t){const{x:n,y:u}=td.fromLngLat(t);return!(r<0||r>25||u<0||u>=1||n<0||n>=1)},w.ct=function(r,t){return r[0]=t[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=t[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=t[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r},w.cu=class extends Mo{},w.cv=xg,w.cx=function(r){return r.message===vn},w.cy=ge,w.cz=function(r,t){ee.REGISTERED_PROTOCOLS[r]=t},w.d=Xe,w.e=Ii,w.f=r=>c(void 0,void 0,void 0,function*(){if(r.byteLength===0)return createImageBitmap(new ImageData(1,1));const t=new Blob([new Uint8Array(r)],{type:"image/png"});try{return createImageBitmap(t)}catch(n){throw new Error(`Could not load image because of ${n.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),w.g=te,w.h=r=>new Promise((t,n)=>{const u=new Image;u.onload=()=>{t(u),URL.revokeObjectURL(u.src),u.onload=null,window.requestAnimationFrame(()=>{u.src=pr})},u.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const m=new Blob([new Uint8Array(r)],{type:"image/png"});u.src=r.byteLength?URL.createObjectURL(m):pr}),w.i=Tn,w.j=(r,t)=>ke(Ii(r,{type:"json"}),t),w.k=Be,w.l=tt,w.m=ke,w.n=(r,t)=>ke(Ii(r,{type:"arrayBuffer"}),t),w.o=function(r){return new dp(r).readFields(Mf,[])},w.p=ag,w.q=Bu,w.r=In,w.s=ji,w.t=Ga,w.u=Ca,w.v=Te,w.w=Wa,w.x=Iu,w.y=Ss,w.z=Cs}),C("worker",["./shared"],function(w){class c{constructor(ee){this.keyCache={},ee&&this.replace(ee)}replace(ee){this._layerConfigs={},this._layers={},this.update(ee,[])}update(ee,te){for(const ge of ee){this._layerConfigs[ge.id]=ge;const Me=this._layers[ge.id]=w.bI(ge);Me._featureFilter=w.a9(Me.filter),this.keyCache[ge.id]&&delete this.keyCache[ge.id]}for(const ge of te)delete this.keyCache[ge],delete this._layerConfigs[ge],delete this._layers[ge];this.familiesBySource={};const oe=w.cB(Object.values(this._layerConfigs),this.keyCache);for(const ge of oe){const Me=ge.map(Be=>this._layers[Be.id]),ke=Me[0];if(ke.visibility==="none")continue;const Xe=ke.source||"";let ze=this.familiesBySource[Xe];ze||(ze=this.familiesBySource[Xe]={});const st=ke.sourceLayer||"_geojsonTileLayer";let tt=ze[st];tt||(tt=ze[st]=[]),tt.push(Me)}}}class R{constructor(ee){const te={},oe=[];for(const Xe in ee){const ze=ee[Xe],st=te[Xe]={};for(const tt in ze){const Be=ze[+tt];if(!Be||Be.bitmap.width===0||Be.bitmap.height===0)continue;const ut={x:0,y:0,w:Be.bitmap.width+2,h:Be.bitmap.height+2};oe.push(ut),st[tt]={rect:ut,metrics:Be.metrics}}}const{w:ge,h:Me}=w.p(oe),ke=new w.q({width:ge||1,height:Me||1});for(const Xe in ee){const ze=ee[Xe];for(const st in ze){const tt=ze[+st];if(!tt||tt.bitmap.width===0||tt.bitmap.height===0)continue;const Be=te[Xe][st].rect;w.q.copy(tt.bitmap,ke,{x:0,y:0},{x:Be.x+1,y:Be.y+1},tt.bitmap)}}this.image=ke,this.positions=te}}w.cC("GlyphAtlas",R);class k{constructor(ee){this.tileID=new w.Z(ee.tileID.overscaledZ,ee.tileID.wrap,ee.tileID.canonical.z,ee.tileID.canonical.x,ee.tileID.canonical.y),this.uid=ee.uid,this.zoom=ee.zoom,this.pixelRatio=ee.pixelRatio,this.tileSize=ee.tileSize,this.source=ee.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=ee.showCollisionBoxes,this.collectResourceTiming=!!ee.collectResourceTiming,this.returnDependencies=!!ee.returnDependencies,this.promoteId=ee.promoteId,this.inFlightDependencies=[],this.globalState=ee.globalState}parse(ee,te,oe,ge,Me){return w._(this,void 0,void 0,function*(){this.status="parsing",this.data=ee,this.collisionBoxArray=new w.a7;const ke=new w.cD(Object.keys(ee.layers).sort()),Xe=new w.cE(this.tileID,this.promoteId);Xe.bucketLayerIDs=[];const ze={},st={featureIndex:Xe,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:oe,subdivisionGranularity:Me},tt=te.familiesBySource[this.source];for(const Tt in tt){const Pt=ee.layers[Tt];if(!Pt)continue;Pt.version===1&&w.w(`Vector tile source "${this.source}" layer "${Tt}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Vt=ke.encode(Tt),et=[];for(let Zt=0;Zt<Pt.length;Zt++){const Ut=Pt.feature(Zt),la=Xe.getId(Ut,Tt);et.push({feature:Ut,id:la,index:Zt,sourceLayerIndex:Vt})}for(const Zt of tt[Tt]){const Ut=Zt[0];Ut.source!==this.source&&w.w(`layer.source = ${Ut.source} does not equal this.source = ${this.source}`),Ut.minzoom&&this.zoom<Math.floor(Ut.minzoom)||Ut.maxzoom&&this.zoom>=Ut.maxzoom||Ut.visibility!=="none"&&(q(Zt,this.zoom,oe),(ze[Ut.id]=Ut.createBucket({index:Xe.bucketLayerIDs.length,layers:Zt,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Vt,sourceID:this.source,globalState:this.globalState})).populate(et,st,this.tileID.canonical),Xe.bucketLayerIDs.push(Zt.map(la=>la.id)))}}const Be=w.bM(st.glyphDependencies,Tt=>Object.keys(Tt).map(Number));this.inFlightDependencies.forEach(Tt=>Tt?.abort()),this.inFlightDependencies=[];let ut=Promise.resolve({});if(Object.keys(Be).length){const Tt=new AbortController;this.inFlightDependencies.push(Tt),ut=ge.sendAsync({type:"GG",data:{stacks:Be,source:this.source,tileID:this.tileID,type:"glyphs"}},Tt)}const Te=Object.keys(st.iconDependencies);let Et=Promise.resolve({});if(Te.length){const Tt=new AbortController;this.inFlightDependencies.push(Tt),Et=ge.sendAsync({type:"GI",data:{icons:Te,source:this.source,tileID:this.tileID,type:"icons"}},Tt)}const ta=Object.keys(st.patternDependencies);let de=Promise.resolve({});if(ta.length){const Tt=new AbortController;this.inFlightDependencies.push(Tt),de=ge.sendAsync({type:"GI",data:{icons:ta,source:this.source,tileID:this.tileID,type:"patterns"}},Tt)}const[Pe,Ne,dt]=yield Promise.all([ut,Et,de]),yt=new R(Pe),It=new w.cF(Ne,dt);for(const Tt in ze){const Pt=ze[Tt];Pt instanceof w.a8?(q(Pt.layers,this.zoom,oe),w.cG({bucket:Pt,glyphMap:Pe,glyphPositions:yt.positions,imageMap:Ne,imagePositions:It.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:st.subdivisionGranularity})):Pt.hasPattern&&(Pt instanceof w.cH||Pt instanceof w.cI||Pt instanceof w.cJ)&&(q(Pt.layers,this.zoom,oe),Pt.addFeatures(st,this.tileID.canonical,It.patternPositions))}return this.status="done",{buckets:Object.values(ze).filter(Tt=>!Tt.isEmpty()),featureIndex:Xe,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:yt.image,imageAtlas:It,glyphMap:this.returnDependencies?Pe:null,iconMap:this.returnDependencies?Ne:null,glyphPositions:this.returnDependencies?yt.positions:null}})}}function q(je,ee,te){const oe=new w.F(ee);for(const ge of je)ge.recalculate(oe,te)}class G{constructor(ee,te,oe){this.actor=ee,this.layerIndex=te,this.availableImages=oe,this.fetching={},this.loading={},this.loaded={}}loadVectorTile(ee,te){return w._(this,void 0,void 0,function*(){const oe=yield w.n(ee.request,te);try{return{vectorTile:new w.cK.VectorTile(new w.cL(oe.data)),rawData:oe.data,cacheControl:oe.cacheControl,expires:oe.expires}}catch(ge){const Me=new Uint8Array(oe.data);let ke=`Unable to parse the tile at ${ee.request.url}, `;throw ke+=Me[0]===31&&Me[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ge.message}`,new Error(ke)}})}loadTile(ee){return w._(this,void 0,void 0,function*(){const te=ee.uid,oe=!!(ee&&ee.request&&ee.request.collectResourceTiming)&&new w.cM(ee.request),ge=new k(ee);this.loading[te]=ge;const Me=new AbortController;ge.abort=Me;try{const ke=yield this.loadVectorTile(ee,Me);if(delete this.loading[te],!ke)return null;const Xe=ke.rawData,ze={};ke.expires&&(ze.expires=ke.expires),ke.cacheControl&&(ze.cacheControl=ke.cacheControl);const st={};if(oe){const Be=oe.finish();Be&&(st.resourceTiming=JSON.parse(JSON.stringify(Be)))}ge.vectorTile=ke.vectorTile;const tt=ge.parse(ke.vectorTile,this.layerIndex,this.availableImages,this.actor,ee.subdivisionGranularity);this.loaded[te]=ge,this.fetching[te]={rawTileData:Xe,cacheControl:ze,resourceTiming:st};try{const Be=yield tt;return w.e({rawTileData:Xe.slice(0)},Be,ze,st)}finally{delete this.fetching[te]}}catch(ke){throw delete this.loading[te],ge.status="done",this.loaded[te]=ge,ke}})}reloadTile(ee){return w._(this,void 0,void 0,function*(){const te=ee.uid;if(!this.loaded||!this.loaded[te])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const oe=this.loaded[te];if(oe.showCollisionBoxes=ee.showCollisionBoxes,oe.globalState=ee.globalState,oe.status==="parsing"){const ge=yield oe.parse(oe.vectorTile,this.layerIndex,this.availableImages,this.actor,ee.subdivisionGranularity);let Me;if(this.fetching[te]){const{rawTileData:ke,cacheControl:Xe,resourceTiming:ze}=this.fetching[te];delete this.fetching[te],Me=w.e({rawTileData:ke.slice(0)},ge,Xe,ze)}else Me=ge;return Me}if(oe.status==="done"&&oe.vectorTile)return oe.parse(oe.vectorTile,this.layerIndex,this.availableImages,this.actor,ee.subdivisionGranularity)})}abortTile(ee){return w._(this,void 0,void 0,function*(){const te=this.loading,oe=ee.uid;te&&te[oe]&&te[oe].abort&&(te[oe].abort.abort(),delete te[oe])})}removeTile(ee){return w._(this,void 0,void 0,function*(){this.loaded&&this.loaded[ee.uid]&&delete this.loaded[ee.uid]})}}class Z{constructor(){this.loaded={}}loadTile(ee){return w._(this,void 0,void 0,function*(){const{uid:te,encoding:oe,rawImageData:ge,redFactor:Me,greenFactor:ke,blueFactor:Xe,baseShift:ze}=ee,st=ge.width+2,tt=ge.height+2,Be=w.b(ge)?new w.R({width:st,height:tt},yield w.cN(ge,-1,-1,st,tt)):ge,ut=new w.cO(te,Be,oe,Me,ke,Xe,ze);return this.loaded=this.loaded||{},this.loaded[te]=ut,ut})}removeTile(ee){const te=this.loaded,oe=ee.uid;te&&te[oe]&&delete te[oe]}}var H,ae,Ie=function(){if(ae)return H;function je(te,oe){if(te.length!==0){ee(te[0],oe);for(var ge=1;ge<te.length;ge++)ee(te[ge],!oe)}}function ee(te,oe){for(var ge=0,Me=0,ke=0,Xe=te.length,ze=Xe-1;ke<Xe;ze=ke++){var st=(te[ke][0]-te[ze][0])*(te[ze][1]+te[ke][1]),tt=ge+st;Me+=Math.abs(ge)>=Math.abs(st)?ge-tt+st:st-tt+ge,ge=tt}ge+Me>=0!=!!oe&&te.reverse()}return ae=1,H=function te(oe,ge){var Me,ke=oe&&oe.type;if(ke==="FeatureCollection")for(Me=0;Me<oe.features.length;Me++)te(oe.features[Me],ge);else if(ke==="GeometryCollection")for(Me=0;Me<oe.geometries.length;Me++)te(oe.geometries[Me],ge);else if(ke==="Feature")te(oe.geometry,ge);else if(ke==="Polygon")je(oe.coordinates,ge);else if(ke==="MultiPolygon")for(Me=0;Me<oe.coordinates.length;Me++)je(oe.coordinates[Me],ge);return oe}}(),Ve=w.cP(Ie);const we=w.cK.VectorTileFeature.prototype.toGeoJSON;class Le{constructor(ee){this._feature=ee,this.extent=w.$,this.type=ee.type,this.properties=ee.tags,"id"in ee&&!isNaN(ee.id)&&(this.id=parseInt(ee.id,10))}loadGeometry(){if(this._feature.type===1){const ee=[];for(const te of this._feature.geometry)ee.push([new w.P(te[0],te[1])]);return ee}{const ee=[];for(const te of this._feature.geometry){const oe=[];for(const ge of te)oe.push(new w.P(ge[0],ge[1]));ee.push(oe)}return ee}}toGeoJSON(ee,te,oe){return we.call(this,ee,te,oe)}}class Oe{constructor(ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=w.$,this.length=ee.length,this._features=ee}feature(ee){return new Le(this._features[ee])}}var ot,He,Se,_t={exports:{}},Dt=function(){if(Se)return _t.exports;Se=1;var je=w.cS(),ee=function(){if(He)return ot;He=1;var tt=w.cQ(),Be=w.cR().VectorTileFeature;function ut(Et,ta){this.options=ta||{},this.features=Et,this.length=Et.length}function Te(Et,ta){this.id=typeof Et.id=="number"?Et.id:void 0,this.type=Et.type,this.rawGeometry=Et.type===1?[Et.geometry]:Et.geometry,this.properties=Et.tags,this.extent=ta||4096}return ot=ut,ut.prototype.feature=function(Et){return new Te(this.features[Et],this.options.extent)},Te.prototype.loadGeometry=function(){var Et=this.rawGeometry;this.geometry=[];for(var ta=0;ta<Et.length;ta++){for(var de=Et[ta],Pe=[],Ne=0;Ne<de.length;Ne++)Pe.push(new tt(de[Ne][0],de[Ne][1]));this.geometry.push(Pe)}return this.geometry},Te.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Et=this.geometry,ta=1/0,de=-1/0,Pe=1/0,Ne=-1/0,dt=0;dt<Et.length;dt++)for(var yt=Et[dt],It=0;It<yt.length;It++){var Tt=yt[It];ta=Math.min(ta,Tt.x),de=Math.max(de,Tt.x),Pe=Math.min(Pe,Tt.y),Ne=Math.max(Ne,Tt.y)}return[ta,Pe,de,Ne]},Te.prototype.toGeoJSON=Be.prototype.toGeoJSON,ot}();function te(tt){var Be=new je;return function(ut,Te){for(var Et in ut.layers)Te.writeMessage(3,oe,ut.layers[Et])}(tt,Be),Be.finish()}function oe(tt,Be){var ut;Be.writeVarintField(15,tt.version||1),Be.writeStringField(1,tt.name||""),Be.writeVarintField(5,tt.extent||4096);var Te={keys:[],values:[],keycache:{},valuecache:{}};for(ut=0;ut<tt.length;ut++)Te.feature=tt.feature(ut),Be.writeMessage(2,ge,Te);var Et=Te.keys;for(ut=0;ut<Et.length;ut++)Be.writeStringField(3,Et[ut]);var ta=Te.values;for(ut=0;ut<ta.length;ut++)Be.writeMessage(4,st,ta[ut])}function ge(tt,Be){var ut=tt.feature;ut.id!==void 0&&Be.writeVarintField(1,ut.id),Be.writeMessage(2,Me,tt),Be.writeVarintField(3,ut.type),Be.writeMessage(4,ze,ut)}function Me(tt,Be){var ut=tt.feature,Te=tt.keys,Et=tt.values,ta=tt.keycache,de=tt.valuecache;for(var Pe in ut.properties){var Ne=ut.properties[Pe],dt=ta[Pe];if(Ne!==null){dt===void 0&&(Te.push(Pe),ta[Pe]=dt=Te.length-1),Be.writeVarint(dt);var yt=typeof Ne;yt!=="string"&&yt!=="boolean"&&yt!=="number"&&(Ne=JSON.stringify(Ne));var It=yt+":"+Ne,Tt=de[It];Tt===void 0&&(Et.push(Ne),de[It]=Tt=Et.length-1),Be.writeVarint(Tt)}}}function ke(tt,Be){return(Be<<3)+(7&tt)}function Xe(tt){return tt<<1^tt>>31}function ze(tt,Be){for(var ut=tt.loadGeometry(),Te=tt.type,Et=0,ta=0,de=ut.length,Pe=0;Pe<de;Pe++){var Ne=ut[Pe],dt=1;Te===1&&(dt=Ne.length),Be.writeVarint(ke(1,dt));for(var yt=Te===3?Ne.length-1:Ne.length,It=0;It<yt;It++){It===1&&Te!==1&&Be.writeVarint(ke(2,yt-1));var Tt=Ne[It].x-Et,Pt=Ne[It].y-ta;Be.writeVarint(Xe(Tt)),Be.writeVarint(Xe(Pt)),Et+=Tt,ta+=Pt}Te===3&&Be.writeVarint(ke(7,1))}}function st(tt,Be){var ut=typeof tt;ut==="string"?Be.writeStringField(1,tt):ut==="boolean"?Be.writeBooleanField(7,tt):ut==="number"&&(tt%1!=0?Be.writeDoubleField(3,tt):tt<0?Be.writeSVarintField(6,tt):Be.writeVarintField(5,tt))}return _t.exports=te,_t.exports.fromVectorTileJs=te,_t.exports.fromGeojsonVt=function(tt,Be){Be=Be||{};var ut={};for(var Te in tt)ut[Te]=new ee(tt[Te].features,Be),ut[Te].name=Te,ut[Te].version=Be.version,ut[Te].extent=Be.extent;return te({layers:ut})},_t.exports.GeoJSONWrapper=ee,_t.exports}(),zt=w.cP(Dt);const Ht={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:je=>je},ga=Math.fround||(sa=new Float32Array(1),je=>(sa[0]=+je,sa[0]));var sa;class $t{constructor(ee){this.options=Object.assign(Object.create(Ht),ee),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(ee){const{log:te,minZoom:oe,maxZoom:ge}=this.options;te&&console.time("total time");const Me=`prepare ${ee.length} points`;te&&console.time(Me),this.points=ee;const ke=[];for(let ze=0;ze<ee.length;ze++){const st=ee[ze];if(!st.geometry)continue;const[tt,Be]=st.geometry.coordinates,ut=ga(Ke(tt)),Te=ga($e(Be));ke.push(ut,Te,1/0,ze,-1,1),this.options.reduce&&ke.push(0)}let Xe=this.trees[ge+1]=this._createTree(ke);te&&console.timeEnd(Me);for(let ze=ge;ze>=oe;ze--){const st=+Date.now();Xe=this.trees[ze]=this._createTree(this._cluster(Xe,ze)),te&&console.log("z%d: %d clusters in %dms",ze,Xe.numItems,+Date.now()-st)}return te&&console.timeEnd("total time"),this}getClusters(ee,te){let oe=((ee[0]+180)%360+360)%360-180;const ge=Math.max(-90,Math.min(90,ee[1]));let Me=ee[2]===180?180:((ee[2]+180)%360+360)%360-180;const ke=Math.max(-90,Math.min(90,ee[3]));if(ee[2]-ee[0]>=360)oe=-180,Me=180;else if(oe>Me){const Be=this.getClusters([oe,ge,180,ke],te),ut=this.getClusters([-180,ge,Me,ke],te);return Be.concat(ut)}const Xe=this.trees[this._limitZoom(te)],ze=Xe.range(Ke(oe),$e(ke),Ke(Me),$e(ge)),st=Xe.data,tt=[];for(const Be of ze){const ut=this.stride*Be;tt.push(st[ut+5]>1?ea(st,ut,this.clusterProps):this.points[st[ut+3]])}return tt}getChildren(ee){const te=this._getOriginId(ee),oe=this._getOriginZoom(ee),ge="No cluster with the specified id.",Me=this.trees[oe];if(!Me)throw new Error(ge);const ke=Me.data;if(te*this.stride>=ke.length)throw new Error(ge);const Xe=this.options.radius/(this.options.extent*Math.pow(2,oe-1)),ze=Me.within(ke[te*this.stride],ke[te*this.stride+1],Xe),st=[];for(const tt of ze){const Be=tt*this.stride;ke[Be+4]===ee&&st.push(ke[Be+5]>1?ea(ke,Be,this.clusterProps):this.points[ke[Be+3]])}if(st.length===0)throw new Error(ge);return st}getLeaves(ee,te,oe){const ge=[];return this._appendLeaves(ge,ee,te=te||10,oe=oe||0,0),ge}getTile(ee,te,oe){const ge=this.trees[this._limitZoom(ee)],Me=Math.pow(2,ee),{extent:ke,radius:Xe}=this.options,ze=Xe/ke,st=(oe-ze)/Me,tt=(oe+1+ze)/Me,Be={features:[]};return this._addTileFeatures(ge.range((te-ze)/Me,st,(te+1+ze)/Me,tt),ge.data,te,oe,Me,Be),te===0&&this._addTileFeatures(ge.range(1-ze/Me,st,1,tt),ge.data,Me,oe,Me,Be),te===Me-1&&this._addTileFeatures(ge.range(0,st,ze/Me,tt),ge.data,-1,oe,Me,Be),Be.features.length?Be:null}getClusterExpansionZoom(ee){let te=this._getOriginZoom(ee)-1;for(;te<=this.options.maxZoom;){const oe=this.getChildren(ee);if(te++,oe.length!==1)break;ee=oe[0].properties.cluster_id}return te}_appendLeaves(ee,te,oe,ge,Me){const ke=this.getChildren(te);for(const Xe of ke){const ze=Xe.properties;if(ze&&ze.cluster?Me+ze.point_count<=ge?Me+=ze.point_count:Me=this._appendLeaves(ee,ze.cluster_id,oe,ge,Me):Me<ge?Me++:ee.push(Xe),ee.length===oe)break}return Me}_createTree(ee){const te=new w.aH(ee.length/this.stride|0,this.options.nodeSize,Float32Array);for(let oe=0;oe<ee.length;oe+=this.stride)te.add(ee[oe],ee[oe+1]);return te.finish(),te.data=ee,te}_addTileFeatures(ee,te,oe,ge,Me,ke){for(const Xe of ee){const ze=Xe*this.stride,st=te[ze+5]>1;let tt,Be,ut;if(st)tt=ca(te,ze,this.clusterProps),Be=te[ze],ut=te[ze+1];else{const ta=this.points[te[ze+3]];tt=ta.properties;const[de,Pe]=ta.geometry.coordinates;Be=Ke(de),ut=$e(Pe)}const Te={type:1,geometry:[[Math.round(this.options.extent*(Be*Me-oe)),Math.round(this.options.extent*(ut*Me-ge))]],tags:tt};let Et;Et=st||this.options.generateId?te[ze+3]:this.points[te[ze+3]].id,Et!==void 0&&(Te.id=Et),ke.features.push(Te)}}_limitZoom(ee){return Math.max(this.options.minZoom,Math.min(Math.floor(+ee),this.options.maxZoom+1))}_cluster(ee,te){const{radius:oe,extent:ge,reduce:Me,minPoints:ke}=this.options,Xe=oe/(ge*Math.pow(2,te)),ze=ee.data,st=[],tt=this.stride;for(let Be=0;Be<ze.length;Be+=tt){if(ze[Be+2]<=te)continue;ze[Be+2]=te;const ut=ze[Be],Te=ze[Be+1],Et=ee.within(ze[Be],ze[Be+1],Xe),ta=ze[Be+5];let de=ta;for(const Pe of Et){const Ne=Pe*tt;ze[Ne+2]>te&&(de+=ze[Ne+5])}if(de>ta&&de>=ke){let Pe,Ne=ut*ta,dt=Te*ta,yt=-1;const It=(Be/tt<<5)+(te+1)+this.points.length;for(const Tt of Et){const Pt=Tt*tt;if(ze[Pt+2]<=te)continue;ze[Pt+2]=te;const Vt=ze[Pt+5];Ne+=ze[Pt]*Vt,dt+=ze[Pt+1]*Vt,ze[Pt+4]=It,Me&&(Pe||(Pe=this._map(ze,Be,!0),yt=this.clusterProps.length,this.clusterProps.push(Pe)),Me(Pe,this._map(ze,Pt)))}ze[Be+4]=It,st.push(Ne/de,dt/de,1/0,It,-1,de),Me&&st.push(yt)}else{for(let Pe=0;Pe<tt;Pe++)st.push(ze[Be+Pe]);if(de>1)for(const Pe of Et){const Ne=Pe*tt;if(!(ze[Ne+2]<=te)){ze[Ne+2]=te;for(let dt=0;dt<tt;dt++)st.push(ze[Ne+dt])}}}}return st}_getOriginId(ee){return ee-this.points.length>>5}_getOriginZoom(ee){return(ee-this.points.length)%32}_map(ee,te,oe){if(ee[te+5]>1){const ke=this.clusterProps[ee[te+6]];return oe?Object.assign({},ke):ke}const ge=this.points[ee[te+3]].properties,Me=this.options.map(ge);return oe&&Me===ge?Object.assign({},Me):Me}}function ea(je,ee,te){return{type:"Feature",id:je[ee+3],properties:ca(je,ee,te),geometry:{type:"Point",coordinates:[(oe=je[ee],360*(oe-.5)),xt(je[ee+1])]}};var oe}function ca(je,ee,te){const oe=je[ee+5],ge=oe>=1e4?`${Math.round(oe/1e3)}k`:oe>=1e3?Math.round(oe/100)/10+"k":oe,Me=je[ee+6],ke=Me===-1?{}:Object.assign({},te[Me]);return Object.assign(ke,{cluster:!0,cluster_id:je[ee+3],point_count:oe,point_count_abbreviated:ge})}function Ke(je){return je/360+.5}function $e(je){const ee=Math.sin(je*Math.PI/180),te=.5-.25*Math.log((1+ee)/(1-ee))/Math.PI;return te<0?0:te>1?1:te}function xt(je){const ee=(180-360*je)*Math.PI/180;return 360*Math.atan(Math.exp(ee))/Math.PI-90}function kt(je,ee,te,oe){let ge=oe;const Me=ee+(te-ee>>1);let ke,Xe=te-ee;const ze=je[ee],st=je[ee+1],tt=je[te],Be=je[te+1];for(let ut=ee+3;ut<te;ut+=3){const Te=_e(je[ut],je[ut+1],ze,st,tt,Be);if(Te>ge)ke=ut,ge=Te;else if(Te===ge){const Et=Math.abs(ut-Me);Et<Xe&&(ke=ut,Xe=Et)}}ge>oe&&(ke-ee>3&&kt(je,ee,ke,oe),je[ke+2]=ge,te-ke>3&&kt(je,ke,te,oe))}function _e(je,ee,te,oe,ge,Me){let ke=ge-te,Xe=Me-oe;if(ke!==0||Xe!==0){const ze=((je-te)*ke+(ee-oe)*Xe)/(ke*ke+Xe*Xe);ze>1?(te=ge,oe=Me):ze>0&&(te+=ke*ze,oe+=Xe*ze)}return ke=je-te,Xe=ee-oe,ke*ke+Xe*Xe}function rt(je,ee,te,oe){const ge={id:je??null,type:ee,geometry:te,tags:oe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(ee==="Point"||ee==="MultiPoint"||ee==="LineString")ht(ge,te);else if(ee==="Polygon")ht(ge,te[0]);else if(ee==="MultiLineString")for(const Me of te)ht(ge,Me);else if(ee==="MultiPolygon")for(const Me of te)ht(ge,Me[0]);return ge}function ht(je,ee){for(let te=0;te<ee.length;te+=3)je.minX=Math.min(je.minX,ee[te]),je.minY=Math.min(je.minY,ee[te+1]),je.maxX=Math.max(je.maxX,ee[te]),je.maxY=Math.max(je.maxY,ee[te+1])}function Mt(je,ee,te,oe){if(!ee.geometry)return;const ge=ee.geometry.coordinates;if(ge&&ge.length===0)return;const Me=ee.geometry.type,ke=Math.pow(te.tolerance/((1<<te.maxZoom)*te.extent),2);let Xe=[],ze=ee.id;if(te.promoteId?ze=ee.properties[te.promoteId]:te.generateId&&(ze=oe||0),Me==="Point")Ft(ge,Xe);else if(Me==="MultiPoint")for(const st of ge)Ft(st,Xe);else if(Me==="LineString")ba(ge,Xe,ke,!1);else if(Me==="MultiLineString"){if(te.lineMetrics){for(const st of ge)Xe=[],ba(st,Xe,ke,!1),je.push(rt(ze,"LineString",Xe,ee.properties));return}aa(ge,Xe,ke,!1)}else if(Me==="Polygon")aa(ge,Xe,ke,!0);else{if(Me!=="MultiPolygon"){if(Me==="GeometryCollection"){for(const st of ee.geometry.geometries)Mt(je,{id:ze,geometry:st,properties:ee.properties},te,oe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const st of ge){const tt=[];aa(st,tt,ke,!0),Xe.push(tt)}}je.push(rt(ze,Me,Xe,ee.properties))}function Ft(je,ee){ee.push(Qi(je[0]),Ja(je[1]),0)}function ba(je,ee,te,oe){let ge,Me,ke=0;for(let ze=0;ze<je.length;ze++){const st=Qi(je[ze][0]),tt=Ja(je[ze][1]);ee.push(st,tt,0),ze>0&&(ke+=oe?(ge*tt-st*Me)/2:Math.sqrt(Math.pow(st-ge,2)+Math.pow(tt-Me,2))),ge=st,Me=tt}const Xe=ee.length-3;ee[2]=1,kt(ee,0,Xe,te),ee[Xe+2]=1,ee.size=Math.abs(ke),ee.start=0,ee.end=ee.size}function aa(je,ee,te,oe){for(let ge=0;ge<je.length;ge++){const Me=[];ba(je[ge],Me,te,oe),ee.push(Me)}}function Qi(je){return je/360+.5}function Ja(je){const ee=Math.sin(je*Math.PI/180),te=.5-.25*Math.log((1+ee)/(1-ee))/Math.PI;return te<0?0:te>1?1:te}function Qa(je,ee,te,oe,ge,Me,ke,Xe){if(oe/=ee,Me>=(te/=ee)&&ke<oe)return je;if(ke<te||Me>=oe)return null;const ze=[];for(const st of je){const tt=st.geometry;let Be=st.type;const ut=ge===0?st.minX:st.minY,Te=ge===0?st.maxX:st.maxY;if(ut>=te&&Te<oe){ze.push(st);continue}if(Te<te||ut>=oe)continue;let Et=[];if(Be==="Point"||Be==="MultiPoint")Ai(tt,Et,te,oe,ge);else if(Be==="LineString")Ii(tt,Et,te,oe,ge,!1,Xe.lineMetrics);else if(Be==="MultiLineString")si(tt,Et,te,oe,ge,!1);else if(Be==="Polygon")si(tt,Et,te,oe,ge,!0);else if(Be==="MultiPolygon")for(const ta of tt){const de=[];si(ta,de,te,oe,ge,!0),de.length&&Et.push(de)}if(Et.length){if(Xe.lineMetrics&&Be==="LineString"){for(const ta of Et)ze.push(rt(st.id,Be,ta,st.tags));continue}Be!=="LineString"&&Be!=="MultiLineString"||(Et.length===1?(Be="LineString",Et=Et[0]):Be="MultiLineString"),Be!=="Point"&&Be!=="MultiPoint"||(Be=Et.length===3?"Point":"MultiPoint"),ze.push(rt(st.id,Be,Et,st.tags))}}return ze.length?ze:null}function Ai(je,ee,te,oe,ge){for(let Me=0;Me<je.length;Me+=3){const ke=je[Me+ge];ke>=te&&ke<=oe&&en(ee,je[Me],je[Me+1],je[Me+2])}}function Ii(je,ee,te,oe,ge,Me,ke){let Xe=mo(je);const ze=ge===0?Qn:cs;let st,tt,Be=je.start;for(let de=0;de<je.length-3;de+=3){const Pe=je[de],Ne=je[de+1],dt=je[de+2],yt=je[de+3],It=je[de+4],Tt=ge===0?Pe:Ne,Pt=ge===0?yt:It;let Vt=!1;ke&&(st=Math.sqrt(Math.pow(Pe-yt,2)+Math.pow(Ne-It,2))),Tt<te?Pt>te&&(tt=ze(Xe,Pe,Ne,yt,It,te),ke&&(Xe.start=Be+st*tt)):Tt>oe?Pt<oe&&(tt=ze(Xe,Pe,Ne,yt,It,oe),ke&&(Xe.start=Be+st*tt)):en(Xe,Pe,Ne,dt),Pt<te&&Tt>=te&&(tt=ze(Xe,Pe,Ne,yt,It,te),Vt=!0),Pt>oe&&Tt<=oe&&(tt=ze(Xe,Pe,Ne,yt,It,oe),Vt=!0),!Me&&Vt&&(ke&&(Xe.end=Be+st*tt),ee.push(Xe),Xe=mo(je)),ke&&(Be+=st)}let ut=je.length-3;const Te=je[ut],Et=je[ut+1],ta=ge===0?Te:Et;ta>=te&&ta<=oe&&en(Xe,Te,Et,je[ut+2]),ut=Xe.length-3,Me&&ut>=3&&(Xe[ut]!==Xe[0]||Xe[ut+1]!==Xe[1])&&en(Xe,Xe[0],Xe[1],Xe[2]),Xe.length&&ee.push(Xe)}function mo(je){const ee=[];return ee.size=je.size,ee.start=je.start,ee.end=je.end,ee}function si(je,ee,te,oe,ge,Me){for(const ke of je)Ii(ke,ee,te,oe,ge,Me,!1)}function en(je,ee,te,oe){je.push(ee,te,oe)}function Qn(je,ee,te,oe,ge,Me){const ke=(Me-ee)/(oe-ee);return en(je,Me,te+(ge-te)*ke,1),ke}function cs(je,ee,te,oe,ge,Me){const ke=(Me-te)/(ge-te);return en(je,ee+(oe-ee)*ke,Me,1),ke}function Wa(je,ee){const te=[];for(let oe=0;oe<je.length;oe++){const ge=je[oe],Me=ge.type;let ke;if(Me==="Point"||Me==="MultiPoint"||Me==="LineString")ke=Un(ge.geometry,ee);else if(Me==="MultiLineString"||Me==="Polygon"){ke=[];for(const Xe of ge.geometry)ke.push(Un(Xe,ee))}else if(Me==="MultiPolygon"){ke=[];for(const Xe of ge.geometry){const ze=[];for(const st of Xe)ze.push(Un(st,ee));ke.push(ze)}}te.push(rt(ge.id,Me,ke,ge.tags))}return te}function Un(je,ee){const te=[];te.size=je.size,je.start!==void 0&&(te.start=je.start,te.end=je.end);for(let oe=0;oe<je.length;oe+=3)te.push(je[oe]+ee,je[oe+1],je[oe+2]);return te}function Tn(je,ee){if(je.transformed)return je;const te=1<<je.z,oe=je.x,ge=je.y;for(const Me of je.features){const ke=Me.geometry,Xe=Me.type;if(Me.geometry=[],Xe===1)for(let ze=0;ze<ke.length;ze+=2)Me.geometry.push(go(ke[ze],ke[ze+1],ee,te,oe,ge));else for(let ze=0;ze<ke.length;ze++){const st=[];for(let tt=0;tt<ke[ze].length;tt+=2)st.push(go(ke[ze][tt],ke[ze][tt+1],ee,te,oe,ge));Me.geometry.push(st)}}return je.transformed=!0,je}function go(je,ee,te,oe,ge,Me){return[Math.round(te*(je*oe-ge)),Math.round(te*(ee*oe-Me))]}function hr(je,ee,te,oe,ge){const Me=ee===ge.maxZoom?0:ge.tolerance/((1<<ee)*ge.extent),ke={features:[],numPoints:0,numSimplified:0,numFeatures:je.length,source:null,x:te,y:oe,z:ee,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Xe of je)pr(ke,Xe,Me,ge);return ke}function pr(je,ee,te,oe){const ge=ee.geometry,Me=ee.type,ke=[];if(je.minX=Math.min(je.minX,ee.minX),je.minY=Math.min(je.minY,ee.minY),je.maxX=Math.max(je.maxX,ee.maxX),je.maxY=Math.max(je.maxY,ee.maxY),Me==="Point"||Me==="MultiPoint")for(let Xe=0;Xe<ge.length;Xe+=3)ke.push(ge[Xe],ge[Xe+1]),je.numPoints++,je.numSimplified++;else if(Me==="LineString")er(ke,ge,je,te,!1,!1);else if(Me==="MultiLineString"||Me==="Polygon")for(let Xe=0;Xe<ge.length;Xe++)er(ke,ge[Xe],je,te,Me==="Polygon",Xe===0);else if(Me==="MultiPolygon")for(let Xe=0;Xe<ge.length;Xe++){const ze=ge[Xe];for(let st=0;st<ze.length;st++)er(ke,ze[st],je,te,!0,st===0)}if(ke.length){let Xe=ee.tags||null;if(Me==="LineString"&&oe.lineMetrics){Xe={};for(const st in ee.tags)Xe[st]=ee.tags[st];Xe.mapbox_clip_start=ge.start/ge.size,Xe.mapbox_clip_end=ge.end/ge.size}const ze={geometry:ke,type:Me==="Polygon"||Me==="MultiPolygon"?3:Me==="LineString"||Me==="MultiLineString"?2:1,tags:Xe};ee.id!==null&&(ze.id=ee.id),je.features.push(ze)}}function er(je,ee,te,oe,ge,Me){const ke=oe*oe;if(oe>0&&ee.size<(ge?ke:oe))return void(te.numPoints+=ee.length/3);const Xe=[];for(let ze=0;ze<ee.length;ze+=3)(oe===0||ee[ze+2]>ke)&&(te.numSimplified++,Xe.push(ee[ze],ee[ze+1])),te.numPoints++;ge&&function(ze,st){let tt=0;for(let Be=0,ut=ze.length,Te=ut-2;Be<ut;Te=Be,Be+=2)tt+=(ze[Be]-ze[Te])*(ze[Be+1]+ze[Te+1]);if(tt>0===st)for(let Be=0,ut=ze.length;Be<ut/2;Be+=2){const Te=ze[Be],Et=ze[Be+1];ze[Be]=ze[ut-2-Be],ze[Be+1]=ze[ut-1-Be],ze[ut-2-Be]=Te,ze[ut-1-Be]=Et}}(Xe,Me),je.push(Xe)}const Mr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class Hr{constructor(ee,te){const oe=(te=this.options=function(Me,ke){for(const Xe in ke)Me[Xe]=ke[Xe];return Me}(Object.create(Mr),te)).debug;if(oe&&console.time("preprocess data"),te.maxZoom<0||te.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(te.promoteId&&te.generateId)throw new Error("promoteId and generateId cannot be used together.");let ge=function(Me,ke){const Xe=[];if(Me.type==="FeatureCollection")for(let ze=0;ze<Me.features.length;ze++)Mt(Xe,Me.features[ze],ke,ze);else Mt(Xe,Me.type==="Feature"?Me:{geometry:Me},ke);return Xe}(ee,te);this.tiles={},this.tileCoords=[],oe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",te.indexMaxZoom,te.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ge=function(Me,ke){const Xe=ke.buffer/ke.extent;let ze=Me;const st=Qa(Me,1,-1-Xe,Xe,0,-1,2,ke),tt=Qa(Me,1,1-Xe,2+Xe,0,-1,2,ke);return(st||tt)&&(ze=Qa(Me,1,-Xe,1+Xe,0,-1,2,ke)||[],st&&(ze=Wa(st,1).concat(ze)),tt&&(ze=ze.concat(Wa(tt,-1)))),ze}(ge,te),ge.length&&this.splitTile(ge,0,0,0),oe&&(ge.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(ee,te,oe,ge,Me,ke,Xe){const ze=[ee,te,oe,ge],st=this.options,tt=st.debug;for(;ze.length;){ge=ze.pop(),oe=ze.pop(),te=ze.pop(),ee=ze.pop();const Be=1<<te,ut=ji(te,oe,ge);let Te=this.tiles[ut];if(!Te&&(tt>1&&console.time("creation"),Te=this.tiles[ut]=hr(ee,te,oe,ge,st),this.tileCoords.push({z:te,x:oe,y:ge}),tt)){tt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",te,oe,ge,Te.numFeatures,Te.numPoints,Te.numSimplified),console.timeEnd("creation"));const Vt=`z${te}`;this.stats[Vt]=(this.stats[Vt]||0)+1,this.total++}if(Te.source=ee,Me==null){if(te===st.indexMaxZoom||Te.numPoints<=st.indexMaxPoints)continue}else{if(te===st.maxZoom||te===Me)continue;if(Me!=null){const Vt=Me-te;if(oe!==ke>>Vt||ge!==Xe>>Vt)continue}}if(Te.source=null,ee.length===0)continue;tt>1&&console.time("clipping");const Et=.5*st.buffer/st.extent,ta=.5-Et,de=.5+Et,Pe=1+Et;let Ne=null,dt=null,yt=null,It=null,Tt=Qa(ee,Be,oe-Et,oe+de,0,Te.minX,Te.maxX,st),Pt=Qa(ee,Be,oe+ta,oe+Pe,0,Te.minX,Te.maxX,st);ee=null,Tt&&(Ne=Qa(Tt,Be,ge-Et,ge+de,1,Te.minY,Te.maxY,st),dt=Qa(Tt,Be,ge+ta,ge+Pe,1,Te.minY,Te.maxY,st),Tt=null),Pt&&(yt=Qa(Pt,Be,ge-Et,ge+de,1,Te.minY,Te.maxY,st),It=Qa(Pt,Be,ge+ta,ge+Pe,1,Te.minY,Te.maxY,st),Pt=null),tt>1&&console.timeEnd("clipping"),ze.push(Ne||[],te+1,2*oe,2*ge),ze.push(dt||[],te+1,2*oe,2*ge+1),ze.push(yt||[],te+1,2*oe+1,2*ge),ze.push(It||[],te+1,2*oe+1,2*ge+1)}}getTile(ee,te,oe){ee=+ee,te=+te,oe=+oe;const ge=this.options,{extent:Me,debug:ke}=ge;if(ee<0||ee>24)return null;const Xe=1<<ee,ze=ji(ee,te=te+Xe&Xe-1,oe);if(this.tiles[ze])return Tn(this.tiles[ze],Me);ke>1&&console.log("drilling down to z%d-%d-%d",ee,te,oe);let st,tt=ee,Be=te,ut=oe;for(;!st&&tt>0;)tt--,Be>>=1,ut>>=1,st=this.tiles[ji(tt,Be,ut)];return st&&st.source?(ke>1&&(console.log("found parent tile z%d-%d-%d",tt,Be,ut),console.time("drilling down")),this.splitTile(st.source,tt,Be,ut,ee,te,oe),ke>1&&console.timeEnd("drilling down"),this.tiles[ze]?Tn(this.tiles[ze],Me):null):null}}function ji(je,ee,te){return 32*((1<<je)*te+ee)+je}function za(je,ee){return ee?je.properties[ee]:je.id}function tn(je,ee){if(je==null)return!0;if(je.type==="Feature")return za(je,ee)!=null;if(je.type==="FeatureCollection"){const te=new Set;for(const oe of je.features){const ge=za(oe,ee);if(ge==null||te.has(ge))return!1;te.add(ge)}return!0}return!1}function Bi(je,ee){const te=new Map;if(je!=null)if(je.type==="Feature")te.set(za(je,ee),je);else for(const oe of je.features)te.set(za(oe,ee),oe);return te}class kl extends G{constructor(){super(...arguments),this._dataUpdateable=new Map}loadVectorTile(ee,te){return w._(this,void 0,void 0,function*(){const oe=ee.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ge=this._geoJSONIndex.getTile(oe.z,oe.x,oe.y);if(!ge)return null;const Me=new Oe(ge.features);let ke=zt(Me);return ke.byteOffset===0&&ke.byteLength===ke.buffer.byteLength||(ke=new Uint8Array(ke)),{vectorTile:Me,rawData:ke.buffer}})}loadData(ee){return w._(this,void 0,void 0,function*(){var te;(te=this._pendingRequest)===null||te===void 0||te.abort();const oe=!!(ee&&ee.request&&ee.request.collectResourceTiming)&&new w.cM(ee.request);this._pendingRequest=new AbortController;try{this._pendingData=this.loadAndProcessGeoJSON(ee,this._pendingRequest),this._geoJSONIndex=ee.cluster?new $t(function({superclusterOptions:ke,clusterProperties:Xe}){if(!Xe||!ke)return ke;const ze={},st={},tt={accumulated:null,zoom:0},Be={properties:null},ut=Object.keys(Xe);for(const Te of ut){const[Et,ta]=Xe[Te],de=w.cT(ta),Pe=w.cT(typeof Et=="string"?[Et,["accumulated"],["get",Te]]:Et);ze[Te]=de.value,st[Te]=Pe.value}return ke.map=Te=>{Be.properties=Te;const Et={};for(const ta of ut)Et[ta]=ze[ta].evaluate(tt,Be);return Et},ke.reduce=(Te,Et)=>{Be.properties=Et;for(const ta of ut)tt.accumulated=Te[ta],Te[ta]=st[ta].evaluate(tt,Be)},ke}(ee)).load((yield this._pendingData).features):(ge=yield this._pendingData,new Hr(ge,ee.geojsonVtOptions)),this.loaded={};const Me={};if(oe){const ke=oe.finish();ke&&(Me.resourceTiming={},Me.resourceTiming[ee.source]=JSON.parse(JSON.stringify(ke)))}return Me}catch(Me){if(delete this._pendingRequest,w.cx(Me))return{abandoned:!0};throw Me}var ge})}getData(){return w._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(ee){const te=this.loaded;return te&&te[ee.uid]?super.reloadTile(ee):this.loadTile(ee)}loadAndProcessGeoJSON(ee,te){return w._(this,void 0,void 0,function*(){let oe=yield this.loadGeoJSON(ee,te);if(delete this._pendingRequest,typeof oe!="object")throw new Error(`Input data given to '${ee.source}' is not a valid GeoJSON object.`);if(Ve(oe,!0),ee.filter){const ge=w.cT(ee.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(ge.result==="error")throw new Error(ge.value.map(ke=>`${ke.key}: ${ke.message}`).join(", "));oe={type:"FeatureCollection",features:oe.features.filter(ke=>ge.value.evaluate({zoom:0},ke))}}return oe})}loadGeoJSON(ee,te){return w._(this,void 0,void 0,function*(){const{promoteId:oe}=ee;if(ee.request){const ge=yield w.j(ee.request,te);return this._dataUpdateable=tn(ge.data,oe)?Bi(ge.data,oe):void 0,ge.data}if(typeof ee.data=="string")try{const ge=JSON.parse(ee.data);return this._dataUpdateable=tn(ge,oe)?Bi(ge,oe):void 0,ge}catch{throw new Error(`Input data given to '${ee.source}' is not a valid GeoJSON object.`)}if(!ee.dataDiff)throw new Error(`Input data given to '${ee.source}' is not a valid GeoJSON object.`);if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${ee.source}`);return function(ge,Me,ke){var Xe,ze,st,tt;if(Me.removeAll&&ge.clear(),Me.remove)for(const Be of Me.remove)ge.delete(Be);if(Me.add)for(const Be of Me.add){const ut=za(Be,ke);ut!=null&&ge.set(ut,Be)}if(Me.update)for(const Be of Me.update){let ut=ge.get(Be.id);if(ut==null)continue;const Te=!Be.removeAllProperties&&(((Xe=Be.removeProperties)===null||Xe===void 0?void 0:Xe.length)>0||((ze=Be.addOrUpdateProperties)===null||ze===void 0?void 0:ze.length)>0);if((Be.newGeometry||Be.removeAllProperties||Te)&&(ut=Object.assign({},ut),ge.set(Be.id,ut),Te&&(ut.properties=Object.assign({},ut.properties))),Be.newGeometry&&(ut.geometry=Be.newGeometry),Be.removeAllProperties)ut.properties={};else if(((st=Be.removeProperties)===null||st===void 0?void 0:st.length)>0)for(const Et of Be.removeProperties)Object.prototype.hasOwnProperty.call(ut.properties,Et)&&delete ut.properties[Et];if(((tt=Be.addOrUpdateProperties)===null||tt===void 0?void 0:tt.length)>0)for(const{key:Et,value:ta}of Be.addOrUpdateProperties)ut.properties[Et]=ta}}(this._dataUpdateable,ee.dataDiff,oe),{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())}})}removeSource(ee){return w._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(ee){return this._geoJSONIndex.getClusterExpansionZoom(ee.clusterId)}getClusterChildren(ee){return this._geoJSONIndex.getChildren(ee.clusterId)}getClusterLeaves(ee){return this._geoJSONIndex.getLeaves(ee.clusterId,ee.limit,ee.offset)}}class vn{constructor(ee){this.self=ee,this.actor=new w.J(ee),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.self.registerWorkerSource=(te,oe)=>{if(this.externalWorkerSourceTypes[te])throw new Error(`Worker source with name "${te}" already registered.`);this.externalWorkerSourceTypes[te]=oe},this.self.addProtocol=w.cz,this.self.removeProtocol=w.cA,this.self.registerRTLTextPlugin=te=>{w.cU.setMethods(te)},this.actor.registerMessageHandler("LDT",(te,oe)=>this._getDEMWorkerSource(te,oe.source).loadTile(oe)),this.actor.registerMessageHandler("RDT",(te,oe)=>w._(this,void 0,void 0,function*(){this._getDEMWorkerSource(te,oe.source).removeTile(oe)})),this.actor.registerMessageHandler("GCEZ",(te,oe)=>w._(this,void 0,void 0,function*(){return this._getWorkerSource(te,oe.type,oe.source).getClusterExpansionZoom(oe)})),this.actor.registerMessageHandler("GCC",(te,oe)=>w._(this,void 0,void 0,function*(){return this._getWorkerSource(te,oe.type,oe.source).getClusterChildren(oe)})),this.actor.registerMessageHandler("GCL",(te,oe)=>w._(this,void 0,void 0,function*(){return this._getWorkerSource(te,oe.type,oe.source).getClusterLeaves(oe)})),this.actor.registerMessageHandler("LD",(te,oe)=>this._getWorkerSource(te,oe.type,oe.source).loadData(oe)),this.actor.registerMessageHandler("GD",(te,oe)=>this._getWorkerSource(te,oe.type,oe.source).getData()),this.actor.registerMessageHandler("LT",(te,oe)=>this._getWorkerSource(te,oe.type,oe.source).loadTile(oe)),this.actor.registerMessageHandler("RT",(te,oe)=>this._getWorkerSource(te,oe.type,oe.source).reloadTile(oe)),this.actor.registerMessageHandler("AT",(te,oe)=>this._getWorkerSource(te,oe.type,oe.source).abortTile(oe)),this.actor.registerMessageHandler("RMT",(te,oe)=>this._getWorkerSource(te,oe.type,oe.source).removeTile(oe)),this.actor.registerMessageHandler("RS",(te,oe)=>w._(this,void 0,void 0,function*(){if(!this.workerSources[te]||!this.workerSources[te][oe.type]||!this.workerSources[te][oe.type][oe.source])return;const ge=this.workerSources[te][oe.type][oe.source];delete this.workerSources[te][oe.type][oe.source],ge.removeSource!==void 0&&ge.removeSource(oe)})),this.actor.registerMessageHandler("RM",te=>w._(this,void 0,void 0,function*(){delete this.layerIndexes[te],delete this.availableImages[te],delete this.workerSources[te],delete this.demWorkerSources[te]})),this.actor.registerMessageHandler("SR",(te,oe)=>w._(this,void 0,void 0,function*(){this.referrer=oe})),this.actor.registerMessageHandler("SRPS",(te,oe)=>this._syncRTLPluginState(te,oe)),this.actor.registerMessageHandler("IS",(te,oe)=>w._(this,void 0,void 0,function*(){this.self.importScripts(oe)})),this.actor.registerMessageHandler("SI",(te,oe)=>this._setImages(te,oe)),this.actor.registerMessageHandler("UL",(te,oe)=>w._(this,void 0,void 0,function*(){this._getLayerIndex(te).update(oe.layers,oe.removedIds)})),this.actor.registerMessageHandler("SL",(te,oe)=>w._(this,void 0,void 0,function*(){this._getLayerIndex(te).replace(oe)}))}_setImages(ee,te){return w._(this,void 0,void 0,function*(){this.availableImages[ee]=te;for(const oe in this.workerSources[ee]){const ge=this.workerSources[ee][oe];for(const Me in ge)ge[Me].availableImages=te}})}_syncRTLPluginState(ee,te){return w._(this,void 0,void 0,function*(){return yield w.cU.syncState(te,this.self.importScripts)})}_getAvailableImages(ee){let te=this.availableImages[ee];return te||(te=[]),te}_getLayerIndex(ee){let te=this.layerIndexes[ee];return te||(te=this.layerIndexes[ee]=new c),te}_getWorkerSource(ee,te,oe){if(this.workerSources[ee]||(this.workerSources[ee]={}),this.workerSources[ee][te]||(this.workerSources[ee][te]={}),!this.workerSources[ee][te][oe]){const ge={sendAsync:(Me,ke)=>(Me.targetMapId=ee,this.actor.sendAsync(Me,ke))};switch(te){case"vector":this.workerSources[ee][te][oe]=new G(ge,this._getLayerIndex(ee),this._getAvailableImages(ee));break;case"geojson":this.workerSources[ee][te][oe]=new kl(ge,this._getLayerIndex(ee),this._getAvailableImages(ee));break;default:this.workerSources[ee][te][oe]=new this.externalWorkerSourceTypes[te](ge,this._getLayerIndex(ee),this._getAvailableImages(ee))}}return this.workerSources[ee][te][oe]}_getDEMWorkerSource(ee,te){return this.demWorkerSources[ee]||(this.demWorkerSources[ee]={}),this.demWorkerSources[ee][te]||(this.demWorkerSources[ee][te]=new Z),this.demWorkerSources[ee][te]}}return w.i(self)&&(self.worker=new vn(self)),vn}),C("index",["exports","./shared"],function(w,c){var R="5.6.1";function k(){var y=new c.A(4);return c.A!=Float32Array&&(y[1]=0,y[2]=0),y[0]=1,y[3]=1,y}let q,G;const Z={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(y,e,i){const d=requestAnimationFrame(b=>{f(),e(b)}),{unsubscribe:f}=c.s(y.signal,"abort",()=>{f(),cancelAnimationFrame(d),i(c.c())},!1)},frameAsync(y){return new Promise((e,i)=>{this.frame(y,e,i)})},getImageData(y,e=0){return this.getImageCanvasContext(y).getImageData(-e,-e,y.width+2*e,y.height+2*e)},getImageCanvasContext(y){const e=window.document.createElement("canvas"),i=e.getContext("2d",{willReadFrequently:!0});if(!i)throw new Error("failed to create canvas 2d context");return e.width=y.width,e.height=y.height,i.drawImage(y,0,0,y.width,y.height),i},resolveURL:y=>(q||(q=document.createElement("a")),q.href=y,q.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(G==null&&(G=matchMedia("(prefers-reduced-motion: reduce)")),G.matches)}};class H{static testProp(e){if(!H.docStyle)return e[0];for(let i=0;i<e.length;i++)if(e[i]in H.docStyle)return e[i];return e[0]}static create(e,i,d){const f=window.document.createElement(e);return i!==void 0&&(f.className=i),d&&d.appendChild(f),f}static createNS(e,i){return window.document.createElementNS(e,i)}static disableDrag(){H.docStyle&&H.selectProp&&(H.userSelect=H.docStyle[H.selectProp],H.docStyle[H.selectProp]="none")}static enableDrag(){H.docStyle&&H.selectProp&&(H.docStyle[H.selectProp]=H.userSelect)}static setTransform(e,i){e.style[H.transformProp]=i}static addEventListener(e,i,d,f={}){e.addEventListener(i,d,"passive"in f?f:f.capture)}static removeEventListener(e,i,d,f={}){e.removeEventListener(i,d,"passive"in f?f:f.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",H.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",H.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",H.suppressClickInternal,!0)},0)}static getScale(e){const i=e.getBoundingClientRect();return{x:i.width/e.offsetWidth||1,y:i.height/e.offsetHeight||1,boundingClientRect:i}}static getPoint(e,i,d){const f=i.boundingClientRect;return new c.P((d.clientX-f.left)/i.x-e.clientLeft,(d.clientY-f.top)/i.y-e.clientTop)}static mousePos(e,i){const d=H.getScale(e);return H.getPoint(e,d,i)}static touchPos(e,i){const d=[],f=H.getScale(e);for(let b=0;b<i.length;b++)d.push(H.getPoint(e,f,i[b]));return d}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}static sanitize(e){const i=new DOMParser().parseFromString(e,"text/html").body||document.createElement("body"),d=i.querySelectorAll("script");for(const f of d)f.remove();return H.clean(i),i.innerHTML}static isPossiblyDangerous(e,i){const d=i.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e)||!d.includes("javascript:")&&!d.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){const i=e.children;for(const d of i)H.removeAttributes(d),H.clean(d)}static removeAttributes(e){for(const{name:i,value:d}of e.attributes)H.isPossiblyDangerous(i,d)&&e.removeAttribute(i)}}H.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,H.selectProp=H.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),H.transformProp=H.testProp(["transform","WebkitTransform"]);const ae={supported:!1,testSupport:function(y){!we&&Ve&&(Le?Oe(y):Ie=y)}};let Ie,Ve,we=!1,Le=!1;function Oe(y){const e=y.createTexture();y.bindTexture(y.TEXTURE_2D,e);try{if(y.texImage2D(y.TEXTURE_2D,0,y.RGBA,y.RGBA,y.UNSIGNED_BYTE,Ve),y.isContextLost())return;ae.supported=!0}catch{}y.deleteTexture(e),we=!0}var ot;typeof document<"u"&&(Ve=document.createElement("img"),Ve.onload=()=>{Ie&&Oe(Ie),Ie=null,Le=!0},Ve.onerror=()=>{we=!0,Ie=null},Ve.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(y){let e,i,d,f;y.resetRequestQueue=()=>{e=[],i=0,d=0,f={}},y.addThrottleControl=I=>{const N=d++;return f[N]=I,N},y.removeThrottleControl=I=>{delete f[I],S()},y.getImage=(I,N,K=!0)=>new Promise((F,B)=>{ae.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),c.e(I,{type:"image"}),e.push({abortController:N,requestParameters:I,supportImageRefresh:K,state:"queued",onError:U=>{B(U)},onSuccess:U=>{F(U)}}),S()});const b=I=>c._(this,void 0,void 0,function*(){I.state="running";const{requestParameters:N,supportImageRefresh:K,onError:F,onSuccess:B,abortController:U}=I,Y=K===!1&&!c.i(self)&&!c.g(N.url)&&(!N.headers||Object.keys(N.headers).reduce((ce,he)=>ce&&he==="accept",!0));i++;const le=Y?M(N,U):c.m(N,U);try{const ce=yield le;delete I.abortController,I.state="completed",ce.data instanceof HTMLImageElement||c.b(ce.data)?B(ce):ce.data&&B({data:yield(se=ce.data,typeof createImageBitmap=="function"?c.f(se):c.h(se)),cacheControl:ce.cacheControl,expires:ce.expires})}catch(ce){delete I.abortController,F(ce)}finally{i--,S()}var se}),S=()=>{const I=(()=>{for(const N of Object.keys(f))if(f[N]())return!0;return!1})()?c.a.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:c.a.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=i;N<I&&e.length>0;N++){const K=e.shift();K.abortController.signal.aborted?N--:b(K)}},M=(I,N)=>new Promise((K,F)=>{const B=new Image,U=I.url,Y=I.credentials;Y&&Y==="include"?B.crossOrigin="use-credentials":(Y&&Y==="same-origin"||!c.d(U))&&(B.crossOrigin="anonymous"),N.signal.addEventListener("abort",()=>{B.src="",F(c.c())}),B.fetchPriority="high",B.onload=()=>{B.onerror=B.onload=null,K({data:B})},B.onerror=()=>{B.onerror=B.onload=null,N.signal.aborted||F(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},B.src=U})}(ot||(ot={})),ot.resetRequestQueue();class He{constructor(e){this._transformRequestFn=e}transformRequest(e,i){return this._transformRequestFn&&this._transformRequestFn(e,i)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function Se(y){const e=[];if(typeof y=="string")e.push({id:"default",url:y});else if(y&&y.length>0){const i=[];for(const{id:d,url:f}of y){const b=`${d}${f}`;i.indexOf(b)===-1&&(i.push(b),e.push({id:d,url:f}))}}return e}function _t(y,e,i){try{const d=new URL(y);return d.pathname+=`${e}${i}`,d.toString()}catch{throw new Error(`Invalid sprite URL "${y}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function Dt(y){const{userImage:e}=y;return!!(e&&e.render&&e.render())&&(y.data.replace(new Uint8Array(e.data.buffer)),!0)}class zt extends c.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new c.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:i,promiseResolve:d}of this.requestors)d(this._getImagesForIds(i));this.requestors=[]}}getImage(e){const i=this.images[e];if(i&&!i.data&&i.spriteData){const d=i.spriteData;i.data=new c.R({width:d.width,height:d.height},d.context.getImageData(d.x,d.y,d.width,d.height).data),i.spriteData=null}return i}addImage(e,i){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,i)&&(this.images[e]=i)}_validate(e,i){let d=!0;const f=i.data||i.spriteData;return this._validateStretch(i.stretchX,f&&f.width)||(this.fire(new c.k(new Error(`Image "${e}" has invalid "stretchX" value`))),d=!1),this._validateStretch(i.stretchY,f&&f.height)||(this.fire(new c.k(new Error(`Image "${e}" has invalid "stretchY" value`))),d=!1),this._validateContent(i.content,i)||(this.fire(new c.k(new Error(`Image "${e}" has invalid "content" value`))),d=!1),d}_validateStretch(e,i){if(!e)return!0;let d=0;for(const f of e){if(f[0]<d||f[1]<f[0]||i<f[1])return!1;d=f[1]}return!0}_validateContent(e,i){if(!e)return!0;if(e.length!==4)return!1;const d=i.spriteData,f=d&&d.width||i.data.width,b=d&&d.height||i.data.height;return!(e[0]<0||f<e[0]||e[1]<0||b<e[1]||e[2]<0||f<e[2]||e[3]<0||b<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,i,d=!0){const f=this.getImage(e);if(d&&(f.data.width!==i.data.width||f.data.height!==i.data.height))throw new Error(`size mismatch between old image (${f.data.width}x${f.data.height}) and new image (${i.data.width}x${i.data.height}).`);i.version=f.version+1,this.images[e]=i,this.updatedImages[e]=!0}removeImage(e){const i=this.images[e];delete this.images[e],delete this.patterns[e],i.userImage&&i.userImage.onRemove&&i.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise((i,d)=>{let f=!0;if(!this.isLoaded())for(const b of e)this.images[b]||(f=!1);this.isLoaded()||f?i(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:i})})}_getImagesForIds(e){const i={};for(const d of e){let f=this.getImage(d);f||(this.fire(new c.l("styleimagemissing",{id:d})),f=this.getImage(d)),f?i[d]={data:f.data.clone(),pixelRatio:f.pixelRatio,sdf:f.sdf,version:f.version,stretchX:f.stretchX,stretchY:f.stretchY,content:f.content,textFitWidth:f.textFitWidth,textFitHeight:f.textFitHeight,hasRenderCallback:!!(f.userImage&&f.userImage.render)}:c.w(`Image "${d}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return i}getPixelSize(){const{width:e,height:i}=this.atlasImage;return{width:e,height:i}}getPattern(e){const i=this.patterns[e],d=this.getImage(e);if(!d)return null;if(i&&i.position.version===d.version)return i.position;if(i)i.position.version=d.version;else{const f={w:d.data.width+2,h:d.data.height+2,x:0,y:0},b=new c.I(f,d);this.patterns[e]={bin:f,position:b}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const i=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new c.T(e,this.atlasImage,i.RGBA),this.atlasTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const b in this.patterns)e.push(this.patterns[b].bin);const{w:i,h:d}=c.p(e),f=this.atlasImage;f.resize({width:i||1,height:d||1});for(const b in this.patterns){const{bin:S}=this.patterns[b],M=S.x+1,I=S.y+1,N=this.getImage(b).data,K=N.width,F=N.height;c.R.copy(N,f,{x:0,y:0},{x:M,y:I},{width:K,height:F}),c.R.copy(N,f,{x:0,y:F-1},{x:M,y:I-1},{width:K,height:1}),c.R.copy(N,f,{x:0,y:0},{x:M,y:I+F},{width:K,height:1}),c.R.copy(N,f,{x:K-1,y:0},{x:M-1,y:I},{width:1,height:F}),c.R.copy(N,f,{x:0,y:0},{x:M+K,y:I},{width:1,height:F})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const i of e){if(this.callbackDispatchedThisFrame[i])continue;this.callbackDispatchedThisFrame[i]=!0;const d=this.getImage(i);d||c.w(`Image with ID: "${i}" was not found`),Dt(d)&&this.updateImage(i,d)}}}const Ht=1e20;function ga(y,e,i,d,f,b,S,M,I){for(let N=e;N<e+d;N++)sa(y,i*b+N,b,f,S,M,I);for(let N=i;N<i+f;N++)sa(y,N*b+e,1,d,S,M,I)}function sa(y,e,i,d,f,b,S){b[0]=0,S[0]=-Ht,S[1]=Ht,f[0]=y[e];for(let M=1,I=0,N=0;M<d;M++){f[M]=y[e+M*i];const K=M*M;do{const F=b[I];N=(f[M]-f[F]+K-F*F)/(M-F)/2}while(N<=S[I]&&--I>-1);I++,b[I]=M,S[I]=N,S[I+1]=Ht}for(let M=0,I=0;M<d;M++){for(;S[I+1]<M;)I++;const N=b[I],K=M-N;y[e+M*i]=f[N]+K*K}}class $t{constructor(e,i){this.requestManager=e,this.localIdeographFontFamily=i,this.entries={}}setURL(e){this.url=e}getGlyphs(e){return c._(this,void 0,void 0,function*(){const i=[];for(const b in e)for(const S of e[b])i.push(this._getAndCacheGlyphsPromise(b,S));const d=yield Promise.all(i),f={};for(const{stack:b,id:S,glyph:M}of d)f[b]||(f[b]={}),f[b][S]=M&&{id:M.id,bitmap:M.bitmap.clone(),metrics:M.metrics};return f})}_getAndCacheGlyphsPromise(e,i){return c._(this,void 0,void 0,function*(){let d=this.entries[e];d||(d=this.entries[e]={glyphs:{},requests:{},ranges:{}});let f=d.glyphs[i];if(f!==void 0)return{stack:e,id:i,glyph:f};if(f=this._tinySDF(d,e,i),f)return d.glyphs[i]=f,{stack:e,id:i,glyph:f};const b=Math.floor(i/256);if(256*b>65535)throw new Error("glyphs > 65535 not supported");if(d.ranges[b])return{stack:e,id:i,glyph:f};if(!this.url)throw new Error("glyphsUrl is not set");if(!d.requests[b]){const M=$t.loadGlyphRange(e,b,this.url,this.requestManager);d.requests[b]=M}const S=yield d.requests[b];for(const M in S)this._doesCharSupportLocalGlyph(+M)||(d.glyphs[+M]=S[+M]);return d.ranges[b]=!0,{stack:e,id:i,glyph:S[i]||null}})}_doesCharSupportLocalGlyph(e){return!!this.localIdeographFontFamily&&(new RegExp("\\p{Ideo}|\\p{sc=Hang}|\\p{sc=Hira}|\\p{sc=Kana}","u").test(String.fromCodePoint(e))||c.u["CJK Unified Ideographs"](e)||c.u["Hangul Syllables"](e)||c.u.Hiragana(e)||c.u.Katakana(e)||c.u["CJK Symbols and Punctuation"](e)||c.u["Halfwidth and Fullwidth Forms"](e))}_tinySDF(e,i,d){const f=this.localIdeographFontFamily;if(!f||!this._doesCharSupportLocalGlyph(d))return;let b=e.tinySDF;if(!b){let M="400";/bold/i.test(i)?M="900":/medium/i.test(i)?M="500":/light/i.test(i)&&(M="200"),b=e.tinySDF=new $t.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:f,fontWeight:M})}const S=b.draw(String.fromCharCode(d));return{id:d,bitmap:new c.q({width:S.width||60,height:S.height||60},S.data),metrics:{width:S.glyphWidth/2||24,height:S.glyphHeight/2||24,left:S.glyphLeft/2+.5||0,top:S.glyphTop/2-27.5||-8,advance:S.glyphAdvance/2||24,isDoubleResolution:!0}}}}$t.loadGlyphRange=function(y,e,i,d){return c._(this,void 0,void 0,function*(){const f=256*e,b=f+255,S=d.transformRequest(i.replace("{fontstack}",y).replace("{range}",`${f}-${b}`),"Glyphs"),M=yield c.n(S,new AbortController);if(!M||!M.data)throw new Error(`Could not load glyph range. range: ${e}, ${f}-${b}`);const I={};for(const N of c.o(M.data))I[N.id]=N;return I})},$t.TinySDF=class{constructor({fontSize:y=24,buffer:e=3,radius:i=8,cutoff:d=.25,fontFamily:f="sans-serif",fontWeight:b="normal",fontStyle:S="normal"}={}){this.buffer=e,this.cutoff=d,this.radius=i;const M=this.size=y+4*e,I=this._createCanvas(M),N=this.ctx=I.getContext("2d",{willReadFrequently:!0});N.font=`${S} ${b} ${y}px ${f}`,N.textBaseline="alphabetic",N.textAlign="left",N.fillStyle="black",this.gridOuter=new Float64Array(M*M),this.gridInner=new Float64Array(M*M),this.f=new Float64Array(M),this.z=new Float64Array(M+1),this.v=new Uint16Array(M)}_createCanvas(y){const e=document.createElement("canvas");return e.width=e.height=y,e}draw(y){const{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:d,actualBoundingBoxLeft:f,actualBoundingBoxRight:b}=this.ctx.measureText(y),S=Math.ceil(i),M=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(b-f))),I=Math.min(this.size-this.buffer,S+Math.ceil(d)),N=M+2*this.buffer,K=I+2*this.buffer,F=Math.max(N*K,0),B=new Uint8ClampedArray(F),U={data:B,width:N,height:K,glyphWidth:M,glyphHeight:I,glyphTop:S,glyphLeft:0,glyphAdvance:e};if(M===0||I===0)return U;const{ctx:Y,buffer:le,gridInner:se,gridOuter:ce}=this;Y.clearRect(le,le,M,I),Y.fillText(y,le,le+S);const he=Y.getImageData(le,le,M,I);ce.fill(Ht,0,F),se.fill(0,0,F);for(let ye=0;ye<I;ye++)for(let pe=0;pe<M;pe++){const xe=he.data[4*(ye*M+pe)+3]/255;if(xe===0)continue;const De=(ye+le)*N+pe+le;if(xe===1)ce[De]=0,se[De]=Ht;else{const me=.5-xe;ce[De]=me>0?me*me:0,se[De]=me<0?me*me:0}}ga(ce,0,0,N,K,N,this.f,this.v,this.z),ga(se,le,le,M,I,N,this.f,this.v,this.z);for(let ye=0;ye<F;ye++){const pe=Math.sqrt(ce[ye])-Math.sqrt(se[ye]);B[ye]=Math.round(255-255*(pe/this.radius+this.cutoff))}return U}};class ea{constructor(){this.specification=c.v.light.position}possiblyEvaluate(e,i){return c.B(e.expression.evaluate(i))}interpolate(e,i,d){return{x:c.C.number(e.x,i.x,d),y:c.C.number(e.y,i.y,d),z:c.C.number(e.z,i.z,d)}}}let ca;class Ke extends c.E{constructor(e){super(),ca=ca||new c.r({anchor:new c.D(c.v.light.anchor),position:new ea,color:new c.D(c.v.light.color),intensity:new c.D(c.v.light.intensity)}),this._transitionable=new c.t(ca),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,i={}){if(!this._validate(c.x,e,i))for(const d in e){const f=e[d];d.endsWith("-transition")?this._transitionable.setTransition(d.slice(0,-11),f):this._transitionable.setValue(d,f)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,i,d){return(!d||d.validate!==!1)&&c.y(this,e.call(c.z,{value:i,style:{glyphs:!0,sprite:!0},styleSpec:c.v}))}}const $e=new c.r({"sky-color":new c.D(c.v.sky["sky-color"]),"horizon-color":new c.D(c.v.sky["horizon-color"]),"fog-color":new c.D(c.v.sky["fog-color"]),"fog-ground-blend":new c.D(c.v.sky["fog-ground-blend"]),"horizon-fog-blend":new c.D(c.v.sky["horizon-fog-blend"]),"sky-horizon-blend":new c.D(c.v.sky["sky-horizon-blend"]),"atmosphere-blend":new c.D(c.v.sky["atmosphere-blend"])});class xt extends c.E{constructor(e){super(),this._transitionable=new c.t($e),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new c.F(0))}setSky(e,i={}){if(!this._validate(c.G,e,i)){e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const d in e){const f=e[d];d.endsWith("-transition")?this._transitionable.setTransition(d.slice(0,-11),f):this._transitionable.setValue(d,f)}}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,i,d={}){return d?.validate!==!1&&c.y(this,e.call(c.z,c.e({value:i,style:{glyphs:!0,sprite:!0},styleSpec:c.v})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class kt{constructor(e,i){this.width=e,this.height=i,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,i){const d=e.join(",")+String(i);return this.dashEntry[d]||(this.dashEntry[d]=this.addDash(e,i)),this.dashEntry[d]}getDashRanges(e,i,d){const f=[];let b=e.length%2==1?-e[e.length-1]*d:0,S=e[0]*d,M=!0;f.push({left:b,right:S,isDash:M,zeroLength:e[0]===0});let I=e[0];for(let N=1;N<e.length;N++){M=!M;const K=e[N];b=I*d,I+=K,S=I*d,f.push({left:b,right:S,isDash:M,zeroLength:K===0})}return f}addRoundDash(e,i,d){const f=i/2;for(let b=-d;b<=d;b++){const S=this.width*(this.nextRow+d+b);let M=0,I=e[M];for(let N=0;N<this.width;N++){N/I.right>1&&(I=e[++M]);const K=Math.abs(N-I.left),F=Math.abs(N-I.right),B=Math.min(K,F);let U;const Y=b/d*(f+1);if(I.isDash){const le=f-Math.abs(Y);U=Math.sqrt(B*B+le*le)}else U=f-Math.sqrt(B*B+Y*Y);this.data[S+N]=Math.max(0,Math.min(255,U+128))}}}addRegularDash(e){for(let M=e.length-1;M>=0;--M){const I=e[M],N=e[M+1];I.zeroLength?e.splice(M,1):N&&N.isDash===I.isDash&&(N.left=I.left,e.splice(M,1))}const i=e[0],d=e[e.length-1];i.isDash===d.isDash&&(i.left=d.left-this.width,d.right=i.right+this.width);const f=this.width*this.nextRow;let b=0,S=e[b];for(let M=0;M<this.width;M++){M/S.right>1&&(S=e[++b]);const I=Math.abs(M-S.left),N=Math.abs(M-S.right),K=Math.min(I,N);this.data[f+M]=Math.max(0,Math.min(255,(S.isDash?K:-K)+128))}}addDash(e,i){const d=i?7:0,f=2*d+1;if(this.nextRow+f>this.height)return c.w("LineAtlas out of space"),null;let b=0;for(let M=0;M<e.length;M++)b+=e[M];if(b!==0){const M=this.width/b,I=this.getDashRanges(e,this.width,M);i?this.addRoundDash(I,M,d):this.addRegularDash(I)}const S={y:(this.nextRow+d+.5)/this.height,height:2*d/this.height,width:b};return this.nextRow+=f,this.dirty=!0,S}bind(e){const i=e.gl;this.texture?(i.bindTexture(i.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,i.texSubImage2D(i.TEXTURE_2D,0,0,0,this.width,this.height,i.ALPHA,i.UNSIGNED_BYTE,this.data))):(this.texture=i.createTexture(),i.bindTexture(i.TEXTURE_2D,this.texture),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.REPEAT),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texImage2D(i.TEXTURE_2D,0,i.ALPHA,this.width,this.height,0,i.ALPHA,i.UNSIGNED_BYTE,this.data))}}const _e="maplibre_preloaded_worker_pool";class rt{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<rt.workerCount;)this.workers.push(new Worker(c.a.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],this.numActive()===0&&(this.workers.forEach(i=>{i.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[_e]}numActive(){return Object.keys(this.active).length}}const ht=Math.floor(Z.hardwareConcurrency/2);let Mt,Ft;function ba(){return Mt||(Mt=new rt),Mt}rt.workerCount=c.H(globalThis)?Math.max(Math.min(ht,3),1):1;class aa{constructor(e,i){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=i;const d=this.workerPool.acquire(i);for(let f=0;f<d.length;f++){const b=new c.J(d[f],i);b.name=`Worker ${f}`,this.actors.push(b)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,i){const d=[];for(const f of this.actors)d.push(f.sendAsync({type:e,data:i}));return Promise.all(d)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach(i=>{i.remove()}),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,i){for(const d of this.actors)d.registerMessageHandler(e,i)}}function Qi(){return Ft||(Ft=new aa(ba(),c.K),Ft.registerMessageHandler("GR",(y,e,i)=>c.m(e,i))),Ft}function Ja(y,e){const i=c.L();return c.M(i,i,[1,1,0]),c.N(i,i,[.5*y.width,.5*y.height,1]),y.calculatePosMatrix?c.O(i,i,y.calculatePosMatrix(e.toUnwrapped())):i}function Qa(y,e,i,d,f,b,S){var M;const I=function(B,U,Y){if(B)for(const le of B){const se=U[le];if(se&&se.source===Y&&se.type==="fill-extrusion")return!0}else for(const le in U){const se=U[le];if(se.source===Y&&se.type==="fill-extrusion")return!0}return!1}((M=f?.layers)!==null&&M!==void 0?M:null,e,y.id),N=b.maxPitchScaleFactor(),K=y.tilesIn(d,N,I);K.sort(Ai);const F=[];for(const B of K)F.push({wrappedTileID:B.tileID.wrapped().key,queryResults:B.tile.queryRenderedFeatures(e,i,y._state,B.queryGeometry,B.cameraQueryGeometry,B.scale,f,b,N,Ja(y.transform,B.tileID),S?(U,Y)=>S(B.tileID,U,Y):void 0)});return function(B,U){for(const Y in B)for(const le of B[Y])Ii(le,U);return B}(function(B){const U={},Y={};for(const le of B){const se=le.queryResults,ce=le.wrappedTileID,he=Y[ce]=Y[ce]||{};for(const ye in se){const pe=se[ye],xe=he[ye]=he[ye]||{},De=U[ye]=U[ye]||[];for(const me of pe)xe[me.featureIndex]||(xe[me.featureIndex]=!0,De.push(me))}}return U}(F),y)}function Ai(y,e){const i=y.tileID,d=e.tileID;return i.overscaledZ-d.overscaledZ||i.canonical.y-d.canonical.y||i.wrap-d.wrap||i.canonical.x-d.canonical.x}function Ii(y,e){const i=y.feature,d=e.getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=d}function mo(y,e,i){return c._(this,void 0,void 0,function*(){let d=y;if(y.url?d=(yield c.j(e.transformRequest(y.url,"Source"),i)).data:yield Z.frameAsync(i),!d)return null;const f=c.Q(c.e(d,y),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in d&&d.vector_layers&&(f.vectorLayerIds=d.vector_layers.map(b=>b.id)),f})}class si{constructor(e,i){e&&(i?this.setSouthWest(e).setNorthEast(i):Array.isArray(e)&&(e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof c.S?new c.S(e.lng,e.lat):c.S.convert(e),this}setSouthWest(e){return this._sw=e instanceof c.S?new c.S(e.lng,e.lat):c.S.convert(e),this}extend(e){const i=this._sw,d=this._ne;let f,b;if(e instanceof c.S)f=e,b=e;else{if(!(e instanceof si))return Array.isArray(e)?e.length===4||e.every(Array.isArray)?this.extend(si.convert(e)):this.extend(c.S.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(c.S.convert(e)):this;if(f=e._sw,b=e._ne,!f||!b)return this}return i||d?(i.lng=Math.min(f.lng,i.lng),i.lat=Math.min(f.lat,i.lat),d.lng=Math.max(b.lng,d.lng),d.lat=Math.max(b.lat,d.lat)):(this._sw=new c.S(f.lng,f.lat),this._ne=new c.S(b.lng,b.lat)),this}getCenter(){return new c.S((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new c.S(this.getWest(),this.getNorth())}getSouthEast(){return new c.S(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:i,lat:d}=c.S.convert(e);let f=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(f=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=d&&d<=this._ne.lat&&f}static convert(e){return e instanceof si?e:e&&new si(e)}static fromLngLat(e,i=0){const d=360*i/40075017,f=d/Math.cos(Math.PI/180*e.lat);return new si(new c.S(e.lng-f,e.lat-d),new c.S(e.lng+f,e.lat+d))}adjustAntiMeridian(){const e=new c.S(this._sw.lng,this._sw.lat),i=new c.S(this._ne.lng,this._ne.lat);return new si(e,e.lng>i.lng?new c.S(i.lng+360,i.lat):i)}}class en{constructor(e,i,d){this.bounds=si.convert(this.validateBounds(e)),this.minzoom=i||0,this.maxzoom=d||24}validateBounds(e){return Array.isArray(e)&&e.length===4?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const i=Math.pow(2,e.z),d=Math.floor(c.V(this.bounds.getWest())*i),f=Math.floor(c.U(this.bounds.getNorth())*i),b=Math.ceil(c.V(this.bounds.getEast())*i),S=Math.ceil(c.U(this.bounds.getSouth())*i);return e.x>=d&&e.x<b&&e.y>=f&&e.y<S}}class Qn extends c.E{constructor(e,i,d,f){if(super(),this.id=e,this.dispatcher=d,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,c.e(this,c.Q(i,["url","scheme","tileSize","promoteId"])),this._options=c.e({type:"vector"},i),this._collectResourceTiming=i.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(f)}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield mo(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),e&&(c.e(this,e),e.bounds&&(this.tileBounds=new en(e.bounds,this.minzoom,this.maxzoom)),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this.fire(new c.k(e))}})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return c.e({},this._options)}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),d={request:this.map._requestManager.transformRequest(i,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};d.request.collectResourceTiming=this._collectResourceTiming;let f="RT";if(e.actor&&e.state!=="expired"){if(e.state==="loading")return new Promise((b,S)=>{e.reloadPromise={resolve:b,reject:S}})}else e.actor=this.dispatcher.getActor(),f="LT";e.abortController=new AbortController;try{const b=yield e.actor.sendAsync({type:f,data:d},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,b)}catch(b){if(delete e.abortController,e.aborted)return;if(b&&b.status!==404)throw b;this._afterTileLoadWorkerResponse(e,null)}})}_afterTileLoadWorkerResponse(e,i){if(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),i&&this.map._refreshExpiredTiles&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),e.reloadPromise){const d=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(d.resolve).catch(d.reject)}}abortTile(e){return c._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))})}unloadTile(e){return c._(this,void 0,void 0,function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class cs extends c.E{constructor(e,i,d,f){super(),this.id=e,this.dispatcher=d,this.setEventedParent(f),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=c.e({type:"raster"},i),c.e(this,c.Q(i,["url","scheme","tileSize"]))}load(){return c._(this,arguments,void 0,function*(e=!1){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const i=yield mo(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,i&&(c.e(this,i),i.bounds&&(this.tileBounds=new en(i.bounds,this.minzoom,this.maxzoom)),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new c.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})))}catch(i){this._tileJSONRequest=null,this.fire(new c.k(i))}})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0)}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}serialize(){return c.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const d=yield ot.getImage(this.map._requestManager.transformRequest(i,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(d&&d.data){this.map._refreshExpiredTiles&&(d.cacheControl||d.expires)&&e.setExpiryData({cacheControl:d.cacheControl,expires:d.expires});const f=this.map.painter.context,b=f.gl,S=d.data;e.texture=this.map.painter.getTileTexture(S.width),e.texture?e.texture.update(S,{useMipmap:!0}):(e.texture=new c.T(f,S,b.RGBA,{useMipmap:!0}),e.texture.bind(b.LINEAR,b.CLAMP_TO_EDGE,b.LINEAR_MIPMAP_NEAREST)),e.state="loaded"}}catch(d){if(delete e.abortController,e.aborted)e.state="unloaded";else if(d)throw e.state="errored",d}})}abortTile(e){return c._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)})}unloadTile(e){return c._(this,void 0,void 0,function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)})}hasTransition(){return!1}}class Wa extends cs{constructor(e,i,d,f){super(e,i,d,f),this.type="raster-dem",this.maxzoom=22,this._options=c.e({type:"raster-dem"},i),this.encoding=i.encoding||"mapbox",this.redFactor=i.redFactor,this.greenFactor=i.greenFactor,this.blueFactor=i.blueFactor,this.baseShift=i.baseShift}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),d=this.map._requestManager.transformRequest(i,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const f=yield ot.getImage(d,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(f&&f.data){const b=f.data;this.map._refreshExpiredTiles&&(f.cacheControl||f.expires)&&e.setExpiryData({cacheControl:f.cacheControl,expires:f.expires});const S=c.b(b)&&c.W()?b:yield this.readImageNow(b),M={type:this.type,uid:e.uid,source:this.id,rawImageData:S,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||e.state==="expired"){e.actor=this.dispatcher.getActor();const I=yield e.actor.sendAsync({type:"LDT",data:M});e.dem=I,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(f){if(delete e.abortController,e.aborted)e.state="unloaded";else if(f)throw e.state="errored",f}})}readImageNow(e){return c._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&c.X()){const i=e.width+2,d=e.height+2;try{return new c.R({width:i,height:d},yield c.Y(e,-1,-1,i,d))}catch{}}return Z.getImageData(e,1)})}_getNeighboringTiles(e){const i=e.canonical,d=Math.pow(2,i.z),f=(i.x-1+d)%d,b=i.x===0?e.wrap-1:e.wrap,S=(i.x+1+d)%d,M=i.x+1===d?e.wrap+1:e.wrap,I={};return I[new c.Z(e.overscaledZ,b,i.z,f,i.y).key]={backfilled:!1},I[new c.Z(e.overscaledZ,M,i.z,S,i.y).key]={backfilled:!1},i.y>0&&(I[new c.Z(e.overscaledZ,b,i.z,f,i.y-1).key]={backfilled:!1},I[new c.Z(e.overscaledZ,e.wrap,i.z,i.x,i.y-1).key]={backfilled:!1},I[new c.Z(e.overscaledZ,M,i.z,S,i.y-1).key]={backfilled:!1}),i.y+1<d&&(I[new c.Z(e.overscaledZ,b,i.z,f,i.y+1).key]={backfilled:!1},I[new c.Z(e.overscaledZ,e.wrap,i.z,i.x,i.y+1).key]={backfilled:!1},I[new c.Z(e.overscaledZ,M,i.z,S,i.y+1).key]={backfilled:!1}),I}unloadTile(e){return c._(this,void 0,void 0,function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))})}}class Un extends c.E{constructor(e,i,d,f){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=d.getActor(),this.setEventedParent(f),this._data=i.data,this._options=c.e({},i),this._collectResourceTiming=i.collectResourceTiming,i.maxzoom!==void 0&&(this.maxzoom=i.maxzoom),i.type&&(this.type=i.type),i.attribution&&(this.attribution=i.attribution),this.promoteId=i.promoteId,i.clusterMaxZoom!==void 0&&this.maxzoom<=i.clusterMaxZoom&&c.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${i.clusterMaxZoom}".`),this.workerOptions=c.e({source:this.id,cluster:i.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(i.buffer!==void 0?i.buffer:128),tolerance:this._pixelsToTileUnits(i.tolerance!==void 0?i.tolerance:.375),extent:c.$,maxZoom:this.maxzoom,lineMetrics:i.lineMetrics||!1,generateId:i.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(i.clusterMaxZoom),minPoints:Math.max(2,i.clusterMinPoints||2),extent:c.$,radius:this._pixelsToTileUnits(i.clusterRadius||50),log:!1,generateId:i.generateId||!1},clusterProperties:i.clusterProperties,filter:i.filter},i.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_pixelsToTileUnits(e){return e*(c.$/this.tileSize)}_getClusterMaxZoom(e){const i=e?Math.round(e):this.maxzoom-1;return Number.isInteger(e)||e===void 0||c.w(`Integer expected for option 'clusterMaxZoom': provided value "${e}" rounded to "${i}"`),i}load(){return c._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}getData(){return c._(this,void 0,void 0,function*(){const e=c.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})})}getCoordinatesFromGeometry(e){return e.type==="GeometryCollection"?e.geometries.map(i=>i.coordinates).flat(1/0):e.coordinates.flat(1/0)}getBounds(){return c._(this,void 0,void 0,function*(){const e=new si,i=yield this.getData();let d;switch(i.type){case"FeatureCollection":d=i.features.map(f=>this.getCoordinatesFromGeometry(f.geometry)).flat(1/0);break;case"Feature":d=this.getCoordinatesFromGeometry(i.geometry);break;default:d=this.getCoordinatesFromGeometry(i)}if(d.length==0)return e;for(let f=0;f<d.length-1;f+=2)e.extend([d[f],d[f+1]]);return e})}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(e.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),e.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(e.clusterMaxZoom))),this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,i,d){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:i,offset:d}})}_updateWorkerData(e){return c._(this,void 0,void 0,function*(){const i=c.e({type:this.type},this.workerOptions);e?i.dataDiff=e:typeof this._data=="string"?(i.request=this.map._requestManager.transformRequest(Z.resolveURL(this._data),"Source"),i.request.collectResourceTiming=this._collectResourceTiming):i.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new c.l("dataloading",{dataType:"source"}));try{const d=yield this.actor.sendAsync({type:"LD",data:i});if(this._pendingLoads--,this._removed||d.abandoned)return void this.fire(new c.l("dataabort",{dataType:"source"}));let f=null;d.resourceTiming&&d.resourceTiming[this.id]&&(f=d.resourceTiming[this.id].slice(0));const b={dataType:"source"};this._collectResourceTiming&&f&&f.length>0&&c.e(b,{resourceTiming:f}),this.fire(new c.l("data",Object.assign(Object.assign({},b),{sourceDataType:"metadata"}))),this.fire(new c.l("data",Object.assign(Object.assign({},b),{sourceDataType:"content"})))}catch(d){if(this._pendingLoads--,this._removed)return void this.fire(new c.l("dataabort",{dataType:"source"}));this.fire(new c.k(d))}})}loaded(){return this._pendingLoads===0}loadTile(e){return c._(this,void 0,void 0,function*(){const i=e.actor?"RT":"LT";e.actor=this.actor;const d={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,globalState:this.map.getGlobalState()};e.abortController=new AbortController;const f=yield this.actor.sendAsync({type:i,data:d},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(f,this.map.painter,i==="RT")})}abortTile(e){return c._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0})}unloadTile(e){return c._(this,void 0,void 0,function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return c.e({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}class Tn extends c.E{constructor(e,i,d,f){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=d,this.coordinates=i.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(f),this.options=i}load(e){return c._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new c.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const i=yield ot.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,i&&i.data&&(this.image=i.data,e&&(this.coordinates=e),this._finishLoading())}catch(i){this._request=null,this._loaded=!0,this.fire(new c.k(i))}})}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new c.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){this.coordinates=e;const i=e.map(c.a0.fromLngLat);var d;return this.tileID=function(f){const b=c.a1.fromPoints(f),S=b.width(),M=b.height(),I=Math.max(S,M),N=Math.max(0,Math.floor(-Math.log(I)/Math.LN2)),K=Math.pow(2,N);return new c.a3(N,Math.floor((b.minX+b.maxX)/2*K),Math.floor((b.minY+b.maxY)/2*K))}(i),this.terrainTileRanges=this._getOverlappingTileRanges(i),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=i.map(f=>this.tileID.getTilePoint(f)._round()),this.flippedWindingOrder=((d=this.tileCoords)[1].x-d[0].x)*(d[2].y-d[0].y)-(d[1].y-d[0].y)*(d[2].x-d[0].x)<0,this.fire(new c.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const e=this.map.painter.context,i=e.gl;this.texture||(this.texture=new c.T(e,this.image,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let d=!1;for(const f in this.tiles){const b=this.tiles[f];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,d=!0)}d&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return c._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e){const{minX:i,minY:d,maxX:f,maxY:b}=c.a1.fromPoints(e),S={};for(let M=0;M<=c.a2;M++){const I=Math.pow(2,M),N=Math.floor(i*I),K=Math.floor(d*I),F=Math.floor(f*I),B=Math.floor(b*I);S[M]={minTileX:N,minTileY:K,maxTileX:F,maxTileY:B}}return S}}class go extends Tn{constructor(e,i,d,f){super(e,i,d,f),this.roundZoom=!0,this.type="video",this.options=i}load(){return c._(this,void 0,void 0,function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const i of e.urls)this.urls.push(this.map._requestManager.transformRequest(i,"Source").url);try{const i=yield c.a4(this.urls);if(this._loaded=!0,!i)return;this.video=i,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(i){this.fire(new c.k(i))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const i=this.video.seekable;e<i.start(0)||e>i.end(0)?this.fire(new c.k(new c.a5(`sources.${this.id}`,null,`Playback for this video can be set only between the ${i.start(0)} and ${i.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const e=this.map.painter.context,i=e.gl;this.texture?this.video.paused||(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.video)):(this.texture=new c.T(e,this.video,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));let d=!1;for(const f in this.tiles){const b=this.tiles[f];b.state!=="loaded"&&(b.state="loaded",b.texture=this.texture,d=!0)}d&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class hr extends Tn{constructor(e,i,d,f){super(e,i,d,f),i.coordinates?Array.isArray(i.coordinates)&&i.coordinates.length===4&&!i.coordinates.some(b=>!Array.isArray(b)||b.length!==2||b.some(S=>typeof S!="number"))||this.fire(new c.k(new c.a5(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new c.k(new c.a5(`sources.${e}`,null,'missing required property "coordinates"'))),i.animate&&typeof i.animate!="boolean"&&this.fire(new c.k(new c.a5(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),i.canvas?typeof i.canvas=="string"||i.canvas instanceof HTMLCanvasElement||this.fire(new c.k(new c.a5(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new c.k(new c.a5(`sources.${e}`,null,'missing required property "canvas"'))),this.options=i,this.animate=i.animate===void 0||i.animate}load(){return c._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new c.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const i=this.map.painter.context,d=i.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new c.T(i,this.canvas,d.RGBA,{premultiply:!0});let f=!1;for(const b in this.tiles){const S=this.tiles[b];S.state!=="loaded"&&(S.state="loaded",S.texture=this.texture,f=!0)}f&&this.fire(new c.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const pr={},er=y=>{switch(y){case"geojson":return Un;case"image":return Tn;case"raster":return cs;case"raster-dem":return Wa;case"vector":return Qn;case"video":return go;case"canvas":return hr}return pr[y]},Mr="RTLPluginLoaded";class Hr extends c.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=Qi()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch(i=>{throw this.status="error",i})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return c._(this,arguments,void 0,function*(i,d=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=Z.resolveURL(i),!this.url)throw new Error(`requested url ${i} is invalid`);if(this.status==="unavailable"){if(!d)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()})}_requestImport(){return c._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new c.l(Mr))})}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let ji=null;function za(){return ji||(ji=new Hr),ji}class tn{constructor(e,i){this.timeAdded=0,this.fadeEndTime=0,this.tileID=e,this.uid=c.a6(),this.uses=0,this.tileSize=i,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const i=e+this.timeAdded;i<this.fadeEndTime||(this.fadeEndTime=i)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,i,d){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(f,b){const S={};if(!b)return S;for(const M of f){const I=M.layerIds.map(N=>b.getLayer(N)).filter(Boolean);if(I.length!==0){M.layers=I,M.stateDependentLayerIds&&(M.stateDependentLayers=M.stateDependentLayerIds.map(N=>I.filter(K=>K.id===N)[0]));for(const N of I)S[N.id]=M}}return S}(e.buckets,i?.style),this.hasSymbolBuckets=!1;for(const f in this.buckets){const b=this.buckets[f];if(b instanceof c.a8){if(this.hasSymbolBuckets=!0,!d)break;b.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const f in this.buckets){const b=this.buckets[f];if(b instanceof c.a8&&b.hasRTLText){this.hasRTLText=!0,za().lazyLoad();break}}this.queryPadding=0;for(const f in this.buckets){const b=this.buckets[f];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(f).queryRadius(b))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)}else this.collisionBoxArray=new c.a7}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const d in this.buckets){const f=this.buckets[d];f.uploadPending()&&f.upload(e)}const i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new c.T(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new c.T(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,i,d,f,b,S,M,I,N,K,F){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:f,cameraQueryGeometry:b,scale:S,tileSize:this.tileSize,pixelPosMatrix:K,transform:I,params:M,queryPadding:this.queryPadding*N,getElevation:F},e,i,d):{}}querySourceFeatures(e,i){const d=this.latestFeatureIndex;if(!d||!d.rawTileData)return;const f=d.loadVTLayers(),b=i&&i.sourceLayer?i.sourceLayer:"",S=f._geojsonTileLayer||f[b];if(!S)return;const M=c.a9(i&&i.filter),{z:I,x:N,y:K}=this.tileID.canonical,F={z:I,x:N,y:K};for(let B=0;B<S.length;B++){const U=S.feature(B);if(M.needGeometry){const se=c.aa(U,!0);if(!M.filter(new c.F(this.tileID.overscaledZ),se,this.tileID.canonical))continue}else if(!M.filter(new c.F(this.tileID.overscaledZ),U))continue;const Y=d.getId(U,b),le=new c.ab(U,I,N,K,Y);le.tile=F,e.push(le)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const d=c.ac(e.cacheControl);d["max-age"]&&(this.expirationTime=Date.now()+1e3*d["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const d=Date.now();let f=!1;if(this.expirationTime>d)f=!1;else if(i)if(this.expirationTime<i)f=!0;else{const b=this.expirationTime-i;b?this.expirationTime=d+Math.max(b,3e4):f=!0}else f=!0;f?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(e,i){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0)return;const d=this.latestFeatureIndex.loadVTLayers();for(const f in this.buckets){if(!i.style.hasLayer(f))continue;const b=this.buckets[f],S=b.layers[0].sourceLayer||"_geojsonTileLayer",M=d[S],I=e[S];if(!M||!I||Object.keys(I).length===0)continue;b.update(I,M,this.imageAtlas&&this.imageAtlas.patternPositions||{});const N=i&&i.style&&i.style.getLayer(f);N&&(this.queryPadding=Math.max(this.queryPadding,N.queryRadius(b)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Z.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=Z.now()+e}setDependencies(e,i){const d={};for(const f of i)d[f]=!0;this.dependencies[e]=d}hasDependency(e,i){for(const d of e){const f=this.dependencies[d];if(f){for(const b of i)if(f[b])return!0}}return!1}}class Bi{constructor(e,i){this.max=e,this.onRemove=i,this.reset()}reset(){for(const e in this.data)for(const i of this.data[e])i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value);return this.data={},this.order=[],this}add(e,i,d){const f=e.wrapped().key;this.data[f]===void 0&&(this.data[f]=[]);const b={value:i,timeout:void 0};if(d!==void 0&&(b.timeout=setTimeout(()=>{this.remove(e,b)},d)),this.data[f].push(b),this.order.push(f),this.order.length>this.max){const S=this._getAndRemoveByKey(this.order[0]);S&&this.onRemove(S)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const i=this.data[e].shift();return i.timeout&&clearTimeout(i.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),i.value}getByKey(e){const i=this.data[e];return i?i[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,i){if(!this.has(e))return this;const d=e.wrapped().key,f=i===void 0?0:this.data[d].indexOf(i),b=this.data[d][f];return this.data[d].splice(f,1),b.timeout&&clearTimeout(b.timeout),this.data[d].length===0&&delete this.data[d],this.onRemove(b.value),this.order.splice(this.order.indexOf(d),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const i=this._getAndRemoveByKey(this.order[0]);i&&this.onRemove(i)}return this}filter(e){const i=[];for(const d in this.data)for(const f of this.data[d])e(f.value)||i.push(f);for(const d of i)this.remove(d.value.tileID,d)}}class kl{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,d){const f=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][f]=this.stateChanges[e][f]||{},c.e(this.stateChanges[e][f],d),this.deletedStates[e]===null){this.deletedStates[e]={};for(const b in this.state[e])b!==f&&(this.deletedStates[e][b]=null)}else if(this.deletedStates[e]&&this.deletedStates[e][f]===null){this.deletedStates[e][f]={};for(const b in this.state[e][f])d[b]||(this.deletedStates[e][f][b]=null)}else for(const b in d)this.deletedStates[e]&&this.deletedStates[e][f]&&this.deletedStates[e][f][b]===null&&delete this.deletedStates[e][f][b]}removeFeatureState(e,i,d){if(this.deletedStates[e]===null)return;const f=String(i);if(this.deletedStates[e]=this.deletedStates[e]||{},d&&i!==void 0)this.deletedStates[e][f]!==null&&(this.deletedStates[e][f]=this.deletedStates[e][f]||{},this.deletedStates[e][f][d]=null);else if(i!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][f])for(d in this.deletedStates[e][f]={},this.stateChanges[e][f])this.deletedStates[e][f][d]=null;else this.deletedStates[e][f]=null;else this.deletedStates[e]=null}getState(e,i){const d=String(i),f=c.e({},(this.state[e]||{})[d],(this.stateChanges[e]||{})[d]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){const b=this.deletedStates[e][i];if(b===null)return{};for(const S in b)delete f[S]}return f}initializeTileState(e,i){e.setFeatureState(this.state,i)}coalesceChanges(e,i){const d={};for(const f in this.stateChanges){this.state[f]=this.state[f]||{};const b={};for(const S in this.stateChanges[f])this.state[f][S]||(this.state[f][S]={}),c.e(this.state[f][S],this.stateChanges[f][S]),b[S]=this.state[f][S];d[f]=b}for(const f in this.deletedStates){this.state[f]=this.state[f]||{};const b={};if(this.deletedStates[f]===null)for(const S in this.state[f])b[S]={},this.state[f][S]={};else for(const S in this.deletedStates[f]){if(this.deletedStates[f][S]===null)this.state[f][S]={};else for(const M of Object.keys(this.deletedStates[f][S]))delete this.state[f][S][M];b[S]=this.state[f][S]}d[f]=d[f]||{},c.e(d[f],b)}if(this.stateChanges={},this.deletedStates={},Object.keys(d).length!==0)for(const f in e)e[f].setFeatureState(d,i)}}const vn=89.25;function je(y,e){const i=c.ag(e.lat,-c.ah,c.ah);return new c.P(c.V(e.lng)*y,c.U(i)*y)}function ee(y,e){return new c.a0(e.x/y,e.y/y).toLngLat()}function te(y){return y.cameraToCenterDistance*Math.min(.85*Math.tan(c.ad(90-y.pitch)),Math.tan(c.ad(vn-y.pitch)))}function oe(y,e){const i=y.canonical,d=e/c.ae(i.z),f=i.x+Math.pow(2,i.z)*y.wrap,b=c.af(new Float64Array(16));return c.M(b,b,[f*d,i.y*d,0]),c.N(b,b,[d/c.$,d/c.$,1]),b}function ge(y,e,i,d,f){const b=c.a0.fromLngLat(y,e),S=f*c.ai(1,y.lat),M=S*Math.cos(c.ad(i)),I=Math.sqrt(S*S-M*M),N=I*Math.sin(c.ad(-d)),K=I*Math.cos(c.ad(-d));return new c.a0(b.x+N,b.y+K,b.z+M)}function Me(y,e,i){const d=e.intersectsFrustum(y);if(!i||d===0)return d;const f=e.intersectsPlane(i);return f===0?0:d===2&&f===2?2:1}function ke(y,e,i){let d=0;const f=(i-e)/10;for(let b=0;b<10;b++)d+=f*Math.pow(Math.cos(e+(b+.5)/10*(i-e)),y);return d}function Xe(y,e){return function(i,d,f,b,S){const M=2*((y-1)/c.aj(Math.cos(c.ad(vn-S))/Math.cos(c.ad(vn)))-1),I=Math.acos(f/b),N=2*ke(M-1,0,c.ad(S/2)),K=Math.min(c.ad(vn),I+c.ad(S/2)),F=ke(M-1,Math.min(K,I-c.ad(S/2)),K),B=Math.atan(d/f),U=Math.hypot(d,f);let Y=i;return Y+=c.aj(b/U/Math.max(.5,Math.cos(c.ad(S/2)))),Y+=M*c.aj(Math.cos(B))/2,Y-=c.aj(Math.max(1,F/N/e))/2,Y}}const ze=Xe(9.314,3);function st(y,e){const i=(e.roundZoom?Math.round:Math.floor)(y.zoom+c.aj(y.tileSize/e.tileSize));return Math.max(0,i)}function tt(y,e){const i=y.getCameraFrustum(),d=y.getClippingPlane(),f=y.screenPointToMercatorCoordinate(y.getCameraPoint()),b=c.a0.fromLngLat(y.center,y.elevation);f.z=b.z+Math.cos(y.pitchInRadians)*y.cameraToCenterDistance/y.worldSize;const S=y.getCoveringTilesDetailsProvider(),M=S.allowVariableZoom(y,e),I=st(y,e),N=e.minzoom||0,K=e.maxzoom!==void 0?e.maxzoom:y.maxZoom,F=Math.min(Math.max(0,I),K),B=Math.pow(2,F),U=[B*f.x,B*f.y,0],Y=[B*b.x,B*b.y,0],le=Math.hypot(b.x-f.x,b.y-f.y),se=Math.abs(b.z-f.z),ce=Math.hypot(le,se),he=xe=>({zoom:0,x:0,y:0,wrap:xe,fullyVisible:!1}),ye=[],pe=[];if(y.renderWorldCopies&&S.allowWorldCopies())for(let xe=1;xe<=3;xe++)ye.push(he(-xe)),ye.push(he(xe));for(ye.push(he(0));ye.length>0;){const xe=ye.pop(),De=xe.x,me=xe.y;let Ee=xe.fullyVisible;const We={x:De,y:me,z:xe.zoom},Ue=S.getTileBoundingVolume(We,xe.wrap,y.elevation,e);if(!Ee){const At=Me(i,Ue,d);if(At===0)continue;Ee=At===2}const Ge=S.distanceToTile2d(f.x,f.y,We,Ue);let Ye=I;M&&(Ye=(e.calculateTileZoom||ze)(y.zoom+c.aj(y.tileSize/e.tileSize),Ge,se,ce,y.fov)),Ye=(e.roundZoom?Math.round:Math.floor)(Ye),Ye=Math.max(0,Ye);const Lt=Math.min(Ye,K);if(xe.wrap=S.getWrap(b,We,xe.wrap),xe.zoom>=Lt){if(xe.zoom<N)continue;const At=F-xe.zoom,mt=U[0]-.5-(De<<At),Ot=U[1]-.5-(me<<At),va=e.reparseOverscaled?Math.max(xe.zoom,Ye):xe.zoom;pe.push({tileID:new c.Z(xe.zoom===K?va:xe.zoom,xe.wrap,xe.zoom,De,me),distanceSq:c.ak([Y[0]-.5-De,Y[1]-.5-me]),tileDistanceToCamera:Math.sqrt(mt*mt+Ot*Ot)})}else for(let At=0;At<4;At++)ye.push({zoom:xe.zoom+1,x:(De<<1)+At%2,y:(me<<1)+(At>>1),wrap:xe.wrap,fullyVisible:Ee})}return pe.sort((xe,De)=>xe.distanceSq-De.distanceSq).map(xe=>xe.tileID)}const Be=c.a1.fromPoints([new c.P(0,0),new c.P(c.$,c.$)]);class ut extends c.E{constructor(e,i,d){super(),this.id=e,this.dispatcher=d,this.on("data",f=>this._dataHandler(f)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((f,b,S,M)=>{const I=new(er(b.type))(f,b,S,M);if(I.id!==f)throw new Error(`Expected Source id to be ${f} instead of ${I.id}`);return I})(e,i,d,this),this._tiles={},this._cache=new Bi(0,f=>this._unloadTile(f)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new kl,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e in this._tiles){const i=this._tiles[e];if(i.state!=="loaded"&&i.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,i,d){return c._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,i,d)}catch(f){e.state="errored",f.status!==404?this._source.fire(new c.k(f,{tile:e})):this.update(this.transform,this.terrain)}})}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new c.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const i in this._tiles){const d=this._tiles[i];d.upload(e),d.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(e=>e.tileID).sort(Te).map(e=>e.key)}getRenderableIds(e){const i=[];for(const d in this._tiles)this._isIdRenderable(d,e)&&i.push(this._tiles[d]);return e?i.sort((d,f)=>{const b=d.tileID,S=f.tileID,M=new c.P(b.canonical.x,b.canonical.y)._rotate(-this.transform.bearingInRadians),I=new c.P(S.canonical.x,S.canonical.y)._rotate(-this.transform.bearingInRadians);return b.overscaledZ-S.overscaledZ||I.y-M.y||I.x-M.x}).map(d=>d.tileID.key):i.map(d=>d.tileID).sort(Te).map(d=>d.key)}hasRenderableParent(e){const i=this.findLoadedParent(e,0);return!!i&&this._isIdRenderable(i.tileID.key)}_isIdRenderable(e,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(i||!this._tiles[e].holdingForFade())}reload(e){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const i in this._tiles)e?this._reloadTile(i,"expired"):this._tiles[i].state!=="errored"&&this._reloadTile(i,"reloading")}}_reloadTile(e,i){return c._(this,void 0,void 0,function*(){const d=this._tiles[e];d&&(d.state!=="loading"&&(d.state=i),yield this._loadTile(d,e,i))})}_tileLoaded(e,i,d){e.timeAdded=Z.now(),d==="expired"&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),this.getSource().type==="raster-dem"&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new c.l("data",{dataType:"source",tile:e,coord:e.tileID}))}_backfillDEM(e){const i=this.getRenderableIds();for(let f=0;f<i.length;f++){const b=i[f];if(e.neighboringTiles&&e.neighboringTiles[b]){const S=this.getTileByID(b);d(e,S),d(S,e)}}function d(f,b){f.needsHillshadePrepare=!0,f.needsTerrainPrepare=!0;let S=b.tileID.canonical.x-f.tileID.canonical.x;const M=b.tileID.canonical.y-f.tileID.canonical.y,I=Math.pow(2,f.tileID.canonical.z),N=b.tileID.key;S===0&&M===0||Math.abs(M)>1||(Math.abs(S)>1&&(Math.abs(S+I)===1?S+=I:Math.abs(S-I)===1&&(S-=I)),b.dem&&f.dem&&(f.dem.backfillBorder(b.dem,S,M),f.neighboringTiles&&f.neighboringTiles[N]&&(f.neighboringTiles[N].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,i,d,f){for(const b in this._tiles){let S=this._tiles[b];if(f[b]||!S.hasData()||S.tileID.overscaledZ<=i||S.tileID.overscaledZ>d)continue;let M=S.tileID;for(;S&&S.tileID.overscaledZ>i+1;){const N=S.tileID.scaledTo(S.tileID.overscaledZ-1);S=this._tiles[N.key],S&&S.hasData()&&(M=N)}let I=M;for(;I.overscaledZ>i;)if(I=I.scaledTo(I.overscaledZ-1),e[I.key]||e[I.canonical.key]){f[M.key]=M;break}}}findLoadedParent(e,i){if(e.key in this._loadedParentTiles){const d=this._loadedParentTiles[e.key];return d&&d.tileID.overscaledZ>=i?d:null}for(let d=e.overscaledZ-1;d>=i;d--){const f=e.scaledTo(d),b=this._getLoadedTile(f);if(b)return b}}findLoadedSibling(e){return this._getLoadedTile(e)}_getLoadedTile(e){const i=this._tiles[e.key];return i&&i.hasData()?i:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const i=Math.ceil(e.width/this._source.tileSize)+1,d=Math.ceil(e.height/this._source.tileSize)+1,f=Math.floor(i*d*(this._maxTileCacheZoomLevels===null?c.a.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),b=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,f):f;this._cache.setMaxSize(b)}handleWrapJump(e){const i=Math.round((e-(this._prevLng===void 0?e:this._prevLng))/360);if(this._prevLng=e,i){const d={};for(const f in this._tiles){const b=this._tiles[f];b.tileID=b.tileID.unwrapTo(b.tileID.wrap+i),d[b.tileID.key]=b}this._tiles=d;for(const f in this._timers)clearTimeout(this._timers[f]),delete this._timers[f];for(const f in this._tiles)this._setTileReloadTimer(f,this._tiles[f])}}_updateCoveredAndRetainedTiles(e,i,d,f,b,S){const M={},I={},N=Object.keys(e),K=Z.now();for(const F of N){const B=e[F],U=this._tiles[F];if(!U||U.fadeEndTime!==0&&U.fadeEndTime<=K)continue;const Y=this.findLoadedParent(B,i),le=this.findLoadedSibling(B),se=Y||le||null;se&&(this._addTile(se.tileID),M[se.tileID.key]=se.tileID),I[F]=B}this._retainLoadedChildren(I,f,d,e);for(const F in M)e[F]||(this._coveredTiles[F]=!0,e[F]=M[F]);if(S){const F={},B={};for(const U of b)this._tiles[U.key].hasData()?F[U.key]=U:B[U.key]=U;for(const U in B){const Y=B[U].children(this._source.maxzoom);this._tiles[Y[0].key]&&this._tiles[Y[1].key]&&this._tiles[Y[2].key]&&this._tiles[Y[3].key]&&(F[Y[0].key]=e[Y[0].key]=Y[0],F[Y[1].key]=e[Y[1].key]=Y[1],F[Y[2].key]=e[Y[2].key]=Y[2],F[Y[3].key]=e[Y[3].key]=Y[3],delete B[U])}for(const U in B){const Y=B[U],le=this.findLoadedParent(Y,this._source.minzoom),se=this.findLoadedSibling(Y),ce=le||se||null;if(ce){F[ce.tileID.key]=e[ce.tileID.key]=ce.tileID;for(const he in F)F[he].isChildOf(ce.tileID)&&delete F[he]}}for(const U in this._tiles)F[U]||(this._coveredTiles[U]=!0)}}update(e,i){if(!this._sourceLoaded||this._paused)return;let d;this.transform=e,this.terrain=i,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?d=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(K=>new c.Z(K.canonical.z,K.wrap,K.canonical.z,K.canonical.x,K.canonical.y)):(d=tt(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:i,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(d=d.filter(K=>this._source.hasTile(K)))):d=[];const f=st(e,this._source),b=Math.max(f-ut.maxOverzooming,this._source.minzoom),S=Math.max(f+ut.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const K={};for(const F of d)if(F.canonical.z>this._source.minzoom){const B=F.scaledTo(F.canonical.z-1);K[B.key]=B;const U=F.scaledTo(Math.max(this._source.minzoom,Math.min(F.canonical.z,5)));K[U.key]=U}d=d.concat(Object.values(K))}const M=d.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,M&&this.fire(new c.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const I=this._updateRetainedTiles(d,f);Et(this._source.type)&&this._updateCoveredAndRetainedTiles(I,b,S,f,d,i);for(const K in I)this._tiles[K].clearFadeHold();const N=c.al(this._tiles,I);for(const K of N){const F=this._tiles[K];F.hasSymbolBuckets&&!F.holdingForFade()?F.setHoldDuration(this.map._fadeDuration):F.hasSymbolBuckets&&!F.symbolFadeFinished()||this._removeTile(K)}this._updateLoadedParentTileCache(),this._updateLoadedSiblingTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,i){var d;const f={},b={},S=Math.max(i-ut.maxOverzooming,this._source.minzoom),M=Math.max(i+ut.maxUnderzooming,this._source.minzoom),I={};for(const N of e){const K=this._addTile(N);f[N.key]=N,K.hasData()||i<this._source.maxzoom&&(I[N.key]=N)}this._retainLoadedChildren(I,i,M,f);for(const N of e){let K=this._tiles[N.key];if(K.hasData())continue;if(i+1>this._source.maxzoom){const B=N.children(this._source.maxzoom)[0],U=this.getTile(B);if(U&&U.hasData()){f[B.key]=B;continue}}else{const B=N.children(this._source.maxzoom);if(f[B[0].key]&&f[B[1].key]&&f[B[2].key]&&f[B[3].key])continue}let F=K.wasRequested();for(let B=N.overscaledZ-1;B>=S;--B){const U=N.scaledTo(B);if(b[U.key])break;if(b[U.key]=!0,K=this.getTile(U),!K&&F&&(K=this._addTile(U)),K){const Y=K.hasData();if((Y||!(!((d=this.map)===null||d===void 0)&&d.cancelPendingTileRequestsWhileZooming)||F)&&(f[U.key]=U),F=K.wasRequested(),Y)break}}}return f}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const i=[];let d,f=this._tiles[e].tileID;for(;f.overscaledZ>0;){if(f.key in this._loadedParentTiles){d=this._loadedParentTiles[f.key];break}i.push(f.key);const b=f.scaledTo(f.overscaledZ-1);if(d=this._getLoadedTile(b),d)break;f=b}for(const b of i)this._loadedParentTiles[b]=d}}_updateLoadedSiblingTileCache(){this._loadedSiblingTiles={};for(const e in this._tiles){const i=this._tiles[e].tileID,d=this._getLoadedTile(i);this._loadedSiblingTiles[i.key]=d}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const d=i;return i||(i=new tn(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(i,e.key,i.state)),i.uses++,this._tiles[e.key]=i,d||this._source.fire(new c.l("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i}_setTileReloadTimer(e,i){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const d=i.getExpiryTimeout();d&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},d))}refreshTiles(e){for(const i in this._tiles)(this._isIdRenderable(i)||this._tiles[i].state=="errored")&&e.some(d=>d.equals(this._tiles[i].tileID.canonical))&&this._reloadTile(i,"expired")}_removeTile(e){const i=this._tiles[e];i&&(i.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),i.uses>0||(i.hasData()&&i.state!=="reloading"?this._cache.add(i.tileID,i,i.getExpiryTimeout()):(i.aborted=!0,this._abortTile(i),this._unloadTile(i))))}_dataHandler(e){const i=e.sourceDataType;e.dataType==="source"&&i==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&e.dataType==="source"&&i==="content"&&(this.reload(e.sourceDataChanged),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(e,i,d){const f=[],b=this.transform;if(!b)return f;const S=b.getCoveringTilesDetailsProvider().allowWorldCopies(),M=d?b.getCameraQueryGeometry(e):e,I=U=>b.screenPointToMercatorCoordinate(U,this.terrain),N=this.transformBbox(e,I,!S),K=this.transformBbox(M,I,!S),F=this.getIds(),B=c.a1.fromPoints(K);for(let U=0;U<F.length;U++){const Y=this._tiles[F[U]];if(Y.holdingForFade())continue;const le=S?[Y.tileID]:[Y.tileID.unwrapTo(-1),Y.tileID.unwrapTo(0)],se=Math.pow(2,b.zoom-Y.tileID.overscaledZ),ce=i*Y.queryPadding*c.$/Y.tileSize/se;for(const he of le){const ye=B.map(pe=>he.getTilePoint(new c.a0(pe.x,pe.y)));if(ye.expandBy(ce),ye.intersects(Be)){const pe=N.map(De=>he.getTilePoint(De)),xe=K.map(De=>he.getTilePoint(De));f.push({tile:Y,tileID:S?he:he.unwrapTo(0),queryGeometry:pe,cameraQueryGeometry:xe,scale:se})}}}return f}transformBbox(e,i,d){let f=e.map(i);if(d){const b=c.a1.fromPoints(e);b.shrinkBy(.001*Math.min(b.width(),b.height()));const S=b.map(i);c.a1.fromPoints(f).covers(S)||(f=f.map(M=>M.x>.5?new c.a0(M.x-1,M.y,M.z):M))}return f}getVisibleCoordinates(e){const i=this.getRenderableIds(e).map(d=>this._tiles[d].tileID);return this.transform&&this.transform.populateCache(i),i}hasTransition(){if(this._source.hasTransition())return!0;if(Et(this._source.type)){const e=Z.now();for(const i in this._tiles)if(this._tiles[i].fadeEndTime>=e)return!0}return!1}setFeatureState(e,i,d){this._state.updateState(e=e||"_geojsonTileLayer",i,d)}removeFeatureState(e,i,d){this._state.removeFeatureState(e=e||"_geojsonTileLayer",i,d)}getFeatureState(e,i){return this._state.getState(e=e||"_geojsonTileLayer",i)}setDependencies(e,i,d){const f=this._tiles[e];f&&f.setDependencies(i,d)}reloadTilesForDependencies(e,i){for(const d in this._tiles)this._tiles[d].hasDependency(e,i)&&this._reloadTile(d,"reloading");this._cache.filter(d=>!d.hasDependency(e,i))}}function Te(y,e){const i=Math.abs(2*y.wrap)-+(y.wrap<0),d=Math.abs(2*e.wrap)-+(e.wrap<0);return y.overscaledZ-e.overscaledZ||d-i||e.canonical.y-y.canonical.y||e.canonical.x-y.canonical.x}function Et(y){return y==="raster"||y==="image"||y==="video"}ut.maxOverzooming=10,ut.maxUnderzooming=3;class ta{constructor(e,i){this.reset(e,i)}reset(e,i){this.points=e||[],this._distances=[0];for(let d=1;d<this.points.length;d++)this._distances[d]=this._distances[d-1]+this.points[d].dist(this.points[d-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(i||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(this.points.length===1)return this.points[0];e=c.ag(e,0,1);let i=1,d=this._distances[i];const f=e*this.paddedLength+this.padding;for(;d<f&&i<this._distances.length;)d=this._distances[++i];const b=i-1,S=this._distances[b],M=d-S,I=M>0?(f-S)/M:0;return this.points[b].mult(1-I).add(this.points[i].mult(I))}}function de(y,e){let i=!0;return y==="always"||y!=="never"&&e!=="never"||(i=!1),i}class Pe{constructor(e,i,d){const f=this.boxCells=[],b=this.circleCells=[];this.xCellCount=Math.ceil(e/d),this.yCellCount=Math.ceil(i/d);for(let S=0;S<this.xCellCount*this.yCellCount;S++)f.push([]),b.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=i,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/i,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,i,d,f,b){this._forEachCell(i,d,f,b,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(i),this.bboxes.push(d),this.bboxes.push(f),this.bboxes.push(b)}insertCircle(e,i,d,f){this._forEachCell(i-f,d-f,i+f,d+f,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(i),this.circles.push(d),this.circles.push(f)}_insertBoxCell(e,i,d,f,b,S){this.boxCells[b].push(S)}_insertCircleCell(e,i,d,f,b,S){this.circleCells[b].push(S)}_query(e,i,d,f,b,S,M){if(d<0||e>this.width||f<0||i>this.height)return[];const I=[];if(e<=0&&i<=0&&this.width<=d&&this.height<=f){if(b)return[{key:null,x1:e,y1:i,x2:d,y2:f}];for(let N=0;N<this.boxKeys.length;N++)I.push({key:this.boxKeys[N],x1:this.bboxes[4*N],y1:this.bboxes[4*N+1],x2:this.bboxes[4*N+2],y2:this.bboxes[4*N+3]});for(let N=0;N<this.circleKeys.length;N++){const K=this.circles[3*N],F=this.circles[3*N+1],B=this.circles[3*N+2];I.push({key:this.circleKeys[N],x1:K-B,y1:F-B,x2:K+B,y2:F+B})}}else this._forEachCell(e,i,d,f,this._queryCell,I,{hitTest:b,overlapMode:S,seenUids:{box:{},circle:{}}},M);return I}query(e,i,d,f){return this._query(e,i,d,f,!1,null)}hitTest(e,i,d,f,b,S){return this._query(e,i,d,f,!0,b,S).length>0}hitTestCircle(e,i,d,f,b){const S=e-d,M=e+d,I=i-d,N=i+d;if(M<0||S>this.width||N<0||I>this.height)return!1;const K=[];return this._forEachCell(S,I,M,N,this._queryCellCircle,K,{hitTest:!0,overlapMode:f,circle:{x:e,y:i,radius:d},seenUids:{box:{},circle:{}}},b),K.length>0}_queryCell(e,i,d,f,b,S,M,I){const{seenUids:N,hitTest:K,overlapMode:F}=M,B=this.boxCells[b];if(B!==null){const Y=this.bboxes;for(const le of B)if(!N.box[le]){N.box[le]=!0;const se=4*le,ce=this.boxKeys[le];if(e<=Y[se+2]&&i<=Y[se+3]&&d>=Y[se+0]&&f>=Y[se+1]&&(!I||I(ce))&&(!K||!de(F,ce.overlapMode))&&(S.push({key:ce,x1:Y[se],y1:Y[se+1],x2:Y[se+2],y2:Y[se+3]}),K))return!0}}const U=this.circleCells[b];if(U!==null){const Y=this.circles;for(const le of U)if(!N.circle[le]){N.circle[le]=!0;const se=3*le,ce=this.circleKeys[le];if(this._circleAndRectCollide(Y[se],Y[se+1],Y[se+2],e,i,d,f)&&(!I||I(ce))&&(!K||!de(F,ce.overlapMode))){const he=Y[se],ye=Y[se+1],pe=Y[se+2];if(S.push({key:ce,x1:he-pe,y1:ye-pe,x2:he+pe,y2:ye+pe}),K)return!0}}}return!1}_queryCellCircle(e,i,d,f,b,S,M,I){const{circle:N,seenUids:K,overlapMode:F}=M,B=this.boxCells[b];if(B!==null){const Y=this.bboxes;for(const le of B)if(!K.box[le]){K.box[le]=!0;const se=4*le,ce=this.boxKeys[le];if(this._circleAndRectCollide(N.x,N.y,N.radius,Y[se+0],Y[se+1],Y[se+2],Y[se+3])&&(!I||I(ce))&&!de(F,ce.overlapMode))return S.push(!0),!0}}const U=this.circleCells[b];if(U!==null){const Y=this.circles;for(const le of U)if(!K.circle[le]){K.circle[le]=!0;const se=3*le,ce=this.circleKeys[le];if(this._circlesCollide(Y[se],Y[se+1],Y[se+2],N.x,N.y,N.radius)&&(!I||I(ce))&&!de(F,ce.overlapMode))return S.push(!0),!0}}}_forEachCell(e,i,d,f,b,S,M,I){const N=this._convertToXCellCoord(e),K=this._convertToYCellCoord(i),F=this._convertToXCellCoord(d),B=this._convertToYCellCoord(f);for(let U=N;U<=F;U++)for(let Y=K;Y<=B;Y++)if(b.call(this,e,i,d,f,this.xCellCount*Y+U,S,M,I))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,i,d,f,b,S){const M=f-e,I=b-i,N=d+S;return N*N>M*M+I*I}_circleAndRectCollide(e,i,d,f,b,S,M){const I=(S-f)/2,N=Math.abs(e-(f+I));if(N>I+d)return!1;const K=(M-b)/2,F=Math.abs(i-(b+K));if(F>K+d)return!1;if(N<=I||F<=K)return!0;const B=N-I,U=F-K;return B*B+U*U<=d*d}}function Ne(y,e,i){const d=c.L();if(!y){const{vecSouth:F,vecEast:B}=yt(e),U=k();U[0]=B[0],U[1]=B[1],U[2]=F[0],U[3]=F[1],f=U,(K=(S=(b=U)[0])*(N=b[3])-(I=b[2])*(M=b[1]))&&(f[0]=N*(K=1/K),f[1]=-M*K,f[2]=-I*K,f[3]=S*K),d[0]=U[0],d[1]=U[1],d[4]=U[2],d[5]=U[3]}var f,b,S,M,I,N,K;return c.N(d,d,[1/i,1/i,1]),d}function dt(y,e,i,d){if(y){const f=c.L();if(!e){const{vecSouth:b,vecEast:S}=yt(i);f[0]=S[0],f[1]=S[1],f[4]=b[0],f[5]=b[1]}return c.N(f,f,[d,d,1]),f}return i.pixelsToClipSpaceMatrix}function yt(y){const e=Math.cos(y.rollInRadians),i=Math.sin(y.rollInRadians),d=Math.cos(y.pitchInRadians),f=Math.cos(y.bearingInRadians),b=Math.sin(y.bearingInRadians),S=c.aq();S[0]=-f*d*i-b*e,S[1]=-b*d*i+f*e;const M=c.ar(S);M<1e-9?c.as(S):c.at(S,S,1/M);const I=c.aq();I[0]=f*d*e-b*i,I[1]=b*d*e+f*i;const N=c.ar(I);return N<1e-9?c.as(I):c.at(I,I,1/N),{vecEast:I,vecSouth:S}}function It(y,e,i,d){let f;d?(f=[y,e,d(y,e),1],c.av(f,f,i)):(f=[y,e,0,1],tr(f,f,i));const b=f[3];return{point:new c.P(f[0]/b,f[1]/b),signedDistanceFromCamera:b,isOccluded:!1}}function Tt(y,e){return .5+y/e*.5}function Pt(y,e){return y.x>=-e[0]&&y.x<=e[0]&&y.y>=-e[1]&&y.y<=e[1]}function Vt(y,e,i,d,f,b,S,M,I,N,K,F,B){const U=i?y.textSizeData:y.iconSizeData,Y=c.am(U,e.transform.zoom),le=[256/e.width*2+1,256/e.height*2+1],se=i?y.text.dynamicLayoutVertexArray:y.icon.dynamicLayoutVertexArray;se.clear();const ce=y.lineVertexArray,he=i?y.text.placedSymbolArray:y.icon.placedSymbolArray,ye=e.transform.width/e.transform.height;let pe=!1;for(let xe=0;xe<he.length;xe++){const De=he.get(xe);if(De.hidden||De.writingMode===c.an.vertical&&!pe){Ki(De.numGlyphs,se);continue}pe=!1;const me=new c.P(De.anchorX,De.anchorY),Ee={getElevation:B,pitchedLabelPlaneMatrix:d,lineVertexArray:ce,pitchWithMap:b,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:e.transform,tileAnchorPoint:me,unwrappedTileID:I,width:N,height:K,translation:F},We=Bt(De.anchorX,De.anchorY,Ee);if(!Pt(We.point,le)){Ki(De.numGlyphs,se);continue}const Ue=Tt(e.transform.cameraToCenterDistance,We.signedDistanceFromCamera),Ge=c.ao(U,Y,De),Ye=b?Ge*e.transform.getPitchedTextCorrection(De.anchorX,De.anchorY,I)/Ue:Ge*Ue,Lt=Ut({projectionContext:Ee,pitchedLabelPlaneMatrixInverse:f,symbol:De,fontSize:Ye,flip:!1,keepUpright:S,glyphOffsetArray:y.glyphOffsetArray,dynamicLayoutVertexArray:se,aspectRatio:ye,rotateToLine:M});pe=Lt.useVertical,(Lt.notEnoughRoom||pe||Lt.needsFlipping&&Ut({projectionContext:Ee,pitchedLabelPlaneMatrixInverse:f,symbol:De,fontSize:Ye,flip:!0,keepUpright:S,glyphOffsetArray:y.glyphOffsetArray,dynamicLayoutVertexArray:se,aspectRatio:ye,rotateToLine:M}).notEnoughRoom)&&Ki(De.numGlyphs,se)}i?y.text.dynamicLayoutVertexBuffer.updateData(se):y.icon.dynamicLayoutVertexBuffer.updateData(se)}function et(y,e,i,d,f,b,S,M){const I=b.glyphStartIndex+b.numGlyphs,N=b.lineStartIndex,K=b.lineStartIndex+b.lineLength,F=e.getoffsetX(b.glyphStartIndex),B=e.getoffsetX(I-1),U=Ci(y*F,i,d,f,b.segment,N,K,M,S);if(!U)return null;const Y=Ci(y*B,i,d,f,b.segment,N,K,M,S);return Y?M.projectionCache.anyProjectionOccluded?null:{first:U,last:Y}:null}function Zt(y,e,i,d){return y===c.an.horizontal&&Math.abs(i.y-e.y)>Math.abs(i.x-e.x)*d?{useVertical:!0}:(y===c.an.vertical?e.y<i.y:e.x>i.x)?{needsFlipping:!0}:null}function Ut(y){const{projectionContext:e,pitchedLabelPlaneMatrixInverse:i,symbol:d,fontSize:f,flip:b,keepUpright:S,glyphOffsetArray:M,dynamicLayoutVertexArray:I,aspectRatio:N,rotateToLine:K}=y,F=f/24,B=d.lineOffsetX*F,U=d.lineOffsetY*F;let Y;if(d.numGlyphs>1){const le=d.glyphStartIndex+d.numGlyphs,se=d.lineStartIndex,ce=d.lineStartIndex+d.lineLength,he=et(F,M,B,U,b,d,K,e);if(!he)return{notEnoughRoom:!0};const ye=Xt(he.first.point.x,he.first.point.y,e,i),pe=Xt(he.last.point.x,he.last.point.y,e,i);if(S&&!b){const xe=Zt(d.writingMode,ye,pe,N);if(xe)return xe}Y=[he.first];for(let xe=d.glyphStartIndex+1;xe<le-1;xe++){const De=Ci(F*M.getoffsetX(xe),B,U,b,d.segment,se,ce,e,K);if(!De)return{notEnoughRoom:!0};Y.push(De)}Y.push(he.last)}else{if(S&&!b){const se=vt(e.tileAnchorPoint.x,e.tileAnchorPoint.y,e).point,ce=d.lineStartIndex+d.segment+1,he=new c.P(e.lineVertexArray.getx(ce),e.lineVertexArray.gety(ce)),ye=vt(he.x,he.y,e),pe=ye.signedDistanceFromCamera>0?ye.point:la(e.tileAnchorPoint,he,se,1,e),xe=Xt(se.x,se.y,e,i),De=Xt(pe.x,pe.y,e,i),me=Zt(d.writingMode,xe,De,N);if(me)return me}const le=Ci(F*M.getoffsetX(d.glyphStartIndex),B,U,b,d.segment,d.lineStartIndex,d.lineStartIndex+d.lineLength,e,K);if(!le||e.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};Y=[le]}for(const le of Y)c.au(I,le.point,le.angle);return{}}function la(y,e,i,d,f){const b=y.add(y.sub(e)._unit()),S=vt(b.x,b.y,f).point,M=i.sub(S);return i.add(M._mult(d/M.mag()))}function Aa(y,e,i){const d=e.projectionCache;if(d.projections[y])return d.projections[y];const f=new c.P(e.lineVertexArray.getx(y),e.lineVertexArray.gety(y)),b=vt(f.x,f.y,e);if(b.signedDistanceFromCamera>0)return d.projections[y]=b.point,d.anyProjectionOccluded=d.anyProjectionOccluded||b.isOccluded,b.point;const S=y-i.direction;return la(i.distanceFromAnchor===0?e.tileAnchorPoint:new c.P(e.lineVertexArray.getx(S),e.lineVertexArray.gety(S)),f,i.previousVertex,i.absOffsetX-i.distanceFromAnchor+1,e)}function vt(y,e,i){const d=y+i.translation[0],f=e+i.translation[1];let b;return i.pitchWithMap?(b=It(d,f,i.pitchedLabelPlaneMatrix,i.getElevation),b.isOccluded=!1):(b=i.transform.projectTileCoordinates(d,f,i.unwrappedTileID,i.getElevation),b.point.x=(.5*b.point.x+.5)*i.width,b.point.y=(.5*-b.point.y+.5)*i.height),b}function Xt(y,e,i,d){if(i.pitchWithMap){const f=[y,e,0,1];return c.av(f,f,d),i.transform.projectTileCoordinates(f[0]/f[3],f[1]/f[3],i.unwrappedTileID,i.getElevation).point}return{x:y/i.width*2-1,y:1-e/i.height*2}}function Bt(y,e,i){return i.transform.projectTileCoordinates(y,e,i.unwrappedTileID,i.getElevation)}function pa(y,e,i){return y._unit()._perp()._mult(e*i)}function Xr(y,e,i,d,f,b,S,M,I){if(M.projectionCache.offsets[y])return M.projectionCache.offsets[y];const N=i.add(e);if(y+I.direction<d||y+I.direction>=f)return M.projectionCache.offsets[y]=N,N;const K=Aa(y+I.direction,M,I),F=pa(K.sub(i),S,I.direction),B=i.add(F),U=K.add(F);return M.projectionCache.offsets[y]=c.aw(b,N,B,U)||N,M.projectionCache.offsets[y]}function Ci(y,e,i,d,f,b,S,M,I){const N=d?y-e:y+e;let K=N>0?1:-1,F=0;d&&(K*=-1,F=Math.PI),K<0&&(F+=Math.PI);let B,U=K>0?b+f:b+f+1;M.projectionCache.cachedAnchorPoint?B=M.projectionCache.cachedAnchorPoint:(B=vt(M.tileAnchorPoint.x,M.tileAnchorPoint.y,M).point,M.projectionCache.cachedAnchorPoint=B);let Y,le,se=B,ce=B,he=0,ye=0;const pe=Math.abs(N),xe=[];let De;for(;he+ye<=pe;){if(U+=K,U<b||U>=S)return null;he+=ye,ce=se,le=Y;const We={absOffsetX:pe,direction:K,distanceFromAnchor:he,previousVertex:ce};if(se=Aa(U,M,We),i===0)xe.push(ce),De=se.sub(ce);else{let Ue;const Ge=se.sub(ce);Ue=Ge.mag()===0?pa(Aa(U+K,M,We).sub(se),i,K):pa(Ge,i,K),le||(le=ce.add(Ue)),Y=Xr(U,Ue,se,b,S,le,i,M,We),xe.push(le),De=Y.sub(le)}ye=De.mag()}const me=De._mult((pe-he)/ye)._add(le||ce),Ee=F+Math.atan2(se.y-ce.y,se.x-ce.x);return xe.push(me),{point:me,angle:I?Ee:0,path:xe}}const ra=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ki(y,e){for(let i=0;i<y;i++){const d=e.length;e.resize(d+4),e.float32.set(ra,3*d)}}function tr(y,e,i){const d=e[0],f=e[1];return y[0]=i[0]*d+i[4]*f+i[12],y[1]=i[1]*d+i[5]*f+i[13],y[3]=i[3]*d+i[7]*f+i[15],y}const ei=100;class Oo{constructor(e,i=new Pe(e.width+200,e.height+200,25),d=new Pe(e.width+200,e.height+200,25)){this.transform=e,this.grid=i,this.ignoredGrid=d,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+ei,this.screenBottomBoundary=e.height+ei,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,i,d,f,b,S,M,I,N,K,F,B){const U=this.projectAndGetPerspectiveRatio(e.anchorPointX+I[0],e.anchorPointY+I[1],b,K,B),Y=d*U.perspectiveRatio;let le;if(S||M)le=this._projectCollisionBox(e,Y,f,b,S,M,I,U,K,F,B);else{const De=U.x+(F?F.x*Y:0),me=U.y+(F?F.y*Y:0);le={allPointsOccluded:!1,box:[De+e.x1*Y,me+e.y1*Y,De+e.x2*Y,me+e.y2*Y]}}const[se,ce,he,ye]=le.box,pe=S?le.allPointsOccluded:U.isOccluded;let xe=pe;return xe||(xe=U.perspectiveRatio<this.perspectiveRatioCutoff),xe||(xe=!this.isInsideGrid(se,ce,he,ye)),xe||i!=="always"&&this.grid.hitTest(se,ce,he,ye,i,N)?{box:[se,ce,he,ye],placeable:!1,offscreen:!1,occluded:pe}:{box:[se,ce,he,ye],placeable:!0,offscreen:this.isOffscreen(se,ce,he,ye),occluded:pe}}placeCollisionCircles(e,i,d,f,b,S,M,I,N,K,F,B,U,Y){const le=[],se=new c.P(i.anchorX,i.anchorY),ce=this.getPerspectiveRatio(se.x,se.y,S,Y),he=(N?b*this.transform.getPitchedTextCorrection(i.anchorX,i.anchorY,S)/ce:b*ce)/c.aA,ye={getElevation:Y,pitchedLabelPlaneMatrix:M,lineVertexArray:d,pitchWithMap:N,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:se,unwrappedTileID:S,width:this.transform.width,height:this.transform.height,translation:U},pe=et(he,f,i.lineOffsetX*he,i.lineOffsetY*he,!1,i,!1,ye);let xe=!1,De=!1,me=!0;if(pe){const Ee=.5*F*ce+B,We=new c.P(-100,-100),Ue=new c.P(this.screenRightBoundary,this.screenBottomBoundary),Ge=new ta,Ye=pe.first,Lt=pe.last;let At=[];for(let va=Ye.path.length-1;va>=1;va--)At.push(Ye.path[va]);for(let va=1;va<Lt.path.length;va++)At.push(Lt.path[va]);const mt=2.5*Ee;if(N){const va=this.projectPathToScreenSpace(At,ye);At=va.some(Ra=>Ra.signedDistanceFromCamera<=0)?[]:va.map(Ra=>Ra.point)}let Ot=[];if(At.length>0){const va=At[0].clone(),Ra=At[0].clone();for(let wi=1;wi<At.length;wi++)va.x=Math.min(va.x,At[wi].x),va.y=Math.min(va.y,At[wi].y),Ra.x=Math.max(Ra.x,At[wi].x),Ra.y=Math.max(Ra.y,At[wi].y);Ot=va.x>=We.x&&Ra.x<=Ue.x&&va.y>=We.y&&Ra.y<=Ue.y?[At]:Ra.x<We.x||va.x>Ue.x||Ra.y<We.y||va.y>Ue.y?[]:c.ax([At],We.x,We.y,Ue.x,Ue.y)}for(const va of Ot){Ge.reset(va,.25*Ee);let Ra=0;Ra=Ge.length<=.5*Ee?1:Math.ceil(Ge.paddedLength/mt)+1;for(let wi=0;wi<Ra;wi++){const Ha=wi/Math.max(Ra-1,1),Di=Ge.lerp(Ha),Xa=Di.x+ei,Za=Di.y+ei;le.push(Xa,Za,Ee,0);const Ya=Xa-Ee,hn=Za-Ee,Ia=Xa+Ee,pn=Za+Ee;if(me=me&&this.isOffscreen(Ya,hn,Ia,pn),De=De||this.isInsideGrid(Ya,hn,Ia,pn),e!=="always"&&this.grid.hitTestCircle(Xa,Za,Ee,e,K)&&(xe=!0,!I))return{circles:[],offscreen:!1,collisionDetected:xe}}}}return{circles:!I&&xe||!De||ce<this.perspectiveRatioCutoff?[]:le,offscreen:me,collisionDetected:xe}}projectPathToScreenSpace(e,i){const d=function(f,b){const S=c.L();return c.ap(S,b.pitchedLabelPlaneMatrix),f.map(M=>{const I=It(M.x,M.y,S,b.getElevation),N=b.transform.projectTileCoordinates(I.point.x,I.point.y,b.unwrappedTileID,b.getElevation);return N.point.x=(.5*N.point.x+.5)*b.width,N.point.y=(.5*-N.point.y+.5)*b.height,N})}(e,i);return function(f){let b=0,S=0,M=0,I=0;for(let N=0;N<f.length;N++)f[N].isOccluded?(M=N+1,I=0):(I++,I>S&&(S=I,b=M));return f.slice(b,b+S)}(d)}queryRenderedSymbols(e){if(e.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const i=[],d=new c.a1;for(const F of e){const B=new c.P(F.x+ei,F.y+ei);d.extend(B),i.push(B)}const{minX:f,minY:b,maxX:S,maxY:M}=d,I=this.grid.query(f,b,S,M).concat(this.ignoredGrid.query(f,b,S,M)),N={},K={};for(const F of I){const B=F.key;if(N[B.bucketInstanceId]===void 0&&(N[B.bucketInstanceId]={}),N[B.bucketInstanceId][B.featureIndex])continue;const U=[new c.P(F.x1,F.y1),new c.P(F.x2,F.y1),new c.P(F.x2,F.y2),new c.P(F.x1,F.y2)];c.ay(i,U)&&(N[B.bucketInstanceId][B.featureIndex]=!0,K[B.bucketInstanceId]===void 0&&(K[B.bucketInstanceId]=[]),K[B.bucketInstanceId].push(B.featureIndex))}return K}insertCollisionBox(e,i,d,f,b,S){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:f,featureIndex:b,collisionGroupID:S,overlapMode:i},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,i,d,f,b,S){const M=d?this.ignoredGrid:this.grid,I={bucketInstanceId:f,featureIndex:b,collisionGroupID:S,overlapMode:i};for(let N=0;N<e.length;N+=4)M.insertCircle(I,e[N],e[N+1],e[N+2])}projectAndGetPerspectiveRatio(e,i,d,f,b){if(b){let S;f?(S=[e,i,f(e,i),1],c.av(S,S,b)):(S=[e,i,0,1],tr(S,S,b));const M=S[3];return{x:(S[0]/M+1)/2*this.transform.width+ei,y:(-S[1]/M+1)/2*this.transform.height+ei,perspectiveRatio:.5+this.transform.cameraToCenterDistance/M*.5,isOccluded:!1,signedDistanceFromCamera:M}}{const S=this.transform.projectTileCoordinates(e,i,d,f);return{x:(S.point.x+1)/2*this.transform.width+ei,y:(1-S.point.y)/2*this.transform.height+ei,perspectiveRatio:.5+this.transform.cameraToCenterDistance/S.signedDistanceFromCamera*.5,isOccluded:S.isOccluded,signedDistanceFromCamera:S.signedDistanceFromCamera}}}getPerspectiveRatio(e,i,d,f){const b=this.transform.projectTileCoordinates(e,i,d,f);return .5+this.transform.cameraToCenterDistance/b.signedDistanceFromCamera*.5}isOffscreen(e,i,d,f){return d<ei||e>=this.screenRightBoundary||f<ei||i>this.screenBottomBoundary}isInsideGrid(e,i,d,f){return d>=0&&e<this.gridRightBoundary&&f>=0&&i<this.gridBottomBoundary}getViewportMatrix(){const e=c.af([]);return c.M(e,e,[-100,-100,0]),e}_projectCollisionBox(e,i,d,f,b,S,M,I,N,K,F){let B=1,U=0,Y=0,le=1;const se=e.anchorPointX+M[0],ce=e.anchorPointY+M[1];if(S&&!b){const At=this.projectAndGetPerspectiveRatio(se+1,ce,f,N,F),mt=At.x-I.x,Ot=Math.atan((At.y-I.y)/mt)+(mt<0?Math.PI:0),va=Math.sin(Ot),Ra=Math.cos(Ot);B=Ra,U=va,Y=-va,le=Ra}else if(!S&&b){const At=yt(this.transform);B=At.vecEast[0],U=At.vecEast[1],Y=At.vecSouth[0],le=At.vecSouth[1]}let he=I.x,ye=I.y,pe=i;b&&(he=se,ye=ce,pe=Math.pow(2,-(this.transform.zoom-d.overscaledZ)),pe*=this.transform.getPitchedTextCorrection(se,ce,f),K||(pe*=c.ag(.5+I.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),K&&(he+=B*K.x*pe+Y*K.y*pe,ye+=U*K.x*pe+le*K.y*pe);const xe=e.x1*pe,De=e.x2*pe,me=(xe+De)/2,Ee=e.y1*pe,We=e.y2*pe,Ue=(Ee+We)/2,Ge=[{offsetX:xe,offsetY:Ee},{offsetX:me,offsetY:Ee},{offsetX:De,offsetY:Ee},{offsetX:De,offsetY:Ue},{offsetX:De,offsetY:We},{offsetX:me,offsetY:We},{offsetX:xe,offsetY:We},{offsetX:xe,offsetY:Ue}];let Ye=[];for(const{offsetX:At,offsetY:mt}of Ge)Ye.push(new c.P(he+B*At+Y*mt,ye+U*At+le*mt));let Lt=!1;if(b){const At=Ye.map(mt=>this.projectAndGetPerspectiveRatio(mt.x,mt.y,f,N,F));Lt=At.some(mt=>!mt.isOccluded),Ye=At.map(mt=>new c.P(mt.x,mt.y))}else Lt=!0;return{box:c.az(Ye),allPointsOccluded:!Lt}}}class kn{constructor(e,i,d,f){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?i:-i))):f&&d?1:0,this.placed=d}isHidden(){return this.opacity===0&&!this.placed}}class Pn{constructor(e,i,d,f,b){this.text=new kn(e?e.text:null,i,d,b),this.icon=new kn(e?e.icon:null,i,f,b)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class _a{constructor(e,i,d){this.text=e,this.icon=i,this.skipFade=d}}class ti{constructor(e,i,d,f,b){this.bucketInstanceId=e,this.featureIndex=i,this.sourceLayerIndex=d,this.bucketIndex=f,this.tileID=b}}class ja{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const i=++this.maxGroupID;this.collisionGroups[e]={ID:i,predicate:d=>d.collisionGroupID===i}}return this.collisionGroups[e]}}function Ar(y,e,i,d,f){const{horizontalAlign:b,verticalAlign:S}=c.aG(y);return new c.P(-(b-.5)*e+d[0]*f,-(S-.5)*i+d[1]*f)}class Zr{constructor(e,i,d,f,b){this.transform=e.clone(),this.terrain=i,this.collisionIndex=new Oo(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new ja(f),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=b,b&&(b.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){const i=this.terrain;return i?(d,f)=>i.getElevation(e,d,f):null}getBucketParts(e,i,d,f){const b=d.getBucket(i),S=d.latestFeatureIndex;if(!b||!S||i.id!==b.layerIds[0])return;const M=d.collisionBoxArray,I=b.layers[0].layout,N=b.layers[0].paint,K=Math.pow(2,this.transform.zoom-d.tileID.overscaledZ),F=d.tileSize/c.$,B=d.tileID.toUnwrapped(),U=I.get("text-rotation-alignment")==="map",Y=c.aB(d,1,this.transform.zoom),le=c.aC(this.collisionIndex.transform,d,N.get("text-translate"),N.get("text-translate-anchor")),se=c.aC(this.collisionIndex.transform,d,N.get("icon-translate"),N.get("icon-translate-anchor")),ce=Ne(U,this.transform,Y);this.retainedQueryData[b.bucketInstanceId]=new ti(b.bucketInstanceId,S,b.sourceLayerIndex,b.index,d.tileID);const he={bucket:b,layout:I,translationText:le,translationIcon:se,unwrappedTileID:B,pitchedLabelPlaneMatrix:ce,scale:K,textPixelRatio:F,holdingForFade:d.holdingForFade(),collisionBoxArray:M,partiallyEvaluatedTextSize:c.am(b.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(b.sourceID)};if(f)for(const ye of b.sortKeyRanges){const{sortKey:pe,symbolInstanceStart:xe,symbolInstanceEnd:De}=ye;e.push({sortKey:pe,symbolInstanceStart:xe,symbolInstanceEnd:De,parameters:he})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:b.symbolInstances.length,parameters:he})}attemptAnchorPlacement(e,i,d,f,b,S,M,I,N,K,F,B,U,Y,le,se,ce,he,ye,pe){const xe=c.aD[e.textAnchor],De=[e.textOffset0,e.textOffset1],me=Ar(xe,d,f,De,b),Ee=this.collisionIndex.placeCollisionBox(i,B,I,N,K,M,S,se,F.predicate,ye,me,pe);if((!he||this.collisionIndex.placeCollisionBox(he,B,I,N,K,M,S,ce,F.predicate,ye,me,pe).placeable)&&Ee.placeable){let We;if(this.prevPlacement&&this.prevPlacement.variableOffsets[U.crossTileID]&&this.prevPlacement.placements[U.crossTileID]&&this.prevPlacement.placements[U.crossTileID].text&&(We=this.prevPlacement.variableOffsets[U.crossTileID].anchor),U.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[U.crossTileID]={textOffset:De,width:d,height:f,anchor:xe,textBoxScale:b,prevAnchor:We},this.markUsedJustification(Y,xe,U,le),Y.allowVerticalPlacement&&(this.markUsedOrientation(Y,le,U),this.placedOrientations[U.crossTileID]=le),{shift:me,placedGlyphBoxes:Ee}}}placeLayerBucketPart(e,i,d){const{bucket:f,layout:b,translationText:S,translationIcon:M,unwrappedTileID:I,pitchedLabelPlaneMatrix:N,textPixelRatio:K,holdingForFade:F,collisionBoxArray:B,partiallyEvaluatedTextSize:U,collisionGroup:Y}=e.parameters,le=b.get("text-optional"),se=b.get("icon-optional"),ce=c.aE(b,"text-overlap","text-allow-overlap"),he=ce==="always",ye=c.aE(b,"icon-overlap","icon-allow-overlap"),pe=ye==="always",xe=b.get("text-rotation-alignment")==="map",De=b.get("text-pitch-alignment")==="map",me=b.get("icon-text-fit")!=="none",Ee=b.get("symbol-z-order")==="viewport-y",We=he&&(pe||!f.hasIconData()||se),Ue=pe&&(he||!f.hasTextData()||le);!f.collisionArrays&&B&&f.deserializeCollisionBoxes(B);const Ge=this.retainedQueryData[f.bucketInstanceId].tileID,Ye=this._getTerrainElevationFunc(Ge),Lt=this.transform.getFastPathSimpleProjectionMatrix(Ge),At=(mt,Ot,va)=>{var Ra,wi;if(i[mt.crossTileID])return;if(F)return void(this.placements[mt.crossTileID]=new _a(!1,!1,!1));let Ha=!1,Di=!1,Xa=!0,Za=null,Ya={box:null,placeable:!1,offscreen:null,occluded:!1},hn={placeable:!1},Ia=null,pn=null,Ln=null,Ms=0,es=0,jr=0;Ot.textFeatureIndex?Ms=Ot.textFeatureIndex:mt.useRuntimeCollisionCircles&&(Ms=mt.featureIndex),Ot.verticalTextFeatureIndex&&(es=Ot.verticalTextFeatureIndex);const Kr=Ot.textBox;if(Kr){const En=di=>{let $a=c.an.horizontal;if(f.allowVerticalPlacement&&!di&&this.prevPlacement){const wn=this.prevPlacement.placedOrientations[mt.crossTileID];wn&&(this.placedOrientations[mt.crossTileID]=wn,$a=wn,this.markUsedOrientation(f,$a,mt))}return $a},Or=(di,$a)=>{if(f.allowVerticalPlacement&&mt.numVerticalGlyphVertices>0&&Ot.verticalTextBox){for(const wn of f.writingModes)if(wn===c.an.vertical?(Ya=$a(),hn=Ya):Ya=di(),Ya&&Ya.placeable)break}else Ya=di()},ts=mt.textAnchorOffsetStartIndex,gl=mt.textAnchorOffsetEndIndex;if(gl===ts){const di=($a,wn)=>{const Ei=this.collisionIndex.placeCollisionBox($a,ce,K,Ge,I,De,xe,S,Y.predicate,Ye,void 0,Lt);return Ei&&Ei.placeable&&(this.markUsedOrientation(f,wn,mt),this.placedOrientations[mt.crossTileID]=wn),Ei};Or(()=>di(Kr,c.an.horizontal),()=>{const $a=Ot.verticalTextBox;return f.allowVerticalPlacement&&mt.numVerticalGlyphVertices>0&&$a?di($a,c.an.vertical):{box:null,offscreen:null}}),En(Ya&&Ya.placeable)}else{let di=c.aD[(wi=(Ra=this.prevPlacement)===null||Ra===void 0?void 0:Ra.variableOffsets[mt.crossTileID])===null||wi===void 0?void 0:wi.anchor];const $a=(Ei,Qc,Xh)=>{const Ku=Ei.x2-Ei.x1,Ao=Ei.y2-Ei.y1,yl=mt.textBoxScale,sn=me&&ye==="never"?Qc:null;let vi=null,On=ce==="never"?1:2,Ou="never";di&&On++;for(let Wn=0;Wn<On;Wn++){for(let lo=ts;lo<gl;lo++){const Hi=f.textAnchorOffsets.get(lo);if(di&&Hi.textAnchor!==di)continue;const Is=this.attemptAnchorPlacement(Hi,Ei,Ku,Ao,yl,xe,De,K,Ge,I,Y,Ou,mt,f,Xh,S,M,sn,Ye);if(Is&&(vi=Is.placedGlyphBoxes,vi&&vi.placeable))return Ha=!0,Za=Is.shift,vi}di?di=null:Ou=ce}return d&&!vi&&(vi={box:this.collisionIndex.placeCollisionBox(Kr,"always",K,Ge,I,De,xe,S,Y.predicate,Ye,void 0,Lt).box,offscreen:!1,placeable:!1,occluded:!1}),vi};Or(()=>$a(Kr,Ot.iconBox,c.an.horizontal),()=>{const Ei=Ot.verticalTextBox;return f.allowVerticalPlacement&&(!Ya||!Ya.placeable)&&mt.numVerticalGlyphVertices>0&&Ei?$a(Ei,Ot.verticalIconBox,c.an.vertical):{box:null,occluded:!0,offscreen:null}}),Ya&&(Ha=Ya.placeable,Xa=Ya.offscreen);const wn=En(Ya&&Ya.placeable);if(!Ha&&this.prevPlacement){const Ei=this.prevPlacement.variableOffsets[mt.crossTileID];Ei&&(this.variableOffsets[mt.crossTileID]=Ei,this.markUsedJustification(f,Ei.anchor,mt,wn))}}}if(Ia=Ya,Ha=Ia&&Ia.placeable,Xa=Ia&&Ia.offscreen,mt.useRuntimeCollisionCircles){const En=f.text.placedSymbolArray.get(mt.centerJustifiedTextSymbolIndex),Or=c.ao(f.textSizeData,U,En),ts=b.get("text-padding");pn=this.collisionIndex.placeCollisionCircles(ce,En,f.lineVertexArray,f.glyphOffsetArray,Or,I,N,d,De,Y.predicate,mt.collisionCircleDiameter,ts,S,Ye),pn.circles.length&&pn.collisionDetected&&!d&&c.w("Collisions detected, but collision boxes are not shown"),Ha=he||pn.circles.length>0&&!pn.collisionDetected,Xa=Xa&&pn.offscreen}if(Ot.iconFeatureIndex&&(jr=Ot.iconFeatureIndex),Ot.iconBox){const En=Or=>this.collisionIndex.placeCollisionBox(Or,ye,K,Ge,I,De,xe,M,Y.predicate,Ye,me&&Za?Za:void 0,Lt);hn&&hn.placeable&&Ot.verticalIconBox?(Ln=En(Ot.verticalIconBox),Di=Ln.placeable):(Ln=En(Ot.iconBox),Di=Ln.placeable),Xa=Xa&&Ln.offscreen}const As=le||mt.numHorizontalGlyphVertices===0&&mt.numVerticalGlyphVertices===0,oc=se||mt.numIconVertices===0;As||oc?oc?As||(Di=Di&&Ha):Ha=Di&&Ha:Di=Ha=Di&&Ha;const ml=Di&&Ln.placeable;if(Ha&&Ia.placeable&&this.collisionIndex.insertCollisionBox(Ia.box,ce,b.get("text-ignore-placement"),f.bucketInstanceId,hn&&hn.placeable&&es?es:Ms,Y.ID),ml&&this.collisionIndex.insertCollisionBox(Ln.box,ye,b.get("icon-ignore-placement"),f.bucketInstanceId,jr,Y.ID),pn&&Ha&&this.collisionIndex.insertCollisionCircles(pn.circles,ce,b.get("text-ignore-placement"),f.bucketInstanceId,Ms,Y.ID),d&&this.storeCollisionData(f.bucketInstanceId,va,Ot,Ia,Ln,pn),mt.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(f.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[mt.crossTileID]=new _a((Ha||We)&&!Ia?.occluded,(Di||Ue)&&!Ln?.occluded,Xa||f.justReloaded),i[mt.crossTileID]=!0};if(Ee){if(e.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const mt=f.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let Ot=mt.length-1;Ot>=0;--Ot){const va=mt[Ot];At(f.symbolInstances.get(va),f.collisionArrays[va],va)}}else for(let mt=e.symbolInstanceStart;mt<e.symbolInstanceEnd;mt++)At(f.symbolInstances.get(mt),f.collisionArrays[mt],mt);f.justReloaded=!1}storeCollisionData(e,i,d,f,b,S){if(d.textBox||d.iconBox){let M,I;this.collisionBoxArrays.has(e)?M=this.collisionBoxArrays.get(e):(M=new Map,this.collisionBoxArrays.set(e,M)),M.has(i)?I=M.get(i):(I={text:null,icon:null},M.set(i,I)),d.textBox&&(I.text=f.box),d.iconBox&&(I.icon=b.box)}if(S){let M=this.collisionCircleArrays[e];M===void 0&&(M=this.collisionCircleArrays[e]=[]);for(let I=0;I<S.circles.length;I+=4)M.push(S.circles[I+0]-ei),M.push(S.circles[I+1]-ei),M.push(S.circles[I+2]),M.push(S.collisionDetected?1:0)}}markUsedJustification(e,i,d,f){let b;b=f===c.an.vertical?d.verticalPlacedTextSymbolIndex:{left:d.leftJustifiedTextSymbolIndex,center:d.centerJustifiedTextSymbolIndex,right:d.rightJustifiedTextSymbolIndex}[c.aF(i)];const S=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex,d.verticalPlacedTextSymbolIndex];for(const M of S)M>=0&&(e.text.placedSymbolArray.get(M).crossTileID=b>=0&&M!==b?0:d.crossTileID)}markUsedOrientation(e,i,d){const f=i===c.an.horizontal||i===c.an.horizontalOnly?i:0,b=i===c.an.vertical?i:0,S=[d.leftJustifiedTextSymbolIndex,d.centerJustifiedTextSymbolIndex,d.rightJustifiedTextSymbolIndex];for(const M of S)e.text.placedSymbolArray.get(M).placedOrientation=f;d.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(d.verticalPlacedTextSymbolIndex).placedOrientation=b)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const i=this.prevPlacement;let d=!1;this.prevZoomAdjustment=i?i.zoomAdjustment(this.transform.zoom):0;const f=i?i.symbolFadeChange(e):1,b=i?i.opacities:{},S=i?i.variableOffsets:{},M=i?i.placedOrientations:{};for(const I in this.placements){const N=this.placements[I],K=b[I];K?(this.opacities[I]=new Pn(K,f,N.text,N.icon),d=d||N.text!==K.text.placed||N.icon!==K.icon.placed):(this.opacities[I]=new Pn(null,f,N.text,N.icon,N.skipFade),d=d||N.text||N.icon)}for(const I in b){const N=b[I];if(!this.opacities[I]){const K=new Pn(N,f,!1,!1);K.isHidden()||(this.opacities[I]=K,d=d||N.text.placed||N.icon.placed)}}for(const I in S)this.variableOffsets[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.variableOffsets[I]=S[I]);for(const I in M)this.placedOrientations[I]||!this.opacities[I]||this.opacities[I].isHidden()||(this.placedOrientations[I]=M[I]);if(i&&i.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");d?this.lastPlacementChangeTime=e:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=i?i.lastPlacementChangeTime:e)}updateLayerOpacities(e,i){const d={};for(const f of i){const b=f.getBucket(e);b&&f.latestFeatureIndex&&e.id===b.layerIds[0]&&this.updateBucketOpacities(b,f.tileID,d,f.collisionBoxArray)}}updateBucketOpacities(e,i,d,f){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const b=e.layers[0],S=b.layout,M=new Pn(null,0,!1,!1,!0),I=S.get("text-allow-overlap"),N=S.get("icon-allow-overlap"),K=b._unevaluatedLayout.hasValue("text-variable-anchor")||b._unevaluatedLayout.hasValue("text-variable-anchor-offset"),F=S.get("text-rotation-alignment")==="map",B=S.get("text-pitch-alignment")==="map",U=S.get("icon-text-fit")!=="none",Y=new Pn(null,0,I&&(N||!e.hasIconData()||S.get("icon-optional")),N&&(I||!e.hasTextData()||S.get("text-optional")),!0);!e.collisionArrays&&f&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(f);const le=(ce,he,ye)=>{for(let pe=0;pe<he/4;pe++)ce.opacityVertexArray.emplaceBack(ye);ce.hasVisibleVertices=ce.hasVisibleVertices||ye!==Dc},se=this.collisionBoxArrays.get(e.bucketInstanceId);for(let ce=0;ce<e.symbolInstances.length;ce++){const he=e.symbolInstances.get(ce),{numHorizontalGlyphVertices:ye,numVerticalGlyphVertices:pe,crossTileID:xe}=he;let De=this.opacities[xe];d[xe]?De=M:De||(De=Y,this.opacities[xe]=De),d[xe]=!0;const me=he.numIconVertices>0,Ee=this.placedOrientations[he.crossTileID],We=Ee===c.an.vertical,Ue=Ee===c.an.horizontal||Ee===c.an.horizontalOnly;if(ye>0||pe>0){const Ye=Pc(De.text);le(e.text,ye,We?Dc:Ye),le(e.text,pe,Ue?Dc:Ye);const Lt=De.text.isHidden();[he.rightJustifiedTextSymbolIndex,he.centerJustifiedTextSymbolIndex,he.leftJustifiedTextSymbolIndex].forEach(Ot=>{Ot>=0&&(e.text.placedSymbolArray.get(Ot).hidden=Lt||We?1:0)}),he.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(he.verticalPlacedTextSymbolIndex).hidden=Lt||Ue?1:0);const At=this.variableOffsets[he.crossTileID];At&&this.markUsedJustification(e,At.anchor,he,Ee);const mt=this.placedOrientations[he.crossTileID];mt&&(this.markUsedJustification(e,"left",he,mt),this.markUsedOrientation(e,mt,he))}if(me){const Ye=Pc(De.icon),Lt=!(U&&he.verticalPlacedIconSymbolIndex&&We);he.placedIconSymbolIndex>=0&&(le(e.icon,he.numIconVertices,Lt?Ye:Dc),e.icon.placedSymbolArray.get(he.placedIconSymbolIndex).hidden=De.icon.isHidden()),he.verticalPlacedIconSymbolIndex>=0&&(le(e.icon,he.numVerticalIconVertices,Lt?Dc:Ye),e.icon.placedSymbolArray.get(he.verticalPlacedIconSymbolIndex).hidden=De.icon.isHidden())}const Ge=se&&se.has(ce)?se.get(ce):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const Ye=e.collisionArrays[ce];if(Ye){let Lt=new c.P(0,0);if(Ye.textBox||Ye.verticalTextBox){let At=!0;if(K){const mt=this.variableOffsets[xe];mt?(Lt=Ar(mt.anchor,mt.width,mt.height,mt.textOffset,mt.textBoxScale),F&&Lt._rotate(B?-this.transform.bearingInRadians:this.transform.bearingInRadians)):At=!1}if(Ye.textBox||Ye.verticalTextBox){let mt;Ye.textBox&&(mt=We),Ye.verticalTextBox&&(mt=Ue),li(e.textCollisionBox.collisionVertexArray,De.text.placed,!At||mt,Ge.text,Lt.x,Lt.y)}}if(Ye.iconBox||Ye.verticalIconBox){const At=!!(!Ue&&Ye.verticalIconBox);let mt;Ye.iconBox&&(mt=At),Ye.verticalIconBox&&(mt=!At),li(e.iconCollisionBox.collisionVertexArray,De.icon.placed,mt,Ge.icon,U?Lt.x:0,U?Lt.y:0)}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId])}symbolFadeChange(e){return this.fadeDuration===0?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,i){const d=this.zoomAtLastRecencyCheck===i?1-this.zoomAdjustment(i):1;return this.zoomAtLastRecencyCheck=i,this.commitTime+this.fadeDuration*d>e}setStale(){this.stale=!0}}function li(y,e,i,d,f,b){d&&d.length!==0||(d=[0,0,0,0]);const S=d[0]-ei,M=d[1]-ei,I=d[2]-ei,N=d[3]-ei;y.emplaceBack(e?1:0,i?1:0,f||0,b||0,S,M),y.emplaceBack(e?1:0,i?1:0,f||0,b||0,I,M),y.emplaceBack(e?1:0,i?1:0,f||0,b||0,I,N),y.emplaceBack(e?1:0,i?1:0,f||0,b||0,S,N)}const ar=Math.pow(2,25),Ir=Math.pow(2,24),Gn=Math.pow(2,17),md=Math.pow(2,16),Nh=Math.pow(2,9),qo=Math.pow(2,8),gd=Math.pow(2,1);function Pc(y){if(y.opacity===0&&!y.placed)return 0;if(y.opacity===1&&y.placed)return 4294967295;const e=y.placed?1:0,i=Math.floor(127*y.opacity);return i*ar+e*Ir+i*Gn+e*md+i*Nh+e*qo+i*gd+e}const Dc=0;class Lr{constructor(e){this._sortAcrossTiles=e.layout.get("symbol-z-order")!=="viewport-y"&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,i,d,f,b){const S=this._bucketParts;for(;this._currentTileIndex<e.length;)if(i.getBucketParts(S,f,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,b())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,S.sort((M,I)=>M.sortKey-I.sortKey));this._currentPartIndex<S.length;)if(i.placeLayerBucketPart(S[this._currentPartIndex],this._seenCrossTileIDs,d),this._currentPartIndex++,b())return!0;return!1}}class fu{constructor(e,i,d,f,b,S,M,I){this.placement=new Zr(e,i,S,M,I),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=f,this._showCollisionBoxes=b,this._done=!1}isDone(){return this._done}continuePlacement(e,i,d){const f=Z.now(),b=()=>!this._forceFullPlacement&&Z.now()-f>2;for(;this._currentPlacementIndex>=0;){const S=i[e[this._currentPlacementIndex]],M=this.placement.collisionIndex.transform.zoom;if(S.type==="symbol"&&(!S.minzoom||S.minzoom<=M)&&(!S.maxzoom||S.maxzoom>M)){if(this._inProgressLayer||(this._inProgressLayer=new Lr(S)),this._inProgressLayer.continuePlacement(d[S.source],this.placement,this._showCollisionBoxes,S,b))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Hs=512/c.$/2;class Mc{constructor(e,i,d){this.tileID=e,this.bucketInstanceId=d,this._symbolsByKey={};const f=new Map;for(let b=0;b<i.length;b++){const S=i.get(b),M=S.key,I=f.get(M);I?I.push(S):f.set(M,[S])}for(const[b,S]of f){const M={positions:S.map(I=>({x:Math.floor(I.anchorX*Hs),y:Math.floor(I.anchorY*Hs)})),crossTileIDs:S.map(I=>I.crossTileID)};if(M.positions.length>128){const I=new c.aH(M.positions.length,16,Uint16Array);for(const{x:N,y:K}of M.positions)I.add(N,K);I.finish(),delete M.positions,M.index=I}this._symbolsByKey[b]=M}}getScaledCoordinates(e,i){const{x:d,y:f,z:b}=this.tileID.canonical,{x:S,y:M,z:I}=i.canonical,N=Hs/Math.pow(2,I-b),K=(M*c.$+e.anchorY)*N,F=f*c.$*Hs;return{x:Math.floor((S*c.$+e.anchorX)*N-d*c.$*Hs),y:Math.floor(K-F)}}findMatches(e,i,d){const f=this.tileID.canonical.z<i.canonical.z?1:Math.pow(2,this.tileID.canonical.z-i.canonical.z);for(let b=0;b<e.length;b++){const S=e.get(b);if(S.crossTileID)continue;const M=this._symbolsByKey[S.key];if(!M)continue;const I=this.getScaledCoordinates(S,i);if(M.index){const N=M.index.range(I.x-f,I.y-f,I.x+f,I.y+f).sort();for(const K of N){const F=M.crossTileIDs[K];if(!d[F]){d[F]=!0,S.crossTileID=F;break}}}else if(M.positions)for(let N=0;N<M.positions.length;N++){const K=M.positions[N],F=M.crossTileIDs[N];if(Math.abs(K.x-I.x)<=f&&Math.abs(K.y-I.y)<=f&&!d[F]){d[F]=!0,S.crossTileID=F;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e})=>e)}}class us{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class yd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const i=Math.round((e-this.lng)/360);if(i!==0)for(const d in this.indexes){const f=this.indexes[d],b={};for(const S in f){const M=f[S];M.tileID=M.tileID.unwrapTo(M.tileID.wrap+i),b[M.tileID.key]=M}this.indexes[d]=b}this.lng=e}addBucket(e,i,d){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===i.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let b=0;b<i.symbolInstances.length;b++)i.symbolInstances.get(b).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const f=this.usedCrossTileIDs[e.overscaledZ];for(const b in this.indexes){const S=this.indexes[b];if(Number(b)>e.overscaledZ)for(const M in S){const I=S[M];I.tileID.isChildOf(e)&&I.findMatches(i.symbolInstances,e,f)}else{const M=S[e.scaledTo(Number(b)).key];M&&M.findMatches(i.symbolInstances,e,f)}}for(let b=0;b<i.symbolInstances.length;b++){const S=i.symbolInstances.get(b);S.crossTileID||(S.crossTileID=d.generate(),f[S.crossTileID]=!0)}return this.indexes[e.overscaledZ]===void 0&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Mc(e,i.symbolInstances,i.bucketInstanceId),!0}removeBucketCrossTileIDs(e,i){for(const d of i.getCrossTileIDsLists())for(const f of d)delete this.usedCrossTileIDs[e][f]}removeStaleBuckets(e){let i=!1;for(const d in this.indexes){const f=this.indexes[d];for(const b in f)e[f[b].bucketInstanceId]||(this.removeBucketCrossTileIDs(d,f[b]),delete f[b],i=!0)}return i}}class Ac{constructor(){this.layerIndexes={},this.crossTileIDs=new us,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,i,d){let f=this.layerIndexes[e.id];f===void 0&&(f=this.layerIndexes[e.id]=new yd);let b=!1;const S={};f.handleWrapJump(d);for(const M of i){const I=M.getBucket(e);I&&e.id===I.layerIds[0]&&(I.bucketInstanceId||(I.bucketInstanceId=++this.maxBucketInstanceId),f.addBucket(M.tileID,I,this.crossTileIDs)&&(b=!0),S[I.bucketInstanceId]=!0)}return f.removeStaleBuckets(S)&&(b=!0),b}pruneUnusedLayers(e){const i={};e.forEach(d=>{i[d]=!0});for(const d in this.layerIndexes)i[d]||delete this.layerIndexes[d]}}var Bo="void main() {fragColor=vec4(1.0);}";const yo={prelude:Pa(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Pa("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Pa("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Pa(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Pa(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Pa(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Pa(Bo,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Pa(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Pa(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Pa("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Pa("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Pa(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Pa("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Pa(Bo,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Pa(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Pa(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Pa(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Pa(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Pa(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Pa(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Pa(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Pa(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Pa(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Pa(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Pa(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Pa(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Pa(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Pa(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Pa(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Pa(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Pa("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Pa("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Pa("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Pa("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Pa(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Pa("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Pa(y,e){const i=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,d=e.match(/in ([\w]+) ([\w]+)/g),f=y.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),b=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),S=b?b.concat(f):f,M={};return{fragmentSource:y=y.replace(i,(I,N,K,F,B)=>(M[B]=!0,N==="define"?`
#ifndef HAS_UNIFORM_u_${B}
in ${K} ${F} ${B};
#else
uniform ${K} ${F} u_${B};
#endif
`:`
#ifdef HAS_UNIFORM_u_${B}
    ${K} ${F} ${B} = u_${B};
#endif
`)),vertexSource:e=e.replace(i,(I,N,K,F,B)=>{const U=F==="float"?"vec2":"vec4",Y=B.match(/color/)?"color":U;return M[B]?N==="define"?`
#ifndef HAS_UNIFORM_u_${B}
uniform lowp float u_${B}_t;
in ${K} ${U} a_${B};
out ${K} ${F} ${B};
#else
uniform ${K} ${F} u_${B};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${B}
    ${B} = a_${B};
#else
    ${K} ${F} ${B} = u_${B};
#endif
`:`
#ifndef HAS_UNIFORM_u_${B}
    ${B} = unpack_mix_${Y}(a_${B}, u_${B}_t);
#else
    ${K} ${F} ${B} = u_${B};
#endif
`:N==="define"?`
#ifndef HAS_UNIFORM_u_${B}
uniform lowp float u_${B}_t;
in ${K} ${U} a_${B};
#else
uniform ${K} ${F} u_${B};
#endif
`:Y==="vec4"?`
#ifndef HAS_UNIFORM_u_${B}
    ${K} ${F} ${B} = a_${B};
#else
    ${K} ${F} ${B} = u_${B};
#endif
`:`
#ifndef HAS_UNIFORM_u_${B}
    ${K} ${F} ${B} = unpack_mix_${Y}(a_${B}, u_${B}_t);
#else
    ${K} ${F} ${B} = u_${B};
#endif
`}),staticAttributes:d,staticUniforms:S}}class vo{constructor(e,i,d){this.vertexBuffer=e,this.indexBuffer=i,this.segments=d}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var $r=c.aI([{name:"a_pos",type:"Int16",components:2}]);const Xs="#define PROJECTION_MERCATOR",vd="mercator";class Nl{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return vd}get shaderDefine(){return Xs}get shaderPreludeCode(){return yo.projectionMercator}get vertexShaderPreludeCode(){return yo.projectionMercator.vertexSource}get subdivisionGranularity(){return c.aJ.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,i,d,f,b){if(this._cachedMesh)return this._cachedMesh;const S=new c.aK;S.emplaceBack(0,0),S.emplaceBack(c.$,0),S.emplaceBack(0,c.$),S.emplaceBack(c.$,c.$);const M=e.createVertexBuffer(S,$r.members),I=c.aL.simpleSegment(0,0,4,2),N=new c.aM;N.emplaceBack(1,0,2),N.emplaceBack(1,2,3);const K=e.createIndexBuffer(N);return this._cachedMesh=new vo(M,K,I),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e){}}class ir{constructor(e=0,i=0,d=0,f=0){if(isNaN(e)||e<0||isNaN(i)||i<0||isNaN(d)||d<0||isNaN(f)||f<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=i,this.left=d,this.right=f}interpolate(e,i,d){return i.top!=null&&e.top!=null&&(this.top=c.C.number(e.top,i.top,d)),i.bottom!=null&&e.bottom!=null&&(this.bottom=c.C.number(e.bottom,i.bottom,d)),i.left!=null&&e.left!=null&&(this.left=c.C.number(e.left,i.left,d)),i.right!=null&&e.right!=null&&(this.right=c.C.number(e.right,i.right,d)),this}getCenter(e,i){const d=c.ag((this.left+e-this.right)/2,0,e),f=c.ag((this.top+i-this.bottom)/2,0,i);return new c.P(d,f)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new ir(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Jr(y,e){if(!y.renderWorldCopies||y.lngRange)return;const i=e.lng-y.center.lng;e.lng+=i>180?-360:i<-180?360:0}function ya(y){return Math.max(0,Math.floor(y))}class bo{constructor(e,i,d,f,b,S){this._callbacks=e,this._tileSize=512,this._renderWorldCopies=S===void 0||!!S,this._minZoom=i||0,this._maxZoom=d||22,this._minPitch=f??0,this._maxPitch=b??60,this.setMaxBounds(),this._width=0,this._height=0,this._center=new c.S(0,0),this._elevation=0,this._zoom=0,this._tileZoom=ya(this._zoom),this._scale=c.ae(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new ir,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e,i,d){this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=ya(this._zoom),this._scale=c.ae(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new ir(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!d&&e.autoCalculateNearFarZ,i&&this._constrain(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.getConstrained(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)))}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new c.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){const i=c.aN(e,-180,180)*Math.PI/180;var d,f,b,S,M,I,N,K,F;this._bearingInRadians!==i&&(this._unmodified=!1,this._bearingInRadians=i,this._calcMatrices(),this._rotationMatrix=k(),d=this._rotationMatrix,b=-this._bearingInRadians,S=(f=this._rotationMatrix)[0],M=f[1],I=f[2],N=f[3],K=Math.sin(b),F=Math.cos(b),d[0]=S*F+I*K,d[1]=M*F+N*K,d[2]=S*-K+I*F,d[3]=M*-K+N*F)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){const i=c.ag(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==i&&(this._unmodified=!1,this._pitchInRadians=i,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){const i=e/180*Math.PI;this._rollInRadians!==i&&(this._unmodified=!1,this._rollInRadians=i,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return c.aO(this._fovInRadians)}setFov(e){e=c.ag(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=c.ad(e),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e){const i=this.getConstrained(this._center,e).zoom;this._zoom!==i&&(this._unmodified=!1,this._zoom=i,this._tileZoom=Math.max(0,Math.floor(i)),this._scale=c.ae(i),this._constrain(),this._calcMatrices())}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,i){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=i,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,i,d){this._unmodified=!1,this._edgeInsets.interpolate(e,i,d),this._constrain(),this._calcMatrices()}resize(e,i,d=!0){this._width=e,this._height=i,d&&this._constrain(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new si([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this._lngRange=null,this._latRange=[-c.ah,c.ah])}getConstrained(e,i){return this._callbacks.getConstrained(e,i)}getCameraQueryGeometry(e,i){if(i.length===1)return[i[0],e];{const{minX:d,minY:f,maxX:b,maxY:S}=c.a1.fromPoints(i).extend(e);return[new c.P(d,f),new c.P(b,f),new c.P(b,S),new c.P(d,S),new c.P(d,f)]}}_constrain(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:i,zoom:d}=this.getConstrained(this.center,this.zoom);this.setCenter(i),this.setZoom(d),this._unmodified=e,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=c.af(new Float64Array(16));c.N(e,e,[this._width/2,-this._height/2,1]),c.M(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=c.af(new Float64Array(16)),c.N(e,e,[1,-1,1]),c.M(e,e,[-1,-1,0]),c.N(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e,i,d,f){const b=d!==void 0?d:this.bearing,S=f=f!==void 0?f:this.pitch,M=c.a0.fromLngLat(e,i),I=-Math.cos(c.ad(S)),N=Math.sin(c.ad(S)),K=N*Math.sin(c.ad(b)),F=-N*Math.cos(c.ad(b));let B=this.elevation;const U=i-B;let Y;I*U>=0||Math.abs(I)<.1?(Y=1e4,B=i+Y*I):Y=-U/I;let le,se,ce=c.aP(1,M.y),he=0;do{if(he+=1,he>10)break;se=Y/ce,le=new c.a0(M.x+K*se,M.y+F*se),ce=1/le.meterInMercatorCoordinateUnits()}while(Math.abs(Y-se*ce)>1e-12);return{center:le.toLngLat(),elevation:B,zoom:c.aj(this.height/2/Math.tan(this.fovInRadians/2)/se/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;const i=c.ai(1,this.center.lat)*this.worldSize,d=this.cameraToCenterDistance/i,f=c.a0.fromLngLat(this.center,this.elevation),b=ge(this.center,this.elevation,this.pitch,this.bearing,d);this._elevation=e;const S=this.calculateCenterFromCameraLngLatAlt(b.toLngLat(),c.aP(b.z,f.y),this.bearing,this.pitch);this._elevation=S.elevation,this._center=S.center,this.setZoom(S.zoom)}getCameraPoint(){const e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new c.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e=c.ai(1,this.center.lat)*this.worldSize;return ge(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return[0,0,1,1];const i=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return[e.canonical.x/i,e.canonical.y/i,1/i/c.$,1/i/c.$]}}class Ic{constructor(e,i){this.min=e,this.max=i,this.center=c.aQ([],c.aR([],this.min,this.max),.5)}quadrant(e){const i=[e%2==0,e<2],d=c.aS(this.min),f=c.aS(this.max);for(let b=0;b<i.length;b++)d[b]=i[b]?this.min[b]:this.center[b],f[b]=i[b]?this.center[b]:this.max[b];return f[2]=this.max[2],new Ic(d,f)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let i=!0;for(let d=0;d<e.planes.length;d++){const f=this.intersectsPlane(e.planes[d]);if(f===0)return 0;f===1&&(i=!1)}return i?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let i=e[3],d=e[3];for(let f=0;f<3;f++)e[f]>0?(i+=e[f]*this.min[f],d+=e[f]*this.max[f]):(d+=e[f]*this.min[f],i+=e[f]*this.max[f]);return i>=0?2:d<0?0:1}}class Lc{distanceToTile2d(e,i,d,f){const b=f.distanceX([e,i]),S=f.distanceY([e,i]);return Math.hypot(b,S)}getWrap(e,i,d){return d}getTileBoundingVolume(e,i,d,f){var b,S;let M=d,I=d;if(f?.terrain){const K=new c.Z(e.z,i,e.z,e.x,e.y),F=f.terrain.getMinMaxElevation(K);M=(b=F.minElevation)!==null&&b!==void 0?b:d,I=(S=F.maxElevation)!==null&&S!==void 0?S:d}const N=1<<e.z;return new Ic([i+e.x/N,e.y/N,M],[i+(e.x+1)/N,(e.y+1)/N,I])}allowVariableZoom(e,i){const d=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,f=c.ag(78.5-d/2,0,60);return!!i.terrain||e.pitch>f}allowWorldCopies(){return!0}prepareNextFrame(){}}class Dn{constructor(e,i,d){this.points=e,this.planes=i,this.aabb=d}static fromInvProjectionMatrix(e,i=1,d=0,f,b){const S=b?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],M=Math.pow(2,d),I=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(B=>function(U,Y,le,se){const ce=c.av([],U,Y),he=1/ce[3]/le*se;return c.aX(ce,ce,[he,he,1/ce[3],he])}(B,e,i,M));f&&function(B,U,Y,le){const se=le?4:0,ce=le?0:4;let he=0;const ye=[],pe=[];for(let me=0;me<4;me++){const Ee=c.aT([],B[me+ce],B[me+se]),We=c.aY(Ee);c.aQ(Ee,Ee,1/We),ye.push(We),pe.push(Ee)}for(let me=0;me<4;me++){const Ee=c.aZ(B[me+se],pe[me],Y);he=Ee!==null&&Ee>=0?Math.max(he,Ee):Math.max(he,ye[me])}const xe=function(me,Ee){const We=c.aT([],me[Ee[0]],me[Ee[1]]),Ue=c.aT([],me[Ee[2]],me[Ee[1]]),Ge=[0,0,0,0];return c.aU(Ge,c.aV([],We,Ue)),Ge[3]=-c.aW(Ge,me[Ee[0]]),Ge}(B,U),De=function(me,Ee){const We=c.a_(me),Ue=c.a$([],me,1/We),Ge=c.aT([],Ee,c.aQ([],Ue,c.aW(Ee,Ue))),Ye=c.a_(Ge);if(Ye>0){const Lt=Math.sqrt(1-Ue[3]*Ue[3]),At=c.aQ([],Ue,-Ue[3]),mt=c.aR([],At,c.aQ([],Ge,Lt/Ye));return c.b0(Ee,mt)}return null}(Y,xe);if(De!==null){const me=De/c.aW(pe[0],xe);he=Math.min(he,me)}for(let me=0;me<4;me++){const Ee=Math.min(he,ye[me]);B[me+ce]=[B[me+se][0]+pe[me][0]*Ee,B[me+se][1]+pe[me][1]*Ee,B[me+se][2]+pe[me][2]*Ee,1]}}(I,S[0],f,b);const N=S.map(B=>{const U=c.aT([],I[B[0]],I[B[1]]),Y=c.aT([],I[B[2]],I[B[1]]),le=c.aU([],c.aV([],U,Y)),se=-c.aW(le,I[B[1]]);return le.concat(se)}),K=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],F=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const B of I)for(let U=0;U<3;U++)K[U]=Math.min(K[U],B[U]),F[U]=Math.max(F[U],B[U]);return new Dn(I,N,new Ic(K,F))}}class Si{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,i,d){return this._helper.interpolatePadding(e,i,d)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,i,d=!0){this._helper.resize(e,i,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,i){this._helper.overrideNearFarZ(e,i)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,i){}constructor(e,i,d,f,b){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this._helper=new bo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(S,M)=>this.getConstrained(S,M)},e,i,d,f,b),this._coveringTilesDetailsProvider=new Lc}clone(){const e=new Si;return e.apply(this),e}apply(e,i,d){this._helper.apply(e,i,d)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){const i=[new c.b1(0,e)];if(this._helper._renderWorldCopies){const d=this.screenPointToMercatorCoordinate(new c.P(0,0)),f=this.screenPointToMercatorCoordinate(new c.P(this._helper._width,0)),b=this.screenPointToMercatorCoordinate(new c.P(this._helper._width,this._helper._height)),S=this.screenPointToMercatorCoordinate(new c.P(0,this._helper._height)),M=Math.floor(Math.min(d.x,f.x,b.x,S.x)),I=Math.floor(Math.max(d.x,f.x,b.x,S.x)),N=1;for(let K=M-N;K<=I+N;K++)K!==0&&i.push(new c.b1(K,e))}return i}getCameraFrustum(){return Dn.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){const i=this.screenPointToLocation(this.centerPoint,e),d=e?e.getElevationForLngLatZoom(i,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(d)}setLocationAtPoint(e,i){const d=c.ai(this.elevation,this.center.lat),f=this.screenPointToMercatorCoordinateAtZ(i,d),b=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,d),S=c.a0.fromLngLat(e),M=new c.a0(S.x-(f.x-b.x),S.y-(f.y-b.y));this.setCenter(M?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e,i){return i?this.coordinatePoint(c.a0.fromLngLat(e),i.getElevationForLngLatZoom(e,this._helper._tileZoom),this._pixelMatrix3D):this.coordinatePoint(c.a0.fromLngLat(e))}screenPointToLocation(e,i){var d;return(d=this.screenPointToMercatorCoordinate(e,i))===null||d===void 0?void 0:d.toLngLat()}screenPointToMercatorCoordinate(e,i){if(i){const d=i.pointCoordinate(e);if(d!=null)return d}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,i){const d=i||0,f=[e.x,e.y,0,1],b=[e.x,e.y,1,1];c.av(f,f,this._pixelMatrixInverse),c.av(b,b,this._pixelMatrixInverse);const S=f[3],M=b[3],I=f[1]/S,N=b[1]/M,K=f[2]/S,F=b[2]/M,B=K===F?0:(d-K)/(F-K);return new c.a0(c.C.number(f[0]/S,b[0]/M,B)/this.worldSize,c.C.number(I,N,B)/this.worldSize,d)}coordinatePoint(e,i=0,d=this._pixelMatrix){const f=[e.x*this.worldSize,e.y*this.worldSize,i,1];return c.av(f,f,d),new c.P(f[0]/f[3],f[1]/f[3])}getBounds(){const e=Math.max(0,this._helper._height/2-te(this));return new si().extend(this.screenPointToLocation(new c.P(0,e))).extend(this.screenPointToLocation(new c.P(this._helper._width,e))).extend(this.screenPointToLocation(new c.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new c.P(0,this._helper._height)))}isPointOnMapSurface(e,i){return i?i.pointCoordinate(e)!=null:e.y>this.height/2-te(this)}calculatePosMatrix(e,i=!1,d){var f;const b=(f=e.key)!==null&&f!==void 0?f:c.b2(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),S=i?this._alignedPosMatrixCache:this._posMatrixCache;if(S.has(b)){const N=S.get(b);return d?N.f32:N.f64}const M=oe(e,this.worldSize);c.O(M,i?this._alignedProjMatrix:this._viewProjMatrix,M);const I={f64:M,f32:new Float32Array(M)};return S.set(b,I),d?I.f32:I.f64}calculateFogMatrix(e){const i=e.key,d=this._fogMatrixCacheF32;if(d.has(i))return d.get(i);const f=oe(e,this.worldSize);return c.O(f,this._fogMatrix,f),d.set(i,new Float32Array(f)),d.get(i)}getConstrained(e,i){i=c.ag(+i,this.minZoom,this.maxZoom);const d={center:new c.S(e.lng,e.lat),zoom:i};let f=this._helper._lngRange;if(!this._helper._renderWorldCopies&&f===null){const ye=179.9999999999;f=[-ye,ye]}const b=this.tileSize*c.ae(d.zoom);let S=0,M=b,I=0,N=b,K=0,F=0;const{x:B,y:U}=this.size;if(this._helper._latRange){const ye=this._helper._latRange;S=c.U(ye[1])*b,M=c.U(ye[0])*b,M-S<U&&(K=U/(M-S))}f&&(I=c.aN(c.V(f[0])*b,0,b),N=c.aN(c.V(f[1])*b,0,b),N<I&&(N+=b),N-I<B&&(F=B/(N-I)));const{x:Y,y:le}=je(b,e);let se,ce;const he=Math.max(F||0,K||0);if(he){const ye=new c.P(F?(N+I)/2:Y,K?(M+S)/2:le);return d.center=ee(b,ye).wrap(),d.zoom+=c.aj(he),d}if(this._helper._latRange){const ye=U/2;le-ye<S&&(ce=S+ye),le+ye>M&&(ce=M-ye)}if(f){const ye=(I+N)/2;let pe=Y;this._helper._renderWorldCopies&&(pe=c.aN(Y,ye-b/2,ye+b/2));const xe=B/2;pe-xe<I&&(se=I+xe),pe+xe>N&&(se=N-xe)}if(se!==void 0||ce!==void 0){const ye=new c.P(se??Y,ce??le);d.center=ee(b,ye).wrap()}return d}calculateCenterFromCameraLngLatAlt(e,i,d,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,i,d,f)}_calculateNearFarZIfNeeded(e,i,d){if(!this._helper.autoCalculateNearFarZ)return;const f=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),b=e-f*this._helper._pixelPerMeter/Math.cos(i),S=f<0?b:e,M=Math.PI/2+this.pitchInRadians,I=c.ad(this.fov)*(Math.abs(Math.cos(c.ad(this.roll)))*this.height+Math.abs(Math.sin(c.ad(this.roll)))*this.width)/this.height*(.5+d.y/this.height),N=Math.sin(I)*S/Math.sin(c.ag(Math.PI-M-I,.01,Math.PI-.01)),K=te(this),F=Math.atan(K/this._helper.cameraToCenterDistance),B=c.ad(.75),U=F>B?2*F*(.5+d.y/(2*K)):B,Y=Math.sin(U)*S/Math.sin(c.ag(Math.PI-M-U,.01,Math.PI-.01)),le=Math.min(N,Y);this._helper._farZ=1.01*(Math.cos(Math.PI/2-i)*le+S),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const e=this.centerOffset,i=je(this.worldSize,this.center),d=i.x,f=i.y;this._helper._pixelPerMeter=c.ai(1,this.center.lat)*this.worldSize;const b=c.ad(Math.min(this.pitch,vn)),S=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(b));let M;this._calculateNearFarZIfNeeded(S,b,e),M=new Float64Array(16),c.b3(M,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),c.ap(this._invProjMatrix,M),M[8]=2*-e.x/this._helper._width,M[9]=2*e.y/this._helper._height,this._projectionMatrix=c.b4(M),c.N(M,M,[1,-1,1]),c.M(M,M,[0,0,-this._helper.cameraToCenterDistance]),c.b5(M,M,-this.rollInRadians),c.b6(M,M,this.pitchInRadians),c.b5(M,M,-this.bearingInRadians),c.M(M,M,[-d,-f,0]),this._mercatorMatrix=c.N([],M,[this.worldSize,this.worldSize,this.worldSize]),c.N(M,M,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=c.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,M),c.M(M,M,[0,0,-this.elevation]),this._viewProjMatrix=M,this._invViewProjMatrix=c.ap([],M);const I=[0,0,-1,1];c.av(I,I,this._invViewProjMatrix),this._cameraPosition=[I[0]/I[3],I[1]/I[3],I[2]/I[3]],this._fogMatrix=new Float64Array(16),c.b3(this._fogMatrix,this.fovInRadians,this.width/this.height,S,this._helper._farZ),this._fogMatrix[8]=2*-e.x/this.width,this._fogMatrix[9]=2*e.y/this.height,c.N(this._fogMatrix,this._fogMatrix,[1,-1,1]),c.M(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),c.b5(this._fogMatrix,this._fogMatrix,-this.rollInRadians),c.b6(this._fogMatrix,this._fogMatrix,this.pitchInRadians),c.b5(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),c.M(this._fogMatrix,this._fogMatrix,[-d,-f,0]),c.N(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),c.M(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=c.O(new Float64Array(16),this.clipSpaceToPixelsMatrix,M);const N=this._helper._width%2/2,K=this._helper._height%2/2,F=Math.cos(this.bearingInRadians),B=Math.sin(-this.bearingInRadians),U=d-Math.round(d)+F*N+B*K,Y=f-Math.round(f)+F*K+B*N,le=new Float64Array(M);if(c.M(le,le,[U>.5?U-1:U,Y>.5?Y-1:Y,0]),this._alignedProjMatrix=le,M=c.ap(new Float64Array(16),this._pixelMatrix),!M)throw new Error("failed to invert matrix");this._pixelMatrixInverse=M,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e=this.screenPointToMercatorCoordinate(new c.P(0,0)),i=[e.x*this.worldSize,e.y*this.worldSize,0,1];return c.av(i,i,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e=c.ai(1,this.center.lat)*this.worldSize;return ge(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,i){const d=c.a0.fromLngLat(e),f=[d.x*this.worldSize,d.y*this.worldSize,i,1];return c.av(f,f,this._viewProjMatrix),f[2]/f[3]}getProjectionData(e){const{overscaledTileID:i,aligned:d,applyTerrainMatrix:f}=e,b=this._helper.getMercatorTileCoordinates(i),S=i?this.calculatePosMatrix(i,d,!0):null;let M;return M=i&&i.terrainRttPosMatrix32f&&f?i.terrainRttPosMatrix32f:S||c.b7(),{mainMatrix:M,tileMercatorCoords:b,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:M}}isLocationOccluded(e){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,i,d){return 1}transformLightDirection(e){return c.aS(e)}getRayDirectionFromPixel(e){throw new Error("Not implemented.")}projectTileCoordinates(e,i,d,f){const b=this.calculatePosMatrix(d);let S;f?(S=[e,i,f(e,i),1],c.av(S,S,b)):(S=[e,i,0,1],tr(S,S,b));const M=S[3];return{point:new c.P(S[0]/M,S[1]/M),signedDistanceFromCamera:M,isOccluded:!1}}populateCache(e){for(const i of e)this.calculatePosMatrix(i)}getMatrixForModel(e,i){const d=c.a0.fromLngLat(e,i),f=d.meterInMercatorCoordinateUnits(),b=c.b8();return c.M(b,b,[d.x,d.y,d.z]),c.b5(b,b,Math.PI),c.b6(b,b,Math.PI/2),c.N(b,b,[-f,f,f]),b}getProjectionDataForCustomLayer(e=!0){const i=new c.Z(0,0,0,0,0),d=this.getProjectionData({overscaledTileID:i,applyGlobeMatrix:e}),f=oe(i,this.worldSize);c.O(f,this._viewProjMatrix,f),d.tileMercatorCoords=[0,0,1,1];const b=[c.$,c.$,this.worldSize/this._helper.pixelsPerMeter],S=c.b9();return c.N(S,f,b),d.fallbackMatrix=S,d.mainMatrix=S,d}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function Ti(){c.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function an(y){if(y.useSlerp)if(y.k<1){const e=c.ba(y.startEulerAngles.roll,y.startEulerAngles.pitch,y.startEulerAngles.bearing),i=c.ba(y.endEulerAngles.roll,y.endEulerAngles.pitch,y.endEulerAngles.bearing),d=new Float64Array(4);c.bb(d,e,i,y.k);const f=c.bc(d);y.tr.setRoll(f.roll),y.tr.setPitch(f.pitch),y.tr.setBearing(f.bearing)}else y.tr.setRoll(y.endEulerAngles.roll),y.tr.setPitch(y.endEulerAngles.pitch),y.tr.setBearing(y.endEulerAngles.bearing);else y.tr.setRoll(c.C.number(y.startEulerAngles.roll,y.endEulerAngles.roll,y.k)),y.tr.setPitch(c.C.number(y.startEulerAngles.pitch,y.endEulerAngles.pitch,y.k)),y.tr.setBearing(c.C.number(y.startEulerAngles.bearing,y.endEulerAngles.bearing,y.k))}function ai(y,e,i,d,f){const b=f.padding,S=je(f.worldSize,i.getNorthWest()),M=je(f.worldSize,i.getNorthEast()),I=je(f.worldSize,i.getSouthEast()),N=je(f.worldSize,i.getSouthWest()),K=c.ad(-d),F=S.rotate(K),B=M.rotate(K),U=I.rotate(K),Y=N.rotate(K),le=new c.P(Math.max(F.x,B.x,Y.x,U.x),Math.max(F.y,B.y,Y.y,U.y)),se=new c.P(Math.min(F.x,B.x,Y.x,U.x),Math.min(F.y,B.y,Y.y,U.y)),ce=le.sub(se),he=(f.width-(b.left+b.right+e.left+e.right))/ce.x,ye=(f.height-(b.top+b.bottom+e.top+e.bottom))/ce.y;if(ye<0||he<0)return void Ti();const pe=Math.min(c.aj(f.scale*Math.min(he,ye)),y.maxZoom),xe=c.P.convert(y.offset),De=new c.P((e.left-e.right)/2,(e.top-e.bottom)/2).rotate(c.ad(d)),me=xe.add(De).mult(f.scale/c.ae(pe));return{center:ee(f.worldSize,S.add(I).div(2).sub(me)),zoom:pe,bearing:d}}class Wr{get useGlobeControls(){return!1}handlePanInertia(e,i){return{easingOffset:e,easingCenter:i.center}}handleMapControlsRollPitchBearingZoom(e,i){e.bearingDelta&&i.setBearing(i.bearing+e.bearingDelta),e.pitchDelta&&i.setPitch(i.pitch+e.pitchDelta),e.rollDelta&&i.setRoll(i.roll+e.rollDelta),e.zoomDelta&&i.setZoom(i.zoom+e.zoomDelta)}handleMapControlsPan(e,i,d){e.around.distSqr(i.centerPoint)<.01||i.setLocationAtPoint(d,e.around)}cameraForBoxAndBearing(e,i,d,f,b){return ai(e,i,d,f,b)}handleJumpToCenterZoom(e,i){e.zoom!==(i.zoom!==void 0?+i.zoom:e.zoom)&&e.setZoom(+i.zoom),i.center!==void 0&&e.setCenter(c.S.convert(i.center))}handleEaseTo(e,i){const d=e.zoom,f=e.padding,b={roll:e.roll,pitch:e.pitch,bearing:e.bearing},S={roll:i.roll===void 0?e.roll:i.roll,pitch:i.pitch===void 0?e.pitch:i.pitch,bearing:i.bearing===void 0?e.bearing:i.bearing},M=i.zoom!==void 0,I=!e.isPaddingEqual(i.padding);let N=!1;const K=M?+i.zoom:e.zoom;let F=e.centerPoint.add(i.offsetAsPoint);const B=e.screenPointToLocation(F),{center:U,zoom:Y}=e.getConstrained(c.S.convert(i.center||B),K??d);Jr(e,U);const le=je(e.worldSize,B),se=je(e.worldSize,U).sub(le),ce=c.ae(Y-d);return N=Y!==d,{easeFunc:he=>{if(N&&e.setZoom(c.C.number(d,Y,he)),c.bd(b,S)||an({startEulerAngles:b,endEulerAngles:S,tr:e,k:he,useSlerp:b.roll!=S.roll}),I&&(e.interpolatePadding(f,i.padding,he),F=e.centerPoint.add(i.offsetAsPoint)),i.around)e.setLocationAtPoint(i.around,i.aroundPoint);else{const ye=c.ae(e.zoom-d),pe=Y>d?Math.min(2,ce):Math.max(.5,ce),xe=Math.pow(pe,1-he),De=ee(e.worldSize,le.add(se.mult(he*xe)).mult(ye));e.setLocationAtPoint(e.renderWorldCopies?De.wrap():De,F)}},isZooming:N,elevationCenter:U}}handleFlyTo(e,i){const d=i.zoom!==void 0,f=e.zoom,b=e.getConstrained(c.S.convert(i.center||i.locationAtOffset),d?+i.zoom:f),S=b.center,M=b.zoom;Jr(e,S);const I=je(e.worldSize,i.locationAtOffset),N=je(e.worldSize,S).sub(I),K=N.mag(),F=c.ae(M-f);let B;if(i.minZoom!==void 0){const U=Math.min(+i.minZoom,f,M),Y=e.getConstrained(S,U).zoom;B=c.ae(Y-f)}return{easeFunc:(U,Y,le,se)=>{e.setZoom(U===1?M:f+c.aj(Y));const ce=U===1?S:ee(e.worldSize,I.add(N.mult(le)).mult(Y));e.setLocationAtPoint(e.renderWorldCopies?ce.wrap():ce,se)},scaleOfZoom:F,targetCenter:S,scaleOfMinZoom:B,pixelPathLength:K}}}class Ma{constructor(e,i,d){this.blendFunction=e,this.blendColor=i,this.mask=d}}Ma.Replace=[1,0],Ma.disabled=new Ma(Ma.Replace,c.be.transparent,[!1,!1,!1,!1]),Ma.unblended=new Ma(Ma.Replace,c.be.transparent,[!0,!0,!0,!0]),Ma.alphaBlended=new Ma([1,771],c.be.transparent,[!0,!0,!0,!0]);const Mn=2305;class da{constructor(e,i,d){this.enable=e,this.mode=i,this.frontFace=d}}da.disabled=new da(!1,1029,Mn),da.backCCW=new da(!0,1029,Mn),da.frontCCW=new da(!0,1028,Mn);class fa{constructor(e,i,d){this.func=e,this.mask=i,this.range=d}}fa.ReadOnly=!1,fa.ReadWrite=!0,fa.disabled=new fa(519,fa.ReadOnly,[0,1]);const xo=7680;class ia{constructor(e,i,d,f,b,S){this.test=e,this.ref=i,this.mask=d,this.fail=f,this.depthFail=b,this.pass=S}}ia.disabled=new ia({func:519,mask:0},0,0,xo,xo,xo);const nn=new WeakMap;function Fi(y){var e;if(nn.has(y))return nn.get(y);{const i=(e=y.getParameter(y.VERSION))===null||e===void 0?void 0:e.startsWith("WebGL 2.0");return nn.set(y,i),i}}class Fo{get awaitingQuery(){return!!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;const i=e.context,d=i.gl;this._texFormat=d.RGBA,this._texType=d.UNSIGNED_BYTE;const f=new c.aK;f.emplaceBack(-1,-1),f.emplaceBack(2,-1),f.emplaceBack(-1,2);const b=new c.aM;b.emplaceBack(0,1,2),this._fullscreenTriangle=new vo(i.createVertexBuffer(f,$r.members),i.createIndexBuffer(b),c.aL.simpleSegment(0,0,f.length,b.length)),this._resultBuffer=new Uint8Array(4),i.activeTexture.set(d.TEXTURE1);const S=d.createTexture();d.bindTexture(d.TEXTURE_2D,S),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.NEAREST),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.NEAREST),d.texImage2D(d.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=i.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(S),Fi(d)&&(this._pbo=d.createBuffer(),d.bindBuffer(d.PIXEL_PACK_BUFFER,this._pbo),d.bufferData(d.PIXEL_PACK_BUFFER,4,d.STREAM_READ),d.bindBuffer(d.PIXEL_PACK_BUFFER,null))}destroy(){const e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e,i){const d=this._updateCount;return this._readbackQueue?d>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():d>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,i),this._updateCount++,this._measuredError}_bindFramebuffer(){const e=this._cachedRenderContext.context,i=e.gl;e.activeTexture.set(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e,i){const d=this._cachedRenderContext.context,f=d.gl;if(this._bindFramebuffer(),d.viewport.set([0,0,this._texWidth,this._texHeight]),d.clear({color:c.be.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(d,f.TRIANGLES,fa.disabled,ia.disabled,Ma.unblended,da.disabled,((b,S)=>({u_input:b,u_output_expected:S}))(e,i),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Fi(f)){f.bindBuffer(f.PIXEL_PACK_BUFFER,this._pbo),f.readBuffer(f.COLOR_ATTACHMENT0),f.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),f.bindBuffer(f.PIXEL_PACK_BUFFER,null);const b=f.fenceSync(f.SYNC_GPU_COMMANDS_COMPLETE,0);f.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:b}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Fi(e)){const i=e.clientWaitSync(this._readbackQueue.sync,0,0);if(i===e.WAIT_FAILED)return c.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(i===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=Fo._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e){let i=0;return i+=e[0]/256,i+=e[1]/65536,i+=e[2]/16777216,e[3]<127&&(i=-i),i/128}}const bn=c.$/128;function bd(y,e){const i=y.granularity!==void 0?Math.max(y.granularity,1):1,d=i+(y.generateBorders?2:0),f=i+(y.extendToNorthPole||y.generateBorders?1:0)+(y.extendToSouthPole||y.generateBorders?1:0),b=d+1,S=f+1,M=y.generateBorders?-1:0,I=y.generateBorders||y.extendToNorthPole?-1:0,N=i+(y.generateBorders?1:0),K=i+(y.generateBorders||y.extendToSouthPole?1:0),F=b*S,B=d*f*6,U=b*S>65536;if(U&&e==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const Y=U||e==="32bit",le=new Int16Array(2*F);let se=0;for(let ye=I;ye<=K;ye++)for(let pe=M;pe<=N;pe++){let xe=pe/i*c.$;pe===-1&&(xe=-bn),pe===i+1&&(xe=c.$+bn);let De=ye/i*c.$;ye===-1&&(De=y.extendToNorthPole?c.bg:-bn),ye===i+1&&(De=y.extendToSouthPole?c.bh:c.$+bn),le[se++]=xe,le[se++]=De}const ce=Y?new Uint32Array(B):new Uint16Array(B);let he=0;for(let ye=0;ye<f;ye++)for(let pe=0;pe<d;pe++){const xe=pe+1+ye*b,De=pe+(ye+1)*b,me=pe+1+(ye+1)*b;ce[he++]=pe+ye*b,ce[he++]=De,ce[he++]=xe,ce[he++]=xe,ce[he++]=De,ce[he++]=me}return{vertices:le.buffer.slice(0),indices:ce.buffer.slice(0),uses32bitIndices:Y}}const Er=new c.aJ({fill:new c.bi(128,2),line:new c.bi(512,0),tile:new c.bi(128,32),stencil:new c.bi(128,1),circle:3});class mu{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return yo.projectionGlobe}get vertexShaderPreludeCode(){return yo.projectionMercator.vertexSource}get subdivisionGranularity(){return Er}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new Fo(e));const i=c.U(this._errorQueryLatitudeDegrees),d=2*Math.atan(Math.exp(Math.PI-i*Math.PI*2))-.5*Math.PI,f=this._errorMeasurement.updateErrorLoop(i,d),b=Z.now();f!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=f,this._errorMeasurementLastChangeTime=b);const S=Math.min(Math.max((b-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=c.bj(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,c.bk(S))}_getMeshKey(e){return`${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,i,d,f,b){const S=(b==="stencil"?Er.stencil:Er.tile).getGranularityForZoomLevel(i.z);return this._getMesh(e,{granularity:S,generateBorders:d,extendToNorthPole:i.y===0&&f,extendToSouthPole:i.y===(1<<i.z)-1&&f})}_getMesh(e,i){const d=this._getMeshKey(i);if(d in this._tileMeshCache)return this._tileMeshCache[d];const f=function(b,S){const M=bd(S,"16bit"),I=c.aK.deserialize({arrayBuffer:M.vertices,length:M.vertices.byteLength/2/2}),N=c.aM.deserialize({arrayBuffer:M.indices,length:M.indices.byteLength/2/3});return new vo(b.createVertexBuffer(I,$r.members),b.createIndexBuffer(N),c.aL.simpleSegment(0,0,I.length,N.length))}(e,i);return this._tileMeshCache[d]=f,f}recalculate(e){}hasTransition(){const e=Z.now();let i=!1;return i=i||(e-this._errorMeasurementLastChangeTime)/1e3<.7,i=i||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,i}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e}}const jl=new c.r({type:new c.D(c.v.projection.type)});class ds extends c.E{constructor(e){super(),this._transitionable=new c.t(jl),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new c.F(0)),this._mercatorProjection=new Nl,this._verticalPerspectiveProjection=new mu}get transitionState(){const e=this.properties.get("type");if(typeof e=="string"&&e==="mercator")return 0;if(typeof e=="string"&&e==="vertical-perspective")return 1;if(e instanceof c.bl){if(e.from==="vertical-perspective"&&e.to==="mercator")return 1-e.transition;if(e.from==="mercator"&&e.to==="vertical-perspective")return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e)}getMeshFromTileID(e,i,d,f,b){return this.currentProjection.getMeshFromTileID(e,i,d,f,b)}setProjection(e){this._transitionable.setValue("type",e?.type||"mercator")}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e)}}function Kl(y){const e=Ol(y.worldSize,y.center.lat);return 2*Math.PI*e}function Yr(y,e,i,d,f){const b=1/(1<<f),S=e/c.$*b+d*b,M=c.bn((y/c.$*b+i*b)*Math.PI*2+Math.PI,2*Math.PI),I=2*Math.atan(Math.exp(Math.PI-S*Math.PI*2))-.5*Math.PI,N=Math.cos(I),K=new Float64Array(3);return K[0]=Math.sin(M)*N,K[1]=Math.sin(I),K[2]=Math.cos(M)*N,K}function xn(y){return function(e,i){const d=Math.cos(i),f=new Float64Array(3);return f[0]=Math.sin(e)*d,f[1]=Math.sin(i),f[2]=Math.cos(e)*d,f}(y.lng*Math.PI/180,y.lat*Math.PI/180)}function Ol(y,e){return y/(2*Math.PI)/Math.cos(e*Math.PI/180)}function Zs(y){const e=Math.asin(y[1])/Math.PI*180,i=Math.sqrt(y[0]*y[0]+y[2]*y[2]);if(i>1e-6){const d=y[0]/i,f=Math.acos(y[2]/i),b=(d>0?f:-f)/Math.PI*180;return new c.S(c.aN(b,-180,180),e)}return new c.S(0,e)}function ql(y){return Math.cos(y*Math.PI/180)}function rn(y,e){const i=ql(y),d=ql(e);return c.aj(d/i)}function Ec(y,e){const i=y.rotate(e.bearingInRadians),d=e.zoom+rn(e.center.lat,0),f=c.bj(1/ql(e.center.lat),1/ql(Math.min(Math.abs(e.center.lat),60)),c.bm(d,7,3,0,1)),b=360/Kl({worldSize:e.worldSize,center:{lat:e.center.lat}});return new c.S(e.center.lng-i.x*b*f,c.ag(e.center.lat+i.y*b,-c.ah,c.ah))}function Bl(y){const e=.5*y,i=Math.sin(e),d=Math.cos(e);return Math.log(i+d)-Math.log(d-i)}function Fl(y,e,i,d){const f=y.lat+i*d;if(Math.abs(i)>1){const b=(Math.sign(y.lat+i)!==Math.sign(y.lat)?-Math.abs(y.lat):Math.abs(y.lat))*Math.PI/180,S=Math.abs(y.lat+i)*Math.PI/180,M=Bl(b+d*(S-b)),I=Bl(b),N=Bl(S);return new c.S(y.lng+e*((M-I)/(N-I)),f)}return new c.S(y.lng+e*d,f)}class jh{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=e}swapBuffers(){if(!this._hadAnyChanges)return;const e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(e,i,d,f){const b=`${e.z}_${e.x}_${e.y}_${f?.terrain?"t":""}`,S=this._cache.get(b);if(S)return S;const M=this._cachePrevious.get(b);if(M)return this._cache.set(b,M),M;const I=this._boundingVolumeFactory(e,i,d,f);return this._cache.set(b,I),this._hadAnyChanges=!0,I}}class hs{constructor(e,i,d,f){this.min=d,this.max=f,this.points=e,this.planes=i}static fromAabb(e,i){const d=[];for(let f=0;f<8;f++)d.push([1&~f?e[0]:i[0],(f>>1&1)==1?i[1]:e[1],(f>>2&1)==1?i[2]:e[2]]);return new hs(d,[[-1,0,0,i[0]],[1,0,0,-e[0]],[0,-1,0,i[1]],[0,1,0,-e[1]],[0,0,-1,i[2]],[0,0,1,-e[2]]],e,i)}static fromCenterSizeAngles(e,i,d){const f=c.bq([],d[0],d[1],d[2]),b=c.br([],[i[0],0,0],f),S=c.br([],[0,i[1],0],f),M=c.br([],[0,0,i[2]],f),I=[...e],N=[...e];for(let F=0;F<8;F++)for(let B=0;B<3;B++){const U=e[B]+b[B]*(1&~F?-1:1)+S[B]*((F>>1&1)==1?1:-1)+M[B]*((F>>2&1)==1?1:-1);I[B]=Math.min(I[B],U),N[B]=Math.max(N[B],U)}const K=[];for(let F=0;F<8;F++){const B=[...e];c.aR(B,B,c.aQ([],b,1&~F?-1:1)),c.aR(B,B,c.aQ([],S,(F>>1&1)==1?1:-1)),c.aR(B,B,c.aQ([],M,(F>>2&1)==1?1:-1)),K.push(B)}return new hs(K,[[...b,-c.aW(b,K[0])],[...S,-c.aW(S,K[0])],[...M,-c.aW(M,K[0])],[-b[0],-b[1],-b[2],-c.aW(b,K[7])],[-S[0],-S[1],-S[2],-c.aW(S,K[7])],[-M[0],-M[1],-M[2],-c.aW(M,K[7])]],I,N)}intersectsFrustum(e){let i=!0;const d=this.points.length,f=this.planes.length,b=e.planes.length,S=e.points.length;for(let M=0;M<b;M++){const I=e.planes[M];let N=0;for(let K=0;K<d;K++){const F=this.points[K];I[0]*F[0]+I[1]*F[1]+I[2]*F[2]+I[3]>=0&&N++}if(N===0)return 0;N<d&&(i=!1)}if(i)return 2;for(let M=0;M<f;M++){const I=this.planes[M];let N=0;for(let K=0;K<S;K++){const F=e.points[K];I[0]*F[0]+I[1]*F[1]+I[2]*F[2]+I[3]>=0&&N++}if(N===0)return 0}return 1}intersectsPlane(e){const i=this.points.length;let d=0;for(let f=0;f<i;f++){const b=this.points[f];e[0]*b[0]+e[1]*b[1]+e[2]*b[2]+e[3]>=0&&d++}return d===i?2:d===0?0:1}}function zc(y,e,i){const d=y-e;return d<0?-d:Math.max(0,d-i)}function xd(y,e,i,d,f){const b=y-i;let S;return S=b<0?Math.min(-b,1+b-f):b>1?Math.min(Math.max(b-f,0),1-b):0,Math.max(S,zc(e,d,f))}class Hp{constructor(){this._boundingVolumeCache=new jh(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(e,i,d,f){const b=1<<d.z,S=1/b,M=d.x/b,I=d.y/b;let N=2;return N=Math.min(N,xd(e,i,M,I,S)),N=Math.min(N,xd(e,i,M+.5,-I-S,S)),N=Math.min(N,xd(e,i,M+.5,2-I-S,S)),N}getWrap(e,i,d){const f=1<<i.z,b=1/f,S=i.x/f,M=zc(e.x,S,b),I=zc(e.x,S-1,b),N=zc(e.x,S+1,b),K=Math.min(M,I,N);return K===N?1:K===I?-1:0}allowVariableZoom(e,i){return st(e,i)>4}allowWorldCopies(){return!1}getTileBoundingVolume(e,i,d,f){return this._boundingVolumeCache.getTileBoundingVolume(e,i,d,f)}_computeTileBoundingVolume(e,i,d,f){var b,S;let M=d,I=d;if(f?.terrain){const N=new c.Z(e.z,i,e.z,e.x,e.y),K=f.terrain.getMinMaxElevation(N);M=(b=K.minElevation)!==null&&b!==void 0?b:d,I=(S=K.maxElevation)!==null&&S!==void 0?S:d}if(M/=c.bt,I/=c.bt,M+=1,I+=1,e.z<=0)return hs.fromAabb([-I,-I,-I],[I,I,I]);if(e.z===1)return hs.fromAabb([e.x===0?-I:0,e.y===0?0:-I,-I],[e.x===0?0:I,e.y===0?I:0,I]);{const N=[Yr(0,0,e.x,e.y,e.z),Yr(c.$,0,e.x,e.y,e.z),Yr(c.$,c.$,e.x,e.y,e.z),Yr(0,c.$,e.x,e.y,e.z)],K=[];for(const Ge of N)K.push(c.aQ([],Ge,I));if(I!==M)for(const Ge of N)K.push(c.aQ([],Ge,M));e.y===0&&K.push([0,1,0]),e.y===(1<<e.z)-1&&K.push([0,-1,0]);const F=[1,1,1],B=[-1,-1,-1];for(const Ge of K)for(let Ye=0;Ye<3;Ye++)F[Ye]=Math.min(F[Ye],Ge[Ye]),B[Ye]=Math.max(B[Ye],Ge[Ye]);const U=Yr(c.$/2,c.$/2,e.x,e.y,e.z),Y=c.aV([],[0,1,0],U);c.aU(Y,Y);const le=c.aV([],U,Y);c.aU(le,le);const se=c.aV([],N[2],N[1]);c.aU(se,se);const ce=c.aV([],N[0],N[3]);c.aU(ce,ce),K.push(c.aQ([],U,I)),e.y>=(1<<e.z)/2&&K.push(c.aQ([],Yr(c.$/2,0,e.x,e.y,e.z),I)),e.y<(1<<e.z)/2&&K.push(c.aQ([],Yr(c.$/2,c.$,e.x,e.y,e.z),I));const he=An(U,K),ye=An(le,K),pe=[-U[0],-U[1],-U[2],he.max],xe=[U[0],U[1],U[2],-he.min],De=[-le[0],-le[1],-le[2],ye.max],me=[le[0],le[1],le[2],-ye.min],Ee=[...se,0],We=[...ce,0],Ue=[];return e.y===0?Ue.push(c.bs(We,Ee,pe),c.bs(We,Ee,xe)):Ue.push(c.bs(De,Ee,pe),c.bs(De,Ee,xe),c.bs(De,We,pe),c.bs(De,We,xe)),e.y===(1<<e.z)-1?Ue.push(c.bs(We,Ee,pe),c.bs(We,Ee,xe)):Ue.push(c.bs(me,Ee,pe),c.bs(me,Ee,xe),c.bs(me,We,pe),c.bs(me,We,xe)),new hs(Ue,[pe,xe,De,me,Ee,We],F,B)}}}function An(y,e){let i=1/0,d=-1/0;for(const f of e){const b=c.aW(y,f);i=Math.min(i,b),d=Math.max(d,b)}return{min:i,max:d}}class Vl{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,i,d){return this._helper.interpolatePadding(e,i,d)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,i){this._helper.resize(e,i)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,i){this._helper.overrideNearFarZ(e,i)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(){this._cachedClippingPlane=c.bu(),this._projectionMatrix=c.b8(),this._globeViewProjMatrix32f=c.b7(),this._globeViewProjMatrixNoCorrection=c.b8(),this._globeViewProjMatrixNoCorrectionInverted=c.b8(),this._globeProjMatrixInverted=c.b8(),this._cameraPosition=c.bo(),this._globeLatitudeErrorCorrectionRadians=0,this._helper=new bo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,i)=>this.getConstrained(e,i)}),this._coveringTilesDetailsProvider=new Hp}clone(){const e=new Vl;return e.apply(this),e}apply(e,i){this._globeLatitudeErrorCorrectionRadians=i||0,this._helper.apply(e)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e=c.bo();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){const{overscaledTileID:i,applyGlobeMatrix:d}=e,f=this._helper.getMercatorTileCoordinates(i);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:f,clippingPlane:this._cachedClippingPlane,projectionTransition:d?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){const i=this.pitchInRadians,d=this.cameraToCenterDistance/e,f=Math.sin(i)*d,b=Math.cos(i)*d+1,S=1/Math.sqrt(f*f+b*b)*1;let M=-f,I=b;const N=Math.sqrt(M*M+I*I);M/=N,I/=N;const K=[0,M,I];c.bv(K,K,[0,0,0],-this.bearingInRadians),c.bw(K,K,[0,0,0],-1*this.center.lat*Math.PI/180),c.bx(K,K,[0,0,0],this.center.lng*Math.PI/180);const F=1/c.aY(K);return c.aQ(K,K,F),[...K,-S*F]}isLocationOccluded(e){return!this.isSurfacePointVisible(xn(e))}transformLightDirection(e){const i=this._helper._center.lng*Math.PI/180,d=this._helper._center.lat*Math.PI/180,f=Math.cos(d),b=[Math.sin(i)*f,Math.sin(d),Math.cos(i)*f],S=[b[2],0,-b[0]],M=[0,0,0];c.aV(M,S,b),c.aU(S,S),c.aU(M,M);const I=[0,0,0];return c.aU(I,[S[0]*e[0]+M[0]*e[1]+b[0]*e[2],S[1]*e[0]+M[1]*e[1]+b[1]*e[2],S[2]*e[0]+M[2]*e[1]+b[2]*e[2]]),I}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,i,d){const f=function(M,I,N){const K=1/(1<<N.z);return new c.a0(M/c.$*K+N.x*K,I/c.$*K+N.y*K)}(e,i,d.canonical),b=(S=f.y,[c.bn(f.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-S*Math.PI*2))-.5*Math.PI]);var S;return this.getCircleRadiusCorrection()/Math.cos(b[1])}projectTileCoordinates(e,i,d,f){const b=d.canonical,S=Yr(e,i,b.x,b.y,b.z),M=1+(f?f(e,i):0)/c.bt,I=[S[0]*M,S[1]*M,S[2]*M,1];c.av(I,I,this._globeViewProjMatrixNoCorrection);const N=this._cachedClippingPlane,K=N[0]*S[0]+N[1]*S[1]+N[2]*S[2]+N[3]<0;return{point:new c.P(I[0]/I[3],I[1]/I[3]),signedDistanceFromCamera:I[3],isOccluded:K}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e=Ol(this.worldSize,this.center.lat),i=c.b9(),d=c.b9();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),c.b3(i,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const f=this.centerOffset;i[8]=2*-f.x/this._helper._width,i[9]=2*f.y/this._helper._height,this._projectionMatrix=c.b4(i),this._globeProjMatrixInverted=c.b9(),c.ap(this._globeProjMatrixInverted,i),c.M(i,i,[0,0,-this.cameraToCenterDistance]),c.b5(i,i,this.rollInRadians),c.b6(i,i,-this.pitchInRadians),c.b5(i,i,this.bearingInRadians),c.M(i,i,[0,0,-e]);const b=c.bo();b[0]=e,b[1]=e,b[2]=e,c.b6(d,i,this.center.lat*Math.PI/180),c.by(d,d,-this.center.lng*Math.PI/180),c.N(d,d,b),this._globeViewProjMatrixNoCorrection=d,c.b6(i,i,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),c.by(i,i,-this.center.lng*Math.PI/180),c.N(i,i,b),this._globeViewProjMatrix32f=new Float32Array(i),this._globeViewProjMatrixNoCorrectionInverted=c.b9(),c.ap(this._globeViewProjMatrixNoCorrectionInverted,d);const S=c.bo();this._cameraPosition=c.bo(),this._cameraPosition[2]=this.cameraToCenterDistance/e,c.bv(this._cameraPosition,this._cameraPosition,S,-this.rollInRadians),c.bw(this._cameraPosition,this._cameraPosition,S,this.pitchInRadians),c.bv(this._cameraPosition,this._cameraPosition,S,-this.bearingInRadians),c.aR(this._cameraPosition,this._cameraPosition,[0,0,1]),c.bw(this._cameraPosition,this._cameraPosition,S,-this.center.lat*Math.PI/180),c.bx(this._cameraPosition,this._cameraPosition,S,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);const M=c.b4(this._globeViewProjMatrixNoCorrectionInverted);c.N(M,M,[1,1,-1]),this._cachedFrustum=Dn.fromInvProjectionMatrix(M,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(e){c.w("calculateFogMatrix is not supported on globe projection.");const i=c.b9();return c.af(i),i}getVisibleUnwrappedCoordinates(e){return[new c.b1(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&c.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,i){if(!this._globeViewProjMatrixNoCorrection)return 1;const d=xn(e);c.aQ(d,d,1+i/c.bt);const f=c.bu();return c.av(f,[d[0],d[1],d[2],1],this._globeViewProjMatrixNoCorrection),f[2]/f[3]}populateCache(e){}getBounds(){const e=.5*this.width,i=.5*this.height,d=[new c.P(0,0),new c.P(e,0),new c.P(this.width,0),new c.P(this.width,i),new c.P(this.width,this.height),new c.P(e,this.height),new c.P(0,this.height),new c.P(0,i)],f=[];for(const F of d)f.push(this.unprojectScreenPoint(F));let b=0,S=0,M=0,I=0;const N=this.center;for(const F of f){const B=c.bz(N.lng,F.lng),U=c.bz(N.lat,F.lat);B<S&&(S=B),B>b&&(b=B),U<I&&(I=U),U>M&&(M=U)}const K=[N.lng+S,N.lat+I,N.lng+b,N.lat+M];return this.isSurfacePointOnScreen([0,1,0])&&(K[3]=90,K[0]=-180,K[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(K[1]=-90,K[0]=-180,K[2]=180),new si(K)}getConstrained(e,i){const d=c.ag(e.lat,-c.ah,c.ah),f=c.ag(+i,this.minZoom+rn(0,d),this.maxZoom);return{center:new c.S(e.lng,d),zoom:f}}calculateCenterFromCameraLngLatAlt(e,i,d,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,i,d,f)}setLocationAtPoint(e,i){const d=xn(this.unprojectScreenPoint(i)),f=xn(e),b=c.bo();c.bA(b);const S=c.bo();c.bx(S,d,b,-this.center.lng*Math.PI/180),c.bw(S,S,b,this.center.lat*Math.PI/180);const M=f[0]*f[0]+f[2]*f[2],I=S[0]*S[0];if(M<I)return;const N=Math.sqrt(M-I),K=-N,F=c.bB(f[0],f[2],S[0],N),B=c.bB(f[0],f[2],S[0],K),U=c.bo();c.bx(U,f,b,-F);const Y=c.bB(U[1],U[2],S[1],S[2]),le=c.bo();c.bx(le,f,b,-B);const se=c.bB(le[1],le[2],S[1],S[2]),ce=.5*Math.PI,he=Y>=-ce&&Y<=ce,ye=se>=-ce&&se<=ce;let pe,xe;if(he&&ye){const We=this.center.lng*Math.PI/180,Ue=this.center.lat*Math.PI/180;c.bC(F,We)+c.bC(Y,Ue)<c.bC(B,We)+c.bC(se,Ue)?(pe=F,xe=Y):(pe=B,xe=se)}else if(he)pe=F,xe=Y;else{if(!ye)return;pe=B,xe=se}const De=pe/Math.PI*180,me=xe/Math.PI*180,Ee=this.center.lat;this.setCenter(new c.S(De,c.ag(me,-90,90))),this.setZoom(this.zoom+rn(Ee,this.center.lat))}locationToScreenPoint(e,i){const d=xn(e);if(i){const f=i.getElevationForLngLatZoom(e,this._helper._tileZoom);c.aQ(d,d,1+f/c.bt)}return this._projectSurfacePointToScreen(d)}_projectSurfacePointToScreen(e){const i=c.bu();return c.av(i,[...e,1],this._globeViewProjMatrixNoCorrection),i[0]/=i[3],i[1]/=i[3],new c.P((.5*i[0]+.5)*this.width,(.5*-i[1]+.5)*this.height)}screenPointToMercatorCoordinate(e,i){if(i){const d=i.pointCoordinate(e);if(d)return d}return c.a0.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,i){var d;return(d=this.screenPointToMercatorCoordinate(e,i))===null||d===void 0?void 0:d.toLngLat()}isPointOnMapSurface(e,i){const d=this._cameraPosition,f=this.getRayDirectionFromPixel(e);return!!this.rayPlanetIntersection(d,f)}getRayDirectionFromPixel(e){const i=c.bu();i[0]=e.x/this.width*2-1,i[1]=-1*(e.y/this.height*2-1),i[2]=1,i[3]=1,c.av(i,i,this._globeViewProjMatrixNoCorrectionInverted),i[0]/=i[3],i[1]/=i[3],i[2]/=i[3];const d=c.bo();d[0]=i[0]-this._cameraPosition[0],d[1]=i[1]-this._cameraPosition[1],d[2]=i[2]-this._cameraPosition[2];const f=c.bo();return c.aU(f,d),f}isSurfacePointVisible(e){const i=this._cachedClippingPlane;return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]+i[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return!1;const i=c.bu();return c.av(i,[...e,1],this._globeViewProjMatrixNoCorrection),i[0]/=i[3],i[1]/=i[3],i[2]/=i[3],i[0]>-1&&i[0]<1&&i[1]>-1&&i[1]<1&&i[2]>-1&&i[2]<1}rayPlanetIntersection(e,i){const d=c.aW(e,i),f=c.bo(),b=c.bo();c.aQ(b,i,d),c.aT(f,e,b);const S=1-c.aW(f,f);if(S<0)return null;const M=c.aW(e,e)-1,I=-d+(d<0?1:-1)*Math.sqrt(S),N=M/I,K=I;return{tMin:Math.min(N,K),tMax:Math.max(N,K)}}unprojectScreenPoint(e){const i=this._cameraPosition,d=this.getRayDirectionFromPixel(e),f=this.rayPlanetIntersection(i,d);if(f){const K=c.bo();c.aR(K,i,[d[0]*f.tMin,d[1]*f.tMin,d[2]*f.tMin]);const F=c.bo();return c.aU(F,K),Zs(F)}const b=this._cachedClippingPlane,S=b[0]*d[0]+b[1]*d[1]+b[2]*d[2],M=-c.b0(b,i)/S,I=c.bo();if(M>0)c.aR(I,i,[d[0]*M,d[1]*M,d[2]*M]);else{const K=c.bo();c.aR(K,i,[2*d[0],2*d[1],2*d[2]]);const F=c.b0(this._cachedClippingPlane,K);c.aT(I,K,[this._cachedClippingPlane[0]*F,this._cachedClippingPlane[1]*F,this._cachedClippingPlane[2]*F])}const N=function(K){const F=c.bo();return F[0]=K[0]*-K[3],F[1]=K[1]*-K[3],F[2]=K[2]*-K[3],{center:F,radius:Math.sqrt(1-K[3]*K[3])}}(b);return Zs(function(K,F,B){const U=c.bo();c.aT(U,B,K);const Y=c.bo();return c.bp(Y,K,U,F/c.a_(U)),Y}(N.center,N.radius,I))}getMatrixForModel(e,i){const d=c.S.convert(e),f=1/c.bt,b=c.b8();return c.by(b,b,d.lng/180*Math.PI),c.b6(b,b,-d.lat/180*Math.PI),c.M(b,b,[0,0,1+i/c.bt]),c.b6(b,b,.5*Math.PI),c.N(b,b,[f,f,f]),b}getProjectionDataForCustomLayer(e=!0){const i=this.getProjectionData({overscaledTileID:new c.Z(0,0,0,0,0),applyGlobeMatrix:e});return i.tileMercatorCoords=[0,0,1,1],i}getFastPathSimpleProjectionMatrix(e){}}class fr{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,i,d){return this._helper.interpolatePadding(e,i,d)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,i,d=!0){this._helper.resize(e,i,d)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}overrideNearFarZ(e,i){this._helper.overrideNearFarZ(e,i)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,i){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=i,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this._helper=new bo({calcMatrices:()=>{this._calcMatrices()},getConstrained:(e,i)=>this.getConstrained(e,i)}),this._globeness=1,this._mercatorTransform=new Si,this._verticalPerspectiveTransform=new Vl}clone(){const e=new fr;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){const i=this._mercatorTransform.getProjectionData(e),d=this._verticalPerspectiveTransform.getProjectionData(e);return{mainMatrix:this.isGlobeRendering?d.mainMatrix:i.mainMatrix,clippingPlane:d.clippingPlane,tileMercatorCoords:d.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:i.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return c.bj(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return c.bj(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,i,d){const f=this._mercatorTransform.getPitchedTextCorrection(e,i,d),b=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,i,d);return c.bj(f,b,this._globeness)}projectTileCoordinates(e,i,d,f){return this.currentTransform.projectTileCoordinates(e,i,d,f)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,i){return this.currentTransform.lngLatToCameraDepth(e,i)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e)}getBounds(){return this.currentTransform.getBounds()}getConstrained(e,i){return this.currentTransform.getConstrained(e,i)}calculateCenterFromCameraLngLatAlt(e,i,d,f){return this._helper.calculateCenterFromCameraLngLatAlt(e,i,d,f)}setLocationAtPoint(e,i){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,i),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,i),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e,i){return this.currentTransform.locationToScreenPoint(e,i)}screenPointToMercatorCoordinate(e,i){return this.currentTransform.screenPointToMercatorCoordinate(e,i)}screenPointToLocation(e,i){return this.currentTransform.screenPointToLocation(e,i)}isPointOnMapSurface(e,i){return this.currentTransform.isPointOnMapSurface(e,i)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,i){return this.currentTransform.getMatrixForModel(e,i)}getProjectionDataForCustomLayer(e=!0){const i=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return i;const d=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return d.fallbackMatrix=i.mainMatrix,d}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class nr{get useGlobeControls(){return!0}handlePanInertia(e,i){const d=Ec(e,i);return Math.abs(d.lng-i.center.lng)>180&&(d.lng=i.center.lng+179.5*Math.sign(d.lng-i.center.lng)),{easingCenter:d,easingOffset:new c.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,i){const d=e.around,f=i.screenPointToLocation(d);e.bearingDelta&&i.setBearing(i.bearing+e.bearingDelta),e.pitchDelta&&i.setPitch(i.pitch+e.pitchDelta),e.rollDelta&&i.setRoll(i.roll+e.rollDelta);const b=i.zoom;e.zoomDelta&&i.setZoom(i.zoom+e.zoomDelta);const S=i.zoom-b;if(S===0)return;const M=c.bz(i.center.lng,f.lng),I=M/(Math.abs(M/180)+1),N=c.bz(i.center.lat,f.lat),K=i.getRayDirectionFromPixel(d),F=i.cameraPosition,B=-1*c.aW(F,K),U=c.bo();c.aR(U,F,[K[0]*B,K[1]*B,K[2]*B]);const Y=c.aY(U)-1,le=Math.exp(.5*-Math.max(Y-.3,0)),se=Ol(i.worldSize,i.center.lat)/Math.min(i.width,i.height),ce=c.bm(se,.9,.5,1,.25),he=(1-c.ae(-S))*Math.min(le,ce),ye=i.center.lat,pe=i.zoom,xe=new c.S(i.center.lng+I*he,c.ag(i.center.lat+N*he,-c.ah,c.ah));i.setLocationAtPoint(f,d);const De=i.center,me=c.bm(Math.abs(M),45,85,0,1),Ee=c.bm(se,.75,.35,0,1),We=Math.pow(Math.max(me,Ee),.25),Ue=c.bz(De.lng,xe.lng),Ge=c.bz(De.lat,xe.lat);i.setCenter(new c.S(De.lng+Ue*We,De.lat+Ge*We).wrap()),i.setZoom(pe+rn(ye,i.center.lat))}handleMapControlsPan(e,i,d){if(!e.panDelta)return;const f=i.center.lat,b=i.zoom;i.setCenter(Ec(e.panDelta,i).wrap()),i.setZoom(b+rn(f,i.center.lat))}cameraForBoxAndBearing(e,i,d,f,b){const S=ai(e,i,d,f,b),M=i.left/b.width*2-1,I=(b.width-i.right)/b.width*2-1,N=i.top/b.height*-2+1,K=(b.height-i.bottom)/b.height*-2+1,F=c.bz(d.getWest(),d.getEast())<0,B=F?d.getEast():d.getWest(),U=F?d.getWest():d.getEast(),Y=Math.max(d.getNorth(),d.getSouth()),le=Math.min(d.getNorth(),d.getSouth()),se=B+.5*c.bz(B,U),ce=Y+.5*c.bz(Y,le),he=b.clone();he.setCenter(S.center),he.setBearing(S.bearing),he.setPitch(0),he.setRoll(0),he.setZoom(S.zoom);const ye=he.modelViewProjectionMatrix,pe=[xn(d.getNorthWest()),xn(d.getNorthEast()),xn(d.getSouthWest()),xn(d.getSouthEast()),xn(new c.S(U,ce)),xn(new c.S(B,ce)),xn(new c.S(se,Y)),xn(new c.S(se,le))],xe=xn(S.center);let De=Number.POSITIVE_INFINITY;for(const me of pe)M<0&&(De=nr.getLesserNonNegativeNonNull(De,nr.solveVectorScale(me,xe,ye,"x",M))),I>0&&(De=nr.getLesserNonNegativeNonNull(De,nr.solveVectorScale(me,xe,ye,"x",I))),N>0&&(De=nr.getLesserNonNegativeNonNull(De,nr.solveVectorScale(me,xe,ye,"y",N))),K<0&&(De=nr.getLesserNonNegativeNonNull(De,nr.solveVectorScale(me,xe,ye,"y",K)));if(Number.isFinite(De)&&De!==0)return S.zoom=he.zoom+c.aj(De),S;Ti()}handleJumpToCenterZoom(e,i){const d=e.center.lat,f=e.getConstrained(i.center?c.S.convert(i.center):e.center,e.zoom).center;e.setCenter(f.wrap());const b=i.zoom!==void 0?+i.zoom:e.zoom+rn(d,f.lat);e.zoom!==b&&e.setZoom(b)}handleEaseTo(e,i){const d=e.zoom,f=e.center,b=e.padding,S={roll:e.roll,pitch:e.pitch,bearing:e.bearing},M={roll:i.roll===void 0?e.roll:i.roll,pitch:i.pitch===void 0?e.pitch:i.pitch,bearing:i.bearing===void 0?e.bearing:i.bearing},I=i.zoom!==void 0,N=!e.isPaddingEqual(i.padding);let K=!1;const F=i.center?c.S.convert(i.center):f,B=e.getConstrained(F,d).center;Jr(e,B);const U=e.clone();U.setCenter(B),U.setZoom(I?+i.zoom:d+rn(f.lat,F.lat)),U.setBearing(i.bearing);const Y=new c.P(c.ag(e.centerPoint.x+i.offsetAsPoint.x,0,e.width),c.ag(e.centerPoint.y+i.offsetAsPoint.y,0,e.height));U.setLocationAtPoint(B,Y);const le=(i.offset&&i.offsetAsPoint.mag())>0?U.center:B,se=I?+i.zoom:d+rn(f.lat,le.lat),ce=d+rn(f.lat,0),he=se+rn(le.lat,0),ye=c.bz(f.lng,le.lng),pe=c.bz(f.lat,le.lat),xe=c.ae(he-ce);return K=se!==d,{easeFunc:De=>{if(c.bd(S,M)||an({startEulerAngles:S,endEulerAngles:M,tr:e,k:De,useSlerp:S.roll!=M.roll}),N&&e.interpolatePadding(b,i.padding,De),i.around)c.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(i.around,i.aroundPoint);else{const me=he>ce?Math.min(2,xe):Math.max(.5,xe),Ee=Math.pow(me,1-De),We=Fl(f,ye,pe,De*Ee);e.setCenter(We.wrap())}if(K){const me=c.C.number(ce,he,De)+rn(0,e.center.lat);e.setZoom(me)}},isZooming:K,elevationCenter:le}}handleFlyTo(e,i){const d=i.zoom!==void 0,f=e.center,b=e.zoom,S=e.padding,M=!e.isPaddingEqual(i.padding),I=e.getConstrained(c.S.convert(i.center||i.locationAtOffset),b).center,N=d?+i.zoom:e.zoom+rn(e.center.lat,I.lat),K=e.clone();K.setCenter(I),K.setZoom(N),K.setBearing(i.bearing);const F=new c.P(c.ag(e.centerPoint.x+i.offsetAsPoint.x,0,e.width),c.ag(e.centerPoint.y+i.offsetAsPoint.y,0,e.height));K.setLocationAtPoint(I,F);const B=K.center;Jr(e,B);const U=function(pe,xe,De){const me=xn(xe),Ee=xn(De),We=c.aW(me,Ee),Ue=Math.acos(We),Ge=Kl(pe);return Ue/(2*Math.PI)*Ge}(e,f,B),Y=b+rn(f.lat,0),le=N+rn(B.lat,0),se=c.ae(le-Y);let ce;if(typeof i.minZoom=="number"){const pe=+i.minZoom+rn(B.lat,0),xe=Math.min(pe,Y,le)+rn(0,B.lat),De=e.getConstrained(B,xe).zoom+rn(B.lat,0);ce=c.ae(De-Y)}const he=c.bz(f.lng,B.lng),ye=c.bz(f.lat,B.lat);return{easeFunc:(pe,xe,De,me)=>{const Ee=Fl(f,he,ye,De);M&&e.interpolatePadding(S,i.padding,pe);const We=pe===1?B:Ee;e.setCenter(We.wrap());const Ue=Y+c.aj(xe);e.setZoom(pe===1?N:Ue+rn(0,We.lat))},scaleOfZoom:se,targetCenter:B,scaleOfMinZoom:ce,pixelPathLength:U}}static solveVectorScale(e,i,d,f,b){const S=f==="x"?[d[0],d[4],d[8],d[12]]:[d[1],d[5],d[9],d[13]],M=[d[3],d[7],d[11],d[15]],I=e[0]*S[0]+e[1]*S[1]+e[2]*S[2],N=e[0]*M[0]+e[1]*M[1]+e[2]*M[2],K=i[0]*S[0]+i[1]*S[1]+i[2]*S[2],F=i[0]*M[0]+i[1]*M[1]+i[2]*M[2];return K+b*N===I+b*F||M[3]*(I-K)+S[3]*(F-N)+I*F==K*N?null:(K+S[3]-b*F-b*M[3])/(K-I-b*F+b*N)}static getLesserNonNegativeNonNull(e,i){return i!==null&&i>=0&&i<e?i:e}}class gu{constructor(e){this._globe=e,this._mercatorCameraHelper=new Wr,this._verticalPerspectiveCameraHelper=new nr}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,i){return this.currentHelper.handlePanInertia(e,i)}handleMapControlsRollPitchBearingZoom(e,i){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,i)}handleMapControlsPan(e,i,d){this.currentHelper.handleMapControlsPan(e,i,d)}cameraForBoxAndBearing(e,i,d,f,b){return this.currentHelper.cameraForBoxAndBearing(e,i,d,f,b)}handleJumpToCenterZoom(e,i){this.currentHelper.handleJumpToCenterZoom(e,i)}handleEaseTo(e,i){return this.currentHelper.handleEaseTo(e,i)}handleFlyTo(e,i){return this.currentHelper.handleFlyTo(e,i)}}const Rc=(y,e)=>c.y(y,e&&e.filter(i=>i.identifier!=="source.canvas")),Ul=c.bD();class _d extends c.E{constructor(e,i={}){super(),this._rtlPluginLoaded=()=>{for(const d in this.sourceCaches){const f=this.sourceCaches[d].getSource().type;f!=="vector"&&f!=="geojson"||this.sourceCaches[d].reload()}},this.map=e,this.dispatcher=new aa(ba(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",(d,f)=>this.getGlyphs(d,f)),this.dispatcher.registerMessageHandler("GI",(d,f)=>this.getImages(d,f)),this.imageManager=new zt,this.imageManager.setEventedParent(this),this.glyphManager=new $t(e._requestManager,i.localIdeographFontFamily),this.lineAtlas=new kt(256,512),this.crossTileSymbolIndex=new Ac,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new c.bE,this._loaded=!1,this._availableImages=[],this._globalState={},this._resetUpdates(),this.dispatcher.broadcast("SR",c.bF()),za().on(Mr,this._rtlPluginLoaded),this.on("data",d=>{if(d.dataType!=="source"||d.sourceDataType!=="metadata")return;const f=this.sourceCaches[d.sourceId];if(!f)return;const b=f.getSource();if(b&&b.vectorLayerIds)for(const S in this._layers){const M=this._layers[S];M.source===b.id&&this._validateLayer(M)}})}setGlobalStateProperty(e,i){var d,f,b;this._checkLoaded();const S=i===null?(b=(f=(d=this.stylesheet.state)===null||d===void 0?void 0:d[e])===null||f===void 0?void 0:f.default)!==null&&b!==void 0?b:null:i;if(c.bG(S,this._globalState[e]))return this;this._globalState[e]=S;const M=this._findGlobalStateAffectedSources([e]);for(const I in this.sourceCaches)M.has(I)&&(this._reloadSource(I),this._changed=!0)}getGlobalState(){return this._globalState}setGlobalState(e){this._checkLoaded();const i=[];for(const f in e)!c.bG(this._globalState[f],e[f].default)&&(i.push(f),this._globalState[f]=e[f].default);const d=this._findGlobalStateAffectedSources(i);for(const f in this.sourceCaches)d.has(f)&&(this._reloadSource(f),this._changed=!0)}_findGlobalStateAffectedSources(e){if(e.length===0)return new Set;const i=new Set;for(const d in this._layers){const f=this._layers[d],b=f.getLayoutAffectingGlobalStateRefs();for(const S of e)b.has(S)&&i.add(f.source)}return i}loadURL(e,i={},d){this.fire(new c.l("dataloading",{dataType:"style"})),i.validate=typeof i.validate!="boolean"||i.validate;const f=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;const b=this._loadStyleRequest;c.j(f,this._loadStyleRequest).then(S=>{this._loadStyleRequest=null,this._load(S.data,i,d)}).catch(S=>{this._loadStyleRequest=null,S&&!b.signal.aborted&&this.fire(new c.k(S))})}loadJSON(e,i={},d){this.fire(new c.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,Z.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,i.validate=i.validate!==!1,this._load(e,i,d)}).catch(()=>{})}loadEmpty(){this.fire(new c.l("dataloading",{dataType:"style"})),this._load(Ul,{validate:!1})}_load(e,i,d){var f,b,S;const M=i.transformStyle?i.transformStyle(d,e):e;if(!i.validate||!Rc(this,c.z(M))){this._loaded=!0,this.stylesheet=M;for(const I in M.sources)this.addSource(I,M.sources[I],{validate:!1});M.sprite?this._loadSprite(M.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(M.glyphs),this._createLayers(),this.light=new Ke(this.stylesheet.light),this._setProjectionInternal(((f=this.stylesheet.projection)===null||f===void 0?void 0:f.type)||"mercator"),this.sky=new xt(this.stylesheet.sky),this.map.setTerrain((b=this.stylesheet.terrain)!==null&&b!==void 0?b:null),this.setGlobalState((S=this.stylesheet.state)!==null&&S!==void 0?S:null),this.fire(new c.l("data",{dataType:"style"})),this.fire(new c.l("style.load"))}}_createLayers(){const e=c.bH(this.stylesheet.layers);this.dispatcher.broadcast("SL",e),this._order=e.map(i=>i.id),this._layers={},this._serializedLayers=null;for(const i of e){const d=c.bI(i);d.setEventedParent(this,{layer:{id:i.id}}),this._layers[i.id]=d}}_loadSprite(e,i=!1,d=void 0){let f;this.imageManager.setLoaded(!1),this._spriteRequest=new AbortController,function(b,S,M,I){return c._(this,void 0,void 0,function*(){const N=Se(b),K=M>1?"@2x":"",F={},B={};for(const{id:U,url:Y}of N){const le=S.transformRequest(_t(Y,K,".json"),"SpriteJSON");F[U]=c.j(le,I);const se=S.transformRequest(_t(Y,K,".png"),"SpriteImage");B[U]=ot.getImage(se,I)}return yield Promise.all([...Object.values(F),...Object.values(B)]),function(U,Y){return c._(this,void 0,void 0,function*(){const le={};for(const se in U){le[se]={};const ce=Z.getImageCanvasContext((yield Y[se]).data),he=(yield U[se]).data;for(const ye in he){const{width:pe,height:xe,x:De,y:me,sdf:Ee,pixelRatio:We,stretchX:Ue,stretchY:Ge,content:Ye,textFitWidth:Lt,textFitHeight:At}=he[ye];le[se][ye]={data:null,pixelRatio:We,sdf:Ee,stretchX:Ue,stretchY:Ge,content:Ye,textFitWidth:Lt,textFitHeight:At,spriteData:{width:pe,height:xe,x:De,y:me,context:ce}}}}return le})}(F,B)})}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(b=>{if(this._spriteRequest=null,b)for(const S in b){this._spritesImagesIds[S]=[];const M=this._spritesImagesIds[S]?this._spritesImagesIds[S].filter(I=>!(I in b)):[];for(const I of M)this.imageManager.removeImage(I),this._changedImages[I]=!0;for(const I in b[S]){const N=S==="default"?I:`${S}:${I}`;this._spritesImagesIds[S].push(N),N in this.imageManager.images?this.imageManager.updateImage(N,b[S][I],!1):this.imageManager.addImage(N,b[S][I]),i&&(this._changedImages[N]=!0)}}}).catch(b=>{this._spriteRequest=null,f=b,this.fire(new c.k(f))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),i&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"})),d&&d(f)})}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}_validateLayer(e){const i=this.sourceCaches[e.source];if(!i)return;const d=e.sourceLayer;if(!d)return;const f=i.getSource();(f.type==="geojson"||f.vectorLayerIds&&f.vectorLayerIds.indexOf(d)===-1)&&this.fire(new c.k(new Error(`Source layer "${d}" does not exist on source "${f.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e,i=!1){const d=this._serializedAllLayers();if(!e||e.length===0)return Object.values(i?c.bJ(d):d);const f=[];for(const b of e)if(d[b]){const S=i?c.bJ(d[b]):d[b];f.push(S)}return f}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const i=Object.keys(this._layers);for(const d of i){const f=this._layers[d];f.type!=="custom"&&(e[d]=f.serialize())}return e}hasTransitions(){var e,i,d;if(!((e=this.light)===null||e===void 0)&&e.hasTransition()||!((i=this.sky)===null||i===void 0)&&i.hasTransition()||!((d=this.projection)===null||d===void 0)&&d.hasTransition())return!0;for(const f in this.sourceCaches)if(this.sourceCaches[f].hasTransition())return!0;for(const f in this._layers)if(this._layers[f].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const i=this._changed;if(i){const f=Object.keys(this._updatedLayers),b=Object.keys(this._removedLayers);(f.length||b.length)&&this._updateWorkerLayers(f,b);for(const S in this._updatedSources){const M=this._updatedSources[S];if(M==="reload")this._reloadSource(S);else{if(M!=="clear")throw new Error(`Invalid action ${M}`);this._clearSource(S)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const S in this._updatedPaintProps)this._layers[S].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}const d={};for(const f in this.sourceCaches){const b=this.sourceCaches[f];d[f]=b.used,b.used=!1}for(const f of this._order){const b=this._layers[f];b.recalculate(e,this._availableImages),!b.isHidden(e.zoom)&&b.source&&(this.sourceCaches[b.source].used=!0)}for(const f in d){const b=this.sourceCaches[f];!!d[f]!=!!b.used&&b.fire(new c.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:f}))}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,i&&this.fire(new c.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const i in this.sourceCaches)this.sourceCaches[i].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,i){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:i})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,i={}){var d;this._checkLoaded();const f=this.serialize();if(e=i.transformStyle?i.transformStyle(f,e):e,((d=i.validate)===null||d===void 0||d)&&Rc(this,c.z(e)))return!1;(e=c.bJ(e)).layers=c.bH(e.layers);const b=c.bK(f,e),S=this._getOperationsToPerform(b);if(S.unimplemented.length>0)throw new Error(`Unimplemented: ${S.unimplemented.join(", ")}.`);if(S.operations.length===0)return!1;for(const M of S.operations)M();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const i=[],d=[];for(const f of e)switch(f.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":i.push(()=>this.addLayer.apply(this,f.args));break;case"removeLayer":i.push(()=>this.removeLayer.apply(this,f.args));break;case"setPaintProperty":i.push(()=>this.setPaintProperty.apply(this,f.args));break;case"setLayoutProperty":i.push(()=>this.setLayoutProperty.apply(this,f.args));break;case"setFilter":i.push(()=>this.setFilter.apply(this,f.args));break;case"addSource":i.push(()=>this.addSource.apply(this,f.args));break;case"removeSource":i.push(()=>this.removeSource.apply(this,f.args));break;case"setLayerZoomRange":i.push(()=>this.setLayerZoomRange.apply(this,f.args));break;case"setLight":i.push(()=>this.setLight.apply(this,f.args));break;case"setGeoJSONSourceData":i.push(()=>this.setGeoJSONSourceData.apply(this,f.args));break;case"setGlyphs":i.push(()=>this.setGlyphs.apply(this,f.args));break;case"setSprite":i.push(()=>this.setSprite.apply(this,f.args));break;case"setTerrain":i.push(()=>this.map.setTerrain.apply(this,f.args));break;case"setSky":i.push(()=>this.setSky.apply(this,f.args));break;case"setProjection":this.setProjection.apply(this,f.args);break;case"setGlobalState":i.push(()=>this.setGlobalState.apply(this,f.args));break;case"setTransition":i.push(()=>{});break;default:d.push(f.command)}return{operations:i,unimplemented:d}}addImage(e,i){if(this.getImage(e))return this.fire(new c.k(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,i),this._afterImageUpdated(e)}updateImage(e,i){this.imageManager.updateImage(e,i)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new c.k(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,i,d={}){if(this._checkLoaded(),this.sourceCaches[e]!==void 0)throw new Error(`Source "${e}" already exists.`);if(!i.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(i).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(i.type)>=0&&this._validate(c.z.source,`sources.${e}`,i,null,d))return;this.map&&this.map._collectResourceTiming&&(i.collectResourceTiming=!0);const f=this.sourceCaches[e]=new ut(e,i,this.dispatcher);f.style=this,f.setEventedParent(this,()=>({isSourceLoaded:f.loaded(),source:f.serialize(),sourceId:e})),f.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error("There is no source with this ID");for(const d in this._layers)if(this._layers[d].source===e)return this.fire(new c.k(new Error(`Source "${e}" cannot be removed while layer "${d}" is using it.`)));const i=this.sourceCaches[e];delete this.sourceCaches[e],delete this._updatedSources[e],i.fire(new c.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),i.setEventedParent(null),i.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,i){if(this._checkLoaded(),this.sourceCaches[e]===void 0)throw new Error(`There is no source with this ID=${e}`);const d=this.sourceCaches[e].getSource();if(d.type!=="geojson")throw new Error(`geojsonSource.type is ${d.type}, which is !== 'geojson`);d.setData(i),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(e,i,d={}){this._checkLoaded();const f=e.id;if(this.getLayer(f))return void this.fire(new c.k(new Error(`Layer "${f}" already exists on this map.`)));let b;if(e.type==="custom"){if(Rc(this,c.bL(e)))return;b=c.bI(e)}else{if("source"in e&&typeof e.source=="object"&&(this.addSource(f,e.source),e=c.bJ(e),e=c.e(e,{source:f})),this._validate(c.z.layer,`layers.${f}`,e,{arrayIndex:-1},d))return;b=c.bI(e),this._validateLayer(b),b.setEventedParent(this,{layer:{id:f}})}const S=i?this._order.indexOf(i):this._order.length;if(i&&S===-1)this.fire(new c.k(new Error(`Cannot add layer "${f}" before non-existing layer "${i}".`)));else{if(this._order.splice(S,0,f),this._layerOrderChanged=!0,this._layers[f]=b,this._removedLayers[f]&&b.source&&b.type!=="custom"){const M=this._removedLayers[f];delete this._removedLayers[f],M.type!==b.type?this._updatedSources[b.source]="clear":(this._updatedSources[b.source]="reload",this.sourceCaches[b.source].pause())}this._updateLayer(b),b.onAdd&&b.onAdd(this.map)}}moveLayer(e,i){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new c.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===i)return;const d=this._order.indexOf(e);this._order.splice(d,1);const f=i?this._order.indexOf(i):this._order.length;i&&f===-1?this.fire(new c.k(new Error(`Cannot move layer "${e}" before non-existing layer "${i}".`))):(this._order.splice(f,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const i=this._layers[e];if(!i)return void this.fire(new c.k(new Error(`Cannot remove non-existing layer "${e}".`)));i.setEventedParent(null);const d=this._order.indexOf(e);this._order.splice(d,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=i,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],i.onRemove&&i.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,i,d){this._checkLoaded();const f=this.getLayer(e);f?f.minzoom===i&&f.maxzoom===d||(i!=null&&(f.minzoom=i),d!=null&&(f.maxzoom=d),this._updateLayer(f)):this.fire(new c.k(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,i,d={}){this._checkLoaded();const f=this.getLayer(e);if(f){if(!c.bG(f.filter,i))return i==null?(f.setFilter(void 0),void this._updateLayer(f)):void(this._validate(c.z.filter,`layers.${f.id}.filter`,i,null,d)||(f.setFilter(c.bJ(i)),this._updateLayer(f)))}else this.fire(new c.k(new Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return c.bJ(this.getLayer(e).filter)}setLayoutProperty(e,i,d,f={}){this._checkLoaded();const b=this.getLayer(e);b?c.bG(b.getLayoutProperty(i),d)||(b.setLayoutProperty(i,d,f),this._updateLayer(b)):this.fire(new c.k(new Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,i){const d=this.getLayer(e);if(d)return d.getLayoutProperty(i);this.fire(new c.k(new Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,i,d,f={}){this._checkLoaded();const b=this.getLayer(e);b?c.bG(b.getPaintProperty(i),d)||(b.setPaintProperty(i,d,f)&&this._updateLayer(b),this._changed=!0,this._updatedPaintProps[e]=!0,this._serializedLayers=null):this.fire(new c.k(new Error(`Cannot style non-existing layer "${e}".`)))}getPaintProperty(e,i){return this.getLayer(e).getPaintProperty(i)}setFeatureState(e,i){this._checkLoaded();const d=e.source,f=e.sourceLayer,b=this.sourceCaches[d];if(b===void 0)return void this.fire(new c.k(new Error(`The source '${d}' does not exist in the map's style.`)));const S=b.getSource().type;S==="geojson"&&f?this.fire(new c.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):S!=="vector"||f?(e.id===void 0&&this.fire(new c.k(new Error("The feature id parameter must be provided."))),b.setFeatureState(f,e.id,i)):this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,i){this._checkLoaded();const d=e.source,f=this.sourceCaches[d];if(f===void 0)return void this.fire(new c.k(new Error(`The source '${d}' does not exist in the map's style.`)));const b=f.getSource().type,S=b==="vector"?e.sourceLayer:void 0;b!=="vector"||S?i&&typeof e.id!="string"&&typeof e.id!="number"?this.fire(new c.k(new Error("A feature id is required to remove its specific state property."))):f.removeFeatureState(S,e.id,i):this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const i=e.source,d=e.sourceLayer,f=this.sourceCaches[i];if(f!==void 0)return f.getSource().type!=="vector"||d?(e.id===void 0&&this.fire(new c.k(new Error("The feature id parameter must be provided."))),f.getFeatureState(d,e.id)):void this.fire(new c.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new c.k(new Error(`The source '${i}' does not exist in the map's style.`)))}getTransition(){return c.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=c.bM(this.sourceCaches,b=>b.serialize()),i=this._serializeByIds(this._order,!0),d=this.map.getTerrain()||void 0,f=this.stylesheet;return c.bN({version:f.version,name:f.name,metadata:f.metadata,light:f.light,sky:f.sky,center:f.center,zoom:f.zoom,bearing:f.bearing,pitch:f.pitch,sprite:f.sprite,glyphs:f.glyphs,transition:f.transition,projection:f.projection,sources:e,layers:i,terrain:d},b=>b!==void 0)}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&this.sourceCaches[e.source].getSource().type!=="raster"&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const i=S=>this._layers[S].type==="fill-extrusion",d={},f=[];for(let S=this._order.length-1;S>=0;S--){const M=this._order[S];if(i(M)){d[M]=S;for(const I of e){const N=I[M];if(N)for(const K of N)f.push(K)}}}f.sort((S,M)=>M.intersectionZ-S.intersectionZ);const b=[];for(let S=this._order.length-1;S>=0;S--){const M=this._order[S];if(i(M))for(let I=f.length-1;I>=0;I--){const N=f[I].feature;if(d[N.layer.id]<S)break;b.push(N),f.pop()}else for(const I of e){const N=I[M];if(N)for(const K of N)b.push(K.feature)}}return b}queryRenderedFeatures(e,i,d){i&&i.filter&&this._validate(c.z.filter,"queryRenderedFeatures.filter",i.filter,null,i);const f={};if(i&&i.layers){if(!(Array.isArray(i.layers)||i.layers instanceof Set))return this.fire(new c.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const N of i.layers){const K=this._layers[N];if(!K)return this.fire(new c.k(new Error(`The layer '${N}' does not exist in the map's style and cannot be queried for features.`))),[];f[K.source]=!0}}const b=[];i.availableImages=this._availableImages;const S=this._serializedAllLayers(),M=i.layers instanceof Set?i.layers:Array.isArray(i.layers)?new Set(i.layers):null,I=Object.assign(Object.assign({},i),{layers:M});for(const N in this.sourceCaches)i.layers&&!f[N]||b.push(Qa(this.sourceCaches[N],this._layers,S,e,I,d,this.map.terrain?(K,F,B)=>this.map.terrain.getElevation(K,F,B):void 0));return this.placement&&b.push(function(N,K,F,B,U,Y,le){const se={},ce=Y.queryRenderedSymbols(B),he=[];for(const ye of Object.keys(ce).map(Number))he.push(le[ye]);he.sort(Ai);for(const ye of he){const pe=ye.featureIndex.lookupSymbolFeatures(ce[ye.bucketInstanceId],K,ye.bucketIndex,ye.sourceLayerIndex,U.filter,U.layers,U.availableImages,N);for(const xe in pe){const De=se[xe]=se[xe]||[],me=pe[xe];me.sort((Ee,We)=>{const Ue=ye.featureSortOrder;if(Ue){const Ge=Ue.indexOf(Ee.featureIndex);return Ue.indexOf(We.featureIndex)-Ge}return We.featureIndex-Ee.featureIndex});for(const Ee of me)De.push(Ee)}}return function(ye,pe,xe){for(const De in ye)for(const me of ye[De])Ii(me,xe[pe[De].source]);return ye}(se,N,F)}(this._layers,S,this.sourceCaches,e,I,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(b)}querySourceFeatures(e,i){i&&i.filter&&this._validate(c.z.filter,"querySourceFeatures.filter",i.filter,null,i);const d=this.sourceCaches[e];return d?function(f,b){const S=f.getRenderableIds().map(N=>f.getTileByID(N)),M=[],I={};for(let N=0;N<S.length;N++){const K=S[N],F=K.tileID.canonical.key;I[F]||(I[F]=!0,K.querySourceFeatures(M,b))}return M}(d,i):[]}getLight(){return this.light.getLight()}setLight(e,i={}){this._checkLoaded();const d=this.light.getLight();let f=!1;for(const S in e)if(!c.bG(e[S],d[S])){f=!0;break}if(!f)return;const b={now:Z.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,i),this.light.updateTransitions(b)}getProjection(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e,this._setProjectionInternal(e.type)}getSky(){var e;return(e=this.stylesheet)===null||e===void 0?void 0:e.sky}setSky(e,i={}){this._checkLoaded();const d=this.getSky();let f=!1;if(!e&&!d)return;if(e&&!d)f=!0;else if(!e&&d)f=!0;else for(const S in e)if(!c.bG(e[S],d[S])){f=!0;break}if(!f)return;const b={now:Z.now(),transition:c.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,i),this.sky.updateTransitions(b)}_setProjectionInternal(e){const i=function(d){if(Array.isArray(d)){const f=new ds({type:d});return{projection:f,transform:new fr,cameraHelper:new gu(f)}}switch(d){case"mercator":return{projection:new Nl,transform:new Si,cameraHelper:new Wr};case"globe":{const f=new ds({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:f,transform:new fr,cameraHelper:new gu(f)}}case"vertical-perspective":return{projection:new mu,transform:new Vl,cameraHelper:new nr};default:return c.w(`Unknown projection name: ${d}. Falling back to mercator projection.`),{projection:new Nl,transform:new Si,cameraHelper:new Wr}}}(e);this.projection=i.projection,this.map.migrateProjection(i.transform,i.cameraHelper);for(const d in this.sourceCaches)this.sourceCaches[d].reload()}_validate(e,i,d,f,b={}){return(!b||b.validate!==!1)&&Rc(this,e.call(c.z,c.e({key:i,style:this.serialize(),value:d,styleSpec:c.v},f)))}_remove(e=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),za().off(Mr,this._rtlPluginLoaded);for(const i in this._layers)this._layers[i].setEventedParent(null);for(const i in this.sourceCaches){const d=this.sourceCaches[i];d.setEventedParent(null),d.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const i in this.sourceCaches)this.sourceCaches[i].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(e,i,d,f,b=!1){let S=!1,M=!1;const I={};for(const N of this._order){const K=this._layers[N];if(K.type!=="symbol")continue;if(!I[K.source]){const B=this.sourceCaches[K.source];I[K.source]=B.getRenderableIds(!0).map(U=>B.getTileByID(U)).sort((U,Y)=>Y.tileID.overscaledZ-U.tileID.overscaledZ||(U.tileID.isLessThan(Y.tileID)?-1:1))}const F=this.crossTileSymbolIndex.addLayer(K,I[K.source],e.center.lng);S=S||F}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((b=b||this._layerOrderChanged||d===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(Z.now(),e.zoom))&&(this.pauseablePlacement=new fu(e,this.map.terrain,this._order,b,i,d,f,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,I),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(Z.now()),M=!0),S&&this.pauseablePlacement.placement.setStale()),M||S)for(const N of this._order){const K=this._layers[N];K.type==="symbol"&&this.placement.updateLayerOpacities(K,I[K.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(Z.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,i){return c._(this,void 0,void 0,function*(){const d=yield this.imageManager.getImages(i.icons);this._updateTilesForChangedImages();const f=this.sourceCaches[i.source];return f&&f.setDependencies(i.tileID.key,i.type,i.icons),d})}getGlyphs(e,i){return c._(this,void 0,void 0,function*(){const d=yield this.glyphManager.getGlyphs(i.stacks),f=this.sourceCaches[i.source];return f&&f.setDependencies(i.tileID.key,i.type,[""]),d})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,i={}){this._checkLoaded(),e&&this._validate(c.z.glyphs,"glyphs",e,null,i)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}addSprite(e,i,d={},f){this._checkLoaded();const b=[{id:e,url:i}],S=[...Se(this.stylesheet.sprite),...b];this._validate(c.z.sprite,"sprite",S,null,d)||(this.stylesheet.sprite=S,this._loadSprite(b,!0,f))}removeSprite(e){this._checkLoaded();const i=Se(this.stylesheet.sprite);if(i.find(d=>d.id===e)){if(this._spritesImagesIds[e])for(const d of this._spritesImagesIds[e])this.imageManager.removeImage(d),this._changedImages[d]=!0;i.splice(i.findIndex(d=>d.id===e),1),this.stylesheet.sprite=i.length>0?i:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new c.l("data",{dataType:"style"}))}else this.fire(new c.k(new Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return Se(this.stylesheet.sprite)}setSprite(e,i={},d){this._checkLoaded(),e&&this._validate(c.z.sprite,"sprite",e,null,i)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,d):(this._unloadSprite(),d&&d(null)))}}var Xp=c.aI([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Zp{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,i,d,f,b,S,M,I,N){this.context=e;let K=this.boundPaintVertexBuffers.length!==f.length;for(let F=0;!K&&F<f.length;F++)this.boundPaintVertexBuffers[F]!==f[F]&&(K=!0);!this.vao||this.boundProgram!==i||this.boundLayoutVertexBuffer!==d||K||this.boundIndexBuffer!==b||this.boundVertexOffset!==S||this.boundDynamicVertexBuffer!==M||this.boundDynamicVertexBuffer2!==I||this.boundDynamicVertexBuffer3!==N?this.freshBind(i,d,f,b,S,M,I,N):(e.bindVertexArray.set(this.vao),M&&M.bind(),b&&b.dynamicDraw&&b.bind(),I&&I.bind(),N&&N.bind())}freshBind(e,i,d,f,b,S,M,I){const N=e.numAttributes,K=this.context,F=K.gl;this.vao&&this.destroy(),this.vao=K.createVertexArray(),K.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=i,this.boundPaintVertexBuffers=d,this.boundIndexBuffer=f,this.boundVertexOffset=b,this.boundDynamicVertexBuffer=S,this.boundDynamicVertexBuffer2=M,this.boundDynamicVertexBuffer3=I,i.enableAttributes(F,e);for(const B of d)B.enableAttributes(F,e);S&&S.enableAttributes(F,e),M&&M.enableAttributes(F,e),I&&I.enableAttributes(F,e),i.bind(),i.setVertexAttribPointers(F,e,b);for(const B of d)B.bind(),B.setVertexAttribPointers(F,e,b);S&&(S.bind(),S.setVertexAttribPointers(F,e,b)),f&&f.bind(),M&&(M.bind(),M.setVertexAttribPointers(F,e,b)),I&&(I.bind(),I.setVertexAttribPointers(F,e,b)),K.currentNumAttributes=N}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const $p=(y,e,i,d,f)=>({u_texture:0,u_ele_delta:y,u_fog_matrix:e,u_fog_color:i?i.properties.get("fog-color"):c.be.white,u_fog_ground_blend:i?i.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:f?0:i?i.calculateFogBlendOpacity(d):0,u_horizon_color:i?i.properties.get("horizon-color"):c.be.white,u_horizon_fog_blend:i?i.properties.get("horizon-fog-blend"):1,u_is_globe_mode:f?1:0}),Jp={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function yu(y){const e=[];for(let i=0;i<y.length;i++){if(y[i]===null)continue;const d=y[i].split(" ");e.push(d.pop())}return e}class vu{constructor(e,i,d,f,b,S,M,I,N=[]){const K=e.gl;this.program=K.createProgram();const F=yu(i.staticAttributes),B=d?d.getBinderAttributes():[],U=F.concat(B),Y=yo.prelude.staticUniforms?yu(yo.prelude.staticUniforms):[],le=M.staticUniforms?yu(M.staticUniforms):[],se=i.staticUniforms?yu(i.staticUniforms):[],ce=d?d.getBinderUniforms():[],he=Y.concat(le).concat(se).concat(ce),ye=[];for(const Ue of he)ye.indexOf(Ue)<0&&ye.push(Ue);const pe=d?d.defines():[];Fi(K)&&pe.unshift("#version 300 es"),b&&pe.push("#define OVERDRAW_INSPECTOR;"),S&&pe.push("#define TERRAIN3D;"),I&&pe.push(I),N&&pe.push(...N);let xe=pe.concat(yo.prelude.fragmentSource,M.fragmentSource,i.fragmentSource).join(`
`),De=pe.concat(yo.prelude.vertexSource,M.vertexSource,i.vertexSource).join(`
`);Fi(K)||(xe=function(Ue){return Ue.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(xe),De=function(Ue){return Ue.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(De));const me=K.createShader(K.FRAGMENT_SHADER);if(K.isContextLost())return void(this.failedToCreate=!0);if(K.shaderSource(me,xe),K.compileShader(me),!K.getShaderParameter(me,K.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${K.getShaderInfoLog(me)}`);K.attachShader(this.program,me);const Ee=K.createShader(K.VERTEX_SHADER);if(K.isContextLost())return void(this.failedToCreate=!0);if(K.shaderSource(Ee,De),K.compileShader(Ee),!K.getShaderParameter(Ee,K.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${K.getShaderInfoLog(Ee)}`);K.attachShader(this.program,Ee),this.attributes={};const We={};this.numAttributes=U.length;for(let Ue=0;Ue<this.numAttributes;Ue++)U[Ue]&&(K.bindAttribLocation(this.program,Ue,U[Ue]),this.attributes[U[Ue]]=Ue);if(K.linkProgram(this.program),!K.getProgramParameter(this.program,K.LINK_STATUS))throw new Error(`Program failed to link: ${K.getProgramInfoLog(this.program)}`);K.deleteShader(Ee),K.deleteShader(me);for(let Ue=0;Ue<ye.length;Ue++){const Ge=ye[Ue];if(Ge&&!We[Ge]){const Ye=K.getUniformLocation(this.program,Ge);Ye&&(We[Ge]=Ye)}}this.fixedUniforms=f(e,We),this.terrainUniforms=((Ue,Ge)=>({u_depth:new c.bO(Ue,Ge.u_depth),u_terrain:new c.bO(Ue,Ge.u_terrain),u_terrain_dim:new c.bf(Ue,Ge.u_terrain_dim),u_terrain_matrix:new c.bQ(Ue,Ge.u_terrain_matrix),u_terrain_unpack:new c.bR(Ue,Ge.u_terrain_unpack),u_terrain_exaggeration:new c.bf(Ue,Ge.u_terrain_exaggeration)}))(e,We),this.projectionUniforms=((Ue,Ge)=>({u_projection_matrix:new c.bQ(Ue,Ge.u_projection_matrix),u_projection_tile_mercator_coords:new c.bR(Ue,Ge.u_projection_tile_mercator_coords),u_projection_clipping_plane:new c.bR(Ue,Ge.u_projection_clipping_plane),u_projection_transition:new c.bf(Ue,Ge.u_projection_transition),u_projection_fallback_matrix:new c.bQ(Ue,Ge.u_projection_fallback_matrix)}))(e,We),this.binderUniforms=d?d.getUniforms(e,We):[]}draw(e,i,d,f,b,S,M,I,N,K,F,B,U,Y,le,se,ce,he,ye){const pe=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(d),e.setStencilMode(f),e.setColorMode(b),e.setCullFace(S),I){e.activeTexture.set(pe.TEXTURE2),pe.bindTexture(pe.TEXTURE_2D,I.depthTexture),e.activeTexture.set(pe.TEXTURE3),pe.bindTexture(pe.TEXTURE_2D,I.texture);for(const De in this.terrainUniforms)this.terrainUniforms[De].set(I[De])}if(N)for(const De in N)this.projectionUniforms[Jp[De]].set(N[De]);if(M)for(const De in this.fixedUniforms)this.fixedUniforms[De].set(M[De]);se&&se.setUniforms(e,this.binderUniforms,Y,{zoom:le});let xe=0;switch(i){case pe.LINES:xe=2;break;case pe.TRIANGLES:xe=3;break;case pe.LINE_STRIP:xe=1}for(const De of U.get()){const me=De.vaos||(De.vaos={});(me[K]||(me[K]=new Zp)).bind(e,this,F,se?se.getPaintVertexBuffers():[],B,De.vertexOffset,ce,he,ye),pe.drawElements(i,De.primitiveLength*xe,pe.UNSIGNED_SHORT,De.primitiveOffset*xe*2)}}}function Gl(y,e,i){const d=1/c.aB(i,1,e.transform.tileZoom),f=Math.pow(2,i.tileID.overscaledZ),b=i.tileSize*Math.pow(2,e.transform.tileZoom)/f,S=b*(i.tileID.canonical.x+i.tileID.wrap*f),M=b*i.tileID.canonical.y;return{u_image:0,u_texsize:i.imageAtlasTexture.size,u_scale:[d,y.fromScale,y.toScale],u_fade:y.t,u_pixel_coord_upper:[S>>16,M>>16],u_pixel_coord_lower:[65535&S,65535&M]}}const Vo=(y,e,i,d)=>{const f=y.style.light,b=f.properties.get("position"),S=[b.x,b.y,b.z],M=c.bU();f.properties.get("anchor")==="viewport"&&c.bV(M,y.transform.bearingInRadians),c.bW(S,S,M);const I=y.transform.transformLightDirection(S),N=f.properties.get("color");return{u_lightpos:S,u_lightpos_globe:I,u_lightintensity:f.properties.get("intensity"),u_lightcolor:[N.r,N.g,N.b],u_vertical_gradient:+e,u_opacity:i,u_fill_translate:d}},wd=(y,e,i,d,f,b,S)=>c.e(Vo(y,e,i,d),Gl(b,y,S),{u_height_factor:-Math.pow(2,f.overscaledZ)/S.tileSize/8}),kc=(y,e,i,d)=>c.e(Gl(e,y,i),{u_fill_translate:d}),Qr=(y,e)=>({u_world:y,u_fill_translate:e}),Kh=(y,e,i,d,f)=>c.e(kc(y,e,i,f),{u_world:d}),bu=(y,e,i,d,f)=>{const b=y.transform;let S,M,I=0;if(i.paint.get("circle-pitch-alignment")==="map"){const N=c.aB(e,1,b.zoom);S=!0,M=[N,N],I=N/(c.$*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*f}else S=!1,M=b.pixelsToGLUnits;return{u_camera_to_center_distance:b.cameraToCenterDistance,u_scale_with_map:+(i.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+S,u_device_pixel_ratio:y.pixelRatio,u_extrude_scale:M,u_globe_extrude_scale:I,u_translate:d}},Hl=y=>({u_pixel_extrude_scale:[1/y.width,1/y.height]}),_o=y=>({u_viewport_size:[y.width,y.height]}),Oh=(y,e=1)=>({u_color:y,u_overlay:0,u_overlay_scale:e}),Nc=(y,e,i,d)=>{const f=c.aB(y,1,e)/(c.$*Math.pow(2,y.tileID.overscaledZ))*2*Math.PI*d;return{u_extrude_scale:c.aB(y,1,e),u_intensity:i,u_globe_extrude_scale:f}},qh=(y,e,i,d)=>{const f=c.L();c.bX(f,0,y.width,y.height,0,0,1);const b=y.context.gl;return{u_matrix:f,u_world:[b.drawingBufferWidth,b.drawingBufferHeight],u_image:i,u_color_ramp:d,u_opacity:e.paint.get("heatmap-opacity")}},$s=(y,e,i)=>{const d=i.paint.get("hillshade-accent-color");let f;switch(i.paint.get("hillshade-method")){case"basic":f=4;break;case"combined":f=1;break;case"igor":f=2;break;case"multidirectional":f=3;break;default:f=0}const b=i.getIlluminationProperties();for(let S=0;S<b.directionRadians.length;S++)i.paint.get("hillshade-illumination-anchor")==="viewport"&&(b.directionRadians[S]+=y.transform.bearingInRadians);return{u_image:0,u_latrange:Xl(0,e.tileID),u_exaggeration:i.paint.get("hillshade-exaggeration"),u_altitudes:b.altitudeRadians,u_azimuths:b.directionRadians,u_accent:d,u_method:f,u_highlights:b.highlightColor,u_shadows:b.shadowColor}},Bh=(y,e)=>{const i=e.stride,d=c.L();return c.bX(d,0,c.$,-c.$,0,0,1),c.M(d,d,[0,-c.$,0]),{u_matrix:d,u_image:1,u_dimension:[i,i],u_zoom:y.overscaledZ,u_unpack:e.getUnpackVector()}};function Xl(y,e){const i=Math.pow(2,e.canonical.z),d=e.canonical.y;return[new c.a0(0,d/i).toLngLat().lat,new c.a0(0,(d+1)/i).toLngLat().lat]}const jc=(y,e,i=0)=>({u_image:0,u_unpack:e.getUnpackVector(),u_dimension:[e.stride,e.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:i,u_opacity:y.paint.get("color-relief-opacity")}),xu=(y,e,i,d)=>{const f=y.transform;return{u_translation:Oc(y,e,i),u_ratio:d/c.aB(e,1,f.zoom),u_device_pixel_ratio:y.pixelRatio,u_units_to_pixels:[1/f.pixelsToGLUnits[0],1/f.pixelsToGLUnits[1]]}},Zl=(y,e,i,d,f)=>c.e(xu(y,e,i,d),{u_image:0,u_image_height:f}),Cd=(y,e,i,d,f)=>{const b=y.transform,S=Kc(e,b);return{u_translation:Oc(y,e,i),u_texsize:e.imageAtlasTexture.size,u_ratio:d/c.aB(e,1,b.zoom),u_device_pixel_ratio:y.pixelRatio,u_image:0,u_scale:[S,f.fromScale,f.toScale],u_fade:f.t,u_units_to_pixels:[1/b.pixelsToGLUnits[0],1/b.pixelsToGLUnits[1]]}},Sd=(y,e,i,d,f,b)=>{const S=y.lineAtlas,M=Kc(e,y.transform),I=i.layout.get("line-cap")==="round",N=S.getDash(f.from,I),K=S.getDash(f.to,I),F=N.width*b.fromScale,B=K.width*b.toScale;return c.e(xu(y,e,i,d),{u_patternscale_a:[M/F,-N.height/2],u_patternscale_b:[M/B,-K.height/2],u_sdfgamma:S.width/(256*Math.min(F,B)*y.pixelRatio)/2,u_image:0,u_tex_y_a:N.y,u_tex_y_b:K.y,u_mix:b.t})};function Kc(y,e){return 1/c.aB(y,1,e.tileZoom)}function Oc(y,e,i){return c.aC(y.transform,e,i.paint.get("line-translate"),i.paint.get("line-translate-anchor"))}const ps=(y,e,i,d,f)=>{return{u_tl_parent:y,u_scale_parent:e,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*d.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:d.paint.get("raster-brightness-min"),u_brightness_high:d.paint.get("raster-brightness-max"),u_saturation_factor:(S=d.paint.get("raster-saturation"),S>0?1-1/(1.001-S):-S),u_contrast_factor:(b=d.paint.get("raster-contrast"),b>0?1/(1-b):1+b),u_spin_weights:Td(d.paint.get("raster-hue-rotate")),u_coords_top:[f[0].x,f[0].y,f[1].x,f[1].y],u_coords_bottom:[f[3].x,f[3].y,f[2].x,f[2].y]};var b,S};function Td(y){y*=Math.PI/180;const e=Math.sin(y),i=Math.cos(y);return[(2*i+1)/3,(-Math.sqrt(3)*e-i+1)/3,(Math.sqrt(3)*e-i+1)/3]}const _u=(y,e,i,d,f,b,S,M,I,N,K,F,B)=>{const U=S.transform;return{u_is_size_zoom_constant:+(y==="constant"||y==="source"),u_is_size_feature_constant:+(y==="constant"||y==="camera"),u_size_t:e?e.uSizeT:0,u_size:e?e.uSize:0,u_camera_to_center_distance:U.cameraToCenterDistance,u_pitch:U.pitch/360*2*Math.PI,u_rotate_symbol:+i,u_aspect_ratio:U.width/U.height,u_fade_change:S.options.fadeDuration?S.symbolFadeChange:1,u_label_plane_matrix:M,u_coord_matrix:I,u_is_text:+K,u_pitch_with_map:+d,u_is_along_line:f,u_is_variable_anchor:b,u_texsize:F,u_texture:0,u_translation:N,u_pitched_scale:B}},$l=(y,e,i,d,f,b,S,M,I,N,K,F,B,U)=>{const Y=S.transform;return c.e(_u(y,e,i,d,f,b,S,M,I,N,K,F,U),{u_gamma_scale:d?Math.cos(Y.pitch*Math.PI/180)*Y.cameraToCenterDistance:1,u_device_pixel_ratio:S.pixelRatio,u_is_halo:1})},Wp=(y,e,i,d,f,b,S,M,I,N,K,F,B)=>c.e($l(y,e,i,d,f,b,S,M,I,N,!0,K,0,B),{u_texsize_icon:F,u_texture_icon:1}),wu=(y,e)=>({u_opacity:y,u_color:e}),Yp=(y,e,i,d,f)=>c.e(function(b,S,M,I){const N=M.imageManager.getPattern(b.from.toString()),K=M.imageManager.getPattern(b.to.toString()),{width:F,height:B}=M.imageManager.getPixelSize(),U=Math.pow(2,I.tileID.overscaledZ),Y=I.tileSize*Math.pow(2,M.transform.tileZoom)/U,le=Y*(I.tileID.canonical.x+I.tileID.wrap*U),se=Y*I.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:K.tl,u_pattern_br_b:K.br,u_texsize:[F,B],u_mix:S.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:K.displaySize,u_scale_a:S.fromScale,u_scale_b:S.toScale,u_tile_units_to_pixels:1/c.aB(I,1,M.transform.tileZoom),u_pixel_coord_upper:[le>>16,se>>16],u_pixel_coord_lower:[65535&le,65535&se]}}(i,f,e,d),{u_opacity:y}),Fh=(y,e)=>{},rr={fillExtrusion:(y,e)=>({u_lightpos:new c.bS(y,e.u_lightpos),u_lightpos_globe:new c.bS(y,e.u_lightpos_globe),u_lightintensity:new c.bf(y,e.u_lightintensity),u_lightcolor:new c.bS(y,e.u_lightcolor),u_vertical_gradient:new c.bf(y,e.u_vertical_gradient),u_opacity:new c.bf(y,e.u_opacity),u_fill_translate:new c.bT(y,e.u_fill_translate)}),fillExtrusionPattern:(y,e)=>({u_lightpos:new c.bS(y,e.u_lightpos),u_lightpos_globe:new c.bS(y,e.u_lightpos_globe),u_lightintensity:new c.bf(y,e.u_lightintensity),u_lightcolor:new c.bS(y,e.u_lightcolor),u_vertical_gradient:new c.bf(y,e.u_vertical_gradient),u_height_factor:new c.bf(y,e.u_height_factor),u_opacity:new c.bf(y,e.u_opacity),u_fill_translate:new c.bT(y,e.u_fill_translate),u_image:new c.bO(y,e.u_image),u_texsize:new c.bT(y,e.u_texsize),u_pixel_coord_upper:new c.bT(y,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bT(y,e.u_pixel_coord_lower),u_scale:new c.bS(y,e.u_scale),u_fade:new c.bf(y,e.u_fade)}),fill:(y,e)=>({u_fill_translate:new c.bT(y,e.u_fill_translate)}),fillPattern:(y,e)=>({u_image:new c.bO(y,e.u_image),u_texsize:new c.bT(y,e.u_texsize),u_pixel_coord_upper:new c.bT(y,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bT(y,e.u_pixel_coord_lower),u_scale:new c.bS(y,e.u_scale),u_fade:new c.bf(y,e.u_fade),u_fill_translate:new c.bT(y,e.u_fill_translate)}),fillOutline:(y,e)=>({u_world:new c.bT(y,e.u_world),u_fill_translate:new c.bT(y,e.u_fill_translate)}),fillOutlinePattern:(y,e)=>({u_world:new c.bT(y,e.u_world),u_image:new c.bO(y,e.u_image),u_texsize:new c.bT(y,e.u_texsize),u_pixel_coord_upper:new c.bT(y,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bT(y,e.u_pixel_coord_lower),u_scale:new c.bS(y,e.u_scale),u_fade:new c.bf(y,e.u_fade),u_fill_translate:new c.bT(y,e.u_fill_translate)}),circle:(y,e)=>({u_camera_to_center_distance:new c.bf(y,e.u_camera_to_center_distance),u_scale_with_map:new c.bO(y,e.u_scale_with_map),u_pitch_with_map:new c.bO(y,e.u_pitch_with_map),u_extrude_scale:new c.bT(y,e.u_extrude_scale),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_globe_extrude_scale:new c.bf(y,e.u_globe_extrude_scale),u_translate:new c.bT(y,e.u_translate)}),collisionBox:(y,e)=>({u_pixel_extrude_scale:new c.bT(y,e.u_pixel_extrude_scale)}),collisionCircle:(y,e)=>({u_viewport_size:new c.bT(y,e.u_viewport_size)}),debug:(y,e)=>({u_color:new c.bP(y,e.u_color),u_overlay:new c.bO(y,e.u_overlay),u_overlay_scale:new c.bf(y,e.u_overlay_scale)}),depth:Fh,clippingMask:Fh,heatmap:(y,e)=>({u_extrude_scale:new c.bf(y,e.u_extrude_scale),u_intensity:new c.bf(y,e.u_intensity),u_globe_extrude_scale:new c.bf(y,e.u_globe_extrude_scale)}),heatmapTexture:(y,e)=>({u_matrix:new c.bQ(y,e.u_matrix),u_world:new c.bT(y,e.u_world),u_image:new c.bO(y,e.u_image),u_color_ramp:new c.bO(y,e.u_color_ramp),u_opacity:new c.bf(y,e.u_opacity)}),hillshade:(y,e)=>({u_image:new c.bO(y,e.u_image),u_latrange:new c.bT(y,e.u_latrange),u_exaggeration:new c.bf(y,e.u_exaggeration),u_altitudes:new c.bZ(y,e.u_altitudes),u_azimuths:new c.bZ(y,e.u_azimuths),u_accent:new c.bP(y,e.u_accent),u_method:new c.bO(y,e.u_method),u_shadows:new c.bY(y,e.u_shadows),u_highlights:new c.bY(y,e.u_highlights)}),hillshadePrepare:(y,e)=>({u_matrix:new c.bQ(y,e.u_matrix),u_image:new c.bO(y,e.u_image),u_dimension:new c.bT(y,e.u_dimension),u_zoom:new c.bf(y,e.u_zoom),u_unpack:new c.bR(y,e.u_unpack)}),colorRelief:(y,e)=>({u_image:new c.bO(y,e.u_image),u_unpack:new c.bR(y,e.u_unpack),u_dimension:new c.bT(y,e.u_dimension),u_elevation_stops:new c.bO(y,e.u_elevation_stops),u_color_stops:new c.bO(y,e.u_color_stops),u_color_ramp_size:new c.bO(y,e.u_color_ramp_size),u_opacity:new c.bf(y,e.u_opacity)}),line:(y,e)=>({u_translation:new c.bT(y,e.u_translation),u_ratio:new c.bf(y,e.u_ratio),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_units_to_pixels:new c.bT(y,e.u_units_to_pixels)}),lineGradient:(y,e)=>({u_translation:new c.bT(y,e.u_translation),u_ratio:new c.bf(y,e.u_ratio),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_units_to_pixels:new c.bT(y,e.u_units_to_pixels),u_image:new c.bO(y,e.u_image),u_image_height:new c.bf(y,e.u_image_height)}),linePattern:(y,e)=>({u_translation:new c.bT(y,e.u_translation),u_texsize:new c.bT(y,e.u_texsize),u_ratio:new c.bf(y,e.u_ratio),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_image:new c.bO(y,e.u_image),u_units_to_pixels:new c.bT(y,e.u_units_to_pixels),u_scale:new c.bS(y,e.u_scale),u_fade:new c.bf(y,e.u_fade)}),lineSDF:(y,e)=>({u_translation:new c.bT(y,e.u_translation),u_ratio:new c.bf(y,e.u_ratio),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_units_to_pixels:new c.bT(y,e.u_units_to_pixels),u_patternscale_a:new c.bT(y,e.u_patternscale_a),u_patternscale_b:new c.bT(y,e.u_patternscale_b),u_sdfgamma:new c.bf(y,e.u_sdfgamma),u_image:new c.bO(y,e.u_image),u_tex_y_a:new c.bf(y,e.u_tex_y_a),u_tex_y_b:new c.bf(y,e.u_tex_y_b),u_mix:new c.bf(y,e.u_mix)}),raster:(y,e)=>({u_tl_parent:new c.bT(y,e.u_tl_parent),u_scale_parent:new c.bf(y,e.u_scale_parent),u_buffer_scale:new c.bf(y,e.u_buffer_scale),u_fade_t:new c.bf(y,e.u_fade_t),u_opacity:new c.bf(y,e.u_opacity),u_image0:new c.bO(y,e.u_image0),u_image1:new c.bO(y,e.u_image1),u_brightness_low:new c.bf(y,e.u_brightness_low),u_brightness_high:new c.bf(y,e.u_brightness_high),u_saturation_factor:new c.bf(y,e.u_saturation_factor),u_contrast_factor:new c.bf(y,e.u_contrast_factor),u_spin_weights:new c.bS(y,e.u_spin_weights),u_coords_top:new c.bR(y,e.u_coords_top),u_coords_bottom:new c.bR(y,e.u_coords_bottom)}),symbolIcon:(y,e)=>({u_is_size_zoom_constant:new c.bO(y,e.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bO(y,e.u_is_size_feature_constant),u_size_t:new c.bf(y,e.u_size_t),u_size:new c.bf(y,e.u_size),u_camera_to_center_distance:new c.bf(y,e.u_camera_to_center_distance),u_pitch:new c.bf(y,e.u_pitch),u_rotate_symbol:new c.bO(y,e.u_rotate_symbol),u_aspect_ratio:new c.bf(y,e.u_aspect_ratio),u_fade_change:new c.bf(y,e.u_fade_change),u_label_plane_matrix:new c.bQ(y,e.u_label_plane_matrix),u_coord_matrix:new c.bQ(y,e.u_coord_matrix),u_is_text:new c.bO(y,e.u_is_text),u_pitch_with_map:new c.bO(y,e.u_pitch_with_map),u_is_along_line:new c.bO(y,e.u_is_along_line),u_is_variable_anchor:new c.bO(y,e.u_is_variable_anchor),u_texsize:new c.bT(y,e.u_texsize),u_texture:new c.bO(y,e.u_texture),u_translation:new c.bT(y,e.u_translation),u_pitched_scale:new c.bf(y,e.u_pitched_scale)}),symbolSDF:(y,e)=>({u_is_size_zoom_constant:new c.bO(y,e.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bO(y,e.u_is_size_feature_constant),u_size_t:new c.bf(y,e.u_size_t),u_size:new c.bf(y,e.u_size),u_camera_to_center_distance:new c.bf(y,e.u_camera_to_center_distance),u_pitch:new c.bf(y,e.u_pitch),u_rotate_symbol:new c.bO(y,e.u_rotate_symbol),u_aspect_ratio:new c.bf(y,e.u_aspect_ratio),u_fade_change:new c.bf(y,e.u_fade_change),u_label_plane_matrix:new c.bQ(y,e.u_label_plane_matrix),u_coord_matrix:new c.bQ(y,e.u_coord_matrix),u_is_text:new c.bO(y,e.u_is_text),u_pitch_with_map:new c.bO(y,e.u_pitch_with_map),u_is_along_line:new c.bO(y,e.u_is_along_line),u_is_variable_anchor:new c.bO(y,e.u_is_variable_anchor),u_texsize:new c.bT(y,e.u_texsize),u_texture:new c.bO(y,e.u_texture),u_gamma_scale:new c.bf(y,e.u_gamma_scale),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_is_halo:new c.bO(y,e.u_is_halo),u_translation:new c.bT(y,e.u_translation),u_pitched_scale:new c.bf(y,e.u_pitched_scale)}),symbolTextAndIcon:(y,e)=>({u_is_size_zoom_constant:new c.bO(y,e.u_is_size_zoom_constant),u_is_size_feature_constant:new c.bO(y,e.u_is_size_feature_constant),u_size_t:new c.bf(y,e.u_size_t),u_size:new c.bf(y,e.u_size),u_camera_to_center_distance:new c.bf(y,e.u_camera_to_center_distance),u_pitch:new c.bf(y,e.u_pitch),u_rotate_symbol:new c.bO(y,e.u_rotate_symbol),u_aspect_ratio:new c.bf(y,e.u_aspect_ratio),u_fade_change:new c.bf(y,e.u_fade_change),u_label_plane_matrix:new c.bQ(y,e.u_label_plane_matrix),u_coord_matrix:new c.bQ(y,e.u_coord_matrix),u_is_text:new c.bO(y,e.u_is_text),u_pitch_with_map:new c.bO(y,e.u_pitch_with_map),u_is_along_line:new c.bO(y,e.u_is_along_line),u_is_variable_anchor:new c.bO(y,e.u_is_variable_anchor),u_texsize:new c.bT(y,e.u_texsize),u_texsize_icon:new c.bT(y,e.u_texsize_icon),u_texture:new c.bO(y,e.u_texture),u_texture_icon:new c.bO(y,e.u_texture_icon),u_gamma_scale:new c.bf(y,e.u_gamma_scale),u_device_pixel_ratio:new c.bf(y,e.u_device_pixel_ratio),u_is_halo:new c.bO(y,e.u_is_halo),u_translation:new c.bT(y,e.u_translation),u_pitched_scale:new c.bf(y,e.u_pitched_scale)}),background:(y,e)=>({u_opacity:new c.bf(y,e.u_opacity),u_color:new c.bP(y,e.u_color)}),backgroundPattern:(y,e)=>({u_opacity:new c.bf(y,e.u_opacity),u_image:new c.bO(y,e.u_image),u_pattern_tl_a:new c.bT(y,e.u_pattern_tl_a),u_pattern_br_a:new c.bT(y,e.u_pattern_br_a),u_pattern_tl_b:new c.bT(y,e.u_pattern_tl_b),u_pattern_br_b:new c.bT(y,e.u_pattern_br_b),u_texsize:new c.bT(y,e.u_texsize),u_mix:new c.bf(y,e.u_mix),u_pattern_size_a:new c.bT(y,e.u_pattern_size_a),u_pattern_size_b:new c.bT(y,e.u_pattern_size_b),u_scale_a:new c.bf(y,e.u_scale_a),u_scale_b:new c.bf(y,e.u_scale_b),u_pixel_coord_upper:new c.bT(y,e.u_pixel_coord_upper),u_pixel_coord_lower:new c.bT(y,e.u_pixel_coord_lower),u_tile_units_to_pixels:new c.bf(y,e.u_tile_units_to_pixels)}),terrain:(y,e)=>({u_texture:new c.bO(y,e.u_texture),u_ele_delta:new c.bf(y,e.u_ele_delta),u_fog_matrix:new c.bQ(y,e.u_fog_matrix),u_fog_color:new c.bP(y,e.u_fog_color),u_fog_ground_blend:new c.bf(y,e.u_fog_ground_blend),u_fog_ground_blend_opacity:new c.bf(y,e.u_fog_ground_blend_opacity),u_horizon_color:new c.bP(y,e.u_horizon_color),u_horizon_fog_blend:new c.bf(y,e.u_horizon_fog_blend),u_is_globe_mode:new c.bf(y,e.u_is_globe_mode)}),terrainDepth:(y,e)=>({u_ele_delta:new c.bf(y,e.u_ele_delta)}),terrainCoords:(y,e)=>({u_texture:new c.bO(y,e.u_texture),u_terrain_coords_id:new c.bf(y,e.u_terrain_coords_id),u_ele_delta:new c.bf(y,e.u_ele_delta)}),projectionErrorMeasurement:(y,e)=>({u_input:new c.bf(y,e.u_input),u_output_expected:new c.bf(y,e.u_output_expected)}),atmosphere:(y,e)=>({u_sun_pos:new c.bS(y,e.u_sun_pos),u_atmosphere_blend:new c.bf(y,e.u_atmosphere_blend),u_globe_position:new c.bS(y,e.u_globe_position),u_globe_radius:new c.bf(y,e.u_globe_radius),u_inv_proj_matrix:new c.bQ(y,e.u_inv_proj_matrix)}),sky:(y,e)=>({u_sky_color:new c.bP(y,e.u_sky_color),u_horizon_color:new c.bP(y,e.u_horizon_color),u_horizon:new c.bT(y,e.u_horizon),u_horizon_normal:new c.bT(y,e.u_horizon_normal),u_sky_horizon_blend:new c.bf(y,e.u_sky_horizon_blend),u_sky_blend:new c.bf(y,e.u_sky_blend)})};class Jl{constructor(e,i,d){this.context=e;const f=e.gl;this.buffer=f.createBuffer(),this.dynamicDraw=!!d,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),f.bufferData(f.ELEMENT_ARRAY_BUFFER,i.arrayBuffer,this.dynamicDraw?f.DYNAMIC_DRAW:f.STATIC_DRAW),this.dynamicDraw||delete i.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const i=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),i.bufferSubData(i.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Pd={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Cu{constructor(e,i,d,f){this.length=i.length,this.attributes=d,this.itemSize=i.bytesPerElement,this.dynamicDraw=f,this.context=e;const b=e.gl;this.buffer=b.createBuffer(),e.bindVertexBuffer.set(this.buffer),b.bufferData(b.ARRAY_BUFFER,i.arrayBuffer,this.dynamicDraw?b.DYNAMIC_DRAW:b.STATIC_DRAW),this.dynamicDraw||delete i.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const i=this.context.gl;this.bind(),i.bufferSubData(i.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,i){for(let d=0;d<this.attributes.length;d++){const f=i.attributes[this.attributes[d].name];f!==void 0&&e.enableVertexAttribArray(f)}}setVertexAttribPointers(e,i,d){for(let f=0;f<this.attributes.length;f++){const b=this.attributes[f],S=i.attributes[b.name];S!==void 0&&e.vertexAttribPointer(S,b.components,e[Pd[b.type]],!1,this.itemSize,b.offset+this.itemSize*(d||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ka{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class qc extends Ka{getDefault(){return c.be.transparent}set(e){const i=this.current;(e.r!==i.r||e.g!==i.g||e.b!==i.b||e.a!==i.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class eo extends Ka{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Dd extends Ka{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class fs extends Ka{getDefault(){return[!0,!0,!0,!0]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||e[3]!==i[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Bc extends Ka{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Wl extends Ka{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Fc extends Ka{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const i=this.current;(e.func!==i.func||e.ref!==i.ref||e.mask!==i.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class ms extends Ka{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Uo extends Ka{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.STENCIL_TEST):i.disable(i.STENCIL_TEST),this.current=e,this.dirty=!1}}class Yl extends Ka{getDefault(){return[0,1]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Md extends Ka{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.DEPTH_TEST):i.disable(i.DEPTH_TEST),this.current=e,this.dirty=!1}}class Vh extends Ka{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Js extends Ka{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.BLEND):i.disable(i.BLEND),this.current=e,this.dirty=!1}}class Ad extends Ka{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class Uh extends Ka{getDefault(){return c.be.transparent}set(e){const i=this.current;(e.r!==i.r||e.g!==i.g||e.b!==i.b||e.a!==i.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Id extends Ka{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class Su extends Ka{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;e?i.enable(i.CULL_FACE):i.disable(i.CULL_FACE),this.current=e,this.dirty=!1}}class Tu extends Ka{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class Pu extends Ka{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class Du extends Ka{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class gs extends Ka{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class Ws extends Ka{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const i=this.current;(e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||e[3]!==i[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Nn extends Ka{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindFramebuffer(i.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class mr extends Ka{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindRenderbuffer(i.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class gr extends Ka{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindTexture(i.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class yr extends Ka{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.bindBuffer(i.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ys extends Ka{getDefault(){return null}set(e){const i=this.gl;i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Go extends Ka{getDefault(){return null}set(e){var i;if(e===this.current&&!this.dirty)return;const d=this.gl;Fi(d)?d.bindVertexArray(e):(i=d.getExtension("OES_vertex_array_object"))===null||i===void 0||i.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class Ys extends Ka{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class Qs extends Ka{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class el extends Ka{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const i=this.gl;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class to extends Ka{constructor(e,i){super(e),this.context=e,this.parent=i}getDefault(){return null}}class Ld extends to{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const i=this.gl;i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Ho extends to{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const i=this.gl;i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class ao extends to{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const i=this.gl;i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,e),this.current=e,this.dirty=!1}}const Ed="Framebuffer is not complete";class Hn{constructor(e,i,d,f,b){this.context=e,this.width=i,this.height=d;const S=e.gl,M=this.framebuffer=S.createFramebuffer();if(this.colorAttachment=new Ld(e,M),f)this.depthAttachment=b?new ao(e,M):new Ho(e,M);else if(b)throw new Error("Stencil cannot be set without depth");if(S.checkFramebufferStatus(S.FRAMEBUFFER)!==S.FRAMEBUFFER_COMPLETE)throw new Error(Ed)}destroy(){const e=this.context.gl,i=this.colorAttachment.get();if(i&&e.deleteTexture(i),this.depthAttachment){const d=this.depthAttachment.get();d&&e.deleteRenderbuffer(d)}e.deleteFramebuffer(this.framebuffer)}}class wa{constructor(e){var i,d;if(this.gl=e,this.clearColor=new qc(this),this.clearDepth=new eo(this),this.clearStencil=new Dd(this),this.colorMask=new fs(this),this.depthMask=new Bc(this),this.stencilMask=new Wl(this),this.stencilFunc=new Fc(this),this.stencilOp=new ms(this),this.stencilTest=new Uo(this),this.depthRange=new Yl(this),this.depthTest=new Md(this),this.depthFunc=new Vh(this),this.blend=new Js(this),this.blendFunc=new Ad(this),this.blendColor=new Uh(this),this.blendEquation=new Id(this),this.cullFace=new Su(this),this.cullFaceSide=new Tu(this),this.frontFace=new Pu(this),this.program=new Du(this),this.activeTexture=new gs(this),this.viewport=new Ws(this),this.bindFramebuffer=new Nn(this),this.bindRenderbuffer=new mr(this),this.bindTexture=new gr(this),this.bindVertexBuffer=new yr(this),this.bindElementBuffer=new ys(this),this.bindVertexArray=new Go(this),this.pixelStoreUnpack=new Ys(this),this.pixelStoreUnpackPremultiplyAlpha=new Qs(this),this.pixelStoreUnpackFlipY=new el(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),Fi(e)){this.HALF_FLOAT=e.HALF_FLOAT;const f=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(i=e.RGBA16F)!==null&&i!==void 0?i:f?.RGBA16F_EXT,this.RGB16F=(d=e.RGB16F)!==null&&d!==void 0?d:f?.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const f=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=f?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,i){return new Jl(this,e,i)}createVertexBuffer(e,i,d){return new Cu(this,e,i,d)}createRenderbuffer(e,i,d){const f=this.gl,b=f.createRenderbuffer();return this.bindRenderbuffer.set(b),f.renderbufferStorage(f.RENDERBUFFER,e,i,d),this.bindRenderbuffer.set(null),b}createFramebuffer(e,i,d,f){return new Hn(this,e,i,d,f)}clear({color:e,depth:i,stencil:d}){const f=this.gl;let b=0;e&&(b|=f.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),i!==void 0&&(b|=f.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(i),this.depthMask.set(!0)),d!==void 0&&(b|=f.STENCIL_BUFFER_BIT,this.clearStencil.set(d),this.stencilMask.set(255)),f.clear(b)}setCullFace(e){e.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){c.bG(e.blendFunction,Ma.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return Fi(this.gl)?this.gl.createVertexArray():(e=this.gl.getExtension("OES_vertex_array_object"))===null||e===void 0?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var i;return Fi(this.gl)?this.gl.deleteVertexArray(e):(i=this.gl.getExtension("OES_vertex_array_object"))===null||i===void 0?void 0:i.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}let Xn;function zd(y,e,i,d,f){const b=y.context,S=y.transform,M=b.gl,I=y.useProgram("collisionBox"),N=[];let K=0,F=0;for(let ce=0;ce<d.length;ce++){const he=d[ce],ye=e.getTile(he).getBucket(i);if(!ye)continue;const pe=f?ye.textCollisionBox:ye.iconCollisionBox,xe=ye.collisionCircleArray;xe.length>0&&(N.push({circleArray:xe,circleOffset:F,coord:he}),K+=xe.length/4,F=K),pe&&I.draw(b,M.LINES,fa.disabled,ia.disabled,y.colorModeForRenderPass(),da.disabled,Hl(y.transform),y.style.map.terrain&&y.style.map.terrain.getTerrainData(he),S.getProjectionData({overscaledTileID:he,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),i.id,pe.layoutVertexBuffer,pe.indexBuffer,pe.segments,null,y.transform.zoom,null,null,pe.collisionVertexBuffer)}if(!f||!N.length)return;const B=y.useProgram("collisionCircle"),U=new c.b_;U.resize(4*K),U._trim();let Y=0;for(const ce of N)for(let he=0;he<ce.circleArray.length/4;he++){const ye=4*he,pe=ce.circleArray[ye+0],xe=ce.circleArray[ye+1],De=ce.circleArray[ye+2],me=ce.circleArray[ye+3];U.emplace(Y++,pe,xe,De,me,0),U.emplace(Y++,pe,xe,De,me,1),U.emplace(Y++,pe,xe,De,me,2),U.emplace(Y++,pe,xe,De,me,3)}(!Xn||Xn.length<2*K)&&(Xn=function(ce){const he=2*ce,ye=new c.c0;ye.resize(he),ye._trim();for(let pe=0;pe<he;pe++){const xe=6*pe;ye.uint16[xe+0]=4*pe+0,ye.uint16[xe+1]=4*pe+1,ye.uint16[xe+2]=4*pe+2,ye.uint16[xe+3]=4*pe+2,ye.uint16[xe+4]=4*pe+3,ye.uint16[xe+5]=4*pe+0}return ye}(K));const le=b.createIndexBuffer(Xn,!0),se=b.createVertexBuffer(U,c.b$.members,!0);for(const ce of N){const he=_o(y.transform);B.draw(b,M.TRIANGLES,fa.disabled,ia.disabled,y.colorModeForRenderPass(),da.disabled,he,y.style.map.terrain&&y.style.map.terrain.getTerrainData(ce.coord),null,i.id,se,le,c.aL.simpleSegment(0,2*ce.circleOffset,ce.circleArray.length,ce.circleArray.length/2),null,y.transform.zoom,null,null,null)}se.destroy(),le.destroy()}const Vc=c.af(new Float32Array(16));function io(y,e,i,d,f,b){const{horizontalAlign:S,verticalAlign:M}=c.aG(y);return new c.P((-(S-.5)*e/f+d[0])*b,(-(M-.5)*i/f+d[1])*b)}function Rd(y,e,i,d,f,b){const S=e.tileAnchorPoint.add(new c.P(e.translation[0],e.translation[1]));if(e.pitchWithMap){let M=d.mult(b);i||(M=M.rotate(-f));const I=S.add(M);return It(I.x,I.y,e.pitchedLabelPlaneMatrix,e.getElevation).point}if(i){const M=vt(e.tileAnchorPoint.x+1,e.tileAnchorPoint.y,e).point.sub(y),I=Math.atan(M.y/M.x)+(M.x<0?Math.PI:0);return y.add(d.rotate(I))}return y.add(d)}function kd(y,e,i,d,f,b,S,M,I,N,K,F){const B=y.text.placedSymbolArray,U=y.text.dynamicLayoutVertexArray,Y=y.icon.dynamicLayoutVertexArray,le={};U.clear();for(let se=0;se<B.length;se++){const ce=B.get(se),he=ce.hidden||!ce.crossTileID||y.allowVerticalPlacement&&!ce.placedOrientation?null:d[ce.crossTileID];if(he){const ye=new c.P(ce.anchorX,ce.anchorY),pe={getElevation:F,width:f.width,height:f.height,pitchedLabelPlaneMatrix:b,pitchWithMap:i,transform:f,tileAnchorPoint:ye,translation:N,unwrappedTileID:K},xe=i?Bt(ye.x,ye.y,pe):vt(ye.x,ye.y,pe),De=Tt(f.cameraToCenterDistance,xe.signedDistanceFromCamera);let me=c.ao(y.textSizeData,M,ce)*De/c.aA;i&&(me*=y.tilePixelRatio/S);const{width:Ee,height:We,anchor:Ue,textOffset:Ge,textBoxScale:Ye}=he,Lt=io(Ue,Ee,We,Ge,Ye,me),At=f.getPitchedTextCorrection(ye.x+N[0],ye.y+N[1],K),mt=Rd(xe.point,pe,e,Lt,-f.bearingInRadians,At),Ot=y.allowVerticalPlacement&&ce.placedOrientation===c.an.vertical?Math.PI/2:0;for(let va=0;va<ce.numGlyphs;va++)c.au(U,mt,Ot);I&&ce.associatedIconIndex>=0&&(le[ce.associatedIconIndex]={shiftedAnchor:mt,angle:Ot})}else Ki(ce.numGlyphs,U)}if(I){Y.clear();const se=y.icon.placedSymbolArray;for(let ce=0;ce<se.length;ce++){const he=se.get(ce);if(he.hidden)Ki(he.numGlyphs,Y);else{const ye=le[ce];if(ye)for(let pe=0;pe<he.numGlyphs;pe++)c.au(Y,ye.shiftedAnchor,ye.angle);else Ki(he.numGlyphs,Y)}}y.icon.dynamicLayoutVertexBuffer.updateData(Y)}y.text.dynamicLayoutVertexBuffer.updateData(U)}function tl(y,e,i){return i.iconsInText&&e?"symbolTextAndIcon":y?"symbolSDF":"symbolIcon"}function al(y,e,i,d,f,b,S,M,I,N,K,F,B){const U=y.context,Y=U.gl,le=y.transform,se=M==="map",ce=I==="map",he=M!=="viewport"&&i.layout.get("symbol-placement")!=="point",ye=se&&!ce&&!he,pe=!i.layout.get("symbol-sort-key").isConstant();let xe=!1;const De=y.getDepthModeForSublayer(0,fa.ReadOnly),me=i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ee=[],We=le.getCircleRadiusCorrection();for(const Ue of d){const Ge=e.getTile(Ue),Ye=Ge.getBucket(i);if(!Ye)continue;const Lt=f?Ye.text:Ye.icon;if(!Lt||!Lt.segments.get().length||!Lt.hasVisibleVertices)continue;const At=Lt.programConfigurations.get(i.id),mt=f||Ye.sdfIcons,Ot=f?Ye.textSizeData:Ye.iconSizeData,va=ce||le.pitch!==0,Ra=y.useProgram(tl(mt,f,Ye),At),wi=c.am(Ot,le.zoom),Ha=y.style.map.terrain&&y.style.map.terrain.getTerrainData(Ue);let Di,Xa,Za,Ya,hn=[0,0],Ia=null;if(f)Xa=Ge.glyphAtlasTexture,Za=Y.LINEAR,Di=Ge.glyphAtlasTexture.size,Ye.iconsInText&&(hn=Ge.imageAtlasTexture.size,Ia=Ge.imageAtlasTexture,Ya=va||y.options.rotating||y.options.zooming||Ot.kind==="composite"||Ot.kind==="camera"?Y.LINEAR:Y.NEAREST);else{const di=i.layout.get("icon-size").constantOr(0)!==1||Ye.iconsNeedLinear;Xa=Ge.imageAtlasTexture,Za=mt||y.options.rotating||y.options.zooming||di||va?Y.LINEAR:Y.NEAREST,Di=Ge.imageAtlasTexture.size}const pn=c.aB(Ge,1,y.transform.zoom),Ln=Ne(se,y.transform,pn),Ms=c.L();c.ap(Ms,Ln);const es=dt(ce,se,y.transform,pn),jr=c.aC(le,Ge,b,S),Kr=le.getProjectionData({overscaledTileID:Ue,applyGlobeMatrix:!B,applyTerrainMatrix:!0}),As=me&&Ye.hasTextData(),oc=i.layout.get("icon-text-fit")!=="none"&&As&&Ye.hasIconData();if(he){const di=y.style.map.terrain?(wn,Ei)=>y.style.map.terrain.getElevation(Ue,wn,Ei):null,$a=i.layout.get("text-rotation-alignment")==="map";Vt(Ye,y,f,Ln,Ms,ce,N,$a,Ue.toUnwrapped(),le.width,le.height,jr,di)}const ml=f&&me||oc,En=he||ml?Vc:ce?Ln:y.transform.clipSpaceToPixelsMatrix,Or=mt&&i.paint.get(f?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ts;ts=mt?Ye.iconsInText?Wp(Ot.kind,wi,ye,ce,he,ml,y,En,es,jr,Di,hn,We):$l(Ot.kind,wi,ye,ce,he,ml,y,En,es,jr,f,Di,0,We):_u(Ot.kind,wi,ye,ce,he,ml,y,En,es,jr,f,Di,We);const gl={program:Ra,buffers:Lt,uniformValues:ts,projectionData:Kr,atlasTexture:Xa,atlasTextureIcon:Ia,atlasInterpolation:Za,atlasInterpolationIcon:Ya,isSDF:mt,hasHalo:Or};if(pe&&Ye.canOverlap){xe=!0;const di=Lt.segments.get();for(const $a of di)Ee.push({segments:new c.aL([$a]),sortKey:$a.sortKey,state:gl,terrainData:Ha})}else Ee.push({segments:Lt.segments,sortKey:0,state:gl,terrainData:Ha})}xe&&Ee.sort((Ue,Ge)=>Ue.sortKey-Ge.sortKey);for(const Ue of Ee){const Ge=Ue.state;if(U.activeTexture.set(Y.TEXTURE0),Ge.atlasTexture.bind(Ge.atlasInterpolation,Y.CLAMP_TO_EDGE),Ge.atlasTextureIcon&&(U.activeTexture.set(Y.TEXTURE1),Ge.atlasTextureIcon&&Ge.atlasTextureIcon.bind(Ge.atlasInterpolationIcon,Y.CLAMP_TO_EDGE)),Ge.isSDF){const Ye=Ge.uniformValues;Ge.hasHalo&&(Ye.u_is_halo=1,il(Ge.buffers,Ue.segments,i,y,Ge.program,De,K,F,Ye,Ge.projectionData,Ue.terrainData)),Ye.u_is_halo=0}il(Ge.buffers,Ue.segments,i,y,Ge.program,De,K,F,Ge.uniformValues,Ge.projectionData,Ue.terrainData)}}function il(y,e,i,d,f,b,S,M,I,N,K){const F=d.context;f.draw(F,F.gl.TRIANGLES,b,S,M,da.backCCW,I,K,N,i.id,y.layoutVertexBuffer,y.indexBuffer,e,i.paint,d.transform.zoom,y.programConfigurations.get(i.id),y.dynamicLayoutVertexBuffer,y.opacityVertexBuffer)}function nl(y,e,i,d,f){const b=y.context,S=b.gl,M=ia.disabled,I=new Ma([S.ONE,S.ONE],c.be.transparent,[!0,!0,!0,!0]),N=e.getBucket(i);if(!N)return;const K=d.key;let F=i.heatmapFbos.get(K);F||(F=jn(b,e.tileSize,e.tileSize),i.heatmapFbos.set(K,F)),b.bindFramebuffer.set(F.framebuffer),b.viewport.set([0,0,e.tileSize,e.tileSize]),b.clear({color:c.be.transparent});const B=N.programConfigurations.get(i.id),U=y.useProgram("heatmap",B,!f),Y=y.transform.getProjectionData({overscaledTileID:e.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),le=y.style.map.terrain.getTerrainData(d);U.draw(b,S.TRIANGLES,fa.disabled,M,I,da.disabled,Nc(e,y.transform.zoom,i.paint.get("heatmap-intensity"),1),le,Y,i.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,i.paint,y.transform.zoom,B)}function Zn(y,e,i,d,f){const b=y.context,S=b.gl,M=y.transform;b.setColorMode(y.colorModeForRenderPass());const I=wo(b,e),N=i.key,K=e.heatmapFbos.get(N);if(!K)return;b.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,K.colorAttachment.get()),b.activeTexture.set(S.TEXTURE1),I.bind(S.LINEAR,S.CLAMP_TO_EDGE);const F=M.getProjectionData({overscaledTileID:i,applyTerrainMatrix:f,applyGlobeMatrix:!d});y.useProgram("heatmapTexture").draw(b,S.TRIANGLES,fa.disabled,ia.disabled,y.colorModeForRenderPass(),da.disabled,qh(y,e,0,1),null,F,e.id,y.rasterBoundsBuffer,y.quadTriangleIndexBuffer,y.rasterBoundsSegments,e.paint,M.zoom),K.destroy(),e.heatmapFbos.delete(N)}function jn(y,e,i){var d,f;const b=y.gl,S=b.createTexture();b.bindTexture(b.TEXTURE_2D,S),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR);const M=(d=y.HALF_FLOAT)!==null&&d!==void 0?d:b.UNSIGNED_BYTE,I=(f=y.RGBA16F)!==null&&f!==void 0?f:b.RGBA;b.texImage2D(b.TEXTURE_2D,0,I,e,i,0,b.RGBA,M,null);const N=y.createFramebuffer(e,i,!1,!1);return N.colorAttachment.set(S),N}function wo(y,e){return e.colorRampTexture||(e.colorRampTexture=new c.T(y,e.colorRamp,y.gl.RGBA)),e.colorRampTexture}function no(y,e,i,d,f){if(!i||!d||!d.imageAtlas)return;const b=d.imageAtlas.patternPositions;let S=b[i.to.toString()],M=b[i.from.toString()];if(!S&&M&&(S=M),!M&&S&&(M=S),!S||!M){const I=f.getPaintProperty(e);S=b[I],M=b[I]}S&&M&&y.setConstantPatternPositions(S,M)}function vr(y,e,i,d,f,b,S,M){const I=y.context.gl,N="fill-pattern",K=i.paint.get(N),F=K&&K.constantOr(1),B=i.getCrossfadeParameters();let U,Y,le,se,ce;const he=y.transform,ye=i.paint.get("fill-translate"),pe=i.paint.get("fill-translate-anchor");S?(Y=F&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",U=I.LINES):(Y=F?"fillPattern":"fill",U=I.TRIANGLES);const xe=K.constantOr(null);for(const De of d){const me=e.getTile(De);if(F&&!me.patternsLoaded())continue;const Ee=me.getBucket(i);if(!Ee)continue;const We=Ee.programConfigurations.get(i.id),Ue=y.useProgram(Y,We),Ge=y.style.map.terrain&&y.style.map.terrain.getTerrainData(De);F&&(y.context.activeTexture.set(I.TEXTURE0),me.imageAtlasTexture.bind(I.LINEAR,I.CLAMP_TO_EDGE),We.updatePaintBuffers(B)),no(We,N,xe,me,i);const Ye=he.getProjectionData({overscaledTileID:De,applyGlobeMatrix:!M,applyTerrainMatrix:!0}),Lt=c.aC(he,me,ye,pe);if(S){se=Ee.indexBuffer2,ce=Ee.segments2;const mt=[I.drawingBufferWidth,I.drawingBufferHeight];le=Y==="fillOutlinePattern"&&F?Kh(y,B,me,mt,Lt):Qr(mt,Lt)}else se=Ee.indexBuffer,ce=Ee.segments,le=F?kc(y,B,me,Lt):{u_fill_translate:Lt};const At=y.stencilModeForClipping(De);Ue.draw(y.context,U,f,At,b,da.backCCW,le,Ge,Ye,i.id,Ee.layoutVertexBuffer,se,ce,i.paint,y.transform.zoom,We)}}function zr(y,e,i,d,f,b,S,M){const I=y.context,N=I.gl,K="fill-extrusion-pattern",F=i.paint.get(K),B=F.constantOr(1),U=i.getCrossfadeParameters(),Y=i.paint.get("fill-extrusion-opacity"),le=F.constantOr(null),se=y.transform;for(const ce of d){const he=e.getTile(ce),ye=he.getBucket(i);if(!ye)continue;const pe=y.style.map.terrain&&y.style.map.terrain.getTerrainData(ce),xe=ye.programConfigurations.get(i.id),De=y.useProgram(B?"fillExtrusionPattern":"fillExtrusion",xe);B&&(y.context.activeTexture.set(N.TEXTURE0),he.imageAtlasTexture.bind(N.LINEAR,N.CLAMP_TO_EDGE),xe.updatePaintBuffers(U));const me=se.getProjectionData({overscaledTileID:ce,applyGlobeMatrix:!M,applyTerrainMatrix:!0});no(xe,K,le,he,i);const Ee=c.aC(se,he,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),We=i.paint.get("fill-extrusion-vertical-gradient"),Ue=B?wd(y,We,Y,Ee,ce,U,he):Vo(y,We,Y,Ee);De.draw(I,I.gl.TRIANGLES,f,b,S,da.backCCW,Ue,pe,me,i.id,ye.layoutVertexBuffer,ye.indexBuffer,ye.segments,i.paint,y.transform.zoom,xe,y.style.map.terrain&&ye.centroidVertexBuffer)}}function rl(y,e,i,d,f,b,S,M,I){var N;const K=y.style.projection,F=y.context,B=y.transform,U=F.gl,Y=[`#define NUM_ILLUMINATION_SOURCES ${i.paint.get("hillshade-highlight-color").values.length}`],le=y.useProgram("hillshade",null,!1,Y),se=!y.options.moving;for(const ce of d){const he=e.getTile(ce),ye=he.fbo;if(!ye)continue;const pe=K.getMeshFromTileID(F,ce.canonical,M,!0,"raster"),xe=(N=y.style.map.terrain)===null||N===void 0?void 0:N.getTerrainData(ce);F.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,ye.colorAttachment.get());const De=B.getProjectionData({overscaledTileID:ce,aligned:se,applyGlobeMatrix:!I,applyTerrainMatrix:!0});le.draw(F,U.TRIANGLES,b,f[ce.overscaledZ],S,da.backCCW,$s(y,he,i),xe,De,i.id,pe.vertexBuffer,pe.indexBuffer,pe.segments)}}function ol(y,e,i,d,f,b,S,M,I){var N;const K=y.style.projection,F=y.context,B=y.transform,U=F.gl,Y=y.useProgram("colorRelief"),le=!y.options.moving;let se=!0,ce=0;for(const he of d){const ye=e.getTile(he),pe=ye.dem;if(se){const Ue=U.getParameter(U.MAX_TEXTURE_SIZE),{elevationTexture:Ge,colorTexture:Ye}=i.getColorRampTextures(F,Ue,pe.getUnpackVector());F.activeTexture.set(U.TEXTURE1),Ge.bind(U.NEAREST,U.CLAMP_TO_EDGE),F.activeTexture.set(U.TEXTURE4),Ye.bind(U.LINEAR,U.CLAMP_TO_EDGE),se=!1,ce=Ge.size[0]}if(!pe||!pe.data)continue;const xe=pe.stride,De=pe.getPixels();if(F.activeTexture.set(U.TEXTURE0),F.pixelStoreUnpackPremultiplyAlpha.set(!1),ye.demTexture=ye.demTexture||y.getTileTexture(xe),ye.demTexture){const Ue=ye.demTexture;Ue.update(De,{premultiply:!1}),Ue.bind(U.LINEAR,U.CLAMP_TO_EDGE)}else ye.demTexture=new c.T(F,De,U.RGBA,{premultiply:!1}),ye.demTexture.bind(U.LINEAR,U.CLAMP_TO_EDGE);const me=K.getMeshFromTileID(F,he.canonical,M,!0,"raster"),Ee=(N=y.style.map.terrain)===null||N===void 0?void 0:N.getTerrainData(he),We=B.getProjectionData({overscaledTileID:he,aligned:le,applyGlobeMatrix:!I,applyTerrainMatrix:!0});Y.draw(F,U.TRIANGLES,b,f[he.overscaledZ],S,da.backCCW,jc(i,ye.dem,ce),Ee,We,i.id,me.vertexBuffer,me.indexBuffer,me.segments)}}const Uc=[new c.P(0,0),new c.P(c.$,0),new c.P(c.$,c.$),new c.P(0,c.$)];function Oi(y,e,i,d,f,b,S,M,I=!1,N=!1){const K=d[d.length-1].overscaledZ,F=y.context,B=F.gl,U=y.useProgram("raster"),Y=y.transform,le=y.style.projection,se=y.colorModeForRenderPass(),ce=!y.options.moving;for(const he of d){const ye=y.getDepthModeForSublayer(he.overscaledZ-K,i.paint.get("raster-opacity")===1?fa.ReadWrite:fa.ReadOnly,B.LESS),pe=e.getTile(he);pe.registerFadeDuration(i.paint.get("raster-fade-duration"));const xe=e.findLoadedParent(he,0),De=e.findLoadedSibling(he),me=qi(pe,xe||De||null,e,i,y.transform,y.style.map.terrain);let Ee,We;const Ue=i.paint.get("raster-resampling")==="nearest"?B.NEAREST:B.LINEAR;F.activeTexture.set(B.TEXTURE0),pe.texture.bind(Ue,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),F.activeTexture.set(B.TEXTURE1),xe?(xe.texture.bind(Ue,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),Ee=Math.pow(2,xe.tileID.overscaledZ-pe.tileID.overscaledZ),We=[pe.tileID.canonical.x*Ee%1,pe.tileID.canonical.y*Ee%1]):pe.texture.bind(Ue,B.CLAMP_TO_EDGE,B.LINEAR_MIPMAP_NEAREST),pe.texture.useMipmap&&F.extTextureFilterAnisotropic&&y.transform.pitch>20&&B.texParameterf(B.TEXTURE_2D,F.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,F.extTextureFilterAnisotropicMax);const Ge=y.style.map.terrain&&y.style.map.terrain.getTerrainData(he),Ye=Y.getProjectionData({overscaledTileID:he,aligned:ce,applyGlobeMatrix:!N,applyTerrainMatrix:!0}),Lt=ps(We||[0,0],Ee||1,me,i,M),At=le.getMeshFromTileID(F,he.canonical,b,S,"raster");U.draw(F,B.TRIANGLES,ye,f?f[he.overscaledZ]:ia.disabled,se,I?da.frontCCW:da.backCCW,Lt,Ge,Ye,i.id,At.vertexBuffer,At.indexBuffer,At.segments)}}function qi(y,e,i,d,f,b){const S=d.paint.get("raster-fade-duration");if(!b&&S>0){const M=Z.now(),I=(M-y.timeAdded)/S,N=e?(M-e.timeAdded)/S:-1,K=i.getSource(),F=st(f,{tileSize:K.tileSize,roundZoom:K.roundZoom}),B=!e||Math.abs(e.tileID.overscaledZ-F)>Math.abs(y.tileID.overscaledZ-F),U=B&&y.refreshedUponExpiration?1:c.ag(B?I:1-N,0,1);return y.refreshedUponExpiration&&I>=1&&(y.refreshedUponExpiration=!1),e?{opacity:1,mix:1-U}:{opacity:U,mix:0}}return{opacity:1,mix:0}}const Va=new c.be(1,0,0,1),Co=new c.be(0,1,0,1),Rr=new c.be(0,0,1,1),Mu=new c.be(1,0,1,1),vs=new c.be(0,1,1,1);function Ql(y,e,i,d){bs(y,0,e+i/2,y.transform.width,i,d)}function Gc(y,e,i,d){bs(y,e-i/2,0,i,y.transform.height,d)}function bs(y,e,i,d,f,b){const S=y.context,M=S.gl;M.enable(M.SCISSOR_TEST),M.scissor(e*y.pixelRatio,i*y.pixelRatio,d*y.pixelRatio,f*y.pixelRatio),S.clear({color:b}),M.disable(M.SCISSOR_TEST)}function ec(y,e,i){const d=y.context,f=d.gl,b=y.useProgram("debug"),S=fa.disabled,M=ia.disabled,I=y.colorModeForRenderPass(),N="$debug",K=y.style.map.terrain&&y.style.map.terrain.getTerrainData(i);d.activeTexture.set(f.TEXTURE0);const F=e.getTileByID(i.key).latestRawTileData,B=Math.floor((F&&F.byteLength||0)/1024),U=e.getTile(i).tileSize,Y=512/Math.min(U,512)*(i.overscaledZ/y.transform.zoom)*.5;let le=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(le+=` => ${i.overscaledZ}`),function(ce,he){ce.initDebugOverlayCanvas();const ye=ce.debugOverlayCanvas,pe=ce.context.gl,xe=ce.debugOverlayCanvas.getContext("2d");xe.clearRect(0,0,ye.width,ye.height),xe.shadowColor="white",xe.shadowBlur=2,xe.lineWidth=1.5,xe.strokeStyle="white",xe.textBaseline="top",xe.font="bold 36px Open Sans, sans-serif",xe.fillText(he,5,5),xe.strokeText(he,5,5),ce.debugOverlayTexture.update(ye),ce.debugOverlayTexture.bind(pe.LINEAR,pe.CLAMP_TO_EDGE)}(y,`${le} ${B}kB`);const se=y.transform.getProjectionData({overscaledTileID:i,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(d,f.TRIANGLES,S,M,Ma.alphaBlended,da.disabled,Oh(c.be.transparent,Y),null,se,N,y.debugBuffer,y.quadTriangleIndexBuffer,y.debugSegments),b.draw(d,f.LINE_STRIP,S,M,I,da.disabled,Oh(c.be.red),K,se,N,y.debugBuffer,y.tileBorderIndexBuffer,y.debugSegments)}function Pi(y,e,i,d){const{isRenderingGlobe:f}=d,b=y.context,S=b.gl,M=y.transform,I=y.colorModeForRenderPass(),N=y.getDepthModeFor3D(),K=y.useProgram("terrain");b.bindFramebuffer.set(null),b.viewport.set([0,0,y.width,y.height]);for(const F of i){const B=e.getTerrainMesh(F.tileID),U=y.renderToTexture.getTexture(F),Y=e.getTerrainData(F.tileID);b.activeTexture.set(S.TEXTURE0),S.bindTexture(S.TEXTURE_2D,U.texture);const le=e.getMeshFrameDelta(M.zoom),se=M.calculateFogMatrix(F.tileID.toUnwrapped()),ce=$p(le,se,y.style.sky,M.pitch,f),he=M.getProjectionData({overscaledTileID:F.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});K.draw(b,S.TRIANGLES,N,ia.disabled,I,da.backCCW,ce,Y,he,"terrain",B.vertexBuffer,B.indexBuffer,B.segments)}}function kr(y,e){if(!e.mesh){const i=new c.aK;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(1,1),i.emplaceBack(-1,1);const d=new c.aM;d.emplaceBack(0,1,2),d.emplaceBack(0,2,3),e.mesh=new vo(y.createVertexBuffer(i,$r.members),y.createIndexBuffer(d),c.aL.simpleSegment(0,0,i.length,d.length))}return e.mesh}class or{constructor(e,i){this.context=new wa(e),this.transform=i,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:c.af(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=ut.maxUnderzooming+ut.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Ac}resize(e,i,d){if(this.width=Math.floor(e*d),this.height=Math.floor(i*d),this.pixelRatio=d,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const f of this.style._order)this.style._layers[f].resize()}setup(){const e=this.context,i=new c.aK;i.emplaceBack(0,0),i.emplaceBack(c.$,0),i.emplaceBack(0,c.$),i.emplaceBack(c.$,c.$),this.tileExtentBuffer=e.createVertexBuffer(i,$r.members),this.tileExtentSegments=c.aL.simpleSegment(0,0,4,2);const d=new c.aK;d.emplaceBack(0,0),d.emplaceBack(c.$,0),d.emplaceBack(0,c.$),d.emplaceBack(c.$,c.$),this.debugBuffer=e.createVertexBuffer(d,$r.members),this.debugSegments=c.aL.simpleSegment(0,0,4,5);const f=new c.c5;f.emplaceBack(0,0,0,0),f.emplaceBack(c.$,0,c.$,0),f.emplaceBack(0,c.$,0,c.$),f.emplaceBack(c.$,c.$,c.$,c.$),this.rasterBoundsBuffer=e.createVertexBuffer(f,Xp.members),this.rasterBoundsSegments=c.aL.simpleSegment(0,0,4,2);const b=new c.aK;b.emplaceBack(0,0),b.emplaceBack(c.$,0),b.emplaceBack(0,c.$),b.emplaceBack(c.$,c.$),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(b,$r.members),this.rasterBoundsSegmentsPosOnly=c.aL.simpleSegment(0,0,4,5);const S=new c.aK;S.emplaceBack(0,0),S.emplaceBack(1,0),S.emplaceBack(0,1),S.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(S,$r.members),this.viewportSegments=c.aL.simpleSegment(0,0,4,2);const M=new c.c6;M.emplaceBack(0),M.emplaceBack(1),M.emplaceBack(3),M.emplaceBack(2),M.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(M);const I=new c.aM;I.emplaceBack(1,0,2),I.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(I);const N=this.context.gl;this.stencilClearMode=new ia({func:N.ALWAYS,mask:0},0,255,N.ZERO,N.ZERO,N.ZERO),this.tileExtentMesh=new vo(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const e=this.context,i=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const d=c.L();c.bX(d,0,this.width,this.height,0,0,1),c.N(d,d,[i.drawingBufferWidth,i.drawingBufferHeight,0]);const f={mainMatrix:d,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:d};this.useProgram("clippingMask",null,!0).draw(e,i.TRIANGLES,fa.disabled,this.stencilClearMode,Ma.disabled,da.disabled,null,null,f,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,i,d){if(this.currentStencilSource===e.source||!e.isTileClipped()||!i||!i.length)return;this.currentStencilSource=e.source,this.nextStencilID+i.length>256&&this.clearStencil();const f=this.context;f.setColorMode(Ma.disabled),f.setDepthMode(fa.disabled);const b={};for(const S of i)b[S.key]=this.nextStencilID++;this._renderTileMasks(b,i,d,!0),this._renderTileMasks(b,i,d,!1),this._tileClippingMaskIDs=b}_renderTileMasks(e,i,d,f){const b=this.context,S=b.gl,M=this.style.projection,I=this.transform,N=this.useProgram("clippingMask");for(const K of i){const F=e[K.key],B=this.style.map.terrain&&this.style.map.terrain.getTerrainData(K),U=M.getMeshFromTileID(this.context,K.canonical,f,!0,"stencil"),Y=I.getProjectionData({overscaledTileID:K,applyGlobeMatrix:!d,applyTerrainMatrix:!0});N.draw(b,S.TRIANGLES,fa.disabled,new ia({func:S.ALWAYS,mask:0},F,255,S.KEEP,S.KEEP,S.REPLACE),Ma.disabled,d?da.disabled:da.backCCW,null,B,Y,"$clipping",U.vertexBuffer,U.indexBuffer,U.segments)}}_renderTilesDepthBuffer(){const e=this.context,i=e.gl,d=this.style.projection,f=this.transform,b=this.useProgram("depth"),S=this.getDepthModeFor3D(),M=tt(f,{tileSize:f.tileSize});for(const I of M){const N=this.style.map.terrain&&this.style.map.terrain.getTerrainData(I),K=d.getMeshFromTileID(this.context,I.canonical,!0,!0,"raster"),F=f.getProjectionData({overscaledTileID:I,applyGlobeMatrix:!0,applyTerrainMatrix:!0});b.draw(e,i.TRIANGLES,S,ia.disabled,Ma.disabled,da.backCCW,null,N,F,"$clipping",K.vertexBuffer,K.indexBuffer,K.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,i=this.context.gl;return new ia({func:i.NOTEQUAL,mask:255},e,255,i.KEEP,i.KEEP,i.REPLACE)}stencilModeForClipping(e){const i=this.context.gl;return new ia({func:i.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,i.KEEP,i.KEEP,i.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){const i=this.context.gl,d=e.sort((S,M)=>M.overscaledZ-S.overscaledZ),f=d[d.length-1].overscaledZ,b=d[0].overscaledZ-f+1;if(b>1){this.currentStencilSource=void 0,this.nextStencilID+b>256&&this.clearStencil();const S={};for(let M=0;M<b;M++)S[M+f]=new ia({func:i.GEQUAL,mask:255},M+this.nextStencilID,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID+=b,[S,d]}return[{[f]:ia.disabled},d]}stencilConfigForOverlapTwoPass(e){const i=this.context.gl,d=e.sort((S,M)=>M.overscaledZ-S.overscaledZ),f=d[d.length-1].overscaledZ,b=d[0].overscaledZ-f+1;if(this.clearStencil(),b>1){const S={},M={};for(let I=0;I<b;I++)S[I+f]=new ia({func:i.GREATER,mask:255},b+1+I,255,i.KEEP,i.KEEP,i.REPLACE),M[I+f]=new ia({func:i.GREATER,mask:255},1+I,255,i.KEEP,i.KEEP,i.REPLACE);return this.nextStencilID=2*b+1,[S,M,d]}return this.nextStencilID=3,[{[f]:new ia({func:i.GREATER,mask:255},2,255,i.KEEP,i.KEEP,i.REPLACE)},{[f]:new ia({func:i.GREATER,mask:255},1,255,i.KEEP,i.KEEP,i.REPLACE)},d]}colorModeForRenderPass(){const e=this.context.gl;return this._showOverdrawInspector?new Ma([e.CONSTANT_COLOR,e.ONE],new c.be(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ma.unblended:Ma.alphaBlended}getDepthModeForSublayer(e,i,d){if(!this.opaquePassEnabledForLayer())return fa.disabled;const f=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new fa(d||this.context.gl.LEQUAL,i,[f,f])}getDepthModeFor3D(){return new fa(this.context.gl.LEQUAL,fa.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,i){var d,f;this.style=e,this.options=i,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(Z.now()),this.imageManager.beginFrame();const b=this.style._order,S=this.style.sourceCaches,M={},I={},N={},K={isRenderingToTexture:!1,isRenderingGlobe:((d=e.projection)===null||d===void 0?void 0:d.transitionState)>0};for(const B in S){const U=S[B];U.used&&U.prepare(this.context),M[B]=U.getVisibleCoordinates(!1),I[B]=M[B].slice().reverse(),N[B]=U.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let B=0;B<b.length;B++)if(this.style._layers[b[B]].is3D()){this.opaquePassCutoff=B;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const B of b){const U=this.style._layers[B];if(!U.hasOffscreenPass()||U.isHidden(this.transform.zoom))continue;const Y=I[U.source];(U.type==="custom"||Y.length)&&this.renderLayer(this,S[U.source],U,Y,K)}if((f=this.style.projection)===null||f===void 0||f.updateGPUdependent({context:this.context,useProgram:B=>this.useProgram(B)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:i.showOverdrawInspector?c.be.black:c.be.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(B,U){const Y=B.context,le=Y.gl,se=((De,me,Ee)=>{const We=Math.cos(me.rollInRadians),Ue=Math.sin(me.rollInRadians),Ge=te(me),Ye=me.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:De.properties.get("sky-color"),u_horizon_color:De.properties.get("horizon-color"),u_horizon:[(me.width/2-Ge*Ue)*Ee,(me.height/2+Ge*We)*Ee],u_horizon_normal:[-Ue,We],u_sky_horizon_blend:De.properties.get("sky-horizon-blend")*me.height/2*Ee,u_sky_blend:Ye}})(U,B.style.map.transform,B.pixelRatio),ce=new fa(le.LEQUAL,fa.ReadWrite,[0,1]),he=ia.disabled,ye=B.colorModeForRenderPass(),pe=B.useProgram("sky"),xe=kr(Y,U);pe.draw(Y,le.TRIANGLES,ce,he,ye,da.disabled,se,null,void 0,"sky",xe.vertexBuffer,xe.indexBuffer,xe.segments)}(this,this.style.sky),this._showOverdrawInspector=i.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=b.length-1;this.currentLayer>=0;this.currentLayer--){const B=this.style._layers[b[this.currentLayer]],U=S[B.source],Y=M[B.source];this._renderTileClippingMasks(B,Y,!1),this.renderLayer(this,U,B,Y,K)}this.renderPass="translucent";let F=!1;for(this.currentLayer=0;this.currentLayer<b.length;this.currentLayer++){const B=this.style._layers[b[this.currentLayer]],U=S[B.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(B,K))continue;this.opaquePassEnabledForLayer()||F||(F=!0,K.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const Y=(B.type==="symbol"?N:I)[B.source];this._renderTileClippingMasks(B,M[B.source],!!this.renderToTexture),this.renderLayer(this,U,B,Y,K)}if(K.isRenderingGlobe&&function(B,U,Y){const le=B.context,se=le.gl,ce=B.useProgram("atmosphere"),he=new fa(se.LEQUAL,fa.ReadOnly,[0,1]),ye=B.transform,pe=function(Ye,Lt){const At=Ye.properties.get("position"),mt=[-At.x,-At.y,-At.z],Ot=c.af(new Float64Array(16));return Ye.properties.get("anchor")==="map"&&(c.b5(Ot,Ot,Lt.rollInRadians),c.b6(Ot,Ot,-Lt.pitchInRadians),c.b5(Ot,Ot,Lt.bearingInRadians),c.b6(Ot,Ot,Lt.center.lat*Math.PI/180),c.by(Ot,Ot,-Lt.center.lng*Math.PI/180)),c.c4(mt,mt,Ot),mt}(Y,B.transform),xe=ye.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),De=U.properties.get("atmosphere-blend")*xe.projectionTransition;if(De===0)return;const me=Ol(ye.worldSize,ye.center.lat),Ee=ye.inverseProjectionMatrix,We=new Float64Array(4);We[3]=1,c.av(We,We,ye.modelViewProjectionMatrix),We[0]/=We[3],We[1]/=We[3],We[2]/=We[3],We[3]=1,c.av(We,We,Ee),We[0]/=We[3],We[1]/=We[3],We[2]/=We[3],We[3]=1;const Ue=((Ye,Lt,At,mt,Ot)=>({u_sun_pos:Ye,u_atmosphere_blend:Lt,u_globe_position:At,u_globe_radius:mt,u_inv_proj_matrix:Ot}))(pe,De,[We[0],We[1],We[2]],me,Ee),Ge=kr(le,U);ce.draw(le,se.TRIANGLES,he,ia.disabled,Ma.alphaBlended,da.disabled,Ue,null,null,"atmosphere",Ge.vertexBuffer,Ge.indexBuffer,Ge.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const B=function(U,Y){let le=null;const se=Object.values(U._layers).flatMap(pe=>pe.source&&!pe.isHidden(Y)?[U.sourceCaches[pe.source]]:[]),ce=se.filter(pe=>pe.getSource().type==="vector"),he=se.filter(pe=>pe.getSource().type!=="vector"),ye=pe=>{(!le||le.getSource().maxzoom<pe.getSource().maxzoom)&&(le=pe)};return ce.forEach(pe=>ye(pe)),le||he.forEach(pe=>ye(pe)),le}(this.style,this.transform.zoom);B&&function(U,Y,le){for(let se=0;se<le.length;se++)ec(U,Y,le[se])}(this,B,B.getVisibleCoordinates())}this.options.showPadding&&function(B){const U=B.transform.padding;Ql(B,B.transform.height-(U.top||0),3,Va),Ql(B,U.bottom||0,3,Co),Gc(B,U.left||0,3,Rr),Gc(B,B.transform.width-(U.right||0),3,Mu);const Y=B.transform.centerPoint;(function(le,se,ce,he){bs(le,se-1,ce-10,2,20,he),bs(le,se-10,ce-1,20,2,he)})(B,Y.x,B.transform.height-Y.y,vs)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const i=this.terrainFacilitator.matrix,d=this.transform.modelViewProjectionMatrix;let f=this.terrainFacilitator.dirty;f||(f=e?!c.c7(i,d):!c.c8(i,d)),f||(f=this.style.map.terrain.sourceCache.anyTilesAfterTime(this.terrainFacilitator.renderTime)),f&&(c.c9(i,d),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(b,S){const M=b.context,I=M.gl,N=b.transform,K=Ma.unblended,F=new fa(I.LEQUAL,fa.ReadWrite,[0,1]),B=S.sourceCache.getRenderableTiles(),U=b.useProgram("terrainDepth");M.bindFramebuffer.set(S.getFramebuffer("depth").framebuffer),M.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),M.clear({color:c.be.transparent,depth:1});for(const Y of B){const le=S.getTerrainMesh(Y.tileID),se=S.getTerrainData(Y.tileID),ce=N.getProjectionData({overscaledTileID:Y.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),he={u_ele_delta:S.getMeshFrameDelta(N.zoom)};U.draw(M,I.TRIANGLES,F,ia.disabled,K,da.backCCW,he,se,ce,"terrain",le.vertexBuffer,le.indexBuffer,le.segments)}M.bindFramebuffer.set(null),M.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain),function(b,S){const M=b.context,I=M.gl,N=b.transform,K=Ma.unblended,F=new fa(I.LEQUAL,fa.ReadWrite,[0,1]),B=S.getCoordsTexture(),U=S.sourceCache.getRenderableTiles(),Y=b.useProgram("terrainCoords");M.bindFramebuffer.set(S.getFramebuffer("coords").framebuffer),M.viewport.set([0,0,b.width/devicePixelRatio,b.height/devicePixelRatio]),M.clear({color:c.be.transparent,depth:1}),S.coordsIndex=[];for(const le of U){const se=S.getTerrainMesh(le.tileID),ce=S.getTerrainData(le.tileID);M.activeTexture.set(I.TEXTURE0),I.bindTexture(I.TEXTURE_2D,B.texture);const he={u_terrain_coords_id:(255-S.coordsIndex.length)/255,u_texture:0,u_ele_delta:S.getMeshFrameDelta(N.zoom)},ye=N.getProjectionData({overscaledTileID:le.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});Y.draw(M,I.TRIANGLES,F,ia.disabled,K,da.backCCW,he,ce,ye,"terrain",se.vertexBuffer,se.indexBuffer,se.segments),S.coordsIndex.push(le.tileID.key)}M.bindFramebuffer.set(null),M.viewport.set([0,0,b.width,b.height])}(this,this.style.map.terrain))}renderLayer(e,i,d,f,b){d.isHidden(this.transform.zoom)||(d.type==="background"||d.type==="custom"||(f||[]).length)&&(this.id=d.id,c.ca(d)?function(S,M,I,N,K,F){if(S.renderPass!=="translucent")return;const{isRenderingToTexture:B}=F,U=ia.disabled,Y=S.colorModeForRenderPass();(I._unevaluatedLayout.hasValue("text-variable-anchor")||I._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(le,se,ce,he,ye,pe,xe,De,me){const Ee=se.transform,We=se.style.map.terrain,Ue=ye==="map",Ge=pe==="map";for(const Ye of le){const Lt=he.getTile(Ye),At=Lt.getBucket(ce);if(!At||!At.text||!At.text.segments.get().length)continue;const mt=c.am(At.textSizeData,Ee.zoom),Ot=c.aB(Lt,1,se.transform.zoom),va=Ne(Ue,se.transform,Ot),Ra=ce.layout.get("icon-text-fit")!=="none"&&At.hasIconData();if(mt){const wi=Math.pow(2,Ee.zoom-Lt.tileID.overscaledZ),Ha=We?(Di,Xa)=>We.getElevation(Ye,Di,Xa):null;kd(At,Ue,Ge,me,Ee,va,wi,mt,Ra,c.aC(Ee,Lt,xe,De),Ye.toUnwrapped(),Ha)}}}(N,S,I,M,I.layout.get("text-rotation-alignment"),I.layout.get("text-pitch-alignment"),I.paint.get("text-translate"),I.paint.get("text-translate-anchor"),K),I.paint.get("icon-opacity").constantOr(1)!==0&&al(S,M,I,N,!1,I.paint.get("icon-translate"),I.paint.get("icon-translate-anchor"),I.layout.get("icon-rotation-alignment"),I.layout.get("icon-pitch-alignment"),I.layout.get("icon-keep-upright"),U,Y,B),I.paint.get("text-opacity").constantOr(1)!==0&&al(S,M,I,N,!0,I.paint.get("text-translate"),I.paint.get("text-translate-anchor"),I.layout.get("text-rotation-alignment"),I.layout.get("text-pitch-alignment"),I.layout.get("text-keep-upright"),U,Y,B),M.map.showCollisionBoxes&&(zd(S,M,I,N,!0),zd(S,M,I,N,!1))}(e,i,d,f,this.style.placement.variableOffsets,b):c.cb(d)?function(S,M,I,N,K){if(S.renderPass!=="translucent")return;const{isRenderingToTexture:F}=K,B=I.paint.get("circle-opacity"),U=I.paint.get("circle-stroke-width"),Y=I.paint.get("circle-stroke-opacity"),le=!I.layout.get("circle-sort-key").isConstant();if(B.constantOr(1)===0&&(U.constantOr(1)===0||Y.constantOr(1)===0))return;const se=S.context,ce=se.gl,he=S.transform,ye=S.getDepthModeForSublayer(0,fa.ReadOnly),pe=ia.disabled,xe=S.colorModeForRenderPass(),De=[],me=he.getCircleRadiusCorrection();for(let Ee=0;Ee<N.length;Ee++){const We=N[Ee],Ue=M.getTile(We),Ge=Ue.getBucket(I);if(!Ge)continue;const Ye=I.paint.get("circle-translate"),Lt=I.paint.get("circle-translate-anchor"),At=c.aC(he,Ue,Ye,Lt),mt=Ge.programConfigurations.get(I.id),Ot=S.useProgram("circle",mt),va=Ge.layoutVertexBuffer,Ra=Ge.indexBuffer,wi=S.style.map.terrain&&S.style.map.terrain.getTerrainData(We),Ha={programConfiguration:mt,program:Ot,layoutVertexBuffer:va,indexBuffer:Ra,uniformValues:bu(S,Ue,I,At,me),terrainData:wi,projectionData:he.getProjectionData({overscaledTileID:We,applyGlobeMatrix:!F,applyTerrainMatrix:!0})};if(le){const Di=Ge.segments.get();for(const Xa of Di)De.push({segments:new c.aL([Xa]),sortKey:Xa.sortKey,state:Ha})}else De.push({segments:Ge.segments,sortKey:0,state:Ha})}le&&De.sort((Ee,We)=>Ee.sortKey-We.sortKey);for(const Ee of De){const{programConfiguration:We,program:Ue,layoutVertexBuffer:Ge,indexBuffer:Ye,uniformValues:Lt,terrainData:At,projectionData:mt}=Ee.state;Ue.draw(se,ce.TRIANGLES,ye,pe,xe,da.backCCW,Lt,At,mt,I.id,Ge,Ye,Ee.segments,I.paint,S.transform.zoom,We)}}(e,i,d,f,b):c.cc(d)?function(S,M,I,N,K){if(I.paint.get("heatmap-opacity")===0)return;const F=S.context,{isRenderingToTexture:B,isRenderingGlobe:U}=K;if(S.style.map.terrain){for(const Y of N){const le=M.getTile(Y);M.hasRenderableParent(Y)||(S.renderPass==="offscreen"?nl(S,le,I,Y,U):S.renderPass==="translucent"&&Zn(S,I,Y,B,U))}F.viewport.set([0,0,S.width,S.height])}else S.renderPass==="offscreen"?function(Y,le,se,ce){const he=Y.context,ye=he.gl,pe=Y.transform,xe=ia.disabled,De=new Ma([ye.ONE,ye.ONE],c.be.transparent,[!0,!0,!0,!0]);(function(me,Ee,We){const Ue=me.gl;me.activeTexture.set(Ue.TEXTURE1),me.viewport.set([0,0,Ee.width/4,Ee.height/4]);let Ge=We.heatmapFbos.get(c.c1);Ge?(Ue.bindTexture(Ue.TEXTURE_2D,Ge.colorAttachment.get()),me.bindFramebuffer.set(Ge.framebuffer)):(Ge=jn(me,Ee.width/4,Ee.height/4),We.heatmapFbos.set(c.c1,Ge))})(he,Y,se),he.clear({color:c.be.transparent});for(let me=0;me<ce.length;me++){const Ee=ce[me];if(le.hasRenderableParent(Ee))continue;const We=le.getTile(Ee),Ue=We.getBucket(se);if(!Ue)continue;const Ge=Ue.programConfigurations.get(se.id),Ye=Y.useProgram("heatmap",Ge),Lt=pe.getProjectionData({overscaledTileID:Ee,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),At=pe.getCircleRadiusCorrection();Ye.draw(he,ye.TRIANGLES,fa.disabled,xe,De,da.backCCW,Nc(We,pe.zoom,se.paint.get("heatmap-intensity"),At),null,Lt,se.id,Ue.layoutVertexBuffer,Ue.indexBuffer,Ue.segments,se.paint,pe.zoom,Ge)}he.viewport.set([0,0,Y.width,Y.height])}(S,M,I,N):S.renderPass==="translucent"&&function(Y,le){const se=Y.context,ce=se.gl;se.setColorMode(Y.colorModeForRenderPass());const he=le.heatmapFbos.get(c.c1);he&&(se.activeTexture.set(ce.TEXTURE0),ce.bindTexture(ce.TEXTURE_2D,he.colorAttachment.get()),se.activeTexture.set(ce.TEXTURE1),wo(se,le).bind(ce.LINEAR,ce.CLAMP_TO_EDGE),Y.useProgram("heatmapTexture").draw(se,ce.TRIANGLES,fa.disabled,ia.disabled,Y.colorModeForRenderPass(),da.disabled,qh(Y,le,0,1),null,null,le.id,Y.viewportBuffer,Y.quadTriangleIndexBuffer,Y.viewportSegments,le.paint,Y.transform.zoom))}(S,I)}(e,i,d,f,b):c.cd(d)?function(S,M,I,N,K){if(S.renderPass!=="translucent")return;const{isRenderingToTexture:F}=K,B=I.paint.get("line-opacity"),U=I.paint.get("line-width");if(B.constantOr(1)===0||U.constantOr(1)===0)return;const Y=S.getDepthModeForSublayer(0,fa.ReadOnly),le=S.colorModeForRenderPass(),se=I.paint.get("line-dasharray"),ce=I.paint.get("line-pattern"),he=ce.constantOr(1),ye=I.paint.get("line-gradient"),pe=I.getCrossfadeParameters(),xe=he?"linePattern":se?"lineSDF":ye?"lineGradient":"line",De=S.context,me=De.gl,Ee=S.transform;let We=!0;for(const Ue of N){const Ge=M.getTile(Ue);if(he&&!Ge.patternsLoaded())continue;const Ye=Ge.getBucket(I);if(!Ye)continue;const Lt=Ye.programConfigurations.get(I.id),At=S.context.program.get(),mt=S.useProgram(xe,Lt),Ot=We||mt.program!==At,va=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ue),Ra=ce.constantOr(null);if(Ra&&Ge.imageAtlas){const Za=Ge.imageAtlas,Ya=Za.patternPositions[Ra.to.toString()],hn=Za.patternPositions[Ra.from.toString()];Ya&&hn&&Lt.setConstantPatternPositions(Ya,hn)}const wi=Ee.getProjectionData({overscaledTileID:Ue,applyGlobeMatrix:!F,applyTerrainMatrix:!0}),Ha=Ee.getPixelScale(),Di=he?Cd(S,Ge,I,Ha,pe):se?Sd(S,Ge,I,Ha,se,pe):ye?Zl(S,Ge,I,Ha,Ye.lineClipsArray.length):xu(S,Ge,I,Ha);if(he)De.activeTexture.set(me.TEXTURE0),Ge.imageAtlasTexture.bind(me.LINEAR,me.CLAMP_TO_EDGE),Lt.updatePaintBuffers(pe);else if(se&&(Ot||S.lineAtlas.dirty))De.activeTexture.set(me.TEXTURE0),S.lineAtlas.bind(De);else if(ye){const Za=Ye.gradients[I.id];let Ya=Za.texture;if(I.gradientVersion!==Za.version){let hn=256;if(I.stepInterpolant){const Ia=M.getSource().maxzoom,pn=Ue.canonical.z===Ia?Math.ceil(1<<S.transform.maxZoom-Ue.canonical.z):1;hn=c.ag(c.c2(Ye.maxLineLength/c.$*1024*pn),256,De.maxTextureSize)}Za.gradient=c.c3({expression:I.gradientExpression(),evaluationKey:"lineProgress",resolution:hn,image:Za.gradient||void 0,clips:Ye.lineClipsArray}),Za.texture?Za.texture.update(Za.gradient):Za.texture=new c.T(De,Za.gradient,me.RGBA),Za.version=I.gradientVersion,Ya=Za.texture}De.activeTexture.set(me.TEXTURE0),Ya.bind(I.stepInterpolant?me.NEAREST:me.LINEAR,me.CLAMP_TO_EDGE)}const Xa=S.stencilModeForClipping(Ue);mt.draw(De,me.TRIANGLES,Y,Xa,le,da.disabled,Di,va,wi,I.id,Ye.layoutVertexBuffer,Ye.indexBuffer,Ye.segments,I.paint,S.transform.zoom,Lt,Ye.layoutVertexBuffer2),We=!1}}(e,i,d,f,b):c.ce(d)?function(S,M,I,N,K){const F=I.paint.get("fill-color"),B=I.paint.get("fill-opacity");if(B.constantOr(1)===0)return;const{isRenderingToTexture:U}=K,Y=S.colorModeForRenderPass(),le=I.paint.get("fill-pattern"),se=S.opaquePassEnabledForLayer()&&!le.constantOr(1)&&F.constantOr(c.be.transparent).a===1&&B.constantOr(0)===1?"opaque":"translucent";if(S.renderPass===se){const ce=S.getDepthModeForSublayer(1,S.renderPass==="opaque"?fa.ReadWrite:fa.ReadOnly);vr(S,M,I,N,ce,Y,!1,U)}if(S.renderPass==="translucent"&&I.paint.get("fill-antialias")){const ce=S.getDepthModeForSublayer(I.getPaintProperty("fill-outline-color")?2:0,fa.ReadOnly);vr(S,M,I,N,ce,Y,!0,U)}}(e,i,d,f,b):c.cf(d)?function(S,M,I,N,K){const F=I.paint.get("fill-extrusion-opacity");if(F===0)return;const{isRenderingToTexture:B}=K;if(S.renderPass==="translucent"){const U=new fa(S.context.gl.LEQUAL,fa.ReadWrite,S.depthRangeFor3D);if(F!==1||I.paint.get("fill-extrusion-pattern").constantOr(1))zr(S,M,I,N,U,ia.disabled,Ma.disabled,B),zr(S,M,I,N,U,S.stencilModeFor3D(),S.colorModeForRenderPass(),B);else{const Y=S.colorModeForRenderPass();zr(S,M,I,N,U,ia.disabled,Y,B)}}}(e,i,d,f,b):c.cg(d)?function(S,M,I,N,K){if(S.renderPass!=="offscreen"&&S.renderPass!=="translucent")return;const{isRenderingToTexture:F}=K,B=S.context,U=S.style.projection.useSubdivision,Y=S.getDepthModeForSublayer(0,fa.ReadOnly),le=S.colorModeForRenderPass();if(S.renderPass==="offscreen")(function(se,ce,he,ye,pe,xe,De){const me=se.context,Ee=me.gl;for(const We of he){const Ue=ce.getTile(We),Ge=Ue.dem;if(!Ge||!Ge.data||!Ue.needsHillshadePrepare)continue;const Ye=Ge.dim,Lt=Ge.stride,At=Ge.getPixels();if(me.activeTexture.set(Ee.TEXTURE1),me.pixelStoreUnpackPremultiplyAlpha.set(!1),Ue.demTexture=Ue.demTexture||se.getTileTexture(Lt),Ue.demTexture){const Ot=Ue.demTexture;Ot.update(At,{premultiply:!1}),Ot.bind(Ee.NEAREST,Ee.CLAMP_TO_EDGE)}else Ue.demTexture=new c.T(me,At,Ee.RGBA,{premultiply:!1}),Ue.demTexture.bind(Ee.NEAREST,Ee.CLAMP_TO_EDGE);me.activeTexture.set(Ee.TEXTURE0);let mt=Ue.fbo;if(!mt){const Ot=new c.T(me,{width:Ye,height:Ye,data:null},Ee.RGBA);Ot.bind(Ee.LINEAR,Ee.CLAMP_TO_EDGE),mt=Ue.fbo=me.createFramebuffer(Ye,Ye,!0,!1),mt.colorAttachment.set(Ot.texture)}me.bindFramebuffer.set(mt.framebuffer),me.viewport.set([0,0,Ye,Ye]),se.useProgram("hillshadePrepare").draw(me,Ee.TRIANGLES,pe,xe,De,da.disabled,Bh(Ue.tileID,Ge),null,null,ye.id,se.rasterBoundsBuffer,se.quadTriangleIndexBuffer,se.rasterBoundsSegments),Ue.needsHillshadePrepare=!1}})(S,M,N,I,Y,ia.disabled,le),B.viewport.set([0,0,S.width,S.height]);else if(S.renderPass==="translucent")if(U){const[se,ce,he]=S.stencilConfigForOverlapTwoPass(N);rl(S,M,I,he,se,Y,le,!1,F),rl(S,M,I,he,ce,Y,le,!0,F)}else{const[se,ce]=S.getStencilConfigForOverlapAndUpdateStencilID(N);rl(S,M,I,ce,se,Y,le,!1,F)}}(e,i,d,f,b):c.ch(d)?function(S,M,I,N,K){if(S.renderPass!=="translucent"||!N.length)return;const{isRenderingToTexture:F}=K,B=S.style.projection.useSubdivision,U=S.getDepthModeForSublayer(0,fa.ReadOnly),Y=S.colorModeForRenderPass();if(B){const[le,se,ce]=S.stencilConfigForOverlapTwoPass(N);ol(S,M,I,ce,le,U,Y,!1,F),ol(S,M,I,ce,se,U,Y,!0,F)}else{const[le,se]=S.getStencilConfigForOverlapAndUpdateStencilID(N);ol(S,M,I,se,le,U,Y,!1,F)}}(e,i,d,f,b):c.ci(d)?function(S,M,I,N,K){if(S.renderPass!=="translucent"||I.paint.get("raster-opacity")===0||!N.length)return;const{isRenderingToTexture:F}=K,B=M.getSource(),U=S.style.projection.useSubdivision;if(B instanceof Tn)Oi(S,M,I,N,null,!1,!1,B.tileCoords,B.flippedWindingOrder,F);else if(U){const[Y,le,se]=S.stencilConfigForOverlapTwoPass(N);Oi(S,M,I,se,Y,!1,!0,Uc,!1,F),Oi(S,M,I,se,le,!0,!0,Uc,!1,F)}else{const[Y,le]=S.getStencilConfigForOverlapAndUpdateStencilID(N);Oi(S,M,I,le,Y,!1,!0,Uc,!1,F)}}(e,i,d,f,b):c.cj(d)?function(S,M,I,N,K){const F=I.paint.get("background-color"),B=I.paint.get("background-opacity");if(B===0)return;const{isRenderingToTexture:U}=K,Y=S.context,le=Y.gl,se=S.style.projection,ce=S.transform,he=ce.tileSize,ye=I.paint.get("background-pattern");if(S.isPatternMissing(ye))return;const pe=!ye&&F.a===1&&B===1&&S.opaquePassEnabledForLayer()?"opaque":"translucent";if(S.renderPass!==pe)return;const xe=ia.disabled,De=S.getDepthModeForSublayer(0,pe==="opaque"?fa.ReadWrite:fa.ReadOnly),me=S.colorModeForRenderPass(),Ee=S.useProgram(ye?"backgroundPattern":"background"),We=N||tt(ce,{tileSize:he,terrain:S.style.map.terrain});ye&&(Y.activeTexture.set(le.TEXTURE0),S.imageManager.bind(S.context));const Ue=I.getCrossfadeParameters();for(const Ge of We){const Ye=ce.getProjectionData({overscaledTileID:Ge,applyGlobeMatrix:!U,applyTerrainMatrix:!0}),Lt=ye?Yp(B,S,ye,{tileID:Ge,tileSize:he},Ue):wu(B,F),At=S.style.map.terrain&&S.style.map.terrain.getTerrainData(Ge),mt=se.getMeshFromTileID(Y,Ge.canonical,!1,!0,"raster");Ee.draw(Y,le.TRIANGLES,De,xe,me,da.backCCW,Lt,At,Ye,I.id,mt.vertexBuffer,mt.indexBuffer,mt.segments)}}(e,0,d,f,b):c.ck(d)&&function(S,M,I,N){const{isRenderingGlobe:K}=N,F=S.context,B=I.implementation,U=S.style.projection,Y=S.transform,le=Y.getProjectionDataForCustomLayer(K),se={farZ:Y.farZ,nearZ:Y.nearZ,fov:Y.fov*Math.PI/180,modelViewProjectionMatrix:Y.modelViewProjectionMatrix,projectionMatrix:Y.projectionMatrix,shaderData:{variantName:U.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${U.shaderPreludeCode.vertexSource}`,define:U.shaderDefine},defaultProjectionData:le},ce=B.renderingMode?B.renderingMode:"2d";if(S.renderPass==="offscreen"){const he=B.prerender;he&&(S.setCustomLayerDefaults(),F.setColorMode(S.colorModeForRenderPass()),he.call(B,F.gl,se),F.setDirty(),S.setBaseState())}else if(S.renderPass==="translucent"){S.setCustomLayerDefaults(),F.setColorMode(S.colorModeForRenderPass()),F.setStencilMode(ia.disabled);const he=ce==="3d"?S.getDepthModeFor3D():S.getDepthModeForSublayer(0,fa.ReadOnly);F.setDepthMode(he),B.render(F.gl,se),F.setDirty(),S.setBaseState(),F.bindFramebuffer.set(null)}}(e,0,d,b))}saveTileTexture(e){const i=this._tileTextures[e.size[0]];i?i.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const i=this._tileTextures[e];return i&&i.length>0?i.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const i=this.imageManager.getPattern(e.from.toString()),d=this.imageManager.getPattern(e.to.toString());return!i||!d}useProgram(e,i,d=!1,f=[]){this.cache=this.cache||{};const b=!!this.style.map.terrain,S=this.style.projection,M=d?yo.projectionMercator:S.shaderPreludeCode,I=d?Xs:S.shaderDefine,N=e+(i?i.cacheKey:"")+`/${d?vd:S.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(b?"/terrain":"")+(f?`/${f.join("/")}`:"");return this.cache[N]||(this.cache[N]=new vu(this.context,yo[e],i,rr[e],this._showOverdrawInspector,b,M,I,f)),this.cache[N]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new c.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:i}=this.context.gl;return this.width!==e||this.height!==i}}function So(y,e){let i,d=!1,f=null,b=null;const S=()=>{f=null,d&&(y.apply(b,i),f=setTimeout(S,e),d=!1)};return(...M)=>(d=!0,b=this,i=M,f||S(),f)}class br{constructor(e){this._getCurrentHash=()=>{const i=window.location.hash.replace("#","");if(this._hashName){let d;return i.split("&").map(f=>f.split("=")).forEach(f=>{f[0]===this._hashName&&(d=f)}),(d&&d[1]||"").split("/")}return i.split("/")},this._onHashChange=()=>{const i=this._getCurrentHash();if(!this._isValidHash(i))return!1;const d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(i[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+i[2],+i[1]],zoom:+i[0],bearing:d,pitch:+(i[4]||0)}),!0},this._updateHashUnthrottled=()=>{const i=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,i)},this._removeHash=()=>{const i=this._getCurrentHash();if(i.length===0)return;const d=i.join("/");let f=d;f.split("&").length>0&&(f=f.split("&")[0]),this._hashName&&(f=`${this._hashName}=${d}`);let b=window.location.hash.replace(f,"");b.startsWith("#&")?b=b.slice(0,1)+b.slice(2):b==="#"&&(b="");let S=window.location.href.replace(/(#.+)?$/,b);S=S.replace("&&","&"),window.history.replaceState(window.history.state,null,S)},this._updateHash=So(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){const i=this._map.getCenter(),d=Math.round(100*this._map.getZoom())/100,f=Math.ceil((d*Math.LN2+Math.log(512/360/.5))/Math.LN10),b=Math.pow(10,f),S=Math.round(i.lng*b)/b,M=Math.round(i.lat*b)/b,I=this._map.getBearing(),N=this._map.getPitch();let K="";if(K+=e?`/${S}/${M}/${d}`:`${d}/${M}/${S}`,(I||N)&&(K+="/"+Math.round(10*I)/10),N&&(K+=`/${Math.round(N)}`),this._hashName){const F=this._hashName;let B=!1;const U=window.location.hash.slice(1).split("&").map(Y=>{const le=Y.split("=")[0];return le===F?(B=!0,`${le}=${K}`):Y}).filter(Y=>Y);return B||U.push(`${F}=${K}`),`#${U.join("&")}`}return`#${K}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return!1;try{new c.S(+e[2],+e[1])}catch{return!1}const i=+e[0],d=+(e[3]||0),f=+(e[4]||0);return i>=this._map.getMinZoom()&&i<=this._map.getMaxZoom()&&d>=-180&&d<=180&&f>=this._map.getMinPitch()&&f<=this._map.getMaxPitch()}}const xr={linearity:.3,easing:c.cl(0,0,.3,1)},sr=c.e({deceleration:2500,maxSpeed:1400},xr),Hc=c.e({deceleration:20,maxSpeed:1400},xr),sl=c.e({deceleration:1e3,maxSpeed:360},xr),ll=c.e({deceleration:1e3,maxSpeed:90},xr),Xc=c.e({deceleration:1e3,maxSpeed:360},xr);class xs{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:Z.now(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,i=Z.now();for(;e.length>0&&i-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const i={zoom:0,bearing:0,pitch:0,roll:0,pan:new c.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:b}of this._inertiaBuffer)i.zoom+=b.zoomDelta||0,i.bearing+=b.bearingDelta||0,i.pitch+=b.pitchDelta||0,i.roll+=b.rollDelta||0,b.panDelta&&i.pan._add(b.panDelta),b.around&&(i.around=b.around),b.pinchAround&&(i.pinchAround=b.pinchAround);const d=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,f={};if(i.pan.mag()){const b=Xo(i.pan.mag(),d,c.e({},sr,e||{})),S=i.pan.mult(b.amount/i.pan.mag()),M=this._map.cameraHelper.handlePanInertia(S,this._map.transform);f.center=M.easingCenter,f.offset=M.easingOffset,Vi(f,b)}if(i.zoom){const b=Xo(i.zoom,d,Hc);f.zoom=this._map.transform.zoom+b.amount,Vi(f,b)}if(i.bearing){const b=Xo(i.bearing,d,sl);f.bearing=this._map.transform.bearing+c.ag(b.amount,-179,179),Vi(f,b)}if(i.pitch){const b=Xo(i.pitch,d,ll);f.pitch=this._map.transform.pitch+b.amount,Vi(f,b)}if(i.roll){const b=Xo(i.roll,d,Xc);f.roll=this._map.transform.roll+c.ag(b.amount,-179,179),Vi(f,b)}if(f.zoom||f.bearing){const b=i.pinchAround===void 0?i.around:i.pinchAround;f.around=b?this._map.unproject(b):this._map.getCenter()}return this.clear(),c.e(f,{noMoveStart:!0})}}function Vi(y,e){(!y.duration||y.duration<e.duration)&&(y.duration=e.duration,y.easing=e.easing)}function Xo(y,e,i){const{maxSpeed:d,linearity:f,deceleration:b}=i,S=c.ag(y*f/(e/1e3),-d,d),M=Math.abs(S)/(b*f);return{easing:i.easing,duration:1e3*M,amount:S*(M/2)}}class $n extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,d,f={}){d=d instanceof MouseEvent?d:new MouseEvent(e,d);const b=H.mousePos(i.getCanvas(),d),S=i.unproject(b);super(e,c.e({point:b,lngLat:S,originalEvent:d},f)),this._defaultPrevented=!1,this.target=i}}class ro extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,d){const f=e==="touchend"?d.changedTouches:d.touches,b=H.touchPos(i.getCanvasContainer(),f),S=b.map(I=>i.unproject(I)),M=b.reduce((I,N,K,F)=>I.add(N.div(F.length)),new c.P(0,0));super(e,{points:b,point:M,lngLats:S,lngLat:i.unproject(M),originalEvent:d}),this._defaultPrevented=!1}}class Nd extends c.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,i,d){super(e,{originalEvent:d}),this._defaultPrevented=!1}}class Gh{constructor(e,i){this._map=e,this._clickTolerance=i.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new Nd(e.type,this._map,e))}mousedown(e,i){return this._mousedownPos=i,this._firePreventable(new $n(e.type,this._map,e))}mouseup(e){this._map.fire(new $n(e.type,this._map,e))}click(e,i){this._mousedownPos&&this._mousedownPos.dist(i)>=this._clickTolerance||this._map.fire(new $n(e.type,this._map,e))}dblclick(e){return this._firePreventable(new $n(e.type,this._map,e))}mouseover(e){this._map.fire(new $n(e.type,this._map,e))}mouseout(e){this._map.fire(new $n(e.type,this._map,e))}touchstart(e){return this._firePreventable(new ro(e.type,this._map,e))}touchmove(e){this._map.fire(new ro(e.type,this._map,e))}touchend(e){this._map.fire(new ro(e.type,this._map,e))}touchcancel(e){this._map.fire(new ro(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class on{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new $n(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new $n("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new $n(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class _s{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(c.P.convert(e),this._map.terrain)}}class cl{constructor(e,i){this._map=e,this._tr=new _s(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=i.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,i){this.isEnabled()&&e.shiftKey&&e.button===0&&(H.disableDrag(),this._startPos=this._lastPos=i,this._active=!0)}mousemoveWindow(e,i){if(!this._active)return;const d=i;if(this._lastPos.equals(d)||!this._box&&d.dist(this._startPos)<this._clickTolerance)return;const f=this._startPos;this._lastPos=d,this._box||(this._box=H.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const b=Math.min(f.x,d.x),S=Math.max(f.x,d.x),M=Math.min(f.y,d.y),I=Math.max(f.y,d.y);H.setTransform(this._box,`translate(${b}px,${M}px)`),this._box.style.width=S-b+"px",this._box.style.height=I-M+"px"}mouseupWindow(e,i){if(!this._active||e.button!==0)return;const d=this._startPos,f=i;if(this.reset(),H.suppressClick(),d.x!==f.x||d.y!==f.y)return this._map.fire(new c.l("boxzoomend",{originalEvent:e})),{cameraAnimation:b=>b.fitScreenCoordinates(d,f,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(H.remove(this._box),this._box=null),H.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,i){return this._map.fire(new c.l(e,{originalEvent:i}))}}function ws(y,e){if(y.length!==e.length)throw new Error(`The number of touches and points are not equal - touches ${y.length}, points ${e.length}`);const i={};for(let d=0;d<y.length;d++)i[y[d].identifier]=e[d];return i}class Au{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,i,d){(this.centroid||d.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=e.timeStamp),d.length===this.numTouches&&(this.centroid=function(f){const b=new c.P(0,0);for(const S of f)b._add(S);return b.div(f.length)}(i),this.touches=ws(d,i)))}touchmove(e,i,d){if(this.aborted||!this.centroid)return;const f=ws(d,i);for(const b in this.touches){const S=f[b];(!S||S.dist(this.touches[b])>30)&&(this.aborted=!0)}}touchend(e,i,d){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),d.length===0){const f=!this.aborted&&this.centroid;if(this.reset(),f)return f}}}class Zo{constructor(e){this.singleTap=new Au(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,i,d){this.singleTap.touchstart(e,i,d)}touchmove(e,i,d){this.singleTap.touchmove(e,i,d)}touchend(e,i,d){const f=this.singleTap.touchend(e,i,d);if(f){const b=e.timeStamp-this.lastTime<500,S=!this.lastTap||this.lastTap.dist(f)<30;if(b&&S||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=f,this.count===this.numTaps)return this.reset(),f}}}class $o{constructor(e){this._tr=new _s(e),this._zoomIn=new Zo({numTouches:1,numTaps:2}),this._zoomOut=new Zo({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,i,d){this._zoomIn.touchstart(e,i,d),this._zoomOut.touchstart(e,i,d)}touchmove(e,i,d){this._zoomIn.touchmove(e,i,d),this._zoomOut.touchmove(e,i,d)}touchend(e,i,d){const f=this._zoomIn.touchend(e,i,d),b=this._zoomOut.touchend(e,i,d),S=this._tr;return f?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:S.zoom+1,around:S.unproject(f)},{originalEvent:e})}):b?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:M=>M.easeTo({duration:300,zoom:S.zoom-1,around:S.unproject(b)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class tc{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){const i=this._moveFunction(...e);if(i.bearingDelta||i.pitchDelta||i.rollDelta||i.around||i.panDelta)return this._active=!0,i}dragStart(e,i){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(i)?i[0]:i,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,i){if(!this.isEnabled())return;const d=this._lastPoint;if(!d)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const f=Array.isArray(i)?i[0]:i;return!this._moved&&f.dist(d)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=f,this._move(d,f))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&H.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const _r=0,oo=2,jd={[_r]:1,[oo]:2};class Ui{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const i=H.mouseButton(e);this._eventButton=i}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(i,d){const f=jd[d];return i.buttons===void 0||(i.buttons&f)!==f}(e,this._eventButton)}isValidEndEvent(e){return H.mouseButton(e)===this._eventButton}}class Cs{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return e.targetTouches.length===1}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class Iu{constructor(e=new Ui({checkCorrectEvent:()=>!0}),i=new Cs){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=i}_executeRelevantHandler(e,i,d){return e instanceof MouseEvent?i(e):typeof TouchEvent<"u"&&e instanceof TouchEvent?d(e):void 0}startMove(e){this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.startMove(i),i=>this.oneFingerTouchMoveStateManager.startMove(i))}endMove(e){this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.endMove(i),i=>this.oneFingerTouchMoveStateManager.endMove(i))}isValidStartEvent(e){return this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.isValidStartEvent(i),i=>this.oneFingerTouchMoveStateManager.isValidStartEvent(i))}isValidMoveEvent(e){return this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.isValidMoveEvent(i),i=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(i))}isValidEndEvent(e){return this._executeRelevantHandler(e,i=>this.mouseMoveStateManager.isValidEndEvent(i),i=>this.oneFingerTouchMoveStateManager.isValidEndEvent(i))}}const Zc=y=>{y.mousedown=y.dragStart,y.mousemoveWindow=y.dragMove,y.mouseup=y.dragEnd,y.contextmenu=e=>{e.preventDefault()}};class $c{constructor(e,i){this._clickTolerance=e.clickTolerance||1,this._map=i,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new c.P(0,0)}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,i,d){return this._calculateTransform(e,i,d)}touchmove(e,i,d){if(this._active){if(!this._shouldBePrevented(d.length))return e.preventDefault(),this._calculateTransform(e,i,d);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e)}}touchend(e,i,d){this._calculateTransform(e,i,d),this._active&&this._shouldBePrevented(d.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,i,d){d.length>0&&(this._active=!0);const f=ws(d,i),b=new c.P(0,0),S=new c.P(0,0);let M=0;for(const N in f){const K=f[N],F=this._touches[N];F&&(b._add(K),S._add(K.sub(F)),M++,f[N]=K)}if(this._touches=f,this._shouldBePrevented(M)||!S.mag())return;const I=S.div(M);return this._sum._add(I),this._sum.mag()<this._clickTolerance?void 0:{around:b.div(M),panDelta:I}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Lu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,i,d){this._firstTwoTouches||d.length<2||(this._firstTwoTouches=[d[0].identifier,d[1].identifier],this._start([i[0],i[1]]))}touchmove(e,i,d){if(!this._firstTwoTouches)return;e.preventDefault();const[f,b]=this._firstTwoTouches,S=Ss(d,i,f),M=Ss(d,i,b);if(!S||!M)return;const I=this._aroundCenter?null:S.add(M).div(2);return this._move([S,M],I,e)}touchend(e,i,d){if(!this._firstTwoTouches)return;const[f,b]=this._firstTwoTouches,S=Ss(d,i,f),M=Ss(d,i,b);S&&M||(this._active&&H.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&e.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Ss(y,e,i){for(let d=0;d<y.length;d++)if(y[d].identifier===i)return e[d]}function Ts(y,e){return Math.log(y/e)/Math.LN2}class so extends Lu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,i){const d=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Ts(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ts(this._distance,d),pinchAround:i}}}function Nt(y,e){return 180*y.angleWith(e)/Math.PI}class Eu extends Lu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,i,d){const f=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Nt(this._vector,f),pinchAround:i}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const i=25/(Math.PI*this._minDiameter)*360,d=Nt(e,this._startVector);return Math.abs(d)<i}}function Jo(y){return Math.abs(y.y)>Math.abs(y.x)}class zu extends Lu{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,i,d){super.touchstart(e,i,d),this._currentTouchCount=d.length}_start(e){this._lastPoints=e,Jo(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,i,d){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const f=e[0].sub(this._lastPoints[0]),b=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(f,b,d.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(f.y+b.y)/2*-.5}):void 0}gestureBeginsVertically(e,i,d){if(this._valid!==void 0)return this._valid;const f=e.mag()>=2,b=i.mag()>=2;if(!f&&!b)return;if(!f||!b)return this._firstMove===void 0&&(this._firstMove=d),d-this._firstMove<100&&void 0;const S=e.y>0==i.y>0;return Jo(e)&&Jo(i)&&S}}const ac={panStep:100,bearingStep:15,pitchStep:10};class wr{constructor(e){this._tr=new _s(e);const i=ac;this._panStep=i.panStep,this._bearingStep=i.bearingStep,this._pitchStep=i.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let i=0,d=0,f=0,b=0,S=0;switch(e.keyCode){case 61:case 107:case 171:case 187:i=1;break;case 189:case 109:case 173:i=-1;break;case 37:e.shiftKey?d=-1:(e.preventDefault(),b=-1);break;case 39:e.shiftKey?d=1:(e.preventDefault(),b=1);break;case 38:e.shiftKey?f=1:(e.preventDefault(),S=-1);break;case 40:e.shiftKey?f=-1:(e.preventDefault(),S=1);break;default:return}return this._rotationDisabled&&(d=0,f=0),{cameraAnimation:M=>{const I=this._tr;M.easeTo({duration:300,easeId:"keyboardHandler",easing:Jc,zoom:i?Math.round(I.zoom)+i*(e.shiftKey?2:1):I.zoom,bearing:I.bearing+d*this._bearingStep,pitch:I.pitch+f*this._pitchStep,offset:[-b*this._panStep,-S*this._panStep],center:I.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Jc(y){return y*(2-y)}const Ca=4.000244140625,To=1/450;class Wo{constructor(e,i){this._onTimeout=d=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)},this._map=e,this._tr=new _s(e),this._triggerRenderFrame=i,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=To}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&e.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e){return!!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let i=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const d=Z.now(),f=d-(this._lastWheelEventTime||0);this._lastWheelEventTime=d,i!==0&&i%Ca==0?this._type="wheel":i!==0&&Math.abs(i)<4?this._type="trackpad":f>400?(this._type=null,this._lastValue=i,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(f*i)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,i+=this._lastValue)),e.shiftKey&&i&&(i/=4),this._type&&(this._lastWheelEvent=e,this._delta-=i,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const i=H.mousePos(this._map.getCanvas(),e),d=this._tr;this._aroundPoint=this._aroundCenter?d.transform.locationToScreenPoint(c.S.convert(d.center)):i,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const e=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const M=e.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=M),typeof this._targetZoom=="number"&&(this._targetZoom+=M)}if(this._delta!==0){const M=this._type==="wheel"&&Math.abs(this._delta)>Ca?this._wheelZoomRate:this._defaultZoomRate;let I=2/(1+Math.exp(-Math.abs(this._delta*M)));this._delta<0&&I!==0&&(I=1/I);const N=typeof this._targetZoom!="number"?e.scale:c.ae(this._targetZoom);this._targetZoom=e.getConstrained(e.getCameraLngLat(),c.aj(N*I)).zoom,this._type==="wheel"&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const i=typeof this._targetZoom!="number"?e.zoom:this._targetZoom,d=this._startZoom,f=this._easing;let b,S=!1;if(this._type==="wheel"&&d&&f){const M=Z.now()-this._lastWheelEventTime,I=Math.min((M+5)/200,1),N=f(I);b=c.C.number(d,i,N),I<1?this._frameId||(this._frameId=!0):S=!0}else b=i,S=!0;return this._active=!0,S&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=b,{noInertia:!0,needsRenderFrame:!S,zoomDelta:b-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let i=c.cn;if(this._prevEase){const d=this._prevEase,f=(Z.now()-d.start)/d.duration,b=d.easing(f+.01)-d.easing(f),S=.27/Math.sqrt(b*b+1e-4)*.01,M=Math.sqrt(.0729-S*S);i=c.cl(S,M,.25,1)}return this._prevEase={start:Z.now(),duration:e,easing:i},i}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ps{constructor(e,i){this._clickZoom=e,this._tapZoom=i}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Kd{constructor(e){this._tr=new _s(e),this.reset()}reset(){this._active=!1}dblclick(e,i){return e.preventDefault(),{cameraAnimation:d=>{d.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(i)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Od{constructor(){this._tap=new Zo({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,i,d){if(!this._swipePoint)if(this._tapTime){const f=i[0],b=e.timeStamp-this._tapTime<500,S=this._tapPoint.dist(f)<30;b&&S?d.length>0&&(this._swipePoint=f,this._swipeTouch=d[0].identifier):this.reset()}else this._tap.touchstart(e,i,d)}touchmove(e,i,d){if(this._tapTime){if(this._swipePoint){if(d[0].identifier!==this._swipeTouch)return;const f=i[0],b=f.y-this._swipePoint.y;return this._swipePoint=f,e.preventDefault(),this._active=!0,{zoomDelta:b/128}}}else this._tap.touchmove(e,i,d)}touchend(e,i,d){if(this._tapTime)this._swipePoint&&d.length===0&&this.reset();else{const f=this._tap.touchend(e,i,d);f&&(this._tapTime=e.timeStamp,this._tapPoint=f)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ul{constructor(e,i,d){this._el=e,this._mousePan=i,this._touchPan=d}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ds{constructor(e,i,d,f){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=i,this._mousePitch=d,this._mouseRoll=f}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Ru{constructor(e,i,d,f){this._el=e,this._touchZoom=i,this._touchRotate=d,this._tapDragZoom=f,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class qd{constructor(e,i){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=e,this._options=i,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=H.create("div","maplibregl-cooperative-gesture-screen",e);let i=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(i=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const d=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),f=document.createElement("div");f.className="maplibregl-desktop-message",f.textContent=i,this._container.appendChild(f);const b=document.createElement("div");b.className="maplibregl-mobile-message",b.textContent=d,this._container.appendChild(b),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(H.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,i){this._enabled&&(this._map.fire(new c.l("cooperativegestureprevented",{gestureType:e,originalEvent:i})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Po=y=>y.zoom||y.drag||y.roll||y.pitch||y.rotate;class ku extends c.l{}function Nu(y){return y.panDelta&&y.panDelta.mag()||y.zoomDelta||y.bearingDelta||y.pitchDelta||y.rollDelta}class Do{constructor(e,i){this.handleWindowEvent=f=>{this.handleEvent(f,`${f.type}Window`)},this.handleEvent=(f,b)=>{if(f.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const S=f.type==="renderFrame"?void 0:f,M={needsRenderFrame:!1},I={},N={};for(const{handlerName:B,handler:U,allowed:Y}of this._handlers){if(!U.isEnabled())continue;let le;if(this._blockedByActive(N,Y,B))U.reset();else if(U[b||f.type]){if(c.co(f,b||f.type)){const se=H.mousePos(this._map.getCanvas(),f);le=U[b||f.type](f,se)}else if(c.cp(f,b||f.type)){const se=this._getMapTouches(f.touches),ce=H.touchPos(this._map.getCanvas(),se);le=U[b||f.type](f,ce,se)}else c.cq(b||f.type)||(le=U[b||f.type](f));this.mergeHandlerResult(M,I,le,B,S),le&&le.needsRenderFrame&&this._triggerRenderFrame()}(le||U.isActive())&&(N[B]=U)}const K={};for(const B in this._previousActiveHandlers)N[B]||(K[B]=S);this._previousActiveHandlers=N,(Object.keys(K).length||Nu(M))&&(this._changes.push([M,I,K]),this._triggerRenderFrame()),(Object.keys(N).length||Nu(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:F}=M;F&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],F(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xs(e),this._bearingSnap=i.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(i);const d=this._el;this._listeners=[[d,"touchstart",{passive:!0}],[d,"touchmove",{passive:!1}],[d,"touchend",void 0],[d,"touchcancel",void 0],[d,"mousedown",void 0],[d,"mousemove",void 0],[d,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[d,"mouseover",void 0],[d,"mouseout",void 0],[d,"dblclick",void 0],[d,"click",void 0],[d,"keydown",{capture:!1}],[d,"keyup",void 0],[d,"wheel",{passive:!1}],[d,"contextmenu",void 0],[window,"blur",void 0]];for(const[f,b,S]of this._listeners)H.addEventListener(f,b,f===document?this.handleWindowEvent:this.handleEvent,S)}destroy(){for(const[e,i,d]of this._listeners)H.removeEventListener(e,i,e===document?this.handleWindowEvent:this.handleEvent,d)}_addDefaultHandlers(e){const i=this._map,d=i.getCanvasContainer();this._add("mapEvent",new Gh(i,e));const f=i.boxZoom=new cl(i,e);this._add("boxZoom",f),e.interactive&&e.boxZoom&&f.enable();const b=i.cooperativeGestures=new qd(i,e.cooperativeGestures);this._add("cooperativeGestures",b),e.cooperativeGestures&&b.enable();const S=new $o(i),M=new Kd(i);i.doubleClickZoom=new Ps(M,S),this._add("tapZoom",S),this._add("clickZoom",M),e.interactive&&e.doubleClickZoom&&i.doubleClickZoom.enable();const I=new Od;this._add("tapDragZoom",I);const N=i.touchPitch=new zu(i);this._add("touchPitch",N),e.interactive&&e.touchPitch&&i.touchPitch.enable(e.touchPitch);const K=()=>i.project(i.getCenter()),F=function({enable:pe,clickTolerance:xe,aroundCenter:De=!0,minPixelCenterThreshold:me=100,rotateDegreesPerPixelMoved:Ee=.8},We){const Ue=new Ui({checkCorrectEvent:Ge=>H.mouseButton(Ge)===0&&Ge.ctrlKey||H.mouseButton(Ge)===2&&!Ge.ctrlKey});return new tc({clickTolerance:xe,move:(Ge,Ye)=>{const Lt=We();if(De&&Math.abs(Lt.y-Ge.y)>me)return{bearingDelta:c.cm(new c.P(Ge.x,Ye.y),Ye,Lt)};let At=(Ye.x-Ge.x)*Ee;return De&&Ye.y<Lt.y&&(At=-At),{bearingDelta:At}},moveStateManager:Ue,enable:pe,assignEvents:Zc})}(e,K),B=function({enable:pe,clickTolerance:xe,pitchDegreesPerPixelMoved:De=-.5}){const me=new Ui({checkCorrectEvent:Ee=>H.mouseButton(Ee)===0&&Ee.ctrlKey||H.mouseButton(Ee)===2});return new tc({clickTolerance:xe,move:(Ee,We)=>({pitchDelta:(We.y-Ee.y)*De}),moveStateManager:me,enable:pe,assignEvents:Zc})}(e),U=function({enable:pe,clickTolerance:xe,rollDegreesPerPixelMoved:De=.3},me){const Ee=new Ui({checkCorrectEvent:We=>H.mouseButton(We)===2&&We.ctrlKey});return new tc({clickTolerance:xe,move:(We,Ue)=>{const Ge=me();let Ye=(Ue.x-We.x)*De;return Ue.y<Ge.y&&(Ye=-Ye),{rollDelta:Ye}},moveStateManager:Ee,enable:pe,assignEvents:Zc})}(e,K);i.dragRotate=new Ds(e,F,B,U),this._add("mouseRotate",F,["mousePitch"]),this._add("mousePitch",B,["mouseRotate","mouseRoll"]),this._add("mouseRoll",U,["mousePitch"]),e.interactive&&e.dragRotate&&i.dragRotate.enable();const Y=function({enable:pe,clickTolerance:xe}){const De=new Ui({checkCorrectEvent:me=>H.mouseButton(me)===0&&!me.ctrlKey});return new tc({clickTolerance:xe,move:(me,Ee)=>({around:Ee,panDelta:Ee.sub(me)}),activateOnStart:!0,moveStateManager:De,enable:pe,assignEvents:Zc})}(e),le=new $c(e,i);i.dragPan=new ul(d,Y,le),this._add("mousePan",Y),this._add("touchPan",le,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&i.dragPan.enable(e.dragPan);const se=new Eu,ce=new so;i.touchZoomRotate=new Ru(d,ce,se,I),this._add("touchRotate",se,["touchPan","touchZoom"]),this._add("touchZoom",ce,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&i.touchZoomRotate.enable(e.touchZoomRotate);const he=i.scrollZoom=new Wo(i,()=>this._triggerRenderFrame());this._add("scrollZoom",he,["mousePan"]),e.interactive&&e.scrollZoom&&i.scrollZoom.enable(e.scrollZoom);const ye=i.keyboard=new wr(i);this._add("keyboard",ye),e.interactive&&e.keyboard&&i.keyboard.enable(),this._add("blockableMapEvent",new on(i))}_add(e,i,d){this._handlers.push({handlerName:e,handler:i,allowed:d}),this._handlersById[e]=i}stop(e){if(!this._updatingCamera){for(const{handler:i}of this._handlers)i.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Po(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,i,d){for(const f in e)if(f!==d&&(!i||i.indexOf(f)<0))return!0;return!1}_getMapTouches(e){const i=[];for(const d of e)this._el.contains(d.target)&&i.push(d);return i}mergeHandlerResult(e,i,d,f,b){if(!d)return;c.e(e,d);const S={handlerName:f,originalEvent:d.originalEvent||b};d.zoomDelta!==void 0&&(i.zoom=S),d.panDelta!==void 0&&(i.drag=S),d.rollDelta!==void 0&&(i.roll=S),d.pitchDelta!==void 0&&(i.pitch=S),d.bearingDelta!==void 0&&(i.rotate=S)}_applyChanges(){const e={},i={},d={};for(const[f,b,S]of this._changes)f.panDelta&&(e.panDelta=(e.panDelta||new c.P(0,0))._add(f.panDelta)),f.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+f.zoomDelta),f.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+f.bearingDelta),f.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+f.pitchDelta),f.rollDelta&&(e.rollDelta=(e.rollDelta||0)+f.rollDelta),f.around!==void 0&&(e.around=f.around),f.pinchAround!==void 0&&(e.pinchAround=f.pinchAround),f.noInertia&&(e.noInertia=f.noInertia),c.e(i,b),c.e(d,S);this._updateMapTransform(e,i,d),this._changes=[]}_updateMapTransform(e,i,d){const f=this._map,b=f._getTransformForUpdate(),S=f.terrain;if(!(Nu(e)||S&&this._terrainMovement))return this._fireEvents(i,d,!0);f._stop(!0);let{panDelta:M,zoomDelta:I,bearingDelta:N,pitchDelta:K,rollDelta:F,around:B,pinchAround:U}=e;U!==void 0&&(B=U),B=B||f.transform.centerPoint,S&&!b.isPointOnMapSurface(B)&&(B=b.centerPoint);const Y={panDelta:M,zoomDelta:I,rollDelta:F,pitchDelta:K,bearingDelta:N,around:B};this._map.cameraHelper.useGlobeControls&&!b.isPointOnMapSurface(B)&&(B=b.centerPoint);const le=B.distSqr(b.centerPoint)<.01?b.center:b.screenPointToLocation(M?B.sub(M):B);S?(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Y,b),this._terrainMovement||!i.drag&&!i.zoom?i.drag&&this._terrainMovement?b.setCenter(b.screenPointToLocation(b.centerPoint.sub(M))):this._map.cameraHelper.handleMapControlsPan(Y,b,le):(this._terrainMovement=!0,this._map._elevationFreeze=!0,this._map.cameraHelper.handleMapControlsPan(Y,b,le))):(this._map.cameraHelper.handleMapControlsRollPitchBearingZoom(Y,b),this._map.cameraHelper.handleMapControlsPan(Y,b,le)),f._applyUpdatedTransform(b),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(i,d,!0)}_fireEvents(e,i,d){const f=Po(this._eventsInProgress),b=Po(e),S={};for(const F in e){const{originalEvent:B}=e[F];this._eventsInProgress[F]||(S[`${F}start`]=B),this._eventsInProgress[F]=e[F]}!f&&b&&this._fireEvent("movestart",b.originalEvent);for(const F in S)this._fireEvent(F,S[F]);b&&this._fireEvent("move",b.originalEvent);for(const F in e){const{originalEvent:B}=e[F];this._fireEvent(F,B)}const M={};let I;for(const F in this._eventsInProgress){const{handlerName:B,originalEvent:U}=this._eventsInProgress[F];this._handlersById[B].isActive()||(delete this._eventsInProgress[F],I=i[B]||U,M[`${F}end`]=I)}for(const F in M)this._fireEvent(F,M[F]);const N=Po(this._eventsInProgress),K=(f||b)&&!N;if(K&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const F=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&F.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(F)}if(d&&K){this._updatingCamera=!0;const F=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),B=U=>U!==0&&-this._bearingSnap<U&&U<this._bearingSnap;!F||!F.essential&&Z.prefersReducedMotion?(this._map.fire(new c.l("moveend",{originalEvent:I})),B(this._map.getBearing())&&this._map.resetNorth()):(B(F.bearing||this._map.getBearing())&&(F.bearing=0),F.freezeElevation=!0,this._map.easeTo(F,{originalEvent:I})),this._updatingCamera=!1}}_fireEvent(e,i){this._map.fire(new c.l(e,i?{originalEvent:i}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new ku("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class ci extends c.E{constructor(e,i,d){super(),this._renderFrameCallback=()=>{const f=Math.min((Z.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(f)),f<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=d.bearingSnap,this.cameraHelper=i,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e,i){e.apply(this.transform),this.transform=e,this.cameraHelper=i}getCenter(){return new c.S(this.transform.center.lng,this.transform.center.lat)}setCenter(e,i){return this.jumpTo({center:e},i)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,i){return this.jumpTo({elevation:e},i),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e}panBy(e,i,d){return e=c.P.convert(e).mult(-1),this.panTo(this.transform.center,c.e({offset:e},i),d)}panTo(e,i,d){return this.easeTo(c.e({center:e},i),d)}getZoom(){return this.transform.zoom}setZoom(e,i){return this.jumpTo({zoom:e},i),this}zoomTo(e,i,d){return this.easeTo(c.e({zoom:e},i),d)}zoomIn(e,i){return this.zoomTo(this.getZoom()+1,e,i),this}zoomOut(e,i){return this.zoomTo(this.getZoom()-1,e,i),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,i){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new c.l("movestart",i)).fire(new c.l("move",i)).fire(new c.l("moveend",i))),this}getBearing(){return this.transform.bearing}setBearing(e,i){return this.jumpTo({bearing:e},i),this}getPadding(){return this.transform.padding}setPadding(e,i){return this.jumpTo({padding:e},i),this}rotateTo(e,i,d){return this.easeTo(c.e({bearing:e},i),d)}resetNorth(e,i){return this.rotateTo(0,c.e({duration:1e3},e),i),this}resetNorthPitch(e,i){return this.easeTo(c.e({bearing:0,pitch:0,roll:0,duration:1e3},e),i),this}snapToNorth(e,i){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,i):this}getPitch(){return this.transform.pitch}setPitch(e,i){return this.jumpTo({pitch:e},i),this}getRoll(){return this.transform.roll}setRoll(e,i){return this.jumpTo({roll:e},i),this}cameraForBounds(e,i){e=si.convert(e).adjustAntiMeridian();const d=i&&i.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),d,i)}_cameraForBoxAndBearing(e,i,d,f){const b={top:0,bottom:0,right:0,left:0};if(typeof(f=c.e({padding:b,offset:[0,0],maxZoom:this.transform.maxZoom},f)).padding=="number"){const N=f.padding;f.padding={top:N,bottom:N,right:N,left:N}}const S=c.e(b,f.padding);f.padding=S;const M=this.transform,I=new si(e,i);return this.cameraHelper.cameraForBoxAndBearing(f,S,I,d,M)}fitBounds(e,i,d){return this._fitInternal(this.cameraForBounds(e,i),i,d)}fitScreenCoordinates(e,i,d,f,b){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(c.P.convert(e)),this.transform.screenPointToLocation(c.P.convert(i)),d,f),f,b)}_fitInternal(e,i,d){return e?(delete(i=c.e(e,i)).padding,i.linear?this.easeTo(i,d):this.flyTo(i,d)):this}jumpTo(e,i){this.stop();const d=this._getTransformForUpdate();let f=!1,b=!1,S=!1;const M=d.zoom;this.cameraHelper.handleJumpToCenterZoom(d,e);const I=d.zoom!==M;return"elevation"in e&&d.elevation!==+e.elevation&&d.setElevation(+e.elevation),"bearing"in e&&d.bearing!==+e.bearing&&(f=!0,d.setBearing(+e.bearing)),"pitch"in e&&d.pitch!==+e.pitch&&(b=!0,d.setPitch(+e.pitch)),"roll"in e&&d.roll!==+e.roll&&(S=!0,d.setRoll(+e.roll)),e.padding==null||d.isPaddingEqual(e.padding)||d.setPadding(e.padding),this._applyUpdatedTransform(d),this.fire(new c.l("movestart",i)).fire(new c.l("move",i)),I&&this.fire(new c.l("zoomstart",i)).fire(new c.l("zoom",i)).fire(new c.l("zoomend",i)),f&&this.fire(new c.l("rotatestart",i)).fire(new c.l("rotate",i)).fire(new c.l("rotateend",i)),b&&this.fire(new c.l("pitchstart",i)).fire(new c.l("pitch",i)).fire(new c.l("pitchend",i)),S&&this.fire(new c.l("rollstart",i)).fire(new c.l("roll",i)).fire(new c.l("rollend",i)),this.fire(new c.l("moveend",i))}calculateCameraOptionsFromTo(e,i,d,f=0){const b=c.a0.fromLngLat(e,i),S=c.a0.fromLngLat(d,f),M=S.x-b.x,I=S.y-b.y,N=S.z-b.z,K=Math.hypot(M,I,N);if(K===0)throw new Error("Can't calculate camera options with same From and To");const F=Math.hypot(M,I),B=c.aj(this.transform.cameraToCenterDistance/K/this.transform.tileSize),U=180*Math.atan2(M,-I)/Math.PI;let Y=180*Math.acos(F/K)/Math.PI;return Y=N<0?90-Y:90+Y,{center:S.toLngLat(),elevation:f,zoom:B,pitch:Y,bearing:U}}calculateCameraOptionsFromCameraLngLatAltRotation(e,i,d,f,b){const S=this.transform.calculateCenterFromCameraLngLatAlt(e,i,d,f);return{center:S.center,elevation:S.elevation,zoom:S.zoom,bearing:d,pitch:f,roll:b}}easeTo(e,i){this._stop(!1,e.easeId),((e=c.e({offset:[0,0],duration:500,easing:c.cn},e)).animate===!1||!e.essential&&Z.prefersReducedMotion)&&(e.duration=0);const d=this._getTransformForUpdate(),f=this.getBearing(),b=d.pitch,S=d.roll,M="bearing"in e?this._normalizeBearing(e.bearing,f):f,I="pitch"in e?+e.pitch:b,N="roll"in e?this._normalizeBearing(e.roll,S):S,K="padding"in e?e.padding:d.padding,F=c.P.convert(e.offset);let B,U;e.around&&(B=c.S.convert(e.around),U=d.locationToScreenPoint(B));const Y={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},le=this.cameraHelper.handleEaseTo(d,{bearing:M,pitch:I,roll:N,padding:K,around:B,aroundPoint:U,offsetAsPoint:F,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||f!==M,this._pitching=this._pitching||I!==b,this._rolling=this._rolling||N!==S,this._padding=!d.isPaddingEqual(K),this._zooming=this._zooming||le.isZooming,this._easeId=e.easeId,this._prepareEase(i,e.noMoveStart,Y),this.terrain&&this._prepareElevation(le.elevationCenter),this._ease(se=>{le.easeFunc(se),this.terrain&&!e.freezeElevation&&this._updateElevation(se),this._applyUpdatedTransform(d),this._fireMoveEvents(i)},se=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(i,se)},e),this}_prepareEase(e,i,d={}){this._moving=!0,i||d.moving||this.fire(new c.l("movestart",e)),this._zooming&&!d.zooming&&this.fire(new c.l("zoomstart",e)),this._rotating&&!d.rotating&&this.fire(new c.l("rotatestart",e)),this._pitching&&!d.pitching&&this.fire(new c.l("pitchstart",e)),this._rolling&&!d.rolling&&this.fire(new c.l("rollstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const i=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&i!==this._elevationTarget){const d=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(d-(i-(d*e+this._elevationStart))/(1-e)),this._elevationTarget=i}this.transform.setElevation(c.C.number(this._elevationStart,this._elevationTarget,e))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return{};const i=e.getCameraLngLat(),d=e.getCameraAltitude(),f=this.terrain?this.terrain.getElevationForLngLatZoom(i,e.zoom):0;if(d<f){const b=this.calculateCameraOptionsFromTo(i,f,e.center,e.elevation);return{pitch:b.pitch,zoom:b.zoom}}return{}}_applyUpdatedTransform(e){const i=[];if(i.push(f=>this._elevateCameraIfInsideTerrain(f)),this.transformCameraUpdate&&i.push(f=>this.transformCameraUpdate(f)),!i.length)return;const d=e.clone();for(const f of i){const b=d.clone(),{center:S,zoom:M,roll:I,pitch:N,bearing:K,elevation:F}=f(b);S&&b.setCenter(S),F!==void 0&&b.setElevation(F),M!==void 0&&b.setZoom(M),I!==void 0&&b.setRoll(I),N!==void 0&&b.setPitch(N),K!==void 0&&b.setBearing(K),d.apply(b)}this.transform.apply(d)}_fireMoveEvents(e){this.fire(new c.l("move",e)),this._zooming&&this.fire(new c.l("zoom",e)),this._rotating&&this.fire(new c.l("rotate",e)),this._pitching&&this.fire(new c.l("pitch",e)),this._rolling&&this.fire(new c.l("roll",e))}_afterEase(e,i){if(this._easeId&&i&&this._easeId===i)return;delete this._easeId;const d=this._zooming,f=this._rotating,b=this._pitching,S=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,d&&this.fire(new c.l("zoomend",e)),f&&this.fire(new c.l("rotateend",e)),b&&this.fire(new c.l("pitchend",e)),S&&this.fire(new c.l("rollend",e)),this.fire(new c.l("moveend",e))}flyTo(e,i){if(!e.essential&&Z.prefersReducedMotion){const Ye=c.Q(e,["center","zoom","bearing","pitch","roll","elevation"]);return this.jumpTo(Ye,i)}this.stop(),e=c.e({offset:[0,0],speed:1.2,curve:1.42,easing:c.cn},e);const d=this._getTransformForUpdate(),f=d.bearing,b=d.pitch,S=d.roll,M=d.padding,I="bearing"in e?this._normalizeBearing(e.bearing,f):f,N="pitch"in e?+e.pitch:b,K="roll"in e?this._normalizeBearing(e.roll,S):S,F="padding"in e?e.padding:d.padding,B=c.P.convert(e.offset);let U=d.centerPoint.add(B);const Y=d.screenPointToLocation(U),le=this.cameraHelper.handleFlyTo(d,{bearing:I,pitch:N,roll:K,padding:F,locationAtOffset:Y,offsetAsPoint:B,center:e.center,minZoom:e.minZoom,zoom:e.zoom});let se=e.curve;const ce=Math.max(d.width,d.height),he=ce/le.scaleOfZoom,ye=le.pixelPathLength;typeof le.scaleOfMinZoom=="number"&&(se=Math.sqrt(ce/le.scaleOfMinZoom/ye*2));const pe=se*se;function xe(Ye){const Lt=(he*he-ce*ce+(Ye?-1:1)*pe*pe*ye*ye)/(2*(Ye?he:ce)*pe*ye);return Math.log(Math.sqrt(Lt*Lt+1)-Lt)}function De(Ye){return(Math.exp(Ye)-Math.exp(-Ye))/2}function me(Ye){return(Math.exp(Ye)+Math.exp(-Ye))/2}const Ee=xe(!1);let We=function(Ye){return me(Ee)/me(Ee+se*Ye)},Ue=function(Ye){return ce*((me(Ee)*(De(Lt=Ee+se*Ye)/me(Lt))-De(Ee))/pe)/ye;var Lt},Ge=(xe(!0)-Ee)/se;if(Math.abs(ye)<2e-6||!isFinite(Ge)){if(Math.abs(ce-he)<1e-6)return this.easeTo(e,i);const Ye=he<ce?-1:1;Ge=Math.abs(Math.log(he/ce))/se,Ue=()=>0,We=Lt=>Math.exp(Ye*se*Lt)}return e.duration="duration"in e?+e.duration:1e3*Ge/("screenSpeed"in e?+e.screenSpeed/se:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=f!==I,this._pitching=N!==b,this._rolling=K!==S,this._padding=!d.isPaddingEqual(F),this._prepareEase(i,!1),this.terrain&&this._prepareElevation(le.targetCenter),this._ease(Ye=>{const Lt=Ye*Ge,At=1/We(Lt),mt=Ue(Lt);this._rotating&&d.setBearing(c.C.number(f,I,Ye)),this._pitching&&d.setPitch(c.C.number(b,N,Ye)),this._rolling&&d.setRoll(c.C.number(S,K,Ye)),this._padding&&(d.interpolatePadding(M,F,Ye),U=d.centerPoint.add(B)),le.easeFunc(Ye,At,mt,U),this.terrain&&!e.freezeElevation&&this._updateElevation(Ye),this._applyUpdatedTransform(d),this._fireMoveEvents(i)},()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(i)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,i){var d;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const f=this._onEaseEnd;delete this._onEaseEnd,f.call(this,i)}return e||(d=this.handlers)===null||d===void 0||d.stop(!1),this}_ease(e,i,d){d.animate===!1||d.duration===0?(e(1),i()):(this._easeStart=Z.now(),this._easeOptions=d,this._onEaseFrame=e,this._onEaseEnd=i,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,i){e=c.aN(e,-180,180);const d=Math.abs(e-i);return Math.abs(e-360-i)<d&&(e-=360),Math.abs(e+360-i)<d&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLatZoom(c.S.convert(e),this.transform.tileZoom):null}}const Nr={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Sa{constructor(e=Nr){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=i=>{!i||i.sourceDataType!=="metadata"&&i.sourceDataType!=="visibility"&&i.dataType!=="style"&&i.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=H.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=H.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=H.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){H.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,i){const d=this._map._getUIString(`AttributionControl.${i}`);e.title=d,e.setAttribute("aria-label",d)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(f=>typeof f!="string"?"":f)):typeof this.options.customAttribution=="string"&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const f=this._map.style.stylesheet;this.styleOwner=f.owner,this.styleId=f.id}const i=this._map.style.sourceCaches;for(const f in i){const b=i[f];if(b.used||b.usedForTerrain){const S=b.getSource();S.attribution&&e.indexOf(S.attribution)<0&&e.push(S.attribution)}}e=e.filter(f=>String(f).trim()),e.sort((f,b)=>f.length-b.length),e=e.filter((f,b)=>{for(let S=b+1;S<e.length;S++)if(e[S].indexOf(f)>=0)return!1;return!0});const d=e.join(" | ");d!==this._attribHTML&&(this._attribHTML=d,e.length?(this._innerContainer.innerHTML=H.sanitize(d),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Ga{constructor(e={}){this._updateCompact=()=>{const i=this._container.children;if(i.length){const d=i[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&d.classList.add("maplibregl-compact"):d.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=H.create("div","maplibregl-ctrl");const i=H.create("a","maplibregl-ctrl-logo");return i.target="_blank",i.rel="noopener nofollow",i.href="https://maplibre.org/",i.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),i.setAttribute("rel","noopener nofollow"),this._container.appendChild(i),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){H.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Gi{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const i=++this._id;return this._queue.push({callback:e,id:i,cancelled:!1}),i}remove(e){const i=this._currentlyRunning,d=i?this._queue.concat(i):this._queue;for(const f of d)if(f.id===e)return void(f.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const i=this._currentlyRunning=this._queue;this._queue=[];for(const d of i)if(!d.cancelled&&(d.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Wc=c.aI([{name:"a_pos3d",type:"Int16",components:3}]);class ic extends c.E{constructor(e){super(),this._lastTilesetChange=Z.now(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(e,i){this.sourceCache.update(e,i),this._renderableTilesKeys=[];const d={};for(const f of tt(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:i,calculateTileZoom:this.sourceCache._source.calculateTileZoom}))d[f.key]=!0,this._renderableTilesKeys.push(f.key),this._tiles[f.key]||(f.terrainRttPosMatrix32f=new Float64Array(16),c.bX(f.terrainRttPosMatrix32f,0,c.$,c.$,0,0,1),this._tiles[f.key]=new tn(f,this.tileSize),this._lastTilesetChange=Z.now());for(const f in this._tiles)d[f]||delete this._tiles[f]}freeRtt(e){for(const i in this._tiles){const d=this._tiles[i];(!e||d.tileID.equals(e)||d.tileID.isChildOf(e)||e.isChildOf(d.tileID))&&(d.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e=>this.getTileByID(e))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,i){return i?this._getTerrainCoordsForTileRanges(e,i):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){const i={};for(const d of this._renderableTilesKeys){const f=this._tiles[d].tileID,b=e.clone(),S=c.b9();if(f.canonical.equals(e.canonical))c.bX(S,0,c.$,c.$,0,0,1);else if(f.canonical.isChildOf(e.canonical)){const M=f.canonical.z-e.canonical.z,I=f.canonical.x-(f.canonical.x>>M<<M),N=f.canonical.y-(f.canonical.y>>M<<M),K=c.$>>M;c.bX(S,0,K,K,0,0,1),c.M(S,S,[-I*K,-N*K,0])}else{if(!e.canonical.isChildOf(f.canonical))continue;{const M=e.canonical.z-f.canonical.z,I=e.canonical.x-(e.canonical.x>>M<<M),N=e.canonical.y-(e.canonical.y>>M<<M),K=c.$>>M;c.bX(S,0,c.$,c.$,0,0,1),c.M(S,S,[I*K,N*K,0]),c.N(S,S,[1/2**M,1/2**M,0])}}b.terrainRttPosMatrix32f=new Float32Array(S),i[d]=b}return i}_getTerrainCoordsForTileRanges(e,i){const d={};for(const f of this._renderableTilesKeys){const b=this._tiles[f].tileID;if(!this._isWithinTileRanges(b,i))continue;const S=e.clone(),M=c.b9();if(b.canonical.z===e.canonical.z){const I=e.canonical.x-b.canonical.x,N=e.canonical.y-b.canonical.y;c.bX(M,0,c.$,c.$,0,0,1),c.M(M,M,[I*c.$,N*c.$,0])}else if(b.canonical.z>e.canonical.z){const I=b.canonical.z-e.canonical.z,N=b.canonical.x-(b.canonical.x>>I<<I),K=b.canonical.y-(b.canonical.y>>I<<I),F=e.canonical.x-(b.canonical.x>>I),B=e.canonical.y-(b.canonical.y>>I),U=c.$>>I;c.bX(M,0,U,U,0,0,1),c.M(M,M,[-N*U+F*c.$,-K*U+B*c.$,0])}else{const I=e.canonical.z-b.canonical.z,N=e.canonical.x-(e.canonical.x>>I<<I),K=e.canonical.y-(e.canonical.y>>I<<I),F=(e.canonical.x>>I)-b.canonical.x,B=(e.canonical.y>>I)-b.canonical.y,U=c.$<<I;c.bX(M,0,U,U,0,0,1),c.M(M,M,[N*c.$+F*U,K*c.$+B*U,0])}S.terrainRttPosMatrix32f=new Float32Array(M),d[f]=S}return d}getSourceTile(e,i){const d=this.sourceCache._source;let f=e.overscaledZ-this.deltaZoom;if(f>d.maxzoom&&(f=d.maxzoom),f<d.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(f).key);let b=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!b||!b.dem)&&i)for(;f>=d.minzoom&&(!b||!b.dem);)b=this.sourceCache.getTileByID(e.scaledTo(f--).key);return b}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,i){return i[e.canonical.z]&&e.canonical.x>=i[e.canonical.z].minTileX&&e.canonical.x<=i[e.canonical.z].maxTileX&&e.canonical.y>=i[e.canonical.z].minTileY&&e.canonical.y<=i[e.canonical.z].maxTileY}}class Kn{constructor(e,i,d){this._meshCache={},this.painter=e,this.sourceCache=new ic(i),this.options=d,this.exaggeration=typeof d.exaggeration=="number"?d.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,i,d,f=c.$){var b;if(!(i>=0&&i<f&&d>=0&&d<f))return 0;const S=this.getTerrainData(e),M=(b=S.tile)===null||b===void 0?void 0:b.dem;if(!M)return 0;const I=c.cr([],[i/f*c.$,d/f*c.$],S.u_terrain_matrix),N=[I[0]*M.dim,I[1]*M.dim],K=Math.floor(N[0]),F=Math.floor(N[1]),B=N[0]-K,U=N[1]-F;return M.get(K,F)*(1-B)*(1-U)+M.get(K+1,F)*B*(1-U)+M.get(K,F+1)*(1-B)*U+M.get(K+1,F+1)*B*U}getElevationForLngLatZoom(e,i){if(!c.cs(i,e.wrap()))return 0;const{tileID:d,mercatorX:f,mercatorY:b}=this._getOverscaledTileIDFromLngLatZoom(e,i);return this.getElevation(d,f%c.$,b%c.$,c.$)}getElevation(e,i,d,f=c.$){return this.getDEMElevation(e,i,d,f)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const f=this.painter.context,b=new c.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new c.T(f,b,f.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new c.T(f,new c.R({width:1,height:1}),f.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=c.af([])}const i=this.sourceCache.getSourceTile(e,!0);if(i&&i.dem&&(!i.demTexture||i.needsTerrainPrepare)){const f=this.painter.context;i.demTexture=this.painter.getTileTexture(i.dem.stride),i.demTexture?i.demTexture.update(i.dem.getPixels(),{premultiply:!1}):i.demTexture=new c.T(f,i.dem.getPixels(),f.gl.RGBA,{premultiply:!1}),i.demTexture.bind(f.gl.NEAREST,f.gl.CLAMP_TO_EDGE),i.needsTerrainPrepare=!1}const d=i&&i+i.tileID.key+e.key;if(d&&!this._demMatrixCache[d]){const f=this.sourceCache.sourceCache._source.maxzoom;let b=e.canonical.z-i.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=f?b=e.canonical.z-f:c.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const S=e.canonical.x-(e.canonical.x>>b<<b),M=e.canonical.y-(e.canonical.y>>b<<b),I=c.ct(new Float64Array(16),[1/(c.$<<b),1/(c.$<<b),0]);c.M(I,I,[S*c.$,M*c.$,0]),this._demMatrixCache[e.key]={matrix:I,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:i&&i.dem&&i.dem.dim||1,u_terrain_matrix:d?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:i&&i.dem&&i.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(i&&i.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:i}}getFramebuffer(e){const i=this.painter,d=i.width/devicePixelRatio,f=i.height/devicePixelRatio;return!this._fbo||this._fbo.width===d&&this._fbo.height===f||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new c.T(i.context,{width:d,height:f,data:null},i.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(i.context.gl.NEAREST,i.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new c.T(i.context,{width:d,height:f,data:null},i.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(i.context.gl.NEAREST,i.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=i.context.createFramebuffer(d,f,!0,!1),this._fbo.depthAttachment.set(i.context.createRenderbuffer(i.context.gl.DEPTH_COMPONENT16,d,f))),this._fbo.colorAttachment.set(e==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const i=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let b=0,S=0;b<this._coordsTextureSize;b++)for(let M=0;M<this._coordsTextureSize;M++,S+=4)i[S+0]=255&M,i[S+1]=255&b,i[S+2]=M>>8<<4|b>>8,i[S+3]=0;const d=new c.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(i.buffer)),f=new c.T(e,d,e.gl.RGBA,{premultiply:!1});return f.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=f,f}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const i=new Uint8Array(4),d=this.painter.context,f=d.gl,b=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),S=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),M=Math.round(this.painter.height/devicePixelRatio);d.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),f.readPixels(b,M-S-1,1,1,f.RGBA,f.UNSIGNED_BYTE,i),d.bindFramebuffer.set(null);const I=i[0]+(i[2]>>4<<8),N=i[1]+((15&i[2])<<8),K=this.coordsIndex[255-i[3]],F=K&&this.sourceCache.getTileByID(K);if(!F)return null;const B=this._coordsTextureSize,U=(1<<F.tileID.canonical.z)*B;return new c.a0((F.tileID.canonical.x*B+I)/U+F.tileID.wrap,(F.tileID.canonical.y*B+N)/U,this.getElevation(F.tileID,I,N,B))}depthAtPoint(e){const i=new Uint8Array(4),d=this.painter.context,f=d.gl;return d.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),f.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,f.RGBA,f.UNSIGNED_BYTE,i),d.bindFramebuffer.set(null),(i[0]/16777216+i[1]/65536+i[2]/256+i[3])/256}getTerrainMesh(e){var i;const d=((i=this.painter.style.projection)===null||i===void 0?void 0:i.transitionState)>0,f=d&&e.canonical.y===0,b=d&&e.canonical.y===(1<<e.canonical.z)-1,S=`m_${f?"n":""}_${b?"s":""}`;if(this._meshCache[S])return this._meshCache[S];const M=this.painter.context,I=new c.cu,N=new c.aM,K=this.meshSize,F=c.$/K,B=K*K;for(let me=0;me<=K;me++)for(let Ee=0;Ee<=K;Ee++)I.emplaceBack(Ee*F,me*F,0);for(let me=0;me<B;me+=K+1)for(let Ee=0;Ee<K;Ee++)N.emplaceBack(Ee+me,K+Ee+me+1,K+Ee+me+2),N.emplaceBack(Ee+me,K+Ee+me+2,Ee+me+1);const U=I.length,Y=U+(K+1),le=(K+1)*K,se=f?c.bg:0,ce=f?0:1,he=b?c.bh:c.$,ye=b?0:1;for(let me=0;me<=K;me++)I.emplaceBack(me*F,se,ce);for(let me=0;me<=K;me++)I.emplaceBack(me*F,he,ye);for(let me=0;me<K;me++)N.emplaceBack(le+me,Y+me,Y+me+1),N.emplaceBack(le+me,Y+me+1,le+me+1),N.emplaceBack(0+me,U+me+1,U+me),N.emplaceBack(0+me,0+me+1,U+me+1);const pe=I.length,xe=pe+2*(K+1);for(const me of[0,1])for(let Ee=0;Ee<=K;Ee++)for(const We of[0,1])I.emplaceBack(me*c.$,Ee*F,We);for(let me=0;me<2*K;me+=2)N.emplaceBack(pe+me,pe+me+1,pe+me+3),N.emplaceBack(pe+me,pe+me+3,pe+me+2),N.emplaceBack(xe+me,xe+me+3,xe+me+1),N.emplaceBack(xe+me,xe+me+2,xe+me+3);const De=new vo(M.createVertexBuffer(I,Wc.members),M.createIndexBuffer(N),c.aL.simpleSegment(0,0,I.length,N.length));return this._meshCache[S]=De,De}getMeshFrameDelta(e){return 2*Math.PI*c.bt/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,i){var d;const{tileID:f}=this._getOverscaledTileIDFromLngLatZoom(e,i);return(d=this.getMinMaxElevation(f).minElevation)!==null&&d!==void 0?d:0}getMinMaxElevation(e){const i=this.getTerrainData(e).tile,d={minElevation:null,maxElevation:null};return i&&i.dem&&(d.minElevation=i.dem.min*this.exaggeration,d.maxElevation=i.dem.max*this.exaggeration),d}_getOverscaledTileIDFromLngLatZoom(e,i){const d=c.a0.fromLngLat(e.wrap()),f=(1<<i)*c.$,b=d.x*f,S=d.y*f,M=Math.floor(b/c.$),I=Math.floor(S/c.$);return{tileID:new c.Z(i,0,i,M,I),mercatorX:b,mercatorY:S}}}class dl{constructor(e,i,d){this._context=e,this._size=i,this._tileSize=d,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const i=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),d=new c.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return d.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),i.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),i.colorAttachment.set(d.texture),{id:e,fbo:i,texture:d,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(i=>e.id!==i),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const i of this._recentlyUsed)if(!this._objects[i].inUse)return this._objects[i];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(e=>!e.inUse)===!1}}const jt={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Wt{constructor(e,i){this.painter=e,this.terrain=i,this.pool=new dl(e.context,30,i.sourceCache.tileSize*i.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,i){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter(d=>!e._layers[d].isHidden(i)),this._coordsAscending={};for(const d in e.sourceCaches){this._coordsAscending[d]={};const f=e.sourceCaches[d].getVisibleCoordinates(),b=e.sourceCaches[d].getSource(),S=b instanceof Tn?b.terrainTileRanges:null;for(const M of f){const I=this.terrain.sourceCache.getTerrainCoords(M,S);for(const N in I)this._coordsAscending[d][N]||(this._coordsAscending[d][N]=[]),this._coordsAscending[d][N].push(I[N])}}this._coordsAscendingStr={};for(const d of e._order){const f=e._layers[d],b=f.source;if(jt[f.type]&&!this._coordsAscendingStr[b]){this._coordsAscendingStr[b]={};for(const S in this._coordsAscending[b])this._coordsAscendingStr[b][S]=this._coordsAscending[b][S].map(M=>M.key).sort().join()}}for(const d of this._renderableTiles)for(const f in this._coordsAscendingStr){const b=this._coordsAscendingStr[f][d.tileID.key];b&&b!==d.rttCoords[f]&&(d.rtt=[])}}renderLayer(e,i){if(e.isHidden(this.painter.transform.zoom))return!1;const d=Object.assign(Object.assign({},i),{isRenderingToTexture:!0}),f=e.type,b=this.painter,S=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(jt[f]&&(this._prevType&&jt[this._prevType]||this._stacks.push([]),this._prevType=f,this._stacks[this._stacks.length-1].push(e.id),!S))return!0;if(jt[this._prevType]||jt[f]&&S){this._prevType=f;const M=this._stacks.length-1,I=this._stacks[M]||[];for(const N of this._renderableTiles){if(this.pool.isFull()&&(Pi(this.painter,this.terrain,this._rttTiles,d),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(N),N.rtt[M]){const F=this.pool.getObjectForId(N.rtt[M].id);if(F.stamp===N.rtt[M].stamp){this.pool.useObject(F);continue}}const K=this.pool.getOrCreateFreeObject();this.pool.useObject(K),this.pool.stampObject(K),N.rtt[M]={id:K.id,stamp:K.stamp},b.context.bindFramebuffer.set(K.fbo.framebuffer),b.context.clear({color:c.be.transparent,stencil:0}),b.currentStencilSource=void 0;for(let F=0;F<I.length;F++){const B=b.style._layers[I[F]],U=B.source?this._coordsAscending[B.source][N.tileID.key]:[N.tileID];b.context.viewport.set([0,0,K.fbo.width,K.fbo.height]),b._renderTileClippingMasks(B,U,!0),b.renderLayer(b,b.style.sourceCaches[B.source],B,U,d),B.source&&(N.rttCoords[B.source]=this._coordsAscendingStr[B.source][N.tileID.key])}}return Pi(this.painter,this.terrain,this._rttTiles,d),this._rttTiles=[],this.pool.freeAllObjects(),jt[f]}return!1}}const ju={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use ⌘ + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},Li=R,hl={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Nr,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:c.a.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0},In={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Bd{constructor(e,i,d=!1){this.mousedown=b=>{this.startMove(b,H.mousePos(this.element,b)),H.addEventListener(window,"mousemove",this.mousemove),H.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=b=>{this.move(b,H.mousePos(this.element,b))},this.mouseup=b=>{this._rotatePitchHanlder.dragEnd(b),this.offTemp()},this.touchstart=b=>{b.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=H.touchPos(this.element,b.targetTouches)[0],this.startMove(b,this._startPos),H.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),H.addEventListener(window,"touchend",this.touchend))},this.touchmove=b=>{b.targetTouches.length!==1?this.reset():(this._lastPos=H.touchPos(this.element,b.targetTouches)[0],this.move(b,this._lastPos))},this.touchend=b=>{b.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHanlder.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=i;const f=new Iu;this._rotatePitchHanlder=new tc({clickTolerance:3,move:(b,S)=>{const M=i.getBoundingClientRect(),I=new c.P((M.bottom-M.top)/2,(M.right-M.left)/2);return{bearingDelta:c.cm(new c.P(b.x,S.y),S,I),pitchDelta:d?-.5*(S.y-b.y):void 0}},moveStateManager:f,enable:!0,assignEvents:()=>{}}),this.map=e,H.addEventListener(i,"mousedown",this.mousedown),H.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),H.addEventListener(i,"touchcancel",this.reset)}startMove(e,i){this._rotatePitchHanlder.dragStart(e,i),H.disableDrag()}move(e,i){const d=this.map,{bearingDelta:f,pitchDelta:b}=this._rotatePitchHanlder.dragMove(e,i)||{};f&&d.setBearing(d.getBearing()+f),b&&d.setPitch(d.getPitch()+b)}off(){const e=this.element;H.removeEventListener(e,"mousedown",this.mousedown),H.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),H.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),H.removeEventListener(window,"touchend",this.touchend),H.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){H.enableDrag(),H.removeEventListener(window,"mousemove",this.mousemove),H.removeEventListener(window,"mouseup",this.mouseup),H.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),H.removeEventListener(window,"touchend",this.touchend)}}let _n;function Hh(y,e,i,d=!1){if(d||!i.getCoveringTilesDetailsProvider().allowWorldCopies())return y?.wrap();const f=new c.S(y.lng,y.lat);if(y=new c.S(y.lng,y.lat),e){const b=new c.S(y.lng-360,y.lat),S=new c.S(y.lng+360,y.lat),M=i.locationToScreenPoint(y).distSqr(e);i.locationToScreenPoint(b).distSqr(e)<M?y=b:i.locationToScreenPoint(S).distSqr(e)<M&&(y=S)}for(;Math.abs(y.lng-i.center.lng)>180;){const b=i.locationToScreenPoint(y);if(b.x>=0&&b.y>=0&&b.x<=i.width&&b.y<=i.height)break;y.lng>i.center.lng?y.lng-=360:y.lng+=360}return y.lng!==f.lng&&i.isPointOnMapSurface(i.locationToScreenPoint(y))?y:f}const Yo={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function yi(y,e,i){const d=y.classList;for(const f in Yo)d.remove(`maplibregl-${i}-anchor-${f}`);d.add(`maplibregl-${i}-anchor-${e}`)}class _i extends c.E{constructor(e){if(super(),this._onKeyPress=i=>{const d=i.code,f=i.charCode||i.keyCode;d!=="Space"&&d!=="Enter"&&f!==32&&f!==13||this.togglePopup()},this._onMapClick=i=>{const d=i.originalEvent.target,f=this._element;this._popup&&(d===f||f.contains(d))&&this.togglePopup()},this._update=i=>{if(!this._map)return;const d=this._map.loaded()&&!this._map.isMoving();(i?.type==="terrain"||i?.type==="render"&&!d)&&this._map.once("render",this._update),this._lngLat=Hh(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let f="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?f=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(f=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let b="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?b="rotateX(0deg)":this._pitchAlignment==="map"&&(b=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||i&&i.type!=="moveend"||(this._pos=this._pos.round()),H.setTransform(this._element,`${Yo[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${b} ${f}`),Z.frameAsync(new AbortController).then(()=>{this._updateOpacity(i&&i.type==="moveend")}).catch(()=>{})},this._onMove=i=>{if(!this._isDragging){const d=this._clickTolerance||this._map._clickTolerance;this._isDragging=i.point.dist(this._pointerdownPos)>=d}this._isDragging&&(this._pos=i.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new c.l("dragstart"))),this.fire(new c.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new c.l("dragend")),this._state="inactive"},this._addDragHandler=i=>{this._element.contains(i.originalEvent.target)&&(i.preventDefault(),this._positionDelta=i.point.sub(this._pos).add(this._offset),this._pointerdownPos=i.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&e.pitchAlignment!=="auto"?e.pitchAlignment:this._rotationAlignment,this.setOpacity(e?.opacity,e?.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=c.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=H.create("div");const i=H.createNS("http://www.w3.org/2000/svg","svg"),d=41,f=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height",`${d}px`),i.setAttributeNS(null,"width",`${f}px`),i.setAttributeNS(null,"viewBox",`0 0 ${f} ${d}`);const b=H.createNS("http://www.w3.org/2000/svg","g");b.setAttributeNS(null,"stroke","none"),b.setAttributeNS(null,"stroke-width","1"),b.setAttributeNS(null,"fill","none"),b.setAttributeNS(null,"fill-rule","evenodd");const S=H.createNS("http://www.w3.org/2000/svg","g");S.setAttributeNS(null,"fill-rule","nonzero");const M=H.createNS("http://www.w3.org/2000/svg","g");M.setAttributeNS(null,"transform","translate(3.0, 29.0)"),M.setAttributeNS(null,"fill","#000000");const I=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ce of I){const he=H.createNS("http://www.w3.org/2000/svg","ellipse");he.setAttributeNS(null,"opacity","0.04"),he.setAttributeNS(null,"cx","10.5"),he.setAttributeNS(null,"cy","5.80029008"),he.setAttributeNS(null,"rx",ce.rx),he.setAttributeNS(null,"ry",ce.ry),M.appendChild(he)}const N=H.createNS("http://www.w3.org/2000/svg","g");N.setAttributeNS(null,"fill",this._color);const K=H.createNS("http://www.w3.org/2000/svg","path");K.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),N.appendChild(K);const F=H.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"opacity","0.25"),F.setAttributeNS(null,"fill","#000000");const B=H.createNS("http://www.w3.org/2000/svg","path");B.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),F.appendChild(B);const U=H.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"transform","translate(6.0, 7.0)"),U.setAttributeNS(null,"fill","#FFFFFF");const Y=H.createNS("http://www.w3.org/2000/svg","g");Y.setAttributeNS(null,"transform","translate(8.0, 8.0)");const le=H.createNS("http://www.w3.org/2000/svg","circle");le.setAttributeNS(null,"fill","#000000"),le.setAttributeNS(null,"opacity","0.25"),le.setAttributeNS(null,"cx","5.5"),le.setAttributeNS(null,"cy","5.5"),le.setAttributeNS(null,"r","5.4999962");const se=H.createNS("http://www.w3.org/2000/svg","circle");se.setAttributeNS(null,"fill","#FFFFFF"),se.setAttributeNS(null,"cx","5.5"),se.setAttributeNS(null,"cy","5.5"),se.setAttributeNS(null,"r","5.4999962"),Y.appendChild(le),Y.appendChild(se),S.appendChild(M),S.appendChild(N),S.appendChild(F),S.appendChild(U),S.appendChild(Y),i.appendChild(S),i.setAttributeNS(null,"height",d*this._scale+"px"),i.setAttributeNS(null,"width",f*this._scale+"px"),this._element.appendChild(i),this._offset=c.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",i=>{i.preventDefault()}),this._element.addEventListener("mousedown",i=>{i.preventDefault()}),yi(this._element,this._anchor,"marker"),e&&e.className)for(const i of e.className.split(" "))this._element.classList.add(i);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),H.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=c.S.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const f=Math.abs(13.5)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[f,-1*(38.1-13.5+f)],"bottom-right":[-f,-1*(38.1-13.5+f)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(e=!1){var i,d;const f=(i=this._map)===null||i===void 0?void 0:i.terrain,b=this._map.transform.isLocationOccluded(this._lngLat);if(!f||b){const U=b?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==U&&(this._element.style.opacity=U))}if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const S=this._map,M=S.terrain.depthAtPoint(this._pos),I=S.terrain.getElevationForLngLatZoom(this._lngLat,S.transform.tileZoom);if(S.transform.lngLatToCameraDepth(this._lngLat,I)-M<.006)return void(this._element.style.opacity=this._opacity);const N=-this._offset.y/S.transform.pixelsPerMeter,K=Math.sin(S.getPitch()*Math.PI/180)*N,F=S.terrain.depthAtPoint(new c.P(this._pos.x,this._pos.y-this._offset.y)),B=S.transform.lngLatToCameraDepth(this._lngLat,I+K)-F>.006;!((d=this._popup)===null||d===void 0)&&d.isOpen()&&B&&this._popup.remove(),this._element.style.opacity=B?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=c.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&e!=="auto"?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,i){return(this._opacity===void 0||e===void 0&&i===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),e!==void 0&&(this._opacity=e),i!==void 0&&(this._opacityWhenCovered=i),this._map&&this._updateOpacity(!0),this}}const Jn={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let ui=0,Mo=!1;const pl={maxWidth:100,unit:"metric"};function fl(y,e,i){const d=i&&i.maxWidth||100,f=y._container.clientHeight/2,b=y._container.clientWidth/2,S=y.unproject([b-d/2,f]),M=y.unproject([b+d/2,f]),I=Math.round(y.project(M).x-y.project(S).x),N=Math.min(d,I,y._container.clientWidth),K=S.distanceTo(M);if(i&&i.unit==="imperial"){const F=3.2808*K;F>5280?Qo(e,N,F/5280,y._getUIString("ScaleControl.Miles")):Qo(e,N,F,y._getUIString("ScaleControl.Feet"))}else i&&i.unit==="nautical"?Qo(e,N,K/1852,y._getUIString("ScaleControl.NauticalMiles")):K>=1e3?Qo(e,N,K/1e3,y._getUIString("ScaleControl.Kilometers")):Qo(e,N,K,y._getUIString("ScaleControl.Meters"))}function Qo(y,e,i,d){const f=function(b){const S=Math.pow(10,`${Math.floor(b)}`.length-1);let M=b/S;return M=M>=10?10:M>=5?5:M>=3?3:M>=2?2:M>=1?1:function(I){const N=Math.pow(10,Math.ceil(-Math.log(I)/Math.LN10));return Math.round(I*N)/N}(M),S*M}(i);y.style.width=e*(f/i)+"px",y.innerHTML=`${f}&nbsp;${d}`}const Cr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},nc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function rc(y){if(y){if(typeof y=="number"){const e=Math.round(Math.abs(y)/Math.SQRT2);return{center:new c.P(0,0),top:new c.P(0,y),"top-left":new c.P(e,e),"top-right":new c.P(-e,e),bottom:new c.P(0,-y),"bottom-left":new c.P(e,-e),"bottom-right":new c.P(-e,-e),left:new c.P(y,0),right:new c.P(-y,0)}}if(y instanceof c.P||Array.isArray(y)){const e=c.P.convert(y);return{center:e,top:e,"top-left":e,"top-right":e,bottom:e,"bottom-left":e,"bottom-right":e,left:e,right:e}}return{center:c.P.convert(y.center||[0,0]),top:c.P.convert(y.top||[0,0]),"top-left":c.P.convert(y["top-left"]||[0,0]),"top-right":c.P.convert(y["top-right"]||[0,0]),bottom:c.P.convert(y.bottom||[0,0]),"bottom-left":c.P.convert(y["bottom-left"]||[0,0]),"bottom-right":c.P.convert(y["bottom-right"]||[0,0]),left:c.P.convert(y.left||[0,0]),right:c.P.convert(y.right||[0,0])}}return rc(new c.P(0,0))}const Yc=R;w.AJAXError=c.cy,w.Event=c.l,w.Evented=c.E,w.LngLat=c.S,w.MercatorCoordinate=c.a0,w.Point=c.P,w.addProtocol=c.cz,w.config=c.a,w.removeProtocol=c.cA,w.AttributionControl=Sa,w.BoxZoomHandler=cl,w.CanvasSource=hr,w.CooperativeGesturesHandler=qd,w.DoubleClickZoomHandler=Ps,w.DragPanHandler=ul,w.DragRotateHandler=Ds,w.EdgeInsets=ir,w.FullscreenControl=class extends c.E{constructor(y={}){super(),this._onFullscreenChange=()=>{var e;let i=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((e=i?.shadowRoot)===null||e===void 0)&&e.fullscreenElement;)i=i.shadowRoot.fullscreenElement;i===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,y&&y.container&&(y.container instanceof HTMLElement?this._container=y.container:c.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(y){return this._map=y,this._container||(this._container=this._map.getContainer()),this._controlContainer=H.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){H.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const y=this._fullscreenButton=H.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);H.create("span","maplibregl-ctrl-icon",y).setAttribute("aria-hidden","true"),y.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const y=this._getTitle();this._fullscreenButton.setAttribute("aria-label",y),this._fullscreenButton.title=y}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new c.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new c.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},w.GeoJSONSource=Un,w.GeolocateControl=class extends c.E{constructor(y){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new c.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(e),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new c.l("geolocate",e)),this._finish()}},this._updateCamera=e=>{const i=new c.S(e.coords.longitude,e.coords.latitude),d=e.coords.accuracy,f=this._map.getBearing(),b=c.e({bearing:f},this.options.fitBoundsOptions),S=si.fromLngLat(i,d);this._map.fitBounds(S,b,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const i=new c.S(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(i).addTo(this._map),this._userLocationDotMarker.setLngLat(i).addTo(this._map),this._accuracy=e.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=e=>{if(this._map){if(e.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(e.code===3&&Mo)return;this.options.trackUserLocation&&this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new c.l("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=H.create("button","maplibregl-ctrl-geolocate",this._container),H.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e=>{if(this._map){if(e===!1){c.w("Geolocation support is not available so the GeolocateControl will be disabled.");const i=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}else{const i=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=i,this._geolocateButton.setAttribute("aria-label",i)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=H.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new _i({element:this._dotElement}),this._circleElement=H.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new _i({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",i=>{i.geolocateSource||this._watchState!=="ACTIVE_LOCK"||i.originalEvent&&i.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new c.l("trackuserlocationend")),this.fire(new c.l("userlocationlostfocus")))})}},this.options=c.e({},Jn,y)}onAdd(y){return this._map=y,this._container=H.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return c._(this,arguments,void 0,function*(e=!1){if(_n!==void 0&&!e)return _n;if(window.navigator.permissions===void 0)return _n=!!window.navigator.geolocation,_n;try{_n=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{_n=!!window.navigator.geolocation}return _n})}().then(e=>this._finishSetupUI(e)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),H.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,ui=0,Mo=!1}_isOutOfMapMaxBounds(y){const e=this._map.getMaxBounds(),i=y.coords;return e&&(i.longitude<e.getWest()||i.longitude>e.getEast()||i.latitude<e.getSouth()||i.latitude>e.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const y=this._map.getBounds(),e=y.getSouthEast(),i=y.getNorthEast(),d=e.distanceTo(i),f=Math.ceil(this._accuracy/(d/this._map._container.clientHeight)*2);this._circleElement.style.width=`${f}px`,this._circleElement.style.height=`${f}px`}trigger(){if(!this._setup)return c.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new c.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":ui--,Mo=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new c.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new c.l("trackuserlocationstart")),this.fire(new c.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let y;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),ui++,ui>1?(y={maximumAge:6e5,timeout:0},Mo=!0):(y=this.options.positionOptions,Mo=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,y)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},w.GlobeControl=class{constructor(){this._toggleProjection=()=>{var y;const e=(y=this._map.getProjection())===null||y===void 0?void 0:y.type;this._map.setProjection(e!=="mercator"&&e?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var y;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((y=this._map.getProjection())===null||y===void 0?void 0:y.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(y){return this._map=y,this._container=H.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=H.create("button","maplibregl-ctrl-globe",this._container),H.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){H.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},w.Hash=br,w.ImageSource=Tn,w.KeyboardHandler=wr,w.LngLatBounds=si,w.LogoControl=Ga,w.Map=class extends ci{constructor(y){var e,i;c.cv.mark(c.cw.create);const d=Object.assign(Object.assign(Object.assign({},hl),y),{canvasContextAttributes:Object.assign(Object.assign({},hl.canvasContextAttributes),y.canvasContextAttributes)});if(d.minZoom!=null&&d.maxZoom!=null&&d.minZoom>d.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(d.minPitch!=null&&d.maxPitch!=null&&d.minPitch>d.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(d.minPitch!=null&&d.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(d.maxPitch!=null&&d.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const f=new Si,b=new Wr;if(d.minZoom!==void 0&&f.setMinZoom(d.minZoom),d.maxZoom!==void 0&&f.setMaxZoom(d.maxZoom),d.minPitch!==void 0&&f.setMinPitch(d.minPitch),d.maxPitch!==void 0&&f.setMaxPitch(d.maxPitch),d.renderWorldCopies!==void 0&&f.setRenderWorldCopies(d.renderWorldCopies),super(f,b,{bearingSnap:d.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Gi,this._controls=[],this._mapId=c.a6(),this._contextLost=M=>{M.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.fire(new c.l("webglcontextlost",{originalEvent:M}))},this._contextRestored=M=>{this._setupPainter(),this.resize(),this._update(),this.fire(new c.l("webglcontextrestored",{originalEvent:M}))},this._onMapScroll=M=>{if(M.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=d.interactive,this._maxTileCacheSize=d.maxTileCacheSize,this._maxTileCacheZoomLevels=d.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},d.canvasContextAttributes),this._trackResize=d.trackResize===!0,this._bearingSnap=d.bearingSnap,this._centerClampedToGround=d.centerClampedToGround,this._refreshExpiredTiles=d.refreshExpiredTiles===!0,this._fadeDuration=d.fadeDuration,this._crossSourceCollisions=d.crossSourceCollisions===!0,this._collectResourceTiming=d.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},ju),d.locale),this._clickTolerance=d.clickTolerance,this._overridePixelRatio=d.pixelRatio,this._maxCanvasSize=d.maxCanvasSize,this.transformCameraUpdate=d.transformCameraUpdate,this.cancelPendingTileRequestsWhileZooming=d.cancelPendingTileRequestsWhileZooming===!0,this._imageQueueHandle=ot.addThrottleControl(()=>this.isMoving()),this._requestManager=new He(d.transformRequest),typeof d.container=="string"){if(this._container=document.getElementById(d.container),!this._container)throw new Error(`Container '${d.container}' not found.`)}else{if(!(d.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=d.container}if(d.maxBounds&&this.setMaxBounds(d.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let M=!1;const I=So(N=>{this._trackResize&&!this._removed&&(this.resize(N),this.redraw())},50);this._resizeObserver=new ResizeObserver(N=>{M?I(N):M=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Do(this,d),this._hash=d.hash&&new br(typeof d.hash=="string"&&d.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:d.center,elevation:d.elevation,zoom:d.zoom,bearing:d.bearing,pitch:d.pitch,roll:d.roll}),d.bounds&&(this.resize(),this.fitBounds(d.bounds,c.e({},d.fitBoundsOptions,{duration:0}))));const S=typeof d.style=="string"||((i=(e=d.style)===null||e===void 0?void 0:e.projection)===null||i===void 0?void 0:i.type)!=="globe";this.resize(null,S),this._localIdeographFontFamily=d.localIdeographFontFamily,this._validateStyle=d.validateStyle,d.style&&this.setStyle(d.style,{localIdeographFontFamily:d.localIdeographFontFamily}),d.attributionControl&&this.addControl(new Sa(typeof d.attributionControl=="boolean"?void 0:d.attributionControl)),d.maplibreLogo&&this.addControl(new Ga,d.logoPosition),this.on("style.load",()=>{if(S||this._resizeTransform(),this.transform.unmodified){const M=c.Q(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(M)}}),this.on("data",M=>{this._update(M.dataType==="style"),this.fire(new c.l(`${M.dataType}data`,M))}),this.on("dataloading",M=>{this.fire(new c.l(`${M.dataType}dataloading`,M))}),this.on("dataabort",M=>{this.fire(new c.l("sourcedataabort",M))})}_getMapId(){return this._mapId}setGlobalStateProperty(y,e){return this.style.setGlobalStateProperty(y,e),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(y,e){if(e===void 0&&(e=y.getDefaultPosition?y.getDefaultPosition():"top-right"),!y||!y.onAdd)return this.fire(new c.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=y.onAdd(this);this._controls.push(y);const d=this._controlPositions[e];return e.indexOf("bottom")!==-1?d.insertBefore(i,d.firstChild):d.appendChild(i),this}removeControl(y){if(!y||!y.onRemove)return this.fire(new c.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const e=this._controls.indexOf(y);return e>-1&&this._controls.splice(e,1),y.onRemove(this),this}hasControl(y){return this._controls.indexOf(y)>-1}calculateCameraOptionsFromTo(y,e,i,d){return d==null&&this.terrain&&(d=this.terrain.getElevationForLngLatZoom(i,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(y,e,i,d)}resize(y,e=!0){const[i,d]=this._containerDimensions(),f=this._getClampedPixelRatio(i,d);if(this._resizeCanvas(i,d,f),this.painter.resize(i,d,f),this.painter.overLimit()){const S=this.painter.context.gl;this._maxCanvasSize=[S.drawingBufferWidth,S.drawingBufferHeight];const M=this._getClampedPixelRatio(i,d);this._resizeCanvas(i,d,M),this.painter.resize(i,d,M)}this._resizeTransform(e);const b=!this._moving;return b&&(this.stop(),this.fire(new c.l("movestart",y)).fire(new c.l("move",y))),this.fire(new c.l("resize",y)),b&&this.fire(new c.l("moveend",y)),this}_resizeTransform(y=!0){var e;const[i,d]=this._containerDimensions();this.transform.resize(i,d,y),(e=this._requestedCameraState)===null||e===void 0||e.resize(i,d,y)}_getClampedPixelRatio(y,e){const{0:i,1:d}=this._maxCanvasSize,f=this.getPixelRatio(),b=y*f,S=e*f;return Math.min(b>i?i/b:1,S>d?d/S:1)*f}getPixelRatio(){var y;return(y=this._overridePixelRatio)!==null&&y!==void 0?y:devicePixelRatio}setPixelRatio(y){this._overridePixelRatio=y,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(y){return this.transform.setMaxBounds(si.convert(y)),this._update()}setMinZoom(y){if((y=y??-2)>=-2&&y<=this.transform.maxZoom)return this.transform.setMinZoom(y),this._update(),this.getZoom()<y&&this.setZoom(y),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(y){if((y=y??22)>=this.transform.minZoom)return this.transform.setMaxZoom(y),this._update(),this.getZoom()>y&&this.setZoom(y),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(y){if((y=y??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(y>=0&&y<=this.transform.maxPitch)return this.transform.setMinPitch(y),this._update(),this.getPitch()<y&&this.setPitch(y),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(y){if((y=y??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(y>=this.transform.minPitch)return this.transform.setMaxPitch(y),this._update(),this.getPitch()>y&&this.setPitch(y),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(y){return this.transform.setRenderWorldCopies(y),this._update()}project(y){return this.transform.locationToScreenPoint(c.S.convert(y),this.style&&this.terrain)}unproject(y){return this.transform.screenPointToLocation(c.P.convert(y),this.terrain)}isMoving(){var y;return this._moving||((y=this.handlers)===null||y===void 0?void 0:y.isMoving())}isZooming(){var y;return this._zooming||((y=this.handlers)===null||y===void 0?void 0:y.isZooming())}isRotating(){var y;return this._rotating||((y=this.handlers)===null||y===void 0?void 0:y.isRotating())}_createDelegatedListener(y,e,i){if(y==="mouseenter"||y==="mouseover"){let d=!1;return{layers:e,listener:i,delegates:{mousemove:b=>{const S=e.filter(I=>this.getLayer(I)),M=S.length!==0?this.queryRenderedFeatures(b.point,{layers:S}):[];M.length?d||(d=!0,i.call(this,new $n(y,this,b.originalEvent,{features:M}))):d=!1},mouseout:()=>{d=!1}}}}if(y==="mouseleave"||y==="mouseout"){let d=!1;return{layers:e,listener:i,delegates:{mousemove:S=>{const M=e.filter(I=>this.getLayer(I));(M.length!==0?this.queryRenderedFeatures(S.point,{layers:M}):[]).length?d=!0:d&&(d=!1,i.call(this,new $n(y,this,S.originalEvent)))},mouseout:S=>{d&&(d=!1,i.call(this,new $n(y,this,S.originalEvent)))}}}}{const d=f=>{const b=e.filter(M=>this.getLayer(M)),S=b.length!==0?this.queryRenderedFeatures(f.point,{layers:b}):[];S.length&&(f.features=S,i.call(this,f),delete f.features)};return{layers:e,listener:i,delegates:{[y]:d}}}}_saveDelegatedListener(y,e){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[y]=this._delegatedListeners[y]||[],this._delegatedListeners[y].push(e)}_removeDelegatedListener(y,e,i){if(!this._delegatedListeners||!this._delegatedListeners[y])return;const d=this._delegatedListeners[y];for(let f=0;f<d.length;f++){const b=d[f];if(b.listener===i&&b.layers.length===e.length&&b.layers.every(S=>e.includes(S))){for(const S in b.delegates)this.off(S,b.delegates[S]);return void d.splice(f,1)}}}on(y,e,i){if(i===void 0)return super.on(y,e);const d=typeof e=="string"?[e]:e,f=this._createDelegatedListener(y,d,i);this._saveDelegatedListener(y,f);for(const b in f.delegates)this.on(b,f.delegates[b]);return{unsubscribe:()=>{this._removeDelegatedListener(y,d,i)}}}once(y,e,i){if(i===void 0)return super.once(y,e);const d=typeof e=="string"?[e]:e,f=this._createDelegatedListener(y,d,i);for(const b in f.delegates){const S=f.delegates[b];f.delegates[b]=(...M)=>{this._removeDelegatedListener(y,d,i),S(...M)}}this._saveDelegatedListener(y,f);for(const b in f.delegates)this.once(b,f.delegates[b]);return this}off(y,e,i){return i===void 0?super.off(y,e):(this._removeDelegatedListener(y,typeof e=="string"?[e]:e,i),this)}queryRenderedFeatures(y,e){if(!this.style)return[];let i;const d=y instanceof c.P||Array.isArray(y),f=d?y:[[0,0],[this.transform.width,this.transform.height]];if(e=e||(d?{}:y)||{},f instanceof c.P||typeof f[0]=="number")i=[c.P.convert(f)];else{const b=c.P.convert(f[0]),S=c.P.convert(f[1]);i=[b,new c.P(S.x,b.y),S,new c.P(b.x,S.y),b]}return this.style.queryRenderedFeatures(i,e,this.transform)}querySourceFeatures(y,e){return this.style.querySourceFeatures(y,e)}setStyle(y,e){return(e=c.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},e)).diff!==!1&&e.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&y?(this._diffStyle(y,e),this):(this._localIdeographFontFamily=e.localIdeographFontFamily,this._updateStyle(y,e))}setTransformRequest(y){return this._requestManager.setTransformRequest(y),this}_getUIString(y){const e=this._locale[y];if(e==null)throw new Error(`Missing UI string '${y}'`);return e}_updateStyle(y,e){var i,d;if(e.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(y,e));const f=this.style&&e.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!y)),y?(this.style=new _d(this,e||{}),this.style.setEventedParent(this,{style:this.style}),typeof y=="string"?this.style.loadURL(y,e,f):this.style.loadJSON(y,e,f),this):((d=(i=this.style)===null||i===void 0?void 0:i.projection)===null||d===void 0||d.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new _d(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(y,e){if(typeof y=="string"){const i=this._requestManager.transformRequest(y,"Style");c.j(i,new AbortController).then(d=>{this._updateDiff(d.data,e)}).catch(d=>{d&&this.fire(new c.k(d))})}else typeof y=="object"&&this._updateDiff(y,e)}_updateDiff(y,e){try{this.style.setState(y,e)&&this._update(!0)}catch(i){c.w(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(y,e)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():c.w("There is no style added to the map.")}addSource(y,e){return this._lazyInitEmptyStyle(),this.style.addSource(y,e),this._update(!0)}isSourceLoaded(y){const e=this.style&&this.style.sourceCaches[y];if(e!==void 0)return e.loaded();this.fire(new c.k(new Error(`There is no source with ID '${y}'`)))}setTerrain(y){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),y){const e=this.style.sourceCaches[y.source];if(!e)throw new Error(`cannot load terrain, because there exists no source with ID: ${y.source}`);this.terrain===null&&e.reload();for(const i in this.style._layers){const d=this.style._layers[i];d.type==="hillshade"&&d.source===y.source&&c.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),d.type==="color-relief"&&d.source===y.source&&c.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Kn(this.painter,e,y),this.painter.renderToTexture=new Wt(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=i=>{var d;i.dataType==="style"?this.terrain.sourceCache.freeRtt():i.dataType==="source"&&i.tile&&(i.sourceId!==y.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((d=i.source)===null||d===void 0?void 0:d.type)==="image"?this.terrain.sourceCache.freeRtt():this.terrain.sourceCache.freeRtt(i.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new c.l("terrain",{terrain:y})),this}getTerrain(){var y,e;return(e=(y=this.terrain)===null||y===void 0?void 0:y.options)!==null&&e!==void 0?e:null}areTilesLoaded(){const y=this.style&&this.style.sourceCaches;for(const e in y){const i=y[e]._tiles;for(const d in i){const f=i[d];if(f.state!=="loaded"&&f.state!=="errored")return!1}}return!0}removeSource(y){return this.style.removeSource(y),this._update(!0)}getSource(y){return this.style.getSource(y)}setSourceTileLodParams(y,e,i){if(i){const d=this.getSource(i);if(!d)throw new Error(`There is no source with ID "${i}", cannot set LOD parameters`);d.calculateTileZoom=Xe(Math.max(1,y),Math.max(1,e))}else for(const d in this.style.sourceCaches)this.style.sourceCaches[d].getSource().calculateTileZoom=Xe(Math.max(1,y),Math.max(1,e));return this._update(!0),this}refreshTiles(y,e){const i=this.style.sourceCaches[y];if(!i)throw new Error(`There is no source cache with ID "${y}", cannot refresh tile`);e===void 0?i.reload(!0):i.refreshTiles(e.map(d=>new c.a3(d.z,d.x,d.y)))}addImage(y,e,i={}){const{pixelRatio:d=1,sdf:f=!1,stretchX:b,stretchY:S,content:M,textFitWidth:I,textFitHeight:N}=i;if(this._lazyInitEmptyStyle(),!(e instanceof HTMLImageElement||c.b(e))){if(e.width===void 0||e.height===void 0)return this.fire(new c.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:K,height:F,data:B}=e,U=e;return this.style.addImage(y,{data:new c.R({width:K,height:F},new Uint8Array(B)),pixelRatio:d,stretchX:b,stretchY:S,content:M,textFitWidth:I,textFitHeight:N,sdf:f,version:0,userImage:U}),U.onAdd&&U.onAdd(this,y),this}}{const{width:K,height:F,data:B}=Z.getImageData(e);this.style.addImage(y,{data:new c.R({width:K,height:F},B),pixelRatio:d,stretchX:b,stretchY:S,content:M,textFitWidth:I,textFitHeight:N,sdf:f,version:0})}}updateImage(y,e){const i=this.style.getImage(y);if(!i)return this.fire(new c.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const d=e instanceof HTMLImageElement||c.b(e)?Z.getImageData(e):e,{width:f,height:b,data:S}=d;if(f===void 0||b===void 0)return this.fire(new c.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(f!==i.data.width||b!==i.data.height)return this.fire(new c.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const M=!(e instanceof HTMLImageElement||c.b(e));return i.data.replace(S,M),this.style.updateImage(y,i),this}getImage(y){return this.style.getImage(y)}hasImage(y){return y?!!this.style.getImage(y):(this.fire(new c.k(new Error("Missing required image id"))),!1)}removeImage(y){this.style.removeImage(y)}loadImage(y){return ot.getImage(this._requestManager.transformRequest(y,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(y,e){return this._lazyInitEmptyStyle(),this.style.addLayer(y,e),this._update(!0)}moveLayer(y,e){return this.style.moveLayer(y,e),this._update(!0)}removeLayer(y){return this.style.removeLayer(y),this._update(!0)}getLayer(y){return this.style.getLayer(y)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(y,e,i){return this.style.setLayerZoomRange(y,e,i),this._update(!0)}setFilter(y,e,i={}){return this.style.setFilter(y,e,i),this._update(!0)}getFilter(y){return this.style.getFilter(y)}setPaintProperty(y,e,i,d={}){return this.style.setPaintProperty(y,e,i,d),this._update(!0)}getPaintProperty(y,e){return this.style.getPaintProperty(y,e)}setLayoutProperty(y,e,i,d={}){return this.style.setLayoutProperty(y,e,i,d),this._update(!0)}getLayoutProperty(y,e){return this.style.getLayoutProperty(y,e)}setGlyphs(y,e={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(y,e),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(y,e,i={}){return this._lazyInitEmptyStyle(),this.style.addSprite(y,e,i,d=>{d||this._update(!0)}),this}removeSprite(y){return this._lazyInitEmptyStyle(),this.style.removeSprite(y),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(y,e={}){return this._lazyInitEmptyStyle(),this.style.setSprite(y,e,i=>{i||this._update(!0)}),this}setLight(y,e={}){return this._lazyInitEmptyStyle(),this.style.setLight(y,e),this._update(!0)}getLight(){return this.style.getLight()}setSky(y,e={}){return this._lazyInitEmptyStyle(),this.style.setSky(y,e),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(y,e){return this.style.setFeatureState(y,e),this._update()}removeFeatureState(y,e){return this.style.removeFeatureState(y,e),this._update()}getFeatureState(y){return this.style.getFeatureState(y)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let y=0,e=0;return this._container&&(y=this._container.clientWidth||400,e=this._container.clientHeight||300),[y,e]}_setupContainer(){const y=this._container;y.classList.add("maplibregl-map");const e=this._canvasContainer=H.create("div","maplibregl-canvas-container",y);this._interactive&&e.classList.add("maplibregl-interactive"),this._canvas=H.create("canvas","maplibregl-canvas",e),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const i=this._containerDimensions(),d=this._getClampedPixelRatio(i[0],i[1]);this._resizeCanvas(i[0],i[1],d);const f=this._controlContainer=H.create("div","maplibregl-control-container",y),b=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(S=>{b[S]=H.create("div",`maplibregl-ctrl-${S} `,f)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(y,e,i){this._canvas.width=Math.floor(i*y),this._canvas.height=Math.floor(i*e),this._canvas.style.width=`${y}px`,this._canvas.style.height=`${e}px`}_setupPainter(){const y=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let e=null;this._canvas.addEventListener("webglcontextcreationerror",d=>{e={requestedAttributes:y},d&&(e.statusMessage=d.statusMessage,e.type=d.type)},{once:!0});let i=null;if(i=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,y):this._canvas.getContext("webgl2",y)||this._canvas.getContext("webgl",y),!i){const d="Failed to initialize WebGL";throw e?(e.message=d,new Error(JSON.stringify(e))):new Error(d)}this.painter=new or(i,this.transform),ae.testSupport(i)}migrateProjection(y,e){super.migrateProjection(y,e),this.painter.transform=y,this.fire(new c.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(y){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||y,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(y){return this._update(),this._renderTaskQueue.add(y)}_cancelRenderFrame(y){this._renderTaskQueue.remove(y)}_render(y){var e,i,d,f,b;const S=this._idleTriggered?this._fadeDuration:0,M=((e=this.style.projection)===null||e===void 0?void 0:e.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(y),this._removed)return;let I=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const F=this.transform.zoom,B=Z.now();this.style.zoomHistory.update(F,B);const U=new c.F(F,{now:B,fadeDuration:S,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition(),globalState:this.style.getGlobalState()}),Y=U.crossFadingFactor();Y===1&&Y===this._crossFadingFactor||(I=!0,this._crossFadingFactor=Y),this.style.update(U)}const N=((i=this.style.projection)===null||i===void 0?void 0:i.transitionState)>0!==M;(d=this.style.projection)===null||d===void 0||d.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((f=this.style.projection)===null||f===void 0?void 0:f.transitionState,(b=this.style.projection)===null||b===void 0?void 0:b.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||N)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,S,this._crossSourceCollisions,N),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:S,showPadding:this.showPadding}),this.fire(new c.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,c.cv.mark(c.cw.load),this.fire(new c.l("load"))),this.style&&(this.style.hasTransitions()||I)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const K=this._sourcesDirty||this._styleDirty||this._placementDirty;return K||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new c.l("idle")),!this._loaded||this._fullyLoaded||K||(this._fullyLoaded=!0,c.cv.mark(c.cw.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var y;this._hash&&this._hash.remove();for(const i of this._controls)i.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),ot.removeThrottleControl(this._imageQueueHandle),(y=this._resizeObserver)===null||y===void 0||y.disconnect();const e=this.painter.context.gl.getExtension("WEBGL_lose_context");e?.loseContext&&e.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),H.remove(this._canvasContainer),H.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),c.cv.clearMetrics(),this._removed=!0,this.fire(new c.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,Z.frame(this._frameRequest,y=>{c.cv.frame(y),this._frameRequest=null;try{this._render(y)}catch(e){if(!c.cx(e)&&!function(i){return i.message===Ed}(e))throw e}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(y){this._showTileBoundaries!==y&&(this._showTileBoundaries=y,this._update())}get showPadding(){return!!this._showPadding}set showPadding(y){this._showPadding!==y&&(this._showPadding=y,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(y){this._showCollisionBoxes!==y&&(this._showCollisionBoxes=y,y?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(y){this._showOverdrawInspector!==y&&(this._showOverdrawInspector=y,this._update())}get repaint(){return!!this._repaint}set repaint(y){this._repaint!==y&&(this._repaint=y,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(y){this._vertices=y,this._update()}get version(){return Li}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(y){return this._lazyInitEmptyStyle(),this.style.setProjection(y),this._update(!0)}},w.MapMouseEvent=$n,w.MapTouchEvent=ro,w.MapWheelEvent=Nd,w.Marker=_i,w.NavigationControl=class{constructor(y){this._updateZoomButtons=()=>{const e=this._map.getZoom(),i=e===this._map.getMaxZoom(),d=e===this._map.getMinZoom();this._zoomInButton.disabled=i,this._zoomOutButton.disabled=d,this._zoomInButton.setAttribute("aria-disabled",i.toString()),this._zoomOutButton.setAttribute("aria-disabled",d.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(e,i)=>{const d=this._map._getUIString(`NavigationControl.${i}`);e.title=d,e.setAttribute("aria-label",d)},this.options=c.e({},In,y),this._container=H.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),H.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),H.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=H.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(y){return this._map=y,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Bd(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){H.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(y,e){const i=H.create("button",y,this._container);return i.type="button",i.addEventListener("click",e),i}},w.Popup=class extends c.E{constructor(y){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&H.remove(this._content),this._container&&(H.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new c.l("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=H.create("div","maplibregl-popup",this._map.getContainer()),this._tip=H.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const S of this.options.className.split(" "))this._container.classList.add(S);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=Hh(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e)return;const i=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let d=this.options.anchor;const f=rc(this.options.offset);if(!d){const S=this._container.offsetWidth,M=this._container.offsetHeight;let I;I=i.y+f.bottom.y<M?["top"]:i.y>this._map.transform.height-M?["bottom"]:[],i.x<S/2?I.push("left"):i.x>this._map.transform.width-S/2&&I.push("right"),d=I.length===0?"bottom":I.join("-")}let b=i.add(f[d]);this.options.subpixelPositioning||(b=b.round()),H.setTransform(this._container,`${Yo[d]} translate(${b.x}px,${b.y}px)`),yi(this._container,d,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=c.e(Object.create(Cr),y)}addTo(y){return this._map&&this.remove(),this._map=y,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new c.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(y){return this._lngLat=c.S.convert(y),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(y){return this.setDOMContent(document.createTextNode(y))}setHTML(y){const e=document.createDocumentFragment(),i=document.createElement("body");let d;for(i.innerHTML=y;d=i.firstChild,d;)e.appendChild(d);return this.setDOMContent(e)}getMaxWidth(){var y;return(y=this._container)===null||y===void 0?void 0:y.style.maxWidth}setMaxWidth(y){return this.options.maxWidth=y,this._update(),this}setDOMContent(y){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=H.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(y),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(y){return this._container&&this._container.classList.add(y),this}removeClassName(y){return this._container&&this._container.classList.remove(y),this}setOffset(y){return this.options.offset=y,this._update(),this}toggleClassName(y){if(this._container)return this._container.classList.toggle(y)}setSubpixelPositioning(y){this.options.subpixelPositioning=y}_createCloseButton(){this.options.closeButton&&(this._closeButton=H.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const y=this._container.querySelector(nc);y&&y.focus()}},w.RasterDEMTileSource=Wa,w.RasterTileSource=cs,w.ScaleControl=class{constructor(y){this._onMove=()=>{fl(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,fl(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},pl),y)}getDefaultPosition(){return"bottom-left"}onAdd(y){return this._map=y,this._container=H.create("div","maplibregl-ctrl maplibregl-ctrl-scale",y.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){H.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},w.ScrollZoomHandler=Wo,w.Style=_d,w.TerrainControl=class{constructor(y){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=y}onAdd(y){return this._map=y,this._container=H.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=H.create("button","maplibregl-ctrl-terrain",this._container),H.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){H.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},w.TwoFingersTouchPitchHandler=zu,w.TwoFingersTouchRotateHandler=Eu,w.TwoFingersTouchZoomHandler=so,w.TwoFingersTouchZoomRotateHandler=Ru,w.VectorTileSource=Qn,w.VideoSource=go,w.addSourceType=(y,e)=>c._(void 0,void 0,void 0,function*(){if(er(y))throw new Error(`A source type called "${y}" already exists.`);((i,d)=>{pr[i]=d})(y,e)}),w.clearPrewarmedResources=function(){const y=Mt;y&&(y.isPreloaded()&&y.numActive()===1?(y.release(_e),Mt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},w.createTileMesh=bd,w.getMaxParallelImageRequests=function(){return c.a.MAX_PARALLEL_IMAGE_REQUESTS},w.getRTLTextPluginStatus=function(){return za().getRTLTextPluginStatus()},w.getVersion=function(){return Yc},w.getWorkerCount=function(){return rt.workerCount},w.getWorkerUrl=function(){return c.a.WORKER_URL},w.importScriptInWorkers=function(y){return Qi().broadcast("IS",y)},w.prewarm=function(){ba().acquire(_e)},w.setMaxParallelImageRequests=function(y){c.a.MAX_PARALLEL_IMAGE_REQUESTS=y},w.setRTLTextPlugin=function(y,e){return za().setRTLTextPlugin(y,e)},w.setWorkerCount=function(y){rt.workerCount=y},w.setWorkerUrl=function(y){c.a.WORKER_URL=y}});var D=p;return D})}(jg)),jg.exports}var Ew=G4();const Ag=bv(Ew),H4=({t:o,activeType:l,setActiveType:p,typeFilterOptions:g,activeDifficulty:C,setActiveDifficulty:D,difficultyFilterOptions:w,searchQuery:c,setSearchQuery:R,clearFilters:k,filteredSites:q,baseSites:G,activeDestination:Z,setActiveDestination:H,destinationOptions:ae})=>L.jsxs(L.Fragment,{children:[L.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[ae.length>0&&L.jsxs("div",{className:"w-full",children:[L.jsx("span",{className:"block text-xl font-semibold text-brand-neutral mb-2",children:o("divesites:destinationLabel")}),L.jsx("div",{className:"flex flex-wrap gap-2",children:ae.map(Ie=>L.jsx("button",{onClick:()=>H(Ie.id),className:`cursor-pointer px-3 py-1 rounded-full text-xs border transition font-medium ${Z===Ie.id?"text-brand-cta-yellow bg-brand-white border-brand-cta-yellow":"text-brand-white bg-brand-cta-yellow border-brand-white hover:bg-brand-neutral/10"}`,children:o(Ie.translationKey,{ns:"destinations"})},Ie.id))})]}),L.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between",children:[L.jsxs("div",{className:"flex flex-col sm:flex-row flex-grow gap-6",children:[L.jsxs("div",{className:"w-full sm:w-1/2",children:[L.jsx("span",{className:"block text-xl font-semibold text-brand-neutral mb-2",children:o("divesites:typeLabel")}),L.jsx("div",{className:"flex flex-wrap gap-2 min-h-[26px] items-center",children:g.length>1?g.map(Ie=>L.jsx("button",{onClick:()=>p(Ie.id),className:`cursor-pointer px-3 py-1 rounded-full text-xs border transition font-medium ${l===Ie.id?"text-brand-cta-green bg-brand-white border-brand-cta-green":"text-brand-white bg-brand-cta-green border-brand-white hover:bg-brand-neutral/10"}`,children:o(Ie.translationKey)},Ie.id)):L.jsx("span",{className:"text-sm text-brand-neutral/70 italic",children:o("divesites:noOptionsAvailable")})})]}),L.jsxs("div",{className:"w-full sm:w-1/2",children:[L.jsx("span",{className:"block text-xl font-semibold text-brand-neutral mb-2",children:o("divesites:difficultyLabel")}),L.jsx("div",{className:"flex flex-wrap gap-2 min-h-[26px] items-center",children:w.length>1?w.map(Ie=>L.jsx("button",{onClick:()=>D(Ie.id),className:`cursor-pointer px-3 py-1 rounded-full text-xs border transition font-medium ${C===Ie.id?"text-brand-cta-orange bg-brand-white border-brand-cta-orange":"text-brand-white bg-brand-cta-orange border-brand-white hover:bg-brand-neutral/10"}`,children:o(Ie.translationKey)},Ie.id)):L.jsx("span",{className:"text-sm text-brand-neutral/70 italic",children:o("divesites:noOptionsAvailable")})})]})]}),L.jsx("div",{className:"flex items-center justify-center sm:justify-end w-full sm:w-auto",children:L.jsx("button",{onClick:k,className:"cursor-pointer px-4 py-1.5 h-fit text-xs font-semibold rounded-full border border-brand-neutral text-brand-neutral hover:bg-brand-cta-orange hover:text-brand-primary-dark transition shadow-sm",children:o("map:clearFiltersLabel")})})]})]}),L.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 items-start mb-4",children:[L.jsxs("div",{className:"relative w-full",children:[L.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:L.jsx(dI,{className:"w-4 h-4 text-brand-neutral/60"})}),L.jsx("input",{type:"text",value:c,onChange:Ie=>R(Ie.target.value),placeholder:o("map:searchPlaceholder"),className:"w-full pl-10 pr-8 py-2 border rounded-md text-sm text-brand-neutral placeholder:text-brand-neutral/60 focus:outline-none focus:ring-2 focus:ring-brand-cta-orange"}),c&&L.jsx("button",{type:"button",onClick:()=>R(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-brand-neutral/60 hover:text-brand-cta-orange transition cursor-pointer","aria-label":o("map:clearFiltersLabel"),children:"✕"})]}),L.jsx("div",{className:"flex items-center text-sm sm:justify-end sm:text-right h-full",children:q.length===0?L.jsx("div",{className:"text-brand-neutral text-md",children:o("divesites:noMatchingSites")}):L.jsx("div",{className:"text-brand-neutral text-md",children:o("divesites:showingSitesCountFull",{filtered:q.length,total:G.length})})})]})]}),X4=[{id:"none",translationKey:"noneLevelKey"},{id:"open-water-diver",translationKey:"openWaterDiverLevelKey"},{id:"advanced-open-water-diver",translationKey:"advancedOpenWaterDiverLevelKey"},{id:"technical-diver",translationKey:"technicalDiverLevelKey"},{id:"any",translationKey:"anyLevelKey"}],zw=[{id:"easy",translationKey:"easyDifficultyKey"},{id:"medium",translationKey:"mediumDifficultyKey"},{id:"hard",translationKey:"hardDifficultyKey"},{id:"expert",translationKey:"expertDifficultyKey"}],Rw=[{id:"reef",translationKey:"reefTypeKey"},{id:"wreck",translationKey:"wreckTypeKey"},{id:"wall",translationKey:"wallTypeKey"},{id:"pinnacle",translationKey:"pinnacleTypeKey"},{id:"cavern",translationKey:"cavernTypeKey"},{id:"cave",translationKey:"caveTypeKey"},{id:"drift",translationKey:"driftTypeKey"},{id:"muck",translationKey:"muckTypeKey"},{id:"blue-hole",translationKey:"blueHoleTypeKey"},{id:"cenote",translationKey:"cenoteTypeKey"},{id:"freshwater",translationKey:"freshwaterTypeKey"},{id:"artificial-reef",translationKey:"artificialReefTypeKey"}],Z4=[{id:"current",translationKey:"currentConditionKey"},{id:"mild-current",translationKey:"mildCurrentConditionKey"},{id:"moderate-current",translationKey:"moderateCurrentConditionKey"},{id:"strong-current",translationKey:"strongCurrentConditionKey"},{id:"deep",translationKey:"deepConditionKey"},{id:"visibility",translationKey:"visibilityConditionKey"},{id:"variable-visibility",translationKey:"variableVisibilityConditionKey"},{id:"good-visibility",translationKey:"goodVisibilityConditionKey"},{id:"limited-visibility",translationKey:"limitedVisibilityConditionKey"},{id:"thermocline",translationKey:"thermoclineConditionKey"},{id:"surge",translationKey:"surgeConditionKey"},{id:"surface",translationKey:"surfaceConditionKey"},{id:"rough-surface",translationKey:"roughSurfaceConditionKey"},{id:"calm-surface",translationKey:"calmSurfaceConditionKey"},{id:"entry",translationKey:"entryConditionKey"},{id:"boat-entry",translationKey:"boatEntryConditionKey"},{id:"shore-entry",translationKey:"shoreEntryConditionKey"},{id:"night",translationKey:"nightConditionKey"}],$4=[{id:"marine-life",translationKey:"marineLifeTagCategory",tags:[{id:"sharks",translationKey:"sharksTag"},{id:"turtles",translationKey:"turtlesTag"},{id:"manta-rays",translationKey:"mantaRaysTag"},{id:"whale-sharks",translationKey:"whaleSharksTag"},{id:"nudibranchs",translationKey:"nudibranchsTag"},{id:"macro-life",translationKey:"macroLifeTag"},{id:"schooling-fish",translationKey:"schoolingFishTag"},{id:"barracuda",translationKey:"barracudaTag"},{id:"octopus",translationKey:"octopusTag"},{id:"dolphins",translationKey:"dolphinsTag"},{id:"seahorses",translationKey:"seahorsesTag"},{id:"frogfish",translationKey:"frogfishTag"},{id:"reef-fish",translationKey:"reefFishTag"},{id:"pelagics",translationKey:"pelagicsTag"}]},{id:"dive-characteristics",translationKey:"diveCharacteristicsTagCategory",tags:[{id:"photography",translationKey:"photographyTag"},{id:"night-dive",translationKey:"nightDiveTag"},{id:"drift-dive",translationKey:"driftDiveTag"},{id:"deep-dive",translationKey:"deepDiveTag"},{id:"technical-dive",translationKey:"technicalDiveTag"},{id:"beginner-friendly",translationKey:"beginnerFriendlyTag"},{id:"advanced-only",translationKey:"advancedOnlyTag"},{id:"historical",translationKey:"historicalTag"},{id:"biodiversity-hotspot",translationKey:"biodiversityHotspotTag"},{id:"conservation-area",translationKey:"conservationAreaTag"},{id:"cold-water",translationKey:"coldWaterTag"},{id:"warm-water",translationKey:"warmWaterTag"}]},{id:"features",translationKey:"featuresTagCategory",tags:[{id:"swim-throughs",translationKey:"swimThroughsTag"},{id:"canyons",translationKey:"canyonsTag"},{id:"caves",translationKey:"cavesTag"},{id:"overhangs",translationKey:"overhangsTag"},{id:"soft-corals",translationKey:"softCoralsTag"},{id:"hard-corals",translationKey:"hardCoralsTag"},{id:"anemones",translationKey:"anemonesTag"}]},{id:"location",translationKey:"locationTagCategory",tags:[{id:"caribbean",translationKey:"caribbeanTag"},{id:"pacific",translationKey:"pacificTag"},{id:"red-sea",translationKey:"redSeaTag"},{id:"indian-ocean",translationKey:"indianOceanTag"},{id:"tropical",translationKey:"tropicalTag"},{id:"temperate",translationKey:"temperateTag"}]}],J4=o=>X4.find(l=>l.id===o),W4=o=>zw.find(l=>l.id===o),Y4=o=>Rw.find(l=>l.id===o),Q4=o=>Z4.find(l=>l.id===o),e5=o=>{for(const l of $4){const p=l.tags.find(g=>g.id===o);if(p)return{...p,categoryId:l.id}}return null},t5=({site:o,onClose:l,t:p})=>{const[g,C]=fe.useState(!1),[D,w]=fe.useState(!0);if(fe.useEffect(()=>{w(!0)},[o]),!o)return null;const c=()=>{w(!1)},R=()=>{D||l()},k=180,G=Object.keys(o).filter(Le=>/^descriptionP\d+Key$/.test(Le)).map(Le=>p(o[Le])).filter(Le=>typeof Le=="string"&&Le.trim().length>0),Z=G[0]||"",ae=Z.length>k||G.length>1,Ie=g||!ae?Z:Z.slice(0,k)+"…",Ve=Le=>{switch(Le){case"marine-life":return"bg-green-100 text-green-800";case"dive-characteristics":return"bg-blue-100 text-blue-800";case"features":return"bg-yellow-100 text-yellow-800";case"location":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},we=L.jsx(Eh,{children:D&&L.jsx(Rt.div,{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/30 p-4",initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",stiffness:300,damping:30},onClick:c,onAnimationComplete:R,children:L.jsxs(Rt.div,{className:"relative bg-white max-w-3xl w-full max-h-[90vh] overflow-y-auto rounded-xl shadow-lg p-6",onClick:Le=>Le.stopPropagation(),children:[L.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-2xl text-gray-700 font-bold",children:"✕"}),L.jsx("h2",{className:"text-xl font-semibold text-brand-primary-dark mb-2",children:p(o.nameKey)}),o.typeIds?.length>0&&L.jsx("p",{className:"text-xs text-brand-primary-light italic mb-2",children:o.typeIds.map((Le,Oe)=>{const ot=Y4(Le);return L.jsxs("span",{children:[ot?p(ot.translationKey):Le,Oe<o.typeIds.length-1&&" · "]},Le)})}),G.length>0&&L.jsxs("div",{className:"text-sm text-brand-primary-medium mb-4 text-justify  space-y-3",children:[L.jsxs("p",{children:[Ie,ae&&!g&&L.jsx("button",{onClick:()=>C(!0),className:"ml-1 underline text-brand-cta-orange hover:text-brand-primary-dark transition text-sm",children:p("map:viewMoreLabel")})]}),g&&G.slice(1).map((Le,Oe)=>L.jsx("p",{children:Le},Oe))]}),L.jsxs("ul",{className:"text-sm space-y-2",children:[o.maxDepth&&L.jsxs("li",{className:"text-sm",children:[L.jsxs("span",{className:"font-bold text-brand-primary-dark",children:[p("divesites:depthLabel"),":"]})," ",L.jsx("span",{className:"text-brand-primary-light",children:o.maxDepth})]}),o.levelRequiredId&&L.jsxs("li",{className:"text-sm",children:[L.jsxs("span",{className:"font-bold text-brand-primary-dark",children:[p("divesites:levelRequiredLabel"),":"]})," ",L.jsx("span",{className:"text-brand-primary-light",children:(()=>{const Le=J4(o.levelRequiredId);return Le?p(Le.translationKey):o.levelRequiredId})()})]}),o.difficultyId&&L.jsxs("li",{className:"text-sm",children:[L.jsxs("span",{className:"font-bold text-brand-primary-dark",children:[p("divesites:difficultyLabel"),":"]})," ",L.jsx("span",{className:"text-brand-primary-light",children:(()=>{const Le=W4(o.difficultyId);return Le?p(Le.translationKey):o.difficultyId})()})]}),o.conditionsIds?.length>0&&L.jsxs("li",{className:"text-sm",children:[L.jsxs("span",{className:"font-bold text-brand-primary-dark",children:[p("divesites:conditionsLabel"),":"]})," ",L.jsx("span",{className:"text-brand-primary-light",children:o.conditionsIds.map((Le,Oe)=>{const ot=Q4(Le);return L.jsxs("span",{children:[ot?p(ot.translationKey):Le,Oe<o.conditionsIds.length-1&&", "]},Le)})})]})]}),o.photos?.length>0&&L.jsx("div",{className:"mt-6 flex flex-wrap gap-4 justify-center",children:o.photos.map((Le,Oe)=>L.jsx("div",{className:"w-full sm:w-[48%] lg:w-[31%]",children:L.jsx(kh,{imageData:Le,translationNS:"divesites",className:"rounded-xl overflow-hidden shadow-md"})},Oe))}),o.tagsIds?.length>0&&L.jsxs("div",{className:"mt-6",children:[L.jsx("h4",{className:"text-sm font-bold text-brand-primary-dark mb-2",children:p("divesites:tagsLabel")||"Etiquetas"}),L.jsx("div",{className:"flex flex-wrap gap-2",children:o.tagsIds.map(Le=>{const Oe=e5(Le);if(!Oe)return null;const ot=Ve(Oe.categoryId);return L.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ot}`,children:p(Oe.translationKey)},Oe.id)})})]})]})})});return O_.createPortal(we,document.body)},a5={id:"santa-marta",center:[-74.207543,11.236111],zoom:10,minZoom:10,maxZoom:16,sites:[{id:"bajo-del-pescador-sm",nameKey:"bajoDelPescadorSmName",destinationId:"santa-marta",coordinates:[-74.19631,11.31663],countryKey:"colombiaCountryKey",maxDepth:"18 m / 60 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","good-visibility"],descriptionP1Key:"bajoDelPescadorSmDescriptionP1",descriptionP2Key:"bajoDelPescadorSmDescriptionP2",tagsIds:["reef-fish","hard-corals","turtles","warm-water","beginner-friendly","biodiversity-hotspot"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDelPescadorSm+Reef",mainLogo:qe,mainLogoAltKey:"bajoDelPescadorSmXXMainLogoAlt",photoCreditKey:"bajoDelPescadorSmXXPhotoCredit",variant:"horizontal"}]},{id:"barcaza-profunda-sm",nameKey:"barcazaProfundaSmName",destinationId:"santa-marta",coordinates:[-74.22322,11.25151],countryKey:"colombiaCountryKey",maxDepth:"40 m / 130 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"hard",typeIds:["wreck"],conditionsIds:["boat-entry","deep","good-visibility"],descriptionP1Key:"barcazaProfundaSmDescriptionP1",descriptionP2Key:"barcazaProfundaSmDescriptionP2",tagsIds:["historical","technical-dive","reef-fish","hard-corals","warm-water","advanced-only"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=barcazaProfundaSm+Reef",mainLogo:qe,mainLogoAltKey:"barcazaProfundaSmXXMainLogoAlt",photoCreditKey:"barcazaProfundaSmXXPhotoCredit",variant:"horizontal"}]},{id:"barco-hundido-sm",nameKey:"barcoHundidoSmName",destinationId:"santa-marta",coordinates:[-74.238819,11.21381],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"medium",typeIds:["wreck"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"barcoHundidoSmDescriptionP1",descriptionP2Key:"barcoHundidoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","historical","advanced-only","warm-water","biodiversity-hotspot","swim-throughs"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=barcoHundidoSm+Reef",mainLogo:qe,mainLogoAltKey:"barcoHundidoSmXXMainLogoAlt",photoCreditKey:"barcoHundidoSmXXPhotoCredit",variant:"horizontal"}]},{id:"caga-pajaro-sm",nameKey:"cagaPajaroSmName",destinationId:"santa-marta",coordinates:[-74.20035,11.32104],countryKey:"colombiaCountryKey",maxDepth:"40 m / 130 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","moderate-current","deep"],descriptionP1Key:"cagaPajaroSmDescriptionP1",descriptionP2Key:"cagaPajaroSmDescriptionP2",tagsIds:["reef-fish","hard-corals","turtles","sharks","barracuda","advanced-only","warm-water","biodiversity-hotspot","deep-dive","historical"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=cagaPajaroSm+Reef",mainLogo:qe,mainLogoAltKey:"cagaPajaroSmXXMainLogoAlt",photoCreditKey:"cagaPajaroSmXXPhotoCredit",variant:"horizontal"}]},{id:"calderon-sm",nameKey:"calderonSmName",destinationId:"santa-marta",coordinates:[-74.235234,11.212113],countryKey:"colombiaCountryKey",maxDepth:"18 m / 60 ft",levelRequiredId:"none",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","shore-entry","good-visibility"],descriptionP1Key:"calderonSmDescriptionP1",descriptionP2Key:"calderonSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","nudibranchs","macro-life","beginner-friendly","warm-water","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=calderonSm+Reef",mainLogo:qe,mainLogoAltKey:"calderonSmXXMainLogoAlt",photoCreditKey:"calderonSmXXPhotoCredit",variant:"horizontal"}]},{id:"calichan-sm",nameKey:"calichanSmName",destinationId:"santa-marta",coordinates:[-74.20035,11.32104],countryKey:"colombiaCountryKey",maxDepth:"40 m / 130 ft",levelRequiredId:"none",difficultyId:"easy",typeIds:["reef"],conditionsIds:["shore-entry","boat-entry","variable-visibility","mild-current","calm-surface","deep"],descriptionP1Key:"calichanSmDescriptionP1",descriptionP2Key:"calichanSmDescriptionP2",tagsIds:["reef-fish","hard-corals","macro-life","beginner-friendly","advanced-only","deep-dive","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=calichanSm+Reef",mainLogo:qe,mainLogoAltKey:"calichanSmXXMainLogoAlt",photoCreditKey:"calichanSmXXPhotoCredit",variant:"horizontal"}]},{id:"cantil-granate-sm",nameKey:"cantilGranateSmName",destinationId:"santa-marta",coordinates:[-74.19468,11.30207],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["wall"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"cantilGranateSmDescriptionP1",descriptionP2Key:"cantilGranateSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","swim-throughs","night-dive","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=cantilGranateSm+Reef",mainLogo:qe,mainLogoAltKey:"cantilGranateSmXXMainLogoAlt",photoCreditKey:"cantilGranateSmXXPhotoCredit",variant:"horizontal"}]},{id:"el-coro-sm",nameKey:"elCoroSmName",destinationId:"santa-marta",coordinates:[-74.19128,11.3159],countryKey:"colombiaCountryKey",maxDepth:"40 m / 130 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"hard",typeIds:["pinnacle"],conditionsIds:["boat-entry","moderate-current","strong-current","deep"],descriptionP1Key:"elCoroSmDescriptionP1",descriptionP2Key:"elCoroSmDescriptionP2",tagsIds:["reef-fish","sharks","macro-life","advanced-only","deep-dive","warm-water","biodiversity-hotspot","caves","swim-throughs","pelagics"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elCoroSm+Reef",mainLogo:qe,mainLogoAltKey:"elCoroSmXXMainLogoAlt",photoCreditKey:"elCoroSmXXPhotoCredit",variant:"horizontal"}]},{id:"el-morro-chico-sm",nameKey:"elMorroChicoSmName",destinationId:"santa-marta",coordinates:[-74.22273,11.25143],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["drift"],conditionsIds:["boat-entry","variable-visibility","moderate-current","surge"],descriptionP1Key:"elMorroChicoSmDescriptionP1",descriptionP2Key:"elMorroChicoSmDescriptionP2",tagsIds:["reef-fish","soft-corals","hard-corals","drift-dive","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elMorroChicoSm+Reef",mainLogo:qe,mainLogoAltKey:"elMorroChicoSmXXMainLogoAlt",photoCreditKey:"elMorroChicoSmXXPhotoCredit",variant:"horizontal"}]},{id:"el-remanso-sm",nameKey:"elRemansoSmName",destinationId:"santa-marta",coordinates:[-74.20528,11.27109],countryKey:"colombiaCountryKey",maxDepth:"12 m / 40 ft",levelRequiredId:"none",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","calm-surface","mild-current","good-visibility"],descriptionP1Key:"elRemansoSmDescriptionP1",descriptionP2Key:"elRemansoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","beginner-friendly","warm-water","night-dive","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elRemansoSm+Reef",mainLogo:qe,mainLogoAltKey:"elRemansoSmXXMainLogoAlt",photoCreditKey:"elRemansoSmXXPhotoCredit",variant:"horizontal"}]},{id:"el-torin-sm",nameKey:"elTorinSmName",destinationId:"santa-marta",coordinates:[-74.19078,11.31103],countryKey:"colombiaCountryKey",maxDepth:"20 m / 65 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","good-visibility","calm-surface"],descriptionP1Key:"elTorinSmDescriptionP1",descriptionP2Key:"elTorinSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","biodiversity-hotspot","warm-water","photography","beginner-friendly"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elTorinSm+Reef",mainLogo:qe,mainLogoAltKey:"elTorinSmXXMainLogoAlt",photoCreditKey:"elTorinSmXXPhotoCredit",variant:"horizontal"}]},{id:"inca-inca-sm",nameKey:"incaIncaSmName",destinationId:"santa-marta",coordinates:[-74.23471,11.21601],countryKey:"colombiaCountryKey",maxDepth:"12 m / 40 ft",levelRequiredId:"none",difficultyId:"easy",typeIds:["reef"],conditionsIds:["shore-entry","calm-surface","good-visibility"],descriptionP1Key:"incaIncaSmDescriptionP1",descriptionP2Key:"incaIncaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","macro-life","beginner-friendly","warm-water","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=incaIncaSm+Reef",mainLogo:qe,mainLogoAltKey:"incaIncaSmXXMainLogoAlt",photoCreditKey:"incaIncaSmXXPhotoCredit",variant:"horizontal"}]},{id:"la-antena-sm",nameKey:"laAntenaSmName",destinationId:"santa-marta",coordinates:[-74.2,11.261171],countryKey:"colombiaCountryKey",maxDepth:"18 m / 60 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","mild-current"],descriptionP1Key:"laAntenaSmDescriptionP1",descriptionP2Key:"laAntenaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","nudibranchs","photography","beginner-friendly","warm-water"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laAntenaSm+Reef",mainLogo:qe,mainLogoAltKey:"laAntenaSmXXMainLogoAlt",photoCreditKey:"laAntenaSmXXPhotoCredit",variant:"horizontal"}]},{id:"la-pecera-sm",nameKey:"laPeceraSmName",destinationId:"santa-marta",coordinates:[-74.1917,11.29571],countryKey:"colombiaCountryKey",maxDepth:"18 m / 60 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","calm-surface","good-visibility","mild-current"],descriptionP1Key:"laPeceraSmDescriptionP1",descriptionP2Key:"laPeceraSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","turtles","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laPeceraSm+Reef",mainLogo:qe,mainLogoAltKey:"laPeceraSmXXMainLogoAlt",photoCreditKey:"laPeceraSmXXPhotoCredit",variant:"horizontal"}]},{id:"la-piedra-del-chivo-sm",nameKey:"laPiedraDelChivoSmName",destinationId:"santa-marta",coordinates:[-74.19479,11.32248],countryKey:"colombiaCountryKey",maxDepth:"15 m / 50 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","calm-surface","good-visibility","mild-current"],descriptionP1Key:"laPiedraDelChivoSmDescriptionP1",descriptionP2Key:"laPiedraDelChivoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","beginner-friendly","warm-water","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laPiedraDelChivoSm+Reef",mainLogo:qe,mainLogoAltKey:"laPiedraDelChivoSmXXMainLogoAlt",photoCreditKey:"laPiedraDelChivoSmXXPhotoCredit",variant:"horizontal"}]},{id:"la-piedra-del-medio-sm",nameKey:"laPiedraDelMedioSmName",destinationId:"santa-marta",coordinates:[-74.19446,11.29695],countryKey:"colombiaCountryKey",maxDepth:"25 m / 80 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"laPiedraDelMedioSmDescriptionP1",descriptionP2Key:"laPiedraDelMedioSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","barracuda","pelagics","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laPiedraDelMedioSm+Reef",mainLogo:qe,mainLogoAltKey:"laPiedraDelMedioSmXXMainLogoAlt",photoCreditKey:"laPiedraDelMedioSmXXPhotoCredit",variant:"horizontal"}]},{id:"la-travesia-sm",nameKey:"laTravesiaSmName",destinationId:"santa-marta",coordinates:[-74.19256,11.30703],countryKey:"colombiaCountryKey",maxDepth:"25 m / 80 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"medium",typeIds:["wall"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"laTravesiaSmDescriptionP1",descriptionP2Key:"laTravesiaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","barracuda","pelagics","drift-dive","warm-water","biodiversity-hotspot","photography","canyons"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laTravesiaSm+Reef",mainLogo:qe,mainLogoAltKey:"laTravesiaSmXXMainLogoAlt",photoCreditKey:"laTravesiaSmXXPhotoCredit",variant:"horizontal"}]},{id:"la-vuelta-negra-sm",nameKey:"laVueltaNegraSmName",destinationId:"santa-marta",coordinates:[-74.1905,11.31878],countryKey:"colombiaCountryKey",maxDepth:"25 m / 80 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["wall"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"laVueltaNegraSmDescriptionP1",descriptionP2Key:"laVueltaNegraSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","canyons","overhangs","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laVueltaNegraSm+Reef",mainLogo:qe,mainLogoAltKey:"laVueltaNegraSmXXMainLogoAlt",photoCreditKey:"laVueltaNegraSmXXPhotoCredit",variant:"horizontal"}]},{id:"langostas-sm",nameKey:"langostasSmName",destinationId:"santa-marta",coordinates:[-74.19552,11.285358],countryKey:"colombiaCountryKey",maxDepth:"20 m / 65 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","mild-current"],descriptionP1Key:"langostasSmDescriptionP1",descriptionP2Key:"langostasSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","canyons","swim-throughs","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laVueltaNegraSm+Reef",mainLogo:qe,mainLogoAltKey:"laVueltaNegraSmXXMainLogoAlt",photoCreditKey:"laVueltaNegraSmXXPhotoCredit",variant:"horizontal"}]},{id:"las-barcazas-sm",nameKey:"lasBarcazasSmName",destinationId:"santa-marta",coordinates:[-74.221257,11.251176],countryKey:"colombiaCountryKey",maxDepth:"35 m / 115 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["wreck"],conditionsIds:["boat-entry","variable-visibility","mild-current"],descriptionP1Key:"lasBarcazasSmDescriptionP1",descriptionP2Key:"lasBarcazasSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","historical","advanced-only","warm-water","biodiversity-hotspot","photography","swim-throughs"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=lasBarcazasSm+Reef",mainLogo:qe,mainLogoAltKey:"lasBarcazasSmXXMainLogoAlt",photoCreditKey:"lasBarcazasSmXXPhotoCredit",variant:"horizontal"}]},{id:"los-carros-sm",nameKey:"losCarrosSmName",destinationId:"santa-marta",coordinates:[-74.19123,11.2917],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:["reef"],conditionsIds:[""],descriptionP1Key:"losCarrosSmDescriptionP1",descriptionP2Key:"losCarrosSmDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=losCarrosSm+Reef",mainLogo:qe,mainLogoAltKey:"losCarrosSmXXMainLogoAlt",photoCreditKey:"losCarrosSmXXPhotoCredit",variant:"horizontal"}]},{id:"sisiguaca-sm",nameKey:"sisiguacaSmName",destinationId:"santa-marta",coordinates:[-74.203385,11.270821],countryKey:"colombiaCountryKey",maxDepth:"20 m / 65 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"sisiguacaSmDescriptionP1",descriptionP2Key:"sisiguacaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","barracuda","canyons","swim-throughs","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=sisiguacaSm+Reef",mainLogo:qe,mainLogoAltKey:"sisiguacaSmXXMainLogoAlt",photoCreditKey:"sisiguacaSmXXPhotoCredit",variant:"horizontal"}]},{id:"morrito-largo-sm",nameKey:"morritoLargoSmName",destinationId:"santa-marta",coordinates:[-74.20299,11.31734],countryKey:"colombiaCountryKey",maxDepth:"75 m / 245 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"hard",typeIds:["pinnacle"],conditionsIds:["boat-entry","variable-visibility","strong-current","deep"],descriptionP1Key:"morritoLargoSmDescriptionP1",descriptionP2Key:"morritoLargoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","advanced-only","technical-dive","deep-dive","drift-dive","warm-water","biodiversity-hotspot","photography","pelagics"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=morritoLargoSm+Reef",mainLogo:qe,mainLogoAltKey:"morritoLargoSmXXMainLogoAlt",photoCreditKey:"morritoLargoSmXXPhotoCredit",variant:"horizontal"}]},{id:"morro-gaira-sm",nameKey:"morroGairaSmName",destinationId:"santa-marta",coordinates:[-74.23959,11.20806],countryKey:"colombiaCountryKey",maxDepth:"25 m / 80 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","mild-current","moderate-current"],descriptionP1Key:"morroGairaSmDescriptionP1",descriptionP2Key:"morroGairaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=morroGairaSm+Reef",mainLogo:qe,mainLogoAltKey:"morroGairaSmXXMainLogoAlt",photoCreditKey:"morroGairaSmXXPhotoCredit",variant:"horizontal"}]},{id:"morro-santa-marta-sm",nameKey:"morroSantaMartaSmName",destinationId:"santa-marta",coordinates:[-74.23193,11.24918],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","strong-current","surge"],descriptionP1Key:"morroSantaMartaSmDescriptionP1",descriptionP2Key:"morroSantaMartaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","barracuda","pelagics","advanced-only","warm-water","biodiversity-hotspot","photography","historical"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=morroSantaMartaSm+Reef",mainLogo:qe,mainLogoAltKey:"morroSantaMartaSmXXMainLogoAlt",photoCreditKey:"morroSantaMartaSmXXPhotoCredit",variant:"horizontal"}]},{id:"oceano-sm",nameKey:"oceanoSmName",destinationId:"santa-marta",coordinates:[-74.19279,11.29691],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["drift"],conditionsIds:["boat-entry","variable-visibility","strong-current","deep"],descriptionP1Key:"oceanoSmDescriptionP1",descriptionP2Key:"oceanoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","pelagics","barracuda","drift-dive","advanced-only","deep-dive","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=oceanoSm+Reef",mainLogo:qe,mainLogoAltKey:"oceanoSmXXMainLogoAlt",photoCreditKey:"oceanoSmXXPhotoCredit",variant:"horizontal"}]},{id:"paneles-sm",nameKey:"panelesSmName",destinationId:"santa-marta",coordinates:[-74.20007,11.32509],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"expert",typeIds:["pinnacle"],conditionsIds:["boat-entry","strong-current","good-visibility","deep"],descriptionP1Key:"panelesSmDescriptionP1",descriptionP2Key:"panelesSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","pelagics","barracuda","turtles","advanced-only","technical-dive","deep-dive","drift-dive","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=panelesSm+Reef",mainLogo:qe,mainLogoAltKey:"panelesSmXXMainLogoAlt",photoCreditKey:"panelesSmXXPhotoCredit",variant:"horizontal"}]},{id:"paraiso-sm",nameKey:"paraisoSmName",destinationId:"santa-marta",coordinates:[-74.1956,11.28902],countryKey:"colombiaCountryKey",maxDepth:"15 m / 50 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","calm-surface","good-visibility","mild-current"],descriptionP1Key:"paraisoSmDescriptionP1",descriptionP2Key:"paraisoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=paraisoSm+Reef",mainLogo:qe,mainLogoAltKey:"paraisoSmXXMainLogoAlt",photoCreditKey:"paraisoSmXXPhotoCredit",variant:"horizontal"}]},{id:"paso-del-angel-sm",nameKey:"pasoDelAngelSmName",destinationId:"santa-marta",coordinates:[-74.20135,11.31801],countryKey:"colombiaCountryKey",maxDepth:"40 m / 130 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"medium",typeIds:["drift"],conditionsIds:["boat-entry","variable-visibility","moderate-current","strong-current","deep"],descriptionP1Key:"pasoDelAngelSmDescriptionP1",descriptionP2Key:"pasoDelAngelSmDescriptionP2",tagsIds:["reef-fish","angel-fish","moray-eels","lobsters","seahorses","hard-corals","soft-corals","schooling-fish","pelagics","drift-dive","advanced-only","deep-dive","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=pasoDelAngelSm+Reef",mainLogo:qe,mainLogoAltKey:"pasoDelAngelSmXXMainLogoAlt",photoCreditKey:"pasoDelAngelSmXXPhotoCredit",variant:"horizontal"}]},{id:"playaca-sm",nameKey:"playacaSmName",destinationId:"santa-marta",coordinates:[-74.197457,11.26182],countryKey:"colombiaCountryKey",maxDepth:"18 m / 60 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","shore-entry","calm-surface","good-visibility","mild-current"],descriptionP1Key:"playacaSmDescriptionP1",descriptionP2Key:"playacaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=playacaSm+Reef",mainLogo:qe,mainLogoAltKey:"playacaSmXXMainLogoAlt",photoCreditKey:"playacaSmXXPhotoCredit",variant:"horizontal"}]},{id:"punta-aguja-sm",nameKey:"puntaAgujaSmName",destinationId:"santa-marta",coordinates:[-74.19941,11.31844],countryKey:"colombiaCountryKey",maxDepth:"30 m / 100 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["pinnacle"],conditionsIds:["boat-entry","variable-visibility","moderate-current","calm-surface"],descriptionP1Key:"puntaAgujaSmDescriptionP1",descriptionP2Key:"puntaAgujaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","barracuda","pelagics","turtles","beginner-friendly","advanced-only","warm-water","biodiversity-hotspot","photography","swim-throughs","canyons"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=puntaAgujaSm+Reef",mainLogo:qe,mainLogoAltKey:"puntaAgujaSmXXMainLogoAlt",photoCreditKey:"puntaAgujaSmXXPhotoCredit",variant:"horizontal"}]},{id:"punta-cabeza-de-negros-sm",nameKey:"puntaCabezaNegrosSmName",destinationId:"santa-marta",coordinates:[-74.2369,11.20972],countryKey:"colombiaCountryKey",maxDepth:"25 m / 80 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","moderate-current"],descriptionP1Key:"puntaCabezaNegrosSmDescriptionP1",descriptionP2Key:"puntaCabezaNegrosSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","moray-eels","lobsters","warm-water","biodiversity-hotspot","photography","canyons"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=puntaCabezaNegrosSm+Reef",mainLogo:qe,mainLogoAltKey:"puntaCabezaNegrosSmXXMainLogoAlt",photoCreditKey:"puntaCabezaNegrosSmXXPhotoCredit",variant:"horizontal"}]},{id:"punta-gaira-sm",nameKey:"puntaGairaSmName",destinationId:"santa-marta",coordinates:[-74.24067,11.21908],countryKey:"colombiaCountryKey",maxDepth:"15 m / 50 ft",levelRequiredId:"open-water-diver",difficultyId:"easy",typeIds:["reef"],conditionsIds:["boat-entry","calm-surface","good-visibility","mild-current"],descriptionP1Key:"puntaGairaSmDescriptionP1",descriptionP2Key:"puntaGairaSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","macro-life","beginner-friendly","warm-water","photography","snorkeling"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=puntaGairaSm+Reef",mainLogo:qe,mainLogoAltKey:"puntaGairaSmXXMainLogoAlt",photoCreditKey:"puntaGairaSmXXPhotoCredit",variant:"horizontal"}]},{id:"punta-granate-sm",nameKey:"puntaGranateSmName",destinationId:"santa-marta",coordinates:[-74.19361,11.29087],countryKey:"colombiaCountryKey",maxDepth:"20 m / 65 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","good-visibility","variable-visibility","mild-current"],descriptionP1Key:"puntaGranateSmDescriptionP1",descriptionP2Key:"puntaGranateSmDescriptionP2",tagsIds:["reef-fish","angel-fish","moray-eels","lobsters","nudibranchs","hard-corals","soft-corals","schooling-fish","pelagics","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=puntaGranateSm+Reef",mainLogo:qe,mainLogoAltKey:"puntaGranateSmXXMainLogoAlt",photoCreditKey:"puntaGranateSmXXPhotoCredit",variant:"horizontal"}]},{id:"punta-venado-sm",nameKey:"puntaVenadoSmName",destinationId:"santa-marta",coordinates:[-74.206387,11.272809],countryKey:"colombiaCountryKey",maxDepth:"18 m / 60 ft",levelRequiredId:"open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","calm-surface","good-visibility","mild-current"],descriptionP1Key:"puntaVenadoSmDescriptionP1",descriptionP2Key:"puntaVenadoSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","crustaceans","octopus","lobsters","macro-life","night-dive","beginner-friendly","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=puntaVenadoSm+Reef",mainLogo:qe,mainLogoAltKey:"puntaVenadoSmXXMainLogoAlt",photoCreditKey:"puntaVenadoSmXXPhotoCredit",variant:"horizontal"}]},{id:"salichan-sm",nameKey:"salichanSmName",destinationId:"santa-marta",coordinates:[-74.19327,11.31067],countryKey:"colombiaCountryKey",maxDepth:"35 m / 115 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"medium",typeIds:["reef"],conditionsIds:["boat-entry","variable-visibility","moderate-current","deep"],descriptionP1Key:"salichanSmDescriptionP1",descriptionP2Key:"salichanSmDescriptionP2",tagsIds:["reef-fish","hard-corals","soft-corals","schooling-fish","barracuda","pelagics","advanced-only","deep-dive","warm-water","biodiversity-hotspot","photography","canyons"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=salichanSm+Reef",mainLogo:qe,mainLogoAltKey:"salichanSmXXMainLogoAlt",photoCreditKey:"salichanSmXXPhotoCredit",variant:"horizontal"}]},{id:"salidero-sm",nameKey:"salideroSmName",destinationId:"santa-marta",coordinates:[-74.19248,11.30899],countryKey:"colombiaCountryKey",maxDepth:"14 m / 45 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"hard",typeIds:["drift"],conditionsIds:["boat-entry","variable-visibility","strong-current"],descriptionP1Key:"salideroSmDescriptionP1",descriptionP2Key:"salideroSmDescriptionP2",tagsIds:["reef-fish","hard-corals","schooling-fish","barracuda","pelagics","drift-dive","advanced-only","warm-water","biodiversity-hotspot","photography"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=salideroSm+Reef",mainLogo:qe,mainLogoAltKey:"salideroSmXXMainLogoAlt",photoCreditKey:"salideroSmXXPhotoCredit",variant:"horizontal"}]},{id:"el-natalia-sm",nameKey:"elNataliaSmName",destinationId:"santa-marta",coordinates:[-74.238627,11.205035],countryKey:"colombiaCountryKey",maxDepth:"32 m / 105 ft",levelRequiredId:"advanced-open-water-diver",difficultyId:"medium",typeIds:["wreck"],conditionsIds:["boat-entry","good-visibility","mild-current","deep"],descriptionP1Key:"elNataliaSmDescriptionP1",descriptionP2Key:"elNataliaSmDescriptionP2",tagsIds:["reef-fish","groupers","schooling-fish","gobies","blennies","hard-corals","soft-corals","macro-life","historical","advanced-only","warm-water","biodiversity-hotspot","photography","swim-throughs"],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elNataliaSm+Reef",mainLogo:qe,mainLogoAltKey:"elNataliaSmXXMainLogoAlt",photoCreditKey:"elNataliaSmXXPhotoCredit",variant:"horizontal"}]}]},i5={id:"providencia",center:[-81.405281,13.397089],zoom:10,minZoom:10,maxZoom:16,sites:[{id:"turtle-rock-prov",nameKey:"turtleRockProvName",destinationId:"providencia",coordinates:[-81.40537439009262,13.389974950957608],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"turtleRockProvDescriptionP1",descriptionP2Key:"turtleRockProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=turtleRockProv+Reef",mainLogo:qe,mainLogoAltKey:"turtleRockProvXXMainLogoAlt",photoCreditKey:"turtleRockProvXXPhotoCredit",variant:"horizontal"}]},{id:"mantas-city-prov",nameKey:"mantasCityProvName",destinationId:"providencia",coordinates:[-81.37853634485339,13.312914213771165],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"mantasCityProvDescriptionP1",descriptionP2Key:"mantasCityProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=mantasCityProv+Reef",mainLogo:qe,mainLogoAltKey:"mantasCityProvXXMainLogoAlt",photoCreditKey:"mantasCityProvXXPhotoCredit",variant:"horizontal"}]},{id:"planchon-prov",nameKey:"planchonProvName",destinationId:"providencia",coordinates:[-81.40814570998155,13.357195213219228],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"planchonProvDescriptionP1",descriptionP2Key:"planchonProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=planchonProv+Reef",mainLogo:qe,mainLogoAltKey:"planchonProvXXMainLogoAlt",photoCreditKey:"planchonProvXXPhotoCredit",variant:"horizontal"}]},{id:"felipes-place-prov",nameKey:"felipesPlaceProvName",destinationId:"providencia",coordinates:[-81.40304064702852,13.365000317013099],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"felipesPlaceProvDescriptionP1",descriptionP2Key:"felipesPlaceProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=felipesPlaceProv+Reef",mainLogo:qe,mainLogoAltKey:"felipesPlaceProvXXMainLogoAlt",photoCreditKey:"felipesPlaceProvXXPhotoCredit",variant:"horizontal"}]},{id:"nicks-place-prov",nameKey:"nicksPlaceProvName",destinationId:"providencia",coordinates:[-81.40493681326822,13.380893565456148],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"nicksPlaceProvDescriptionP1",descriptionP2Key:"nicksPlaceProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=nicksPlaceProv+Reef",mainLogo:qe,mainLogoAltKey:"nicksPlaceProvXXMainLogoAlt",photoCreditKey:"nicksPlaceProvXXPhotoCredit",variant:"horizontal"}]},{id:"tetes-place-prov",nameKey:"tetesPlaceProvName",destinationId:"providencia",coordinates:[-81.40697883844926,13.333210678763905],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"tetesPlaceProvDescriptionP1",descriptionP2Key:"tetesPlaceProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=tetesPlaceProv+Reef",mainLogo:qe,mainLogoAltKey:"tetesPlaceProvXXMainLogoAlt",photoCreditKey:"tetesPlaceProvXXPhotoCredit",variant:"horizontal"}]},{id:"balsat-place-prov",nameKey:"balsatPlaceProvName",destinationId:"providencia",coordinates:[-81.3556364910354,13.391819565527683],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"balsatPlaceProvDescriptionP1",descriptionP2Key:"balsatPlaceProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=balsatPlaceProv+Reef",mainLogo:qe,mainLogoAltKey:"balsatPlaceProvXXMainLogoAlt",photoCreditKey:"balsatPlaceProvXXPhotoCredit",variant:"horizontal"}]},{id:"cayo-cangrejo-prov",nameKey:"cayoCangrejoProvName",destinationId:"providencia",coordinates:[-81.33871685381965,13.372095646714499],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"cayoCangrejoProvDescriptionP1",descriptionP2Key:"cayoCangrejoProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=cayoCangrejoProv+Reef",mainLogo:qe,mainLogoAltKey:"cayoCangrejoProvXXMainLogoAlt",photoCreditKey:"cayoCangrejoProvXXPhotoCredit",variant:"horizontal"}]},{id:"bahia-aguamansa-prov",nameKey:"bahiaAguamansaProvName",destinationId:"providencia",coordinates:[-81.36147084869636,13.328810890357957],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bahiaAguamansaProvDescriptionP1",descriptionP2Key:"bahiaAguamansaProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bahiaAguamansaProv+Reef",mainLogo:qe,mainLogoAltKey:"bahiaAguamansaProvXXMainLogoAlt",photoCreditKey:"bahiaAguamansaProvXXPhotoCredit",variant:"horizontal"}]},{id:"bajo-de-los-pargos-prov",nameKey:"bajoDeLosPargosProvName",destinationId:"providencia",coordinates:[-81.36890965471346,13.308088230382339],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoDeLosPargosProvDescriptionP1",descriptionP2Key:"bajoDeLosPargosProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDeLosPargosProv+Reef",mainLogo:qe,mainLogoAltKey:"bajoDeLosPargosProvXXMainLogoAlt",photoCreditKey:"bajoDeLosPargosProvXXPhotoCredit",variant:"horizontal"}]},{id:"el-frances-prov",nameKey:"elFrancesProvName",destinationId:"providencia",coordinates:[-81.38845475287685,13.31504329351391],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elFrancesProvDescriptionP1",descriptionP2Key:"elFrancesProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elFrancesProv+Reef",mainLogo:qe,mainLogoAltKey:"elFrancesProvXXMainLogoAlt",photoCreditKey:"elFrancesProvXXPhotoCredit",variant:"horizontal"}]},{id:"snaper-sure-prov",nameKey:"snaperSureProvName",destinationId:"providencia",coordinates:[-81.40187377549624,13.3184497821549],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"snaperSureProvDescriptionP1",descriptionP2Key:"snaperSureProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=snaperSureProv+Reef",mainLogo:qe,mainLogoAltKey:"snaperSureProvXXMainLogoAlt",photoCreditKey:"snaperSureProvXXPhotoCredit",variant:"horizontal"}]},{id:"la-cueva-prov",nameKey:"laCuevaProvName",destinationId:"providencia",coordinates:[-81.40683297950798,13.372805168198951],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laCuevaProvDescriptionP1",descriptionP2Key:"laCuevaProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laCuevaProv+Reef",mainLogo:qe,mainLogoAltKey:"laCuevaProvXXMainLogoAlt",photoCreditKey:"laCuevaProvXXPhotoCredit",variant:"horizontal"}]},{id:"cabeza-de-morgan-prov",nameKey:"cabezaDeMorganProvName",destinationId:"providencia",coordinates:[-81.39166364959017,13.377062253235422],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"cabezaDeMorganProvDescriptionP1",descriptionP2Key:"cabezaDeMorganProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=cabezaDeMorganProv+Reef",mainLogo:qe,mainLogoAltKey:"cabezaDeMorganProvXXMainLogoAlt",photoCreditKey:"cabezaDeMorganProvXXPhotoCredit",variant:"horizontal"}]},{id:"galeon-prov",nameKey:"galeonProvName",destinationId:"providencia",coordinates:[-81.39180950853147,13.391677672600949],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"galeonProvDescriptionP1",descriptionP2Key:"galeonProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=galeonProv+Reef",mainLogo:qe,mainLogoAltKey:"galeonProvXXMainLogoAlt",photoCreditKey:"galeonProvXXPhotoCredit",variant:"horizontal"}]},{id:"el-canal-prov",nameKey:"elCanalProvName",destinationId:"providencia",coordinates:[-81.39341395688811,13.401468088214628],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elCanalProvDescriptionP1",descriptionP2Key:"elCanalProvDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elCanalProv+Reef",mainLogo:qe,mainLogoAltKey:"elCanalProvXXMainLogoAlt",photoCreditKey:"elCanalProvXXPhotoCredit",variant:"horizontal"}]}]},n5=[-81.607506,4.003229],r5=14,o5={id:"malpelo",center:n5,zoom:r5,minZoom:12,maxZoom:16,sites:[{id:"la-catedral-malp",nameKey:"laCatedralMalpName",destinationId:"malpelo",coordinates:[-81.605783,4.01373],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laCatedralMalpDescriptionP1",descriptionP2Key:"laCatedralMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laCatedralMalp+Reef",mainLogo:qe,mainLogoAltKey:"laCatedralMalpMainLogoAlt",photoCreditKey:"laCatedralMalpPhotoCredit",variant:"horizontal"}]},{id:"dartagnan-malp",nameKey:"dartagnanMalpName",destinationId:"malpelo",coordinates:[-81.606677,4.012418],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"dartagnanMalpDescriptionP1",descriptionP2Key:"dartagnanMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=dartagnanMalp+Reef",mainLogo:qe,mainLogoAltKey:"dartagnanMalpMainLogoAlt",photoCreditKey:"dartagnanMalpPhotoCredit",variant:"horizontal"}]},{id:"bajo-del-ancla-malp",nameKey:"bajoDelAnclaMalpName",destinationId:"malpelo",coordinates:[-81.60622,4.011447],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoDelAnclaMalpDescriptionP1",descriptionP2Key:"bajoDelAnclaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDelAnclaMalp+Reef",mainLogo:qe,mainLogoAltKey:"bajoDelAnclaMalpMainLogoAlt",photoCreditKey:"bajoDelAnclaMalpPhotoCredit",variant:"horizontal"}]},{id:"bajo-del-cholo-malp",nameKey:"bajoDelCholoMalpName",destinationId:"malpelo",coordinates:[-81.607517,4.01198],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoDelCholoMalpDescriptionP1",descriptionP2Key:"bajoDelCholoMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDelCholoMalp+Reef",mainLogo:qe,mainLogoAltKey:"bajoDelCholoMalpMainLogoAlt",photoCreditKey:"bajoDelCholoMalpPhotoCredit",variant:"horizontal"}]},{id:"el-acuario-malp",nameKey:"elAcuarioMalpName",destinationId:"malpelo",coordinates:[-81.609004,4.01295],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elAcuarioMalpDescriptionP1",descriptionP2Key:"elAcuarioMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elAcuarioMalp+Reef",mainLogo:qe,mainLogoAltKey:"elAcuarioMalpMainLogoAlt",photoCreditKey:"elAcuarioMalpPhotoCredit",variant:"horizontal"}]},{id:"la-pared-del-naufrago-malp",nameKey:"laParedDelNaufragoMalpName",destinationId:"malpelo",coordinates:[-81.60659,4.008899],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laParedDelNaufragoMalpDescriptionP1",descriptionP2Key:"laParedDelNaufragoMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laParedDelNaufragoMalp+Reef",mainLogo:qe,mainLogoAltKey:"laParedDelNaufragoMalpMainLogoAlt",photoCreditKey:"laParedDelNaufragoMalpPhotoCredit",variant:"horizontal"}]},{id:"el-freezer-malp",nameKey:"elFreezerMalpName",destinationId:"malpelo",coordinates:[-81.609413,4.006022],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elFreezerMalpDescriptionP1",descriptionP2Key:"elFreezerMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elFreezerMalp+Reef",mainLogo:qe,mainLogoAltKey:"elFreezerMalpMainLogoAlt",photoCreditKey:"elFreezerMalpPhotoCredit",variant:"horizontal"}]},{id:"aquamarina-malp",nameKey:"aquamarinaMalpName",destinationId:"malpelo",coordinates:[-81.610865,4.003769],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"aquamarinaMalpDescriptionP1",descriptionP2Key:"aquamarinaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=aquamarinaMalp+Reef",mainLogo:qe,mainLogoAltKey:"aquamarinaMalpMainLogoAlt",photoCreditKey:"aquamarinaMalpPhotoCredit",variant:"horizontal"}]},{id:"el-mirador-malp",nameKey:"elMiradorMalpName",destinationId:"malpelo",coordinates:[-81.61209,4.003236],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elMiradorMalpDescriptionP1",descriptionP2Key:"elMiradorMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elMiradorMalp+Reef",mainLogo:qe,mainLogoAltKey:"elMiradorMalpMainLogoAlt",photoCreditKey:"elMiradorMalpPhotoCredit",variant:"horizontal"}]},{id:"la-nevera-malp",nameKey:"laNeveraMalpName",destinationId:"malpelo",coordinates:[-81.61132,4.00205],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laNeveraMalpDescriptionP1",descriptionP2Key:"laNeveraMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laNeveraMalp+Reef",mainLogo:qe,mainLogoAltKey:"laNeveraMalpMainLogoAlt",photoCreditKey:"laNeveraMalpPhotoCredit",variant:"horizontal"}]},{id:"la-puerta-del-cielo-malp",nameKey:"laPuertaDelCieloMalpName",destinationId:"malpelo",coordinates:[-81.612906,4.000515],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laPuertaDelCieloMalpDescriptionP1",descriptionP2Key:"laPuertaDelCieloMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laPuertaDelCieloMalp+Reef",mainLogo:qe,mainLogoAltKey:"laPuertaDelCieloMalpMainLogoAlt",photoCreditKey:"laPuertaDelCieloMalpPhotoCredit",variant:"horizontal"}]},{id:"el-sahara-malp",nameKey:"elSaharaMalpName",destinationId:"malpelo",coordinates:[-81.614771,3.998747],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elSaharaMalpDescriptionP1",descriptionP2Key:"elSaharaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elSaharaMalp+Reef",mainLogo:qe,mainLogoAltKey:"elSaharaMalpMainLogoAlt",photoCreditKey:"elSaharaMalpPhotoCredit",variant:"horizontal"}]},{id:"saul-malp",nameKey:"saulMalpName",destinationId:"malpelo",coordinates:[-81.614601,3.997185],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"saulMalpDescriptionP1",descriptionP2Key:"saulMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=saulMalp+Reef",mainLogo:qe,mainLogoAltKey:"saulMalpMainLogoAlt",photoCreditKey:"saulMalpPhotoCredit",variant:"horizontal"}]},{id:"la-gringa-malp",nameKey:"laGringaMalpName",destinationId:"malpelo",coordinates:[-81.616286,3.994273],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laGringaMalpDescriptionP1",descriptionP2Key:"laGringaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laGringaMalp+Reef",mainLogo:qe,mainLogoAltKey:"laGringaMalpMainLogoAlt",photoCreditKey:"laGringaMalpPhotoCredit",variant:"horizontal"}]},{id:"la-ferreteria-malp",nameKey:"laFerreteriaMalpName",destinationId:"malpelo",coordinates:[-81.616547,3.991883],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laFerreteriaMalpDescriptionP1",descriptionP2Key:"laFerreteriaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laFerreteriaMalp+Reef",mainLogo:qe,mainLogoAltKey:"laFerreteriaMalpMainLogoAlt",photoCreditKey:"laFerreteriaMalpPhotoCredit",variant:"horizontal"}]},{id:"la-ferreteria-malp",nameKey:"laFerreteriaMalpName",destinationId:"malpelo",coordinates:[-81.616547,3.991883],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laFerreteriaMalpDescriptionP1",descriptionP2Key:"laFerreteriaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laFerreteriaMalp+Reef",mainLogo:qe,mainLogoAltKey:"laFerreteriaMalpMainLogoAlt",photoCreditKey:"laFerreteriaMalpPhotoCredit",variant:"horizontal"}]},{id:"david-malp",nameKey:"davidMalpName",destinationId:"malpelo",coordinates:[-81.61452847798161,3.996131021199645],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"davidMalpDescriptionP1",descriptionP2Key:"davidMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=davidMalp+Reef",mainLogo:qe,mainLogoAltKey:"davidMalpMainLogoAlt",photoCreditKey:"davidMalpPhotoCredit",variant:"horizontal"}]},{id:"salomon-malp",nameKey:"salomonMalpName",destinationId:"malpelo",coordinates:[-81.61375845695589,3.997436772266113],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"salomonMalpDescriptionP1",descriptionP2Key:"salomonMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=salomonMalp+Reef",mainLogo:qe,mainLogoAltKey:"salomonMalpMainLogoAlt",photoCreditKey:"salomonMalpPhotoCredit",variant:"horizontal"}]},{id:"escuba-malp",nameKey:"escubaMalpName",destinationId:"malpelo",coordinates:[-81.61320735646092,3.993149215953025],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"escubaMalpDescriptionP1",descriptionP2Key:"escubaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=escubaMalp+Reef",mainLogo:qe,mainLogoAltKey:"escubaMalpMainLogoAlt",photoCreditKey:"escubaMalpPhotoCredit",variant:"horizontal"}]},{id:"bajo-de-junior-malp",nameKey:"bajoDeJuniorMalpName",destinationId:"malpelo",coordinates:[-81.61312104167601,3.9976182749207396],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoDeJuniorMalpDescriptionP1",descriptionP2Key:"bajoDeJuniorMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDeJuniorMalp+Reef",mainLogo:qe,mainLogoAltKey:"bajoDeJuniorMalpMainLogoAlt",photoCreditKey:"bajoDeJuniorMalpPhotoCredit",variant:"horizontal"}]},{id:"los-gemelos-malp",nameKey:"losGemelosMalpName",destinationId:"malpelo",coordinates:[-81.6080545110372,3.9972797708692553],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"losGemelosMalpDescriptionP1",descriptionP2Key:"losGemelosMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=losGemelosMalp+Reef",mainLogo:qe,mainLogoAltKey:"losGemelosMalpMainLogoAlt",photoCreditKey:"losGemelosMalpPhotoCredit",variant:"horizontal"}]},{id:"la-pared-del-aguila-malp",nameKey:"laParedDelAguilaMalpName",destinationId:"malpelo",coordinates:[-81.60672845028675,3.99901698597553],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laParedDelAguilaMalpDescriptionP1",descriptionP2Key:"laParedDelAguilaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laParedDelAguilaMalp+Reef",mainLogo:qe,mainLogoAltKey:"laParedDelAguilaMalpMainLogoAlt",photoCreditKey:"laParedDelAguilaMalpPhotoCredit",variant:"horizontal"}]},{id:"la-torta-malp",nameKey:"laTortaMalpName",destinationId:"malpelo",coordinates:[-81.60511793835518,3.9999974828268563],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laTortaMalpDescriptionP1",descriptionP2Key:"laTortaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laTortaMalp+Reef",mainLogo:qe,mainLogoAltKey:"laTortaMalpMainLogoAlt",photoCreditKey:"laTortaMalpPhotoCredit",variant:"horizontal"}]},{id:"vagamares-malp",nameKey:"vagamaresMalpName",destinationId:"malpelo",coordinates:[-81.60536710094132,4.000386730244799],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"vagamaresMalpDescriptionP1",descriptionP2Key:"vagamaresMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=vagamaresMalp+Reef",mainLogo:qe,mainLogoAltKey:"vagamaresMalpMainLogoAlt",photoCreditKey:"vagamaresMalpPhotoCredit",variant:"horizontal"}]},{id:"el-arco-del-tropic-malp",nameKey:"elArcoDelTropicMalpName",destinationId:"malpelo",coordinates:[-81.60408285949869,4.001138700787621],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elArcoDelTropicMalpDescriptionP1",descriptionP2Key:"elArcoDelTropicMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elArcoDelTropicMalp+Reef",mainLogo:qe,mainLogoAltKey:"elArcoDelTropicMalpMainLogoAlt",photoCreditKey:"elArcoDelTropicMalpPhotoCredit",variant:"horizontal"}]},{id:"la-pared-del-tagon-malp",nameKey:"laParedDelTagonMalpName",destinationId:"malpelo",coordinates:[-81.60363194472382,4.00319614288442],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laParedDelTagonMalpDescriptionP1",descriptionP2Key:"laParedDelTagonMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laParedDelTagonMalp+Reef",mainLogo:qe,mainLogoAltKey:"laParedDelTagonMalpMainLogoAlt",photoCreditKey:"laParedDelTagonMalpPhotoCredit",variant:"horizontal"}]},{id:"el-arrecife-malp",nameKey:"elArrecifeMalpName",destinationId:"malpelo",coordinates:[-81.60334575831604,4.004535740068505],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elArrecifeMalpDescriptionP1",descriptionP2Key:"elArrecifeMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elArrecifeMalp+Reef",mainLogo:qe,mainLogoAltKey:"elArrecifeMalpMainLogoAlt",photoCreditKey:"elArrecifeMalpPhotoCredit",variant:"horizontal"}]},{id:"la-cara-del-fantasma-malp",nameKey:"laCaraDelFantasmaMalpName",destinationId:"malpelo",coordinates:[-81.60276855309968,4.006729347832291],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laCaraDelFantasmaMalpDescriptionP1",descriptionP2Key:"laCaraDelFantasmaMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laCaraDelFantasmaMalp+Reef",mainLogo:qe,mainLogoAltKey:"laCaraDelFantasmaMalpMainLogoAlt",photoCreditKey:"laCaraDelFantasmaMalpPhotoCredit",variant:"horizontal"}]},{id:"bajo-del-monstruo-malp",nameKey:"bajoDelMonstruoMalpName",destinationId:"malpelo",coordinates:[-81.60238295773284,4.008891694858676],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoDelMonstruoMalpDescriptionP1",descriptionP2Key:"bajoDelMonstruoMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDelMonstruoMalp+Reef",mainLogo:qe,mainLogoAltKey:"bajoDelMonstruoMalpMainLogoAlt",photoCreditKey:"bajoDelMonstruoMalpPhotoCredit",variant:"horizontal"}]},{id:"los-tres-mosqueteros-malp",nameKey:"losTresMosqueterosMalpName",destinationId:"malpelo",coordinates:[-81.6072426716067,4.014183100752348],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"losTresMosqueterosMalpDescriptionP1",descriptionP2Key:"losTresMosqueterosMalpDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=losTresMosqueterosMalp+Reef",mainLogo:qe,mainLogoAltKey:"losTresMosqueterosMalpMainLogoAlt",photoCreditKey:"losTresMosqueterosMalpPhotoCredit",variant:"horizontal"}]}]},s5=[-76.18102534217853,9.387113413703803],l5=12,c5={id:"isla-fuerte",center:s5,zoom:l5,minZoom:9,maxZoom:16,sites:[{id:"bushnell-if",nameKey:"bushnellIfName",destinationId:"isla-fuerte",coordinates:[-76.349979,9.416658],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bushnellIfDescriptionP1",descriptionP2Key:"bushnellIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bushnellIf+Reef",mainLogo:qe,mainLogoAltKey:"bushnellIfMainLogoAlt",photoCreditKey:"bushnellIfPhotoCredit",variant:"horizontal"}]},{id:"burbujas-if",nameKey:"burbujasIfName",destinationId:"isla-fuerte",coordinates:[-76.266567,9.399531],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"burbujasIfDescriptionP1",descriptionP2Key:"burbujasIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=burbujasIf+Reef",mainLogo:qe,mainLogoAltKey:"burbujasIfMainLogoAlt",photoCreditKey:"burbujasIfPhotoCredit",variant:"horizontal"}]},{id:"el-bobito-if",nameKey:"elBobitoIfName",destinationId:"isla-fuerte",coordinates:[-76.203439,9.4038197],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elBobitoIfDescriptionP1",descriptionP2Key:"elBobitoIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elBobitoIf+Reef",mainLogo:qe,mainLogoAltKey:"elBobitoIfMainLogoAlt",photoCreditKey:"elBobitoIfPhotoCredit",variant:"horizontal"}]},{id:"el-alicia-if",nameKey:"elAliciaIfName",destinationId:"isla-fuerte",coordinates:[-76.1653946,9.398955],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elAliciaIfDescriptionP1",descriptionP2Key:"elAliciaIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elAliciaIf+Reef",mainLogo:qe,mainLogoAltKey:"elAliciaIfMainLogoAlt",photoCreditKey:"elAliciaIfPhotoCredit",variant:"horizontal"}]},{id:"canal-del-ingles-if",nameKey:"canalDelInglesIfName",destinationId:"isla-fuerte",coordinates:[-76.164095,9.403738],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"canalDelInglesIfDescriptionP1",descriptionP2Key:"canalDelInglesIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=canalDelInglesIf+Reef",mainLogo:qe,mainLogoAltKey:"canalDelInglesIfMainLogoAlt",photoCreditKey:"canalDelInglesIfPhotoCredit",variant:"horizontal"}]},{id:"bajo-la-cebolleta-if",nameKey:"bajoLaCebolletaIfName",destinationId:"isla-fuerte",coordinates:[-76.1682541,9.3906991],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoLaCebolletaIfDescriptionP1",descriptionP2Key:"bajoLaCebolletaIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoLaCebolletaIf+Reef",mainLogo:qe,mainLogoAltKey:"bajoLaCebolletaIfMainLogoAlt",photoCreditKey:"bajoLaCebolletaIfPhotoCredit",variant:"horizontal"}]},{id:"los-venados-if",nameKey:"losVenadosIfName",destinationId:"isla-fuerte",coordinates:[-76.1664275,9.3852233],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"losVenadosIfDescriptionP1",descriptionP2Key:"losVenadosIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=losVenadosIf+Reef",mainLogo:qe,mainLogoAltKey:"losVenadosIfMainLogoAlt",photoCreditKey:"losVenadosIfPhotoCredit",variant:"horizontal"}]},{id:"bajo-mariajo-if",nameKey:"bajoMariajoIfName",destinationId:"isla-fuerte",coordinates:[-76.171045,9.3814801],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoMariajoIfDescriptionP1",descriptionP2Key:"bajoMariajoIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoMariajoIf+Reef",mainLogo:qe,mainLogoAltKey:"bajoMariajoIfMainLogoAlt",photoCreditKey:"bajoMariajoIfPhotoCredit",variant:"horizontal"}]},{id:"bajo-del-medio-if",nameKey:"bajoDelMedioIfName",destinationId:"isla-fuerte",coordinates:[-76.1572748,9.3701119],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoDelMedioIfDescriptionP1",descriptionP2Key:"bajoDelMedioIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoDelMedioIf+Reef",mainLogo:qe,mainLogoAltKey:"bajoDelMedioIfMainLogoAlt",photoCreditKey:"bajoDelMedioIfPhotoCredit",variant:"horizontal"}]},{id:"playa-del-norte-if",nameKey:"playaDelNorteIfName",destinationId:"isla-fuerte",coordinates:[-76.1746834,9.4002034],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"playaDelNorteIfDescriptionP1",descriptionP2Key:"playaDelNorteIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=playaDelNorteIf+Reef",mainLogo:qe,mainLogoAltKey:"playaDelNorteIfMainLogoAlt",photoCreditKey:"playaDelNorteIfPhotoCredit",variant:"horizontal"}]},{id:"la-grieta-if",nameKey:"laGrietaIfName",destinationId:"isla-fuerte",coordinates:[-76.1865317,9.3960835],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"laGrietaIfDescriptionP1",descriptionP2Key:"laGrietaIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=laGrietaIf+Reef",mainLogo:qe,mainLogoAltKey:"laGrietaIfMainLogoAlt",photoCreditKey:"laGrietaIfPhotoCredit",variant:"horizontal"}]},{id:"el-bebadero-if",nameKey:"elCebaderoIfName",destinationId:"isla-fuerte",coordinates:[-76.1947141,9.4028158],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elCebaderoIfDescriptionP1",descriptionP2Key:"elCebaderoIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elCebaderoIf+Reef",mainLogo:qe,mainLogoAltKey:"elCebaderoIfMainLogoAlt",photoCreditKey:"elCebaderoIfPhotoCredit",variant:"horizontal"}]},{id:"el-socorro-if",nameKey:"elSocorroIfName",destinationId:"isla-fuerte",coordinates:[-76.1975998,9.3950783],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elSocorroIfDescriptionP1",descriptionP2Key:"elSocorroIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elSocorroIf+Reef",mainLogo:qe,mainLogoAltKey:"elSocorroIfMainLogoAlt",photoCreditKey:"elSocorroIfPhotoCredit",variant:"horizontal"}]},{id:"el-mango-if",nameKey:"elMangoIfName",destinationId:"isla-fuerte",coordinates:[-76.2003836,9.3864697],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elMangoIfDescriptionP1",descriptionP2Key:"elMangoIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elMangoIf+Reef",mainLogo:qe,mainLogoAltKey:"elMangoIfMainLogoAlt",photoCreditKey:"elMangoIfPhotoCredit",variant:"horizontal"}]},{id:"los-pargos-if",nameKey:"losPargosIfName",destinationId:"isla-fuerte",coordinates:[-76.2053742,9.3971209],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"losPargosIfDescriptionP1",descriptionP2Key:"losPargosIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=losPargosIf+Reef",mainLogo:qe,mainLogoAltKey:"losPargosIfMainLogoAlt",photoCreditKey:"losPargosIfPhotoCredit",variant:"horizontal"}]},{id:"fondo-loco-if",nameKey:"fondoLocoIfName",destinationId:"isla-fuerte",coordinates:[-76.1960381,9.3754159],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"fondoLocoIfDescriptionP1",descriptionP2Key:"fondoLocoIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=fondoLocoIf+Reef",mainLogo:qe,mainLogoAltKey:"fondoLocoIfMainLogoAlt",photoCreditKey:"fondoLocoIfPhotoCredit",variant:"horizontal"}]},{id:"yesbi-if",nameKey:"yesbiIfName",destinationId:"isla-fuerte",coordinates:[-76.1812699,9.3652328],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"yesbiIfDescriptionP1",descriptionP2Key:"yesbiIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=yesbiIf+Reef",mainLogo:qe,mainLogoAltKey:"yesbiIfMainLogoAlt",photoCreditKey:"yesbiIfPhotoCredit",variant:"horizontal"}]},{id:"los-boyones-if",nameKey:"losBoyonesIfName",destinationId:"isla-fuerte",coordinates:[-76.1814057,9.362017],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"losBoyonesIfDescriptionP1",descriptionP2Key:"losBoyonesIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=losBoyonesIf+Reef",mainLogo:qe,mainLogoAltKey:"losBoyonesIfMainLogoAlt",photoCreditKey:"losBoyonesIfPhotoCredit",variant:"horizontal"}]},{id:"el-planchon-if",nameKey:"elPlanchonIfName",destinationId:"isla-fuerte",coordinates:[-76.1765851,9.3550157],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"elPlanchonIfDescriptionP1",descriptionP2Key:"elPlanchonIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=elPlanchonIf+Reef",mainLogo:qe,mainLogoAltKey:"elPlanchonIfMainLogoAlt",photoCreditKey:"elPlanchonIfPhotoCredit",variant:"horizontal"}]},{id:"bajo-caldas-if",nameKey:"bajoCaldasIfName",destinationId:"isla-fuerte",coordinates:[-76.21,9.25],countryKey:"colombiaCountryKey",maxDepth:"",levelRequiredId:"",difficultyId:"",typeIds:[""],conditionsIds:[""],descriptionP1Key:"bajoCaldasIfDescriptionP1",descriptionP2Key:"bajoCaldasIfDescriptionP2",tagsIds:[""],photos:[{backgroundImage:"https://placehold.co/600x400/3498db/ffffff?text=bajoCaldasIf+Reef",mainLogo:qe,mainLogoAltKey:"bajoCaldasIfMainLogoAlt",photoCreditKey:"bajoCaldasIfPhotoCredit",variant:"horizontal"}]}]},Db={"santa-marta":a5,providencia:i5,malpelo:o5,"isla-fuerte":c5},kw=Object.values(Db).flatMap(o=>o.sites);kw.reduce((o,l)=>(o[l.id]=l,o),{});const u5=kw,d5=o=>Db[o]?.sites||[],pm={center:[-74.297333,4.570868],zoom:1,minZoom:1,maxZoom:16},h5=o=>{const l=Db[o];return l?{center:l.center||pm.center,zoom:l.zoom||pm.zoom,minZoom:l.minZoom||pm.minZoom,maxZoom:l.maxZoom||pm.maxZoom}:pm},p5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...o,children:L.jsx("path",{fill:"currentColor",d:"M292.5 25.06c-.4 9.84-.9 19.71-1.4 29.59c-3.8-.38-7.7-2.4-12.3-5.8c-6.9-5.12-14-13.21-21.2-20.3L245 41.43c6.4 6.27 13.9 15 23 21.84c6.3 4.69 14.1 8.57 22.6 9.22c-1.1 37.51-.4 74.91 6.9 111.21c-10.9 14.4-19.6 31-26 48.2c-1 2.7-1.9 5.4-2.9 8.1c-13.4-6-27.7-15.6-41.6-26.8c-13.7-34-14.6-68.6 5-95.7c9.8-6 14.6-17.76 16-29.81l-17.9-2.09c-1 9.34-6.4 16.3-8.9 17.1c-.2.1-.4.1-.6.2l-.1-.1c0 .1-.1.1-.1.2c-1 .2-2.1-.1-4.5-1.7c-3-2.06-7.3-6.96-11.9-15.69l-16 8.32c5.4 10.37 11.1 17.57 17.6 22.17c1.5 1 3 1.8 4.5 2.5c-11.5 22.1-13.4 47.1-8.5 72c-.9-.8-1.7-1.7-2.6-2.5c-24.7-24.5-43.3-48.2-56.6-60.1c-.9-9.9-1.5-17.9-.9-24.5c.9-10.73 3.7-17.78 12.9-26.71l-12.6-12.88c-11.6 11.36-17.1 24.16-18.3 38.09c-.7 9.3.1 19.7 1.3 31c-21.3-11.9-41.34-21.2-66.46-27.5L54 123c25.1 6.3 44.29 15.5 66.7 28.4c6.9 6.1 29.3 33.1 55.8 59.4c24.2 24 52.8 48.7 84.8 60.8c-3.2 23.7-.9 47.2 9.9 67c-6.4 6.7-12 13.8-16.9 21.2c-2.7 4.1-5.1 8.2-7.4 12.4c-22.2-7.7-52.1-26.6-76.8-47.8c-.7-.6-1.4-1.3-2.2-1.9c.3-7.2 3.2-15.7 7.8-24c5.8-10.5 14.2-20.4 21.6-27.1L185.2 258c-8.9 8.1-18.3 19.2-25.2 31.7c-3.2 5.8-6 11.9-7.8 18.2c-7.1-7-13.5-13.9-18.7-20.2c-9.3-11.4-14.6-22.2-15-24.5c-7.3-38.6-10.7-51.1-40.03-90.9l-25.77 19c7.18 9.7 12.44 17.1 16.43 23.2c-13.82 1.5-29.01-2.2-37.78-10.2l-12.1 13.4c15.54 14.1 38.51 18.3 58.95 13.6c3.77 9.4 5.25 19.2 8.8 37.9c.28 1.5.64 2.9 1.05 4.4h-1.03c-19.91.8-37.54 11.6-51.15 26.6l13.32 12.1c14.08-15.5 29.07-23.8 47.67-20.2c3.34 5.2 7.34 10.3 11.84 15.8c10.9 13.3 24.9 27.4 40.5 40.8c10.9 9.3 22.5 18.3 34.3 26.4c-21.2 8.1-52.6 12.5-76.5 8.5l-3 17.7c11.6 2 24 2.6 36.3 1.8c-1.3 4.7-1.4 9.6-.5 14.1c2 10.1 8.7 18.7 17.7 24.8l10.1-14.8c-5.8-4-9.3-9.2-10.2-13.6c-.9-4.4-.2-8.3 4.8-13.1c14.7-2.8 28.5-7.4 39.7-13.8c10.7 6.1 21.5 11.3 32.1 15c-11.2 32.6-13 64.6-13.7 84.6h32c.9-27.3 4.6-72.3 28.7-108.8c9.8-14.8 22.6-28.5 40.5-39.3c23.6 4.6 46.6 9.7 67.6 17c-1.8 9.6-7.9 14.5-15.2 22.9c-3.8 4.5-7.9 10-9.8 17.3c-2 7.3-1.7 16 1.5 25.9l17.2-5.4c-2.5-7.6-2.3-12.2-1.4-15.8c1-3.6 3-6.6 6.2-10.2c5.4-6.3 14.8-14.4 18.4-28c10.2 4.5 19.8 9.7 28.6 16l10.4-14.7c-28-20-61.5-30.2-96-37.7c22.6-7.8 50.9-11.8 86.9-10.6c5.4 11.5 16.1 21.7 29.2 30l9.7-15.2c-17.3-11-25.5-23.9-24.7-32.6c.5-4.4 2.9-8.9 9.4-13.9c6.6-5 17.4-10.1 33.3-14l-4.4-17.5c-17.4 4.3-30.4 10-39.9 17.2c-5.2 4.1-9.5 8.8-12.2 13.9c-4.9-.1-9.4-.2-13.9-.1c-13.4.1-26 1-37.9 2.5c19.8-24 31.8-51.9 36.1-83l-17.7-2.5c-1.9 13-5.1 25.2-9.9 36.8c-5.5-.6-10.4-2.9-14.6-6.2c-5.8-4.7-9.9-11.6-11.1-17.7l-17.7 3.6c2.2 10.7 8.4 20.8 17.5 28.1c5 4 11.2 7.2 17.7 8.9c-7.8 13.8-18.1 26.4-30.9 38.1c-22.5 5.9-41.5 14.8-57.4 25.6c-6.7-19.3-5-47 4.9-73.8c10.6-28.4 29.9-54.2 49.9-66.7c4.9 2.1 10.4 3.1 15.7 3.4c11 .6 22.7-1.3 33.7-4c22.1-5.3 41.6-13.9 41.6-13.9l-7.2-16.5s-18.5 8.1-38.6 12.9c-10 2.4-20.4 4-28.5 3.5c-8-.4-12.5-2.5-14.6-5.7c-.8-1.3-1.2-3.8.6-8.6c1.8-4.9 5.6-11 9.9-16.7c8.5-11.3 18.6-20.8 18.6-20.8l-12.2-13.16S359.2 107.1 349.5 120c-4.9 6.5-9.5 13.6-12.3 21.2c-.9 2.4-1.6 4.9-2 7.5c-8.1 4.8-15.7 10.7-22.6 17.5c-6.8-44.5-4.3-92.12-2.2-140.32z"})}),f5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...o,children:L.jsx("path",{fill:"currentColor",d:"M279.816 85.93L269.3 100.465l28.06 27.111l8.694-16.3zm-21.175 29.267l-42.282 58.436l37.246 35.984l34.946-65.525zM153.455 137.9l-46.816 29.192L306.46 360.15c4.08-1.929 8.605-3.15 13.539-3.15c3.881 0 7.508.76 10.867 2.02l-1.55-1.499l12.503-12.945L354.682 357l-10.268 10.63c4.31 3.924 8.02 8.35 11.486 12.745l11.077-11.465l12.859 12.426l-12.508 12.945c3.62 4.436 8.724 9.265 13.916 10.43l10.908-11.293l5.016 4.846c3.702-3.574 7.58-8.457 11.63-13.664zm-98.623 4.168c-4.078 8.773-3.407 19.566-.8 32.7c3.406 17.167 10.435 36.207 10.222 54.75c-.075 6.474-1.264 12.54-2.803 18.23l116.563 112.615C182.208 358.31 186.885 357 192 357c9.367 0 17.28 4.373 23.41 9.713c6.13 5.34 11.027 11.762 15.694 17.762c4.666 6 9.103 11.577 13.306 15.238c4.203 3.66 7.623 5.287 11.59 5.287c3.967 0 7.387-1.627 11.59-5.287s8.64-9.238 13.306-15.238c3.429-4.408 6.985-9.042 11.06-13.309zm106.947 28.569l12.862 12.425l-12.508 12.946l-12.862-12.426zm208.06 2.263l-10.517 14.536l28.059 27.109l8.693-16.299zM187.5 195.486l12.86 12.424l-12.504 12.945l-12.86-12.423zm161.165 6.682l-42.283 58.436l37.246 35.982l34.945-65.524zM213.22 220.334l12.861 12.424l-12.504 12.945l-12.861-12.424zm25.722 24.85l12.86 12.423l-12.508 12.946l-12.86-12.424zm221.084 15.191l-10.517 14.537l28.06 27.11l8.694-16.301zM55.56 267.084a66.9 66.9 0 0 0-.627 2.52c-2.532 11.232-2.865 18.802 7.882 29.185l89.479 86.453c.203-.26.4-.506.603-.767c3.338-4.292 6.802-8.794 10.743-12.967zm209.103 2.947l12.86 12.424l-12.508 12.945l-12.86-12.423zm174.188 19.612l-42.145 58.246l23.654 22.855a68.962 68.962 0 0 1 4.23-4.031c6.13-5.34 14.044-9.713 23.41-9.713c.082 0 .162.005.244.006l20.516-38.469zm-148.467 5.236l12.86 12.426l-12.509 12.945l-12.859-12.426zm25.72 24.85l12.86 12.423l-12.508 12.946l-12.86-12.424zM64 375c-19.807 5.72-33.274 18.147-46 31.898v30.579l.01-.006C31.525 428.62 47.7 419 64 419s27.881 10.654 37.842 19.154C111.802 446.654 120.144 453 128 453c7.856 0 16.197-6.346 26.158-14.846C164.12 429.654 175.7 419 192 419c16.3 0 27.881 10.654 37.842 19.154C239.802 446.654 248.144 453 256 453c7.856 0 16.197-6.346 26.158-14.846C292.12 429.654 303.7 419 320 419c16.3 0 27.881 10.654 37.842 19.154C367.802 446.654 376.144 453 384 453c7.856 0 16.197-6.346 26.158-14.846C420.12 429.654 431.7 419 448 419c16.3 0 32.475 9.62 45.99 18.47l.01.007v-30.578c-9.969-10.693-33.06-31.31-46-31.899c-3.967 0-7.387 1.627-11.59 5.287C419.78 396.286 407.425 422.591 384 423c-27.151-1.916-36.8-28.488-52.41-42.713c-4.203-3.66-7.623-5.287-11.59-5.287c-3.967 0-7.387 1.627-11.59 5.287C291.78 396.286 279.425 422.591 256 423c-27.151-1.916-36.8-28.488-52.41-42.713c-4.203-3.66-7.623-5.287-11.59-5.287c-3.967 0-7.387 1.627-11.59 5.287C163.78 396.286 151.425 422.591 128 423c-27.151-1.916-36.8-28.488-52.41-42.713C71.387 376.627 67.967 375 64 375zm0 62c-18.195 3.791-32.267 12.364-46 22.385V494h476v-34.615c-11.752-8.054-32.671-21.938-46-22.385c-24.766 6.02-41.304 33.45-64 34c-23.532 2.01-46.008-36.297-64-34c-25.282 3.227-41.304 33.45-64 34c-23.532 2.01-46.008-36.297-64-34c-25.282 3.227-41.304 33.45-64 34c-23.532 2.01-45.87-33.455-64-34z"})}),m5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm0 2h16m0 4H4m0 4h16M9 4v4m5 0v4m-6 0v4m8-4v4m-5 0v4"})}),g5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"m13.006 15.265l2.117-3.14m0 0l.251-.37a1.637 1.637 0 0 1 2.861.234l2.596 5.541c.536 1.142-.27 2.47-1.497 2.47H4.666c-1.224 0-2.03-1.32-1.501-2.462l5.808-12.56a1.641 1.641 0 0 1 3.015.03z"})}),Gy=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...o,children:L.jsx("path",{fill:"currentColor",d:"M346.951 24.582L299.193 72.34l-101.136-7.024l-40.97 80.737l68.688 25.35l37.153-19.936l8.511 15.861l-44.293 23.768l-79.7-29.416l-70.19 55.341l35.117 58.995l-.375.2l13.014 21.585l29.134 2.361l55.06-35.123l9.679 15.176l-60.16 38.377l-44.364-3.596l-18.23-30.234l-56.8 30.586l33.712 61.804l-33.713 40.735L18 444.177V494h170.62l-5.6-45.592a260.658 260.658 0 0 1-5.147-4.512c-4.186-3.761-5.89-5.444-8.027-7.484l-73.13 21.797l-21.339-20.484l12.467-12.985l13.777 13.225l73.068-21.78l3.784 3.667s4.24 4.09 9.216 8.636l37.797-37.248l8.133 79.54l6.3-93.444l10.364 28.387l6.281-45.112l3.14-3.091l-.29-.233l22.486-27.974l.465-.907l.188.096l11.453-14.248l14.03 11.277l-9.122 11.348l67.803 34.715l27.008-9.489l22.478 17.71l22.924-12.036l8.367 15.938l-33.262 17.46l-23.875-18.81l-24.964 8.772l-9.584-4.907l39.04 87.842L383.923 494H494v-28.512L462.713 478.2l-6.776-16.678L494 446.06V211.176l-23.438-26.463l-21.654-67.371l-33.547 32.666l-107.77-13.873l-28.019-29.096l12.967-12.486l23.629 24.539l92.867 11.953l31.442-30.615l-52.79-61.801zm27.53 177.74l34.177 41.428l28.863-6.56l-4.136-13.59l17.22-5.243l9.77 32.098l-58.543 13.307l-31.377-38.033l-33.086 19.853l-9.262-15.436z"})}),y5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsxs("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",color:"currentColor",children:[L.jsx("path",{d:"M8 7v14m4-3v3m-9 0h12M4 13v.96c0 .845 0 1.268.201 1.616s.567.56 1.3.982L8 18m4-9v2.96c0 .845 0 1.268-.201 1.616s-.567.56-1.3.982L8 16"}),L.jsx("circle",{cx:"18",cy:"6",r:"3"})]})}),v5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8a8 8 0 0 1-8 8Z"})}),b5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M2.5 17.23v-1.038q.777-.096 1.21-.51q.434-.413 1.64-.413q1.263 0 1.784.5q.52.5 1.535.5q1.027 0 1.547-.5t1.784-.5q1.252 0 1.784.5q.531.5 1.547.5q1.027 0 1.541-.5q.515-.5 1.778-.5q1.206 0 1.64.414q.433.413 1.21.51v1.038q-.906-.116-1.438-.539q-.531-.423-1.412-.423q-.996 0-1.526.5t-1.793.5q-1.252 0-1.784-.5T12 16.27q-1.027 0-1.547.5t-1.784.5q-1.263 0-1.787-.5t-1.532-.5q-.912 0-1.403.423t-1.447.539Zm0-3.768v-1.039q.777-.096 1.21-.51q.434-.413 1.64-.413q1.252 0 1.778.5t1.541.5q1.027 0 1.547-.5T12 11.5q1.252 0 1.78.5q.53.5 1.54.5q1.026 0 1.546-.5t1.784-.5q1.194 0 1.64.413q.445.414 1.21.51v1.039q-.917-.116-1.443-.539q-.526-.423-1.407-.423q-.996 0-1.526.5t-1.793.5q-1.252 0-1.784-.5T12 12.5q-1.027 0-1.541.5q-.515.5-1.778.5q-1.264 0-1.8-.5q-.535-.5-1.531-.5q-.9 0-1.403.423t-1.447.539Zm0-3.77V8.654q.777-.096 1.21-.51q.434-.413 1.64-.413q1.252 0 1.778.5t1.541.5q1.027 0 1.547-.5T12 7.73q1.252 0 1.78.5q.53.5 1.54.5q1.026 0 1.546-.5t1.784-.5q1.194 0 1.64.413q.445.414 1.21.51v1.038q-.917-.115-1.443-.538q-.526-.423-1.407-.423q-.996 0-1.526.5t-1.793.5q-1.252 0-1.784-.5T12 8.73q-1.027 0-1.541.5q-.515.5-1.778.5q-1.264 0-1.8-.5q-.535-.5-1.531-.5q-.9 0-1.422.423q-.522.423-1.428.538Z"})}),x5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...o,children:L.jsx("path",{fill:"currentColor",d:"M251.313 23.844L49.438 140.25l-.376 233.5l202.625 116.406L453.563 373.75l.375-233.5L251.313 23.844zm-1.407 57.062l52.406 30.25v60.5l-52.406 30.25l-52.406-30.25v-60.5l52.406-30.25zm-105.344 60.47l52.407 30.25v60.5l-52.407 30.25l52.406 30.25v60.53l-52.407 30.25l-52.407-30.25v-60.53l52.406-30.25l-52.406-30.25v-60.5l52.406-30.25zm210.313 0l52.406 30.25v60.5l-52.405 30.25l52.406 30.25v60.53l-52.405 30.25l-52.406-30.25v-60.53l52.405-30.25l-52.406-30.25v-60.5l52.405-30.25zM249.905 202l52.407 30.25v60.5l-52.28 30.188l52.28 30.156v60.53l-52.406 30.25l-52.406-30.25v-60.53l52.28-30.156l-52.28-30.188v-60.5L249.906 202z"})}),_5=o=>L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...o,children:L.jsx("path",{fill:"currentColor",d:"M18.383 4.318a1 1 0 0 0-1.09.217a3.248 3.248 0 0 1-4.586 0a5.25 5.25 0 0 0-7.414 0A.997.997 0 0 0 5 5.242v13a1 1 0 1 0 2 0v-4.553a3.248 3.248 0 0 1 4.293.26a5.25 5.25 0 0 0 7.414 0a1 1 0 0 0 .293-.707v-8a1 1 0 0 0-.617-.924z"})}),w5=[-74.297333,4.570868],C5=6,Qx=o=>{switch(o){case"reef":return p5;case"wreck":return f5;case"wall":return m5;case"pinnacle":return g5;case"cavern":return Gy;case"cave":return Gy;case"cenote":return Gy;case"drift":return Pw;case"muck":return y5;case"blueHole":return v5;case"freshwater":return b5;case"artificialReef":return x5;default:return _5}},e_=({IconComponent:o,isSelected:l})=>L.jsx(Rt.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.3},transition:{type:"spring",stiffness:120,damping:10},style:{display:"flex",alignItems:"center",justifyContent:"center",border:"2px solid var(--color-brand-primary-dark)",borderRadius:"9999px",backgroundColor:l?"var(--color-brand-cta-orange)":"var(--color-brand-white)",width:"100%",height:"100%",pointerEvents:"auto",transition:"background-color 0.3s ease"},children:L.jsx(Rt.div,{whileHover:{scale:1.6},transition:{type:"spring",stiffness:300,damping:10},children:L.jsx(o,{className:l?"text-white w-4 h-4":"text-brand-primary-dark w-4 h-4"})})}),Mb=({destinationId:o})=>{const l=fe.useRef(null),p=fe.useRef(null),g=fe.useRef({}),C=fe.useRef(new Ag.Popup({closeButton:!1,closeOnClick:!1,offset:25,anchor:"bottom",className:"unstyled-popup"})),D=fe.useRef(!0),{t:w}=Jt(["divesites","map","destinations"]),[c,R]=fe.useState("500px"),[k,q]=fe.useState("all"),[G,Z]=fe.useState("all"),[H,ae]=fe.useState("all"),[Ie,Ve]=fe.useState([]),[we,Le]=fe.useState(""),[Oe,ot]=fe.useState(null),[He,Se]=fe.useState(null),_t=fe.useRef(null),{center:Dt,zoom:zt,minZoom:Ht,maxZoom:ga}=h5(o),sa=fe.useMemo(()=>o?d5(o):u5,[o]),$t=fe.useMemo(()=>{const Ke=sa.filter(kt=>(G==="all"||kt.difficultyId===G)&&(H==="all"||kt.destinationId===H)),$e=new Set;Ke.forEach(kt=>kt.typeIds?.forEach(_e=>$e.add(_e)));const xt=Rw.filter(kt=>$e.has(kt.id));return[{id:"all",translationKey:"map:allLabel"},...xt]},[sa,G,H]),ea=fe.useMemo(()=>{const Ke=sa.filter(kt=>(k==="all"||kt.typeIds.includes(k))&&(H==="all"||kt.destinationId===H)),$e=new Set(Ke.map(kt=>kt.difficultyId)),xt=zw.filter(kt=>$e.has(kt.id));return[{id:"all",translationKey:"map:allLabel"},...xt]},[sa,k,H]),ca=fe.useMemo(()=>{if(o)return[];const Ke=sa.filter(kt=>(k==="all"||kt.typeIds.includes(k))&&(G==="all"||kt.difficultyId===G)),$e=new Set(Ke.map(kt=>kt.destinationId));if($e.size===0)return[];const xt=Array.from($e).map(kt=>{const _e=wb[kt];return _e?{id:_e.id,translationKey:_e.nameKey}:null}).filter(Boolean);return $e.size>1?[{id:"all",translationKey:"map:allLabel"},...xt]:xt},[sa,k,G,o]);return fe.useEffect(()=>{const Ke=()=>{if(l.current){const $e=l.current.getBoundingClientRect().top,xt=16,kt=500,_e=window.innerHeight-$e-xt,rt=Math.max(_e,kt);R(`${rt}px`)}};return Ke(),window.addEventListener("resize",Ke),()=>window.removeEventListener("resize",Ke)},[]),fe.useEffect(()=>{Object.entries(g.current).forEach(([Ke,{root:$e}])=>{const xt=sa.find(_e=>_e.id===Ke);if(!xt)return;const kt=Qx(xt.typeIds?.[0]);$e.render(L.jsx(e_,{IconComponent:kt,isSelected:Ke===He}))})},[He,sa]),fe.useEffect(()=>(p.current?p.current.flyTo({center:Dt,zoom:zt,essential:!0}):(p.current=new Ag.Map({container:l.current,style:{version:8,sources:{osm:{type:"raster",tiles:["https://a.tile.opentopomap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}},layers:[{id:"osm",type:"raster",source:"osm"}]},center:Dt,zoom:zt,minZoom:Ht,maxZoom:ga}),p.current.addControl(new Ag.NavigationControl,"top-right")),()=>{p.current&&(p.current.remove(),p.current=null)}),[o,Dt,zt,ga,Ht]),fe.useEffect(()=>{if(D.current){D.current=!1;return}Se(null),ot(null)},[k,G,H,we]),fe.useEffect(()=>{if(!p.current)return;Object.values(g.current).forEach(({marker:$e})=>$e.remove()),g.current={};const Ke=sa.filter($e=>{const xt=k==="all"||$e.typeIds.includes(k),kt=G==="all"||$e.difficultyId===G,_e=H==="all"||$e.destinationId===H,ht=w($e.nameKey)?.toLowerCase().includes(we.toLowerCase());return xt&&kt&&_e&&ht}).map($e=>({...$e,translatedName:w($e.nameKey)}));if(Ve(Ke),Ke.some($e=>$e.id===_t.current)||_t.current&&Se(null),Ke.forEach($e=>{const xt=document.createElement("div");xt.style.width="32px",xt.style.height="32px",xt.style.cursor="pointer";const kt=Qx($e.typeIds?.[0]),_e=c_.createRoot(xt);_e.render(L.jsx(e_,{IconComponent:kt,isSelected:He===$e.id}));const rt=new Ag.Marker({element:xt}).setLngLat($e.coordinates).addTo(p.current);xt.addEventListener("mouseenter",()=>{p.current.getCanvas().style.cursor="pointer";const ht=document.createElement("div");ht.innerText=$e.translatedName,ht.style.padding="6px 12px",ht.style.backgroundColor="white",ht.className="text-brand-primary-dark font-semibold text-sm",ht.style.borderRadius="8px",ht.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)",C.current.setLngLat($e.coordinates).setDOMContent(ht).addTo(p.current)}),xt.addEventListener("mouseleave",()=>{p.current.getCanvas().style.cursor="",C.current.isOpen()&&C.current.remove()}),xt.addEventListener("click",()=>{p.current.getCanvas().style.cursor="",C.current.isOpen()&&C.current.remove(),ot($e),Se($e.id),p.current.flyTo({center:$e.coordinates,zoom:13.5,essential:!0,speed:1.2,curve:1.42})}),g.current[$e.id]={marker:rt,el:xt,root:_e}}),Ke.length>0&&!He){const $e=new Ew.LngLatBounds;Ke.forEach(xt=>$e.extend(xt.coordinates)),$e.getNorthEast()&&$e.getSouthWest()&&p.current.fitBounds($e,{padding:50,duration:1e3,maxZoom:ga||15})}else if(Ke.length===0){const $e={center:Dt||w5,zoom:zt||C5};p.current.flyTo({center:$e.center,zoom:$e.zoom})}},[sa,k,G,H,we,w,o,Dt,zt,ga,He]),fe.useEffect(()=>{_t.current=He},[He]),L.jsxs("div",{className:"p-2",children:[L.jsx(H4,{t:w,activeType:k,setActiveType:q,typeFilterOptions:$t,activeDifficulty:G,setActiveDifficulty:Z,difficultyFilterOptions:ea,activeDestination:H,setActiveDestination:ae,destinationOptions:ca,searchQuery:we,setSearchQuery:Le,clearFilters:()=>{q("all"),Z("all"),ae("all"),Le(""),Se(null)},filteredSites:Ie,baseSites:sa}),L.jsx("div",{ref:l,style:{height:c},className:"w-full rounded-lg shadow-md"}),Oe&&L.jsx(t5,{site:Oe,onClose:()=>{ot(null)},t:w}),L.jsx("div",{className:"bg-brand-cta-yellow/20 border border-brand-cta-yellow/30 text-brand-cta-yellow px-4 py-3 rounded-lg relative mt-4 text-sm",role:"alert",children:L.jsxs("div",{className:"flex items-center",children:[L.jsx(oy,{className:"w-5 h-5 mr-3"}),L.jsxs("div",{children:[L.jsx("strong",{className:"font-bold",children:w("mapDisclaimerTitle",{ns:"map"})}),L.jsx("span",{className:"block sm:inline",children:w("mapDisclaimerText",{ns:"map"})})]})]})})]})},S5=({detailsData:o,translationNS:l})=>{const{t:p}=Jt(l);return!o||!o.modules||o.modules.length===0?null:L.jsxs("div",{className:"bg-brand-primary-medium p-6 rounded-lg shadow-lg",children:[L.jsx("h3",{className:"text-xl font-bold text-brand-white mb-4",children:p(o.titleKey)}),L.jsx("div",{className:"space-y-6 pt-4 border-t border-brand-primary-light/40",children:o.modules.map(g=>L.jsxs("div",{children:[L.jsx("h4",{className:"font-semibold text-brand-cta-green",children:p(g.nameKey)}),L.jsx("p",{className:" text-sm text-brand-neutral/80 text-justify",children:p(g.descriptionKey)})]},g.id))}),o.notes&&o.notes.length>0&&L.jsx("div",{className:"mt-8 space-y-3",children:o.notes.map((g,C)=>L.jsxs("div",{className:"flex items-start p-4 bg-brand-primary-light/30 rounded-lg text-brand-neutral/80",children:[L.jsx(oy,{className:"w-5 h-5 mr-2 flex-shrink-0 mt-0.5 text-brand-neutral/80"}),L.jsx("p",{className:" text-xs text-brand-neutral/80 text-justify",children:p(g)})]},C))})]})},T5=({experienceData:o,offeredCoursesData:l})=>{const{t:p,i18n:g}=Jt(["experiences","common","payment","contact","courses","destinations"]),{dateRangeText:C,durationText:D}=fe.useMemo(()=>{if(!o?.details)return{};const{startDate:R,endDate:k}=o.details;if(!R||!k)return{};const q=sy(R,k,g.language,p),G=new Date(`${R}T00:00:00`),H=new Date(`${k}T00:00:00`).getTime()-G.getTime(),Ie=Math.round(H/(1e3*3600*24))+1,Ve=Ie-1,we=p("durationFormat",{ns:"common",days:Ie,nights:Ve});return{dateRangeText:q,durationText:we}},[o,p,g.language]);if(!o)return L.jsx("div",{className:"flex items-center justify-center min-h-screen text-red-500 text-2xl",children:"Experience data incomplete."});const w=l?.[0]||null,c=o.destinationId?Gp.filter(R=>R.destinationId===o.destinationId&&R.id!==o.id&&new Date(R.details.endDate)>=new Date().setHours(0,0,0,0)):[];return L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",children:[L.jsx(Rl,{sectionData:o.header,translationNS:"experiences"}),L.jsxs("div",{className:"container mx-auto p-4 md:p-8 grid lg:grid-cols-3 gap-8 items-start",children:[L.jsxs("main",{className:"lg:col-span-2 space-y-16 lg:sticky top-24 h-fit",children:[l&&l.length>0&&L.jsx(F4,{availableCourses:l,titleKey:o.offeredCourses.titleKey,translationNS:"experiences"}),L.jsx(Cb,{descriptionData:o.description,translationNS:"experiences"}),o.itinerary&&L.jsx(V4,{itineraryData:o.itinerary,translationNS:"experiences"}),L.jsx(Sb,{galleryData:o.gallery,translationNS:"experiences"})]}),L.jsxs("aside",{className:"lg:col-span-1 space-y-8 lg:sticky top-24 h-fit",children:[L.jsx(Tb,{detailsData:o.details,dateRange:C,duration:D,translationNS:"experiences"}),L.jsx(S5,{detailsData:o.paymentPlan,translationNS:"experiences"}),L.jsx(O4,{paymentData:k4,translationNS:"payment"}),L.jsx(jp,{checklistData:o.whatIsIncluded,translationNS:"experiences",type:"included"}),w&&L.jsx(jp,{checklistData:w.whatIsIncluded,translationNS:"courses",type:"included"}),L.jsx(jp,{checklistData:o.whatIsNotIncluded,translationNS:"experiences",type:"excluded"}),c.length>0&&L.jsx(Pb,{availableTrips:c,titleKey:"expOtherTripsTitle",translationNS:"experiences"}),L.jsx(q4,{ctaData:{titleKey:o.cta.titleKey,buttonTextKey:o.cta.buttonTextKey,ctaAction:o.cta.ctaAction},translationNS:"experiences"})]})]}),L.jsx("section",{className:"w-full bg-brand-primary-medium py-12 md:py-16 mt-16",children:L.jsxs("div",{className:"container mx-auto px-4 md:px-8",children:[L.jsx("h3",{className:"text-3xl font-bold text-brand-white mb-4",children:p("map:mapLabel")}),L.jsx("div",{className:"bg-brand-primary-dark p-4 sm:p-6 rounded-2xl shadow-2xl",children:L.jsx("div",{className:"rounded-lg overflow-hidden",children:L.jsx(Mb,{destinationId:o.destinationId})})})]})})]})},P5=()=>{const{tripId:o}=Pv(),{t:l}=Jt(["experiences","common"]),[p,g]=fe.useState(null),[C,D]=fe.useState([]),[w,c]=fe.useState(!0),[R,k]=fe.useState(!1);return fe.useEffect(()=>{const q=g3(o);q&&q.tripData?(g(q.tripData),D(q.offeredCoursesData||[])):k(!0),c(!1)},[o]),w?L.jsxs("div",{className:"flex items-center justify-center min-h-screen text-brand-white text-2xl",children:[l("common:loading"),"..."]}):R||!p?L.jsx(Av,{to:"/404",replace:!0}):L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:l(p.seo.titleKey,{ns:"experiences"}),description:l(p.seo.descriptionKey,{ns:"experiences"}),keywords:l(p.seo.keywords,{ns:"experiences"}),imageUrl:p.seo.imageUrl,url:`${p.seo.url}${p.id}`}),L.jsx(Rt.div,{variants:Ba,initial:"hidden",animate:"animate",exit:"hidden",children:L.jsx(T5,{experienceData:p,offeredCoursesData:C})})]})},D5=({diveSiteData:o,translationNS:l})=>{const{t:p}=Jt(l);return!o||!o.sites||o.sites.length===0?null:L.jsxs("section",{children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white mb-6",children:p(o.titleKey)}),L.jsx("div",{className:"space-y-6",children:o.sites.map(g=>L.jsxs("div",{children:[L.jsx("h3",{className:"text-2xl font-semibold text-brand-cta-green",children:p(g.nameKey)}),L.jsx("p",{className:"mt-1  text-brand-neutral/90 text-justify",children:p(g.descriptionKey)})]},g.id))})]})},M5=({destinationData:o,upcomingTrips:l})=>{const{t:p}=Jt(["destinations","map"]);return L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",className:"bg-brand-primary-dark text-brand-neutral",children:[L.jsx(Rl,{sectionData:o.header,translationNS:"destinations"}),L.jsxs("div",{className:"container mx-auto p-4 md:p-8 grid lg:grid-cols-3 gap-8",children:[L.jsxs("main",{className:"lg:col-span-2 space-y-16 lg:sticky top-24 h-fit",children:[L.jsx(Cb,{descriptionData:o.description,translationNS:"destinations"}),L.jsx(D5,{diveSiteData:o.diveSites,translationNS:"destinations"}),L.jsxs("section",{className:"relative bg-brand-primary-medium p-6 rounded-lg shadow-lg overflow-visible z-0",children:[L.jsx("h3",{className:"text-2xl font-bold text-brand-white mb-4",children:p("map:mapHeaderSubtitle")}),L.jsx(Mb,{destinationId:o.id})]}),L.jsx(Sb,{galleryData:o.gallery,translationNS:"destinations"})]}),L.jsxs("aside",{className:"lg:col-span-1 space-y-8 lg:sticky top-24 h-fit",children:[L.jsx(Tb,{detailsData:o.details,translationNS:"destinations"}),L.jsx(jp,{checklistData:{titleKey:o.uniqueFinds.titleKey,items:o.uniqueFinds.items},translationNS:"destinations"}),L.jsx(Pb,{availableTrips:l,titleKey:"availableTripsTitle",translationNS:"destinations",fallbackContent:{messageKey:"noUpcomingTripsMessage",messageValues:{destinationName:p(o.nameKey)},buttonTextKey:"noUpcomingTripsCtaButton",buttonAction:{type:"whatsapp",whatsAppMessageKey:"noUpcomingTripsWhatsAppMessage",whatsAppMessageValues:{destinationName:p(o.nameKey)}}}})]})]})]})},A5=()=>{const{destinationId:o}=Pv(),{t:l}=Jt(["destinations","common"]),[p,g]=fe.useState(null),[C,D]=fe.useState([]),[w,c]=fe.useState(!0),[R,k]=fe.useState(!1);return fe.useEffect(()=>{const q=wb[o];if(q){const G=new Date;G.setHours(0,0,0,0);const Z=Gp.filter(H=>H.destinationId===o&&new Date(H.details.endDate)>=G).sort((H,ae)=>new Date(H.details.startDate)-new Date(ae.details.startDate));g(q),D(Z)}else k(!0);c(!1)},[o]),w?L.jsxs("div",{className:"flex items-center justify-center min-h-screen text-brand-white text-2xl",children:[l("common:loading"),"..."]}):R||!p?L.jsx(Av,{to:"/404",replace:!0}):L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:l(p.seo.titleKey,{ns:"destinations"}),description:l(p.seo.descriptionKey,{ns:"destinations"}),keywords:l(p.seo.keywords),imageUrl:p.seo.imageUrl,url:`${p.seo.url}${p.id}`}),L.jsx(Rt.div,{variants:Ba,initial:"hidden",animate:"animate",exit:"hidden",children:L.jsx(M5,{destinationData:p,upcomingTrips:C})})]})},t_="/assets/policy-header-background-Dfu0BNQO.webp",bh={seo:{titleKey:"policiesSeoTitle",descriptionKey:"policiesSeoDesc",keywords:"policiesSeoKeywords",imageUrl:t_,url:"/politicas"},header:{backgroundImage:t_,titleKey:"policiesHeaderTitle",subtitleKey:"policiesHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"policiesHeaderMainLogoAlt",photoCreditKey:"policiesHeaderPhotoCredit"},sections:[{id:"booking-and-payment-policy",titleKey:"policiesSection1Title",points:[{pointKey:"policiesSection1Point1"},{pointKey:"policiesSection1Point2"},{pointKey:"policiesSection1Point3"}]},{id:"cancellation-and-refund-policy",titleKey:"policiesSection2Title",points:[{pointKey:"policiesSection2Point1",subPoints:["policiesSection2Point1a","policiesSection2Point1b","policiesSection2Point1c","policiesSection2Point1d"]},{pointKey:"policiesSection2Point2",subPoints:["policiesSection2Point2a","policiesSection2Point2b"]},{pointKey:"policiesSection2Point3",subPoints:["policiesSection2Point3a"]}]},{id:"safety-and-health-regulations-and-guidelines",titleKey:"policiesSection3Title",points:[{pointKey:"policiesSection3Point1"},{pointKey:"policiesSection3Point2"},{pointKey:"policiesSection3Point3"},{pointKey:"policiesSection3Point4"},{pointKey:"policiesSection3Point5"}]},{id:"equipment-rental-and-use-policy",titleKey:"policiesSection4Title",points:[{pointKey:"policiesSection4Point1"},{pointKey:"policiesSection4Point2"},{pointKey:"policiesSection4Point3"},{pointKey:"policiesSection4Point4"}]},{id:"responsibility-and-acceptance-of-risks",titleKey:"policiesSection5Title",points:[{pointKey:"policiesSection5Point1"},{pointKey:"policiesSection5Point2"},{pointKey:"policiesSection5Point3"}]}]},Ab=({renderData:o,translationNS:l})=>{const{t:p}=Jt(l);return L.jsxs(Rt.section,{variants:oi,className:"mb-12",children:[L.jsx("h2",{className:"text-3xl font-bold text-brand-white mb-4",children:p(o.titleKey)}),L.jsx("ul",{className:"space-y-3 list-disc list-inside  text-brand-neutral/90 text-justify",children:o.points.map((g,C)=>L.jsxs("li",{children:[p(g.pointKey),g.subPoints&&g.subPoints.length>0&&L.jsx("ol",{className:"ml-6 mt-2 space-y-2 list-[lower-alpha] list-outside text-brand-neutral/60",children:g.subPoints.map((D,w)=>L.jsx("li",{children:p(D)},w))})]},C))})]})},I5=()=>{const{t:o}=Jt("policies");return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(bh.seo.titleKey,{ns:"policies"}),description:o(bh.seo.descriptionKey,{ns:"policies"}),keywords:o(bh.seo.keywords),imageUrl:bh.seo.imageUrl,url:bh.seo.url}),L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",children:[L.jsx(Rl,{sectionData:bh.header,translationNS:"policies"}),L.jsx("div",{className:"container mx-auto py-16 px-4",children:bh.sections.map(l=>L.jsx(Ab,{renderData:l,translationNS:"policies"},l.id))})]})]})},L5="/assets/map-UNO9lliQ.webp",Ap={seo:{titleKey:"mapSeoTitle",descriptionKey:"mapSeoDesc",keywords:"mapSeoKeywords",imageUrl:L5,url:"/mapa"},header:{backgroundImage:"https://placehold.co/1920x600?text=Maps+Header",titleKey:"mapHeaderTitle",subtitleKey:"mapHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"mapHeaderMainLogoAlt",photoCreditKey:"mapHeaderPhotoCredit"}},E5=()=>{const{t:o}=Jt(["map"]);return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(Ap.seo.titleKey),description:o(Ap.seo.descriptionKey),keywords:o(Ap.seo.keywords),imageUrl:Ap.seo.imageUrl,url:Ap.seo.url}),L.jsxs(Rt.div,{variants:Ba,initial:"initial",animate:"animate",children:[L.jsx(Rl,{sectionData:Ap.header,translationNS:"map",heightClass:"h-64"}),L.jsx(Rt.main,{variants:oi,initial:"initial",animate:"animate",className:"flex-grow w-full px-6 md:px-12 py-4",children:L.jsx("div",{className:"bg-brand-primary-medium rounded-2xl",children:L.jsx(Mb,{})})})]})]})},a_="/assets/tyc-header-background-CZcZOCNs.webp",xh={seo:{titleKey:"tcaSeoTitle",descriptionKey:"tcaSeoDesc",keywords:"tcaSeoKeywords",imageUrl:a_,url:"/terminos-y-condiciones"},header:{backgroundImage:a_,titleKey:"tcaHeaderTitle",subtitleKey:"tcaHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"tcaHeaderMainLogoAlt",photoCreditKey:"tcaHeaderPhotoCredit"},sections:[{id:"acceptance-terms",titleKey:"tcaSection1Title",points:[{pointKey:"tcaSection1Point1"},{pointKey:"tcaSection1Point2"}]},{id:"service-usage",titleKey:"tcaSection2Title",points:[{pointKey:"tcaSection2Point1"},{pointKey:"tcaSection2Point2"},{pointKey:"tcaSection2Point3"}]},{id:"intellectual-property",titleKey:"tcaSection3Title",points:[{pointKey:"tcaSection3Point1"},{pointKey:"tcaSection3Point2"}]},{id:"limitation-of-liability",titleKey:"tcaSection4Title",points:[{pointKey:"tcaSection4Point1"},{pointKey:"tcaSection4Point2"},{pointKey:"tcaSection4Point3"}]},{id:"third-party-links",titleKey:"tcaSection5Title",points:[{pointKey:"tcaSection5Point1"},{pointKey:"tcaSection5Point2"}]},{id:"governing-law-and-jurisdiction",titleKey:"tcaSection6Title",points:[{pointKey:"tcaSection6Point1"},{pointKey:"tcaSection6Point2"}]},{id:"severability",titleKey:"tcaSection7Title",points:[{pointKey:"tcaSection7Point1"}]}]},z5=()=>{const{t:o}=Jt("termsAndConditions");return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(xh.seo.titleKey),description:o(xh.seo.descriptionKey),keywords:o(xh.seo.keywords),imageUrl:xh.seo.imageUrl,url:xh.seo.url}),L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",children:[L.jsx(Rl,{sectionData:xh.header,translationNS:"termsAndConditions"}),L.jsx("div",{className:"container mx-auto py-16 px-4",children:xh.sections.map(l=>L.jsx(Ab,{renderData:l,translationNS:"termsAndConditions"},l.id))})]})]})},i_="/assets/privacy-header-background-CE9kGBh8.webp",_h={seo:{titleKey:"ppSeoTitle",descriptionKey:"ppSeoDesc",keywords:"ppSeoKeywords",imageUrl:i_,url:"/privacidad"},header:{backgroundImage:i_,titleKey:"ppHeaderTitle",subtitleKey:"ppHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"ppHeaderMainLogoAlt",photoCreditKey:"ppHeaderPhotoCredit"},sections:[{id:"information-we-collect",titleKey:"ppSection1Title",points:[{pointKey:"ppSection1Point1"},{pointKey:"ppSection1Point2"},{pointKey:"ppSection1Point3"}]},{id:"how-we-use-your-information",titleKey:"ppSection2Title",points:[{pointKey:"ppSection2Point1"},{pointKey:"ppSection2Point2"},{pointKey:"ppSection2Point3"},{pointKey:"ppSection2Point4"}]},{id:"how-we-share-your-information",titleKey:"ppSection3Title",points:[{pointKey:"ppSection3Point1"},{pointKey:"ppSection3Point2"},{pointKey:"ppSection3Point3"}]},{id:"your-rights-and-choices",titleKey:"ppSection4Title",points:[{pointKey:"ppSection4Point1"},{pointKey:"ppSection4Point2"},{pointKey:"ppSection4Point3"}]},{id:"data-security",titleKey:"ppSection5Title",points:[{pointKey:"ppSection5Point1"},{pointKey:"ppSection5Point2"}]},{id:"data-retention",titleKey:"ppSection6Title",points:[{pointKey:"ppSection6Point1"}]},{id:"changes-to-this-privacy-policy",titleKey:"ppSection7Title",points:[{pointKey:"ppSection7Point1"},{pointKey:"ppSection7Point2"}]},{id:"contact",titleKey:"ppSection8Title",points:[{pointKey:"ppSection8Point1"}]}]},R5=()=>{const{t:o}=Jt("privacyPolicy");return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(_h.seo.titleKey),description:o(_h.seo.descriptionKey),keywords:o(_h.seo.keywords),imageUrl:_h.seo.imageUrl,url:_h.seo.url}),L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",children:[L.jsx(Rl,{sectionData:_h.header,translationNS:"privacyPolicy"}),L.jsx("div",{className:"container mx-auto py-16 px-4",children:_h.sections.map(l=>L.jsx(Ab,{renderData:l,translationNS:"privacyPolicy"},l.id))})]})]})},n_="/assets/faqs-header-background-CNo07qJb.webp",wh={seo:{titleKey:"faqsSeoTitle",descriptionKey:"faqsSeoDesc",keywords:"faqsSeoKeywords",imageUrl:n_,url:"/faqs"},header:{backgroundImage:n_,titleKey:"faqsHeaderTitle",subtitleKey:"faqsHeaderSubtitle",mainLogo:qe,mainLogoAltKey:"faqsHeaderMainLogoAlt",photoCreditKey:"faqsHeaderPhotoCredit"},faqs:[{id:"certificationsFaqsSection",sectionTitleKey:"certificationsFaqsTitle",faqs:[{id:"firstCertification",questionKey:"faqFirstCertificationQuestion",answerKey:"faqFirstCertificationAnswer"},{id:"whatIsIncludedCertification",questionKey:"faqWhatIsIncludedCertificationQuestion",answerKey:"faqWhatIsIncludedCertificationAnswer"},{id:"swimmingRequirement",questionKey:"faqSwimmingRequirementQuestion",answerKey:"faqSwimmingRequirementAnswer"},{id:"minimunAge",questionKey:"faqMinimunAgeQuestion",answerKey:"faqMinimunAgeAnswer"},{id:"medicalRequirement",questionKey:"faqMedicalRequirementQuestion",answerKey:"faqMedicalRequirementAnswer"},{id:"airCompensation",questionKey:"faqAirCompensationQuestion",answerKey:"faqAirCompensationAnswer"},{id:"respirationIssue",questionKey:"faqRespirationIssueQuestion",answerKey:"faqRespirationIssueAnswer"}]},{id:"tripsAndExpiriences",sectionTitleKey:"tripsAndExpiriencesFaqsTitle",faqs:[{id:"experienceType",questionKey:"faqExperienceTypeQuestion",answerKey:"faqExperienceTypeAnswer"},{id:"experienceLevel",questionKey:"faqExperienceLevelQuestion",answerKey:"faqExperienceLevelAnswer"},{id:"experienceAlone",questionKey:"faqExperienceAloneQuestion",answerKey:"faqExperienceAloneAnswer"},{id:"experiencePacking",questionKey:"faqExperiencePackingQuestion",answerKey:"faqExperiencePackingAnswer"},{id:"experienceCustom",questionKey:"faqExperienceCustomQuestion",answerKey:"faqExperienceCustomAnswer"}]},{id:"bookingAndPayment",sectionTitleKey:"bookingAndPaymentFaqsTitle",faqs:[{id:"bookingAndPaymentHowToReserve",questionKey:"faqBookingAndPaymentHowToReserveQuestion",answerKey:"faqBookingAndPaymentHowToReserveAnswer"},{id:"bookingAndPaymentMethods",questionKey:"faqBookingAndPaymentMethodsQuestion",answerKey:"faqBookingAndPaymentMethodsAnswer"},{id:"bookingAndPaymentPolicies",questionKey:"faqBookingAndPaymentPoliciesQuestion",answerKey:"faqBookingAndPaymentPoliciesAnswer"}]},{id:"safetyAndHealth",sectionTitleKey:"safetyAndHealthFaqsTitle",faqs:[{id:"safetyAndHealthMeasures",questionKey:"faqSafetyAndHealthMeasuresQuestion",answerKey:"faqSafetyAndHealthMeasuresAnswer"},{id:"safetyAndHealthInsurance",questionKey:"faqSafetyAndHealthInsuranceQuestion",answerKey:"faqSafetyAndHealthInsuranceAnswer"},{id:"safetyAndHealthEmergency",questionKey:"faqSafetyAndHealthEmergencyQuestion",answerKey:"faqSafetyAndHealthEmergencyAnswer"},{id:"safetyAndHealthLiability",questionKey:"faqSafetyAndHealthLiabilityQuestion",answerKey:"faqSafetyAndHealthLiabilityAnswer"}]},{id:"generalInformation",sectionTitleKey:"generalInformationFaqsTitle",faqs:[{id:"generalInformationDiveCenter",questionKey:"faqGeneralInformationDiveCenterQuestion",answerKey:"faqGeneralInformationDiveCenterAnswer"},{id:"generalInformationCustomExperience",questionKey:"faqGeneralInformationCustomExperienceQuestion",answerKey:"faqGeneralInformationCustomExperienceAnswer"},{id:"generalInformationInformation",questionKey:"faqGeneralInformationInformationQuestion",answerKey:"faqGeneralInformationInformationAnswer"},{id:"generalInformationEnvironment",questionKey:"faqGeneralInformationEnvironmentQuestion",answerKey:"faqGeneralInformationEnvironmentAnswer"},{id:"generalInformationContact",questionKey:"faqGeneralInformationContactQuestion",answerKey:"faqGeneralInformationContactAnswer"}]}]},k5=Rt.create(Tw),N5=({faqsData:o,translationNS:l})=>{const{t:p}=Jt(l),[g,C]=fe.useState(null),D=iI(),w=c=>{C(g===c?null:c)};return L.jsx("section",{className:"py-16 bg-brand-neutral rounded-2xl",children:L.jsxs("div",{className:"container mx-auto px-4",children:[L.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center text-brand-primary-dark mb-12",children:p(o.overallTitleKey)}),L.jsx("div",{className:"max-w-3xl mx-auto",children:o.faqs.map(c=>L.jsxs(Rt.div,{className:"mb-8",variants:EI,initial:"hidden",animate:"show",children:[L.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-brand-primary-dark mb-6 text-left",children:p(c.sectionTitleKey)}),L.jsx(Rt.div,{className:"faqs-list",...!D&&{variants:AI,initial:"initial",animate:"animate",viewport:{once:!0,amount:.2}},children:c.faqs.map(R=>L.jsxs(Rt.div,{variants:II,className:"mb-4 border border-brand-neutral/50 rounded-lg overflow-hidden shadow-sm",children:[L.jsxs("button",{className:"w-full flex justify-between items-center p-4 bg-brand-white text-brand-primary-dark font-semibold text-left focus:outline-none focus:bg-brand-neutral/30 transition-colors duration-200",onClick:()=>w(R.id),"aria-expanded":g===R.id,children:[L.jsx("span",{className:"text-lg",children:p(R.questionKey)}),D?L.jsx(Tw,{className:"w-6 h-6"}):L.jsx(k5,{variants:LI,initial:"closed",animate:g===R.id?"open":"closed",className:"w-6 h-6"})]}),L.jsx(Eh,{initial:!1,children:g===R.id&&(D?L.jsx("div",{className:"px-4 pb-4 pt-2 bg-brand-neutral text-brand-primary-medium leading-relaxed",children:L.jsx("p",{children:p(R.answerKey)})}):L.jsx(Rt.div,{className:"px-4 pb-4 pt-2 bg-brand-neutral text-brand-primary-medium leading-relaxed transition-max open",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:L.jsx("p",{children:p(R.answerKey)})}))})]},R.id))})]},c.id))})]})})},j5=()=>{const{t:o}=Jt("privacyPolicy");return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(wh.seo.titleKey),description:o(wh.seo.descriptionKey),keywords:o(wh.seo.keywords),imageUrl:wh.seo.imageUrl,url:wh.seo.url}),L.jsxs(Rt.div,{variants:Ba,initial:"hidden",animate:"show",exit:"hidden",children:[L.jsx(Rl,{sectionData:wh.header,translationNS:"faqs"}),L.jsx("div",{className:"container mx-auto py-8 px-4",children:L.jsx(N5,{faqsData:wh,translationNS:"faqs"})})]})]})},K5="/assets/under-construction-background-CmKvNMbl.webp",Ch={seo:{titleKey:"underConstructionSeoTitle",descriptionKey:"underConstructionSeoDesc"},titleKey:"underConstructionTitle",subtitleKey:"underConstructionSubtitle",ctaTextKey:"underConstructionCtaText",ctaLink:"/",image:{backgroundImage:K5,mainLogo:qe,mainLogoAltKey:"notFoundMainLogoAlt",variant:"fullscreen"}},O5=()=>{const{t:o}=Jt("underConstruction");return L.jsxs(L.Fragment,{children:[L.jsx(Ko,{title:o(Ch.seo.titleKey),description:o(Ch.seo.descriptionKey,{ns:"common"}),url:"/proximamente"}),L.jsxs("div",{className:"relative min-h-[calc(100vh-80px)] flex items-center justify-center text-center p-4 isolate overflow-hidden",children:[L.jsxs("div",{className:"absolute inset-0 -z-10 h-full w-full",children:[L.jsx(kh,{imageData:Ch.image,translationNS:"common"}),L.jsx("div",{className:"absolute inset-0 bg-brand-primary-dark/50"})]}),L.jsxs(Rt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.7,ease:"easeOut"},children:[L.jsx("h1",{className:"mt-6 text-4xl md:text-6xl  font-extrabold uppercase text-brand-white",children:o(Ch.titleKey)}),L.jsx("p",{className:"mt-4 max-w-lg mx-auto  text-lg text-brand-neutral",children:o(Ch.subtitleKey)}),L.jsx("div",{className:"mt-10",children:L.jsx(jo,{to:Ch.ctaLink,className:"inline-block bg-brand-cta-orange text-brand-white  font-bold uppercase text-lg px-8 py-4 rounded-md shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-brand-cta-yellow/50",children:o(Ch.ctaTextKey)})})]})]})]})},q5="/assets/not-found-background-DHvRC-Kt.webp",r_={titleKey:"notFoundTitle",subtitleKey:"notFoundSubtitle",ctaTextKey:"notFoundCtaText",image:{backgroundImage:q5,mainLogo:qe,mainLogoAltKey:"notFoundMainLogoAlt",variant:"fullscreen"}},o_=()=>{const{t:o}=Jt("notFound"),{titleKey:l,subtitleKey:p,ctaTextKey:g}=r_;return L.jsxs("div",{className:"relative min-h-[calc(100vh-80px)] flex items-center justify-center text-center p-4 isolate overflow-hidden",children:[L.jsxs("div",{className:"absolute inset-0 -z-10 h-full w-full",children:[L.jsx(kh,{imageData:r_.image,translationNS:"common"}),L.jsx("div",{className:"absolute inset-0 bg-brand-primary-dark/50"})]}),L.jsxs(Rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,ease:"easeOut"},children:[L.jsx("h1",{className:"mt-6 text-4xl md:text-6xl  font-extrabold uppercase text-brand-white",children:o(l)}),L.jsx("p",{className:"mt-4 max-w-lg mx-auto  text-lg text-brand-neutral",children:o(p)}),L.jsx("div",{className:"mt-10",children:L.jsx(jo,{to:"/",className:"inline-block bg-brand-cta-orange text-brand-white  font-bold uppercase text-lg px-8 py-4 rounded-md shadow-lg transform transition-all duration-300 hover:scale-105 hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-brand-cta-yellow/50",children:o(g)})})]})]})},B5=uT([{path:"/",element:L.jsxs(fe.Suspense,{fallback:L.jsx("div",{children:"Cargando..."}),children:[" ",L.jsx(SI,{})]}),errorElement:L.jsx(o_,{}),children:[{index:!0,element:L.jsx(BI,{})},{path:"experiencias",element:L.jsx(r4,{})},{path:"nosotros",element:L.jsx(g4,{})},{path:"seguridad",element:L.jsx(D4,{})},{path:"contacto",element:L.jsx(I4,{})},{path:"politicas",element:L.jsx(I5,{})},{path:"mapa",element:L.jsx(E5,{})},{path:"terminos-y-condiciones",element:L.jsx(z5,{})},{path:"privacidad",element:L.jsx(R5,{})},{path:"faqs",element:L.jsx(j5,{})},{path:"proximamente",element:L.jsx(O5,{})},{path:"cursos/:courseId",element:L.jsx(R4,{})},{path:"experiencias/:tripId",element:L.jsx(P5,{})},{path:"destinos/:destinationId",element:L.jsx(A5,{})},{path:"*",element:L.jsx(o_,{})}]}]);Hw.createRoot(document.getElementById("root")).render(L.jsx(s_.StrictMode,{children:L.jsx(wT,{children:L.jsx(_T,{router:B5})})}));
